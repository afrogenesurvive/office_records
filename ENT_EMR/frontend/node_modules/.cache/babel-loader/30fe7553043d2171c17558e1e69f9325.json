{"ast":null,"code":"import _toConsumableArray from\"/Users/pedrojacob/Downloads/AMR/websites/office_records/ENT_EMR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/Users/pedrojacob/Downloads/AMR/websites/office_records/ENT_EMR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/pedrojacob/Downloads/AMR/websites/office_records/ENT_EMR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/pedrojacob/Downloads/AMR/websites/office_records/ENT_EMR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/pedrojacob/Downloads/AMR/websites/office_records/ENT_EMR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/pedrojacob/Downloads/AMR/websites/office_records/ENT_EMR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import S3 from'react-aws-s3';import S3FileUpload from'react-s3';import React,{Component}from'react';// import FileViewer from 'react-file-viewer';\nimport Container from'react-bootstrap/Container';import Row from'react-bootstrap/Row';import Col from'react-bootstrap/Col';// import Form from 'react-bootstrap/Form';\nimport Button from'react-bootstrap/Button';import Accordion from'react-bootstrap/Accordion';import Tabs from'react-bootstrap/Tabs';import Tab from'react-bootstrap/Tab';import TabContainer from'react-bootstrap/TabContainer';import TabContent from'react-bootstrap/TabContent';import TabPane from'react-bootstrap/TabPane';import Nav from'react-bootstrap/Nav';import Card from'react-bootstrap/Card';// import Modal from '../components/Modal/Modal';\n// import Backdrop from '../components/Backdrop/Backdrop';\nimport UserList from'../components/Users/UserList/UserList';import SearchUserList from'../components/Users/UserList/SearchUserList';import UserDetail from'../components/Users/UserDetail';import Spinner from'../components/Spinner/Spinner';import AuthContext from'../context/auth-context';import SidebarPage from'./Sidebar';import AlertBox from'../components/AlertBox';import AttachmentViewer from'../components/AttachmentViewer';import PdfCreator from'../components/PdfCreator';import CreateUserForm from'../components/Forms/CreateUserForm';import UpdateUserForm from'../components/Forms/UpdateUserForm';import UpdateUserFieldForm from'../components/Forms/UpdateUserFieldForm';import UpdateUserAttendanceForm from'../components/Forms/UpdateUserAttendanceForm';import UpdateUserAttachmentForm from'../components/Forms/UpdateUserAttachmentForm';import UpdateUserLeaveForm from'../components/Forms/UpdateUserLeaveForm';import SearchUserForm from'../components/Forms/SearchUserForm';import SearchUserIdForm from'../components/Forms/SearchUserIdForm';import SearchUserNameForm from'../components/Forms/SearchUserNameForm';import SearchUserAttendanceDateForm from'../components/Forms/SearchUserAttendanceDateForm';import SearchUserLeaveDateRangeForm from'../components/Forms/SearchUserLeaveDateRangeForm';import'./Users.css';var UsersPage=/*#__PURE__*/function(_Component){_inherits(UsersPage,_Component);function UsersPage(){var _getPrototypeOf2;var _this;_classCallCheck(this,UsersPage);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(UsersPage)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={creating:false,updating:false,deleting:false,searching:false,users:[],searchUsers:[],isLoading:false,isSorting:false,selectedUser:null,userUpdateField:null,userSearchField:null,userSearchQuery:null,canDelete:null,userAlert:null,file:null,showAttachment:false,showThisAttachmentFile:null,showThisAttachmentType:null,createPdf:false,pdfData:null};_this.isActive=true;_this.startCreateUserHandler=function(){_this.setState({creating:true});console.log(\"CreateUserForm...\");};_this.startUpdateUserHandler=function(){_this.setState({updating:true});console.log(\"UpdateUserForm...\");};_this.startSearchUserHandler=function(){_this.setState({searching:true});console.log(\"SearchUserForm...\");};_this.modalConfirmHandler=function(event){console.log(\"\\n      event: \".concat(JSON.stringify(event),\",\\n      \"));console.log(\"CreateUserFormData:  \",event.target.formGridEmail.value);_this.setState({creating:false});var email=event.target.formGridEmail.value;var password=event.target.formGridPassword.value;var name=event.target.formGridName.value;var role=event.target.formGridRole.value;var dob=event.target.formGridDob.value;var phone=event.target.formGridPhone.value;var addressNumber=event.target.formGridAddressNumber.value;var addressStreet=event.target.formGridAddressStreet.value;var addressTown=event.target.formGridAddressTown.value;var addressParish=event.target.formGridAddressParish.value;var addressPostOffice=event.target.formGridAddressPostOffice.value;var employmentDate=event.target.formGridEmploymentDate.value;var terminationDate=event.target.formGridTerminationDate.value;if(email.trim().length===0||password.trim().length===0||name.trim().length===0||role.trim().length===0||dob.trim().length===0||phone.trim().length===0||addressNumber.trim().length===0||addressStreet.trim().length===0||addressTown.trim().length===0||addressParish.trim().length===0||addressPostOffice.trim().length===0||employmentDate.trim().length===0||terminationDate.trim().length===0){console.log(\"blank fields detected!!!...Please try again...\");_this.setState({userAlert:\"blank fields detected!!!...Please try again...\"});return;}var token=_this.context.token;var userId=_this.context.userId;var user={email:email,password:password,name:name,role:role,dob:dob,phone:phone,addressNumber:addressNumber,addressStreet:addressStreet,addressTown:addressTown,addressParish:addressParish,addressPostOffice:addressPostOffice,employmentDate:employmentDate,terminationDate:terminationDate};console.log(\"\\n      creating user...\\n      userId: \".concat(userId,\"\\n      email: \").concat(email,\",\\n      password: \").concat(password,\",\\n      name: \").concat(name,\",\\n      role: \").concat(role,\",\\n      dob: \").concat(dob,\",\\n      phone: \").concat(phone,\",\\n      addressNumber: \").concat(addressNumber,\",\\n      addressStreet: \").concat(addressStreet,\",\\n      addressTown: \").concat(addressTown,\",\\n      addressParish: \").concat(addressParish,\",\\n      addressPostOffice: \").concat(addressPostOffice,\",\\n      employmentDate: \").concat(employmentDate,\",\\n      terminationDate: \").concat(terminationDate,\",\\n      \"));var requestBody={query:\"\\n          mutation {\\n            createUser(userInput: {email:\\\"\".concat(email,\"\\\",password:\\\"\").concat(password,\"\\\",name:\\\"\").concat(name,\"\\\",role:\\\"\").concat(role,\"\\\",dob:\\\"\").concat(dob,\"\\\",addressNumber:\").concat(addressNumber,\",addressStreet:\\\"\").concat(addressStreet,\"\\\",addressTown:\\\"\").concat(addressTown,\"\\\",addressParish:\\\"\").concat(addressParish,\"\\\",addressPostOffice:\\\"\").concat(addressPostOffice,\"\\\",phone:\\\"\").concat(phone,\"\\\",employmentDate:\\\"\").concat(employmentDate,\"\\\",terminationDate:\\\"\").concat(terminationDate,\"\\\"})\\n            {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}\\n          }\\n        \")};fetch('http://localhost:10000/graphql',{// fetch('http://ec2-3-19-32-237.us-east-2.compute.amazonaws.com/graphql', {\nmethod:'POST',body:JSON.stringify(requestBody),headers:{'Content-Type':'application/json',Authorization:'Bearer '+token}}).then(function(res){if(res.status!==200&&res.status!==201){throw new Error('Failed!');}return res.json();}).then(function(resData){console.log(\"create user response data... \"+JSON.stringify(resData.data.createUser));var responseAlert=JSON.stringify(resData.data).slice(0,8);_this.setState({userAlert:responseAlert});_this.setState(function(prevState){var updatedUsers=_toConsumableArray(prevState.users);updatedUsers.push(resData.data.createUser);return{users:updatedUsers};});_this.context.users=_this.state.users;}).catch(function(err){console.log(err);_this.setState({userAlert:err});});};_this.modalConfirmUpdateHandler=function(event){var token=_this.context.token;var userId=_this.context.userId;var selectedUserId=_this.context.selectedUser._id;if(userId!==selectedUserId&&_this.context.user.role!=='admin'){console.log(\"Not the creator or Admin! No edit permission!!\");_this.setState({userAlert:\"Not the creator or Admin! No edit permission!!\"});selectedUserId=null;}console.log(\"UpdateUserFormData:  \",event.target.formGridEmail.value);_this.setState({updating:false});var email=event.target.formGridEmail.value;var password=event.target.formGridPassword.value;var name=event.target.formGridName.value;var role=_this.context.selectedUser.role;var dob=event.target.formGridDob.value;var phone=event.target.formGridPhone.value;var addressNumber=event.target.formGridAddressNumber.value;var addressStreet=event.target.formGridAddressStreet.value;var addressTown=event.target.formGridAddressTown.value;var addressParish=event.target.formGridAddressParish.value;var addressPostOffice=event.target.formGridAddressPostOffice.value;var employmentDate=event.target.formGridEmploymentDate.value;var terminationDate=event.target.formGridTerminationDate.value;if(email.trim().length===0){console.log(\"blank fields detected!!!...filling w/ previous data...\");email=_this.context.selectedUser.email;}if(password.trim().length===0){console.log(\"blank fields detected!!!...filling w/ previous data...\");password=_this.context.selectedUser.password;}if(name.trim().length===0){console.log(\"blank fields detected!!!...filling w/ previous data...\");name=_this.context.selectedUser.name;}// if (role.trim().length === 0) {\n//   console.log(\"blank fields detected!!!...filling w/ previous data...\");\n//   role = this.state.selectedUser.role;\n// }\nif(dob.trim().length===0){console.log(\"blank fields detected!!!...filling w/ previous data...\");dob=_this.context.selectedUser.dob;}if(phone.trim().length===0){console.log(\"blank fields detected!!!...filling w/ previous data...\");phone=_this.context.selectedUser.phone;}if(addressNumber.trim().length===0){console.log(\"blank fields detected!!!...filling w/ previous data...\");addressNumber=_this.context.selectedUser.address.number;}if(addressStreet.trim().length===0){console.log(\"blank fields detected!!!...filling w/ previous data...\");addressStreet=_this.context.selectedUser.address.street;}if(addressTown.trim().length===0){console.log(\"blank fields detected!!!...filling w/ previous data...\");addressTown=_this.context.selectedUser.address.town;}if(addressParish.trim().length===0){console.log(\"blank fields detected!!!...filling w/ previous data...\");addressParish=_this.context.selectedUser.address.parish;}if(addressPostOffice.trim().length===0){console.log(\"blank fields detected!!!...filling w/ previous data...\");addressPostOffice=_this.context.selectedUser.address.postOffice;}if(employmentDate.trim().length===0){console.log(\"blank fields detected!!!...filling w/ previous data...\");employmentDate=_this.context.selectedUser.employmentDate;}if(terminationDate.trim().length===0){console.log(\"blank fields detected!!!...filling w/ previous data...\");terminationDate=_this.context.selectedUser.terminationDate;}var user={email:email,password:password,name:name,role:role,dob:dob,phone:phone,addressNumber:addressNumber,addressStreet:addressStreet,addressTown:addressTown,addressParish:addressParish,addressPostOffice:addressPostOffice,employmentDate:employmentDate,terminationDate:terminationDate};console.log(\"\\n      updating user profile...\\n      userId: \".concat(userId,\"\\n      email: \").concat(email,\",\\n      password: \").concat(password,\",\\n      name: \").concat(name,\",\\n      role: \").concat(role,\",\\n      dob: \").concat(dob,\",\\n      phone: \").concat(phone,\",\\n      addressNumber: \").concat(addressNumber,\",\\n      addressStreet: \").concat(addressStreet,\",\\n      addressTown: \").concat(addressTown,\",\\n      addressParish: \").concat(addressParish,\",\\n      addressPostOffice: \").concat(addressPostOffice,\",\\n      employmentDate: \").concat(employmentDate,\",\\n      terminationDate: \").concat(terminationDate,\",\\n      \"));_this.setState({userAlert:\"updating user profile...\"});var requestBody={query:\"\\n      mutation {updateUser(userId:\\\"\".concat(userId,\"\\\",selectedUserId:\\\"\").concat(selectedUserId,\"\\\",userInput: {email:\\\"\").concat(email,\"\\\",password:\\\"\").concat(password,\"\\\",name:\\\"\").concat(name,\"\\\",dob:\\\"\").concat(dob,\"\\\",addressNumber:\").concat(addressNumber,\",addressStreet:\\\"\").concat(addressStreet,\"\\\",addressTown:\\\"\").concat(addressTown,\"\\\",addressParish:\\\"\").concat(addressParish,\"\\\", addressPostOffice:\\\"\").concat(addressPostOffice,\"\\\",phone:\\\"\").concat(phone,\"\\\",role:\\\"\").concat(role,\"\\\",employmentDate:\\\"\").concat(employmentDate,\"\\\",terminationDate:\\\"\").concat(terminationDate,\"\\\"})\\n      {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\\n        \")};// fetch('http://ec2-3-19-32-237.us-east-2.compute.amazonaws.com/graphql', {\nfetch('http://localhost:10000/graphql',{method:'POST',body:JSON.stringify(requestBody),headers:{'Content-Type':'application/json',Authorization:'Bearer '+token}}).then(function(res){if(res.status!==200&&res.status!==201){throw new Error('Failed!');}return res.json();}).then(function(resData){console.log(\"response data... \"+JSON.stringify(resData));var updatedUser=resData.data.updateUser;console.log(\"updatedUser:  \",JSON.stringify(updatedUser));_this.setState({user:updatedUser});_this.state.users.push(resData.data.updateUser);_this.context.users=_this.state.users;var responseAlert=JSON.stringify(resData.data).slice(2,25);_this.setState({userAlert:responseAlert,selectedUser:resData.data.updateUser});_this.fetchUsers();}).catch(function(err){console.log(err);_this.setState({userAlert:err});});};_this.modalConfirmUpdateFieldHandler=function(event){var token=_this.context.token;var userId=_this.context.userId;var selectedUserId=_this.context.selectedUser._id;// if(userId !== selectedUserId && this.context.user.role !== 'admin') {\n//   console.log(\"Not the creator or Admin! No edit permission!!\");\n//   selectedUserId = null;\n// }\nconsole.log(\"UpdateUserFieldFormData:  \",event.target.formGridField.value,event.target.formGridFieldSelect.value);_this.setState({updating:false});var field=null;var query=event.target.formGridQuery.value;if(event.target.formGridFieldSelect.value===\"select\"){field=event.target.formGridField.value;}else{field=event.target.formGridFieldSelect.value;}console.log(\"\\n          field: \".concat(field,\",\\n          query: \").concat(query,\",\\n        \"));_this.setState({userAlert:\"updating user field...\"});var requestBody={query:\"\\n          mutation{updateUserField(userId:\\\"\".concat(userId,\"\\\",selectedUserId:\\\"\").concat(selectedUserId,\"\\\",field:\\\"\").concat(field,\"\\\",query:\\\"\").concat(query,\"\\\")\\n          {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}\\n        }\\n        \")};// fetch('http://ec2-3-19-32-237.us-east-2.compute.amazonaws.com/graphql', {\nfetch('http://localhost:10000/graphql',{method:'POST',body:JSON.stringify(requestBody),headers:{'Content-Type':'application/json',Authorization:'Bearer '+token}}).then(function(res){if(res.status!==200&&res.status!==201){throw new Error('Failed!');}return res.json();}).then(function(resData){console.log(\"response data... \"+JSON.stringify(resData.data.updateUserField));var updatedUserId=resData.data.updateUserField._id;var updatedUser=_this.state.users.find(function(e){return e._id===updatedUserId;});var updatedUserPos=_this.state.users.indexOf(updatedUser);var slicedArray=_this.state.users.splice(updatedUserPos,1);console.log(\"updatedUser:  \",JSON.stringify(updatedUser),\"  updatedUserPos:  \",updatedUserPos,\"  slicedArray:  \",slicedArray);_this.state.users.push(resData.data.updateUserField);_this.context.users=_this.state.users;var responseAlert=JSON.stringify(resData.data).slice(2,25);_this.setState({userAlert:responseAlert,selectedUser:resData.data.updateUserField});_this.fetchUsers();}).catch(function(err){console.log(err);_this.setState({userAlert:err});});};_this.updateUserAttendanceHandler=function(event){var token=_this.context.token;var userId=_this.context.userId;var selectedUserId=_this.context.selectedUser._id;// if(userId !== selectedUserId && this.context.user.role !== 'admin') {\n//   console.log(\"Not the creator or Admin! No edit permission!!\");\n//   selectedUserId = null;\n// }\nif(userId!==selectedUserId&&_this.context.user.role!==\"admin\"){console.log(\"Not the creator or Admin! No edit permission!!\");_this.setState({userAlert:\"Not the creator or Admin! No edit permission!!\"});selectedUserId=null;}console.log(\"UpdateUserAttendanceFormData:  \",AuthContext._currentValue.fancyDate);_this.setState({updating:false,userUpdateField:null});// FIX ME!!!\nvar attendanceDate=AuthContext._currentValue.fancyDate;var attendanceStatus=event.target.formGridAttendanceStatus.value;var attendanceDescription=event.target.formGridAttendanceDescription.value;if(// attendanceDate.trim().length === 0 ||\nattendanceStatus.trim().length===0){console.log(\"blank fields detected!!!...filling w/ previous data...\");return;}var userAttendance={attendanceDate:attendanceDate,attendanceStatus:attendanceStatus,attendanceDescription:attendanceDescription};console.log(\"\\n      adding user attendance item...\\n      userId: \".concat(userId,\",\\n      selectedUserId: \").concat(selectedUserId,\"\\n      attendanceDate: \").concat(attendanceDate,\",\\n      attendanceStatus: \").concat(attendanceStatus,\",\\n      attendanceDescription: \").concat(attendanceDescription,\"\\n      \"));_this.setState({userAlert:\"adding user attendance item...\"});var requestBody={query:\"\\n          mutation {updateUserAttendance(userId:\\\"\".concat(userId,\"\\\", selectedUserId:\\\"\").concat(selectedUserId,\"\\\",userInput:{attendanceDate:\\\"\").concat(attendanceDate,\"\\\",attendanceStatus:\\\"\").concat(attendanceStatus,\"\\\",attendanceDescription:\\\"\").concat(attendanceDescription,\"\\\"})\\n          {_id,name,email,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description}}}\\n        \")};// fetch('http://ec2-3-19-32-237.us-east-2.compute.amazonaws.com/graphql', {\nfetch('http://localhost:10000/graphql',{method:'POST',body:JSON.stringify(requestBody),headers:{'Content-Type':'application/json',Authorization:'Bearer '+token}}).then(function(res){if(res.status!==200&&res.status!==201){throw new Error('Failed!');}return res.json();}).then(function(resData){console.log(\"response data... \"+JSON.stringify(resData.data.updateUserAttendance));var updatedUserId=resData.data.updateUserAttendance._id;var updatedUser=_this.state.users.find(function(e){return e._id===updatedUserId;});var updatedUserPos=_this.state.users.indexOf(updatedUser);var slicedArray=_this.state.users.splice(updatedUserPos,1);console.log(\"updatedUser:  \",JSON.stringify(updatedUser),\"  updatedUserPos:  \",updatedUserPos,\"  slicedArray:  \",slicedArray);_this.state.users.push(resData.data.updateUserAttendance);_this.context.users=_this.state.users;var responseAlert=JSON.stringify(resData.data).slice(2,25);_this.setState({userAlert:responseAlert,selectedUser:resData.data.updateUserAttendance});_this.fetchUsers();}).catch(function(err){console.log(err);_this.setState({userAlert:err});});};_this.updateUserAttachmentHandler=function(event){var token=_this.context.token;var userId=_this.context.userId;var selectedUserId=_this.context.selectedUser._id;// if(userId !== selectedUserId && this.context.user.role !== 'admin') {\n//   console.log(\"Not the creator or Admin! No edit permission!!\");\n//   selectedUserId = null;\n// }\nif(userId!==selectedUserId&&_this.context.user.role!==\"admin\"){console.log(\"Not the creator or Admin! No edit permission!!\");_this.setState({userAlert:\"Not the creator or Admin! No edit permission!!\"});selectedUserId=null;}console.log(\"UpdateUserAttachmentFormData:  \");_this.setState({updating:false,userUpdateField:null});// let attachmentName = event.target.formGridAttachmentName.value;\nvar attachmentFormat=event.target.formGridAttachmentFormat.value;var attachmentPath=event.target.formGridAttachmentPath.value;var file=AuthContext._currentValue.file;console.log(\"\\n      uploading to s3...\\n      file.name: \".concat(file.name,\",\\n      AuthContext._currentValue.file: \").concat(AuthContext._currentValue.file,\",\\n      \"));var config={bucketName:'ent-emr-bucket',dirName:attachmentPath,region:'us-east-2',accessKeyId:\"AKIARFTS6Q6DALQKT4QR\",secretAccessKey:\"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\"};var ReactS3Client=new S3(config);var newFileName=file.name;var attachmentName=newFileName;ReactS3Client.uploadFile(file,newFileName).then(function(data){console.log(data);_this.setState({userAlert:\"attachment upload success!\"});}).catch(function(err){console.error(err);_this.setState({userAlert:\"upload error:  \"+err});});if(attachmentName.trim().length===0||attachmentFormat.trim().length===0||attachmentPath.trim().length===0){console.log(\"blank fields detected!!! try again\");return;}var userAttachment={attachmentName:attachmentName,attachmentFormat:attachmentFormat,attachmentPath:attachmentPath};console.log(\"\\n      adding user attachment item...\\n      userId: \".concat(userId,\",\\n      selectedUserId: \").concat(selectedUserId,\"\\n      attachmentName: \").concat(attachmentName,\",\\n      attachmentFormat: \").concat(attachmentFormat,\",\\n      attachmentPath: \").concat(attachmentPath,\",\\n      \"));_this.setState({userAlert:\"adding user attatchment item...\"});var requestBody={query:\"\\n          mutation{updateUserAttachment(userId:\\\"\".concat(userId,\"\\\",selectedUserId:\\\"\").concat(selectedUserId,\"\\\",userInput:{attachmentName:\\\"\").concat(attachmentName,\"\\\",attachmentFormat:\\\"\").concat(attachmentFormat,\"\\\",attachmentPath:\\\"\").concat(attachmentPath,\"\\\"})\\n          {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\\n        \")};// fetch('http://ec2-3-19-32-237.us-east-2.compute.amazonaws.com/graphql', {\nfetch('http://localhost:10000/graphql',{method:'POST',body:JSON.stringify(requestBody),headers:{'Content-Type':'application/json',Authorization:'Bearer '+token}}).then(function(res){if(res.status!==200&&res.status!==201){throw new Error('Failed!');}return res.json();}).then(function(resData){console.log(\"response data... \"+JSON.stringify(resData.data.updateUserAttachment));var updatedUserId=resData.data.updateUserAttachment._id;var updatedUser=_this.state.users.find(function(e){return e._id===updatedUserId;});var updatedUserPos=_this.state.users.indexOf(updatedUser);var slicedArray=_this.state.users.splice(updatedUserPos,1);console.log(\"updatedUser:  \",JSON.stringify(updatedUser),\"  updatedUserPos:  \",updatedUserPos,\"  slicedArray:  \",slicedArray);_this.state.users.push(resData.data.updateUserAttachment);_this.context.users=_this.state.users;var responseAlert=JSON.stringify(resData.data).slice(2,25);_this.setState({userAlert:responseAlert,selectedUser:resData.data.updateUserAttachment});_this.fetchUsers();}).catch(function(err){console.log(err);_this.setState({userAlert:err});});};_this.updateUserLeaveHandler=function(event){var token=_this.context.token;var userId=_this.context.userId;var selectedUserId=_this.context.selectedUser._id;// if(userId !== selectedUserId && this.context.user.role !== 'admin') {\n//   console.log(\"Not the creator or Admin! No edit permission!!\");\n//   selectedUserId = null;\n// }\nif(userId!==selectedUserId&&_this.context.user.role!==\"admin\"){console.log(\"Not the creator or Admin! No edit permission!!\");_this.setState({userAlert:\"Not the creator or Admin! No edit permission!!\"});selectedUserId=null;}console.log(\"UpdateUserLeaveFormData:  \",event.target.formGridLeaveType.value);_this.setState({updating:false,userUpdateField:null});var leaveType=event.target.formGridLeaveType.value;var leaveTitle=event.target.formGridLeaveTitle.value;var leaveStartDate=event.target.formGridLeaveStartDate.value;var leaveEndDate=event.target.formGridLeaveEndDate.value;if(leaveType.trim().length===0||leaveTitle.trim().length===0||leaveStartDate.trim().length===0||leaveEndDate.trim().length===0){console.log(\"blank fields detected!!!...try again\");_this.setState({userAlert:\"blank fields detected!!!...try again\"});return;}var userLeave={leaveType:leaveType,leaveTitle:leaveTitle,leaveStartDate:leaveStartDate,leaveEndDate:leaveEndDate};console.log(\"\\n      adding user leave item...\\n      userId: \".concat(userId,\",\\n      selectedUserId: \").concat(selectedUserId,\"\\n      leave: {\\n        type: \").concat(leaveType,\",\\n        title: \").concat(leaveTitle,\",\\n        startDate: \").concat(leaveStartDate,\",\\n        endDate: \").concat(leaveEndDate,\"\\n      }\\n      \"));_this.setState({userAlert:\"adding user leave item...\"});var requestBody={query:\"\\n          mutation{updateUserLeave(userId:\\\"\".concat(userId,\"\\\",selectedUserId:\\\"\").concat(selectedUserId,\"\\\",userInput:{leaveType:\\\"\").concat(leaveType,\"\\\",leaveTitle:\\\"\").concat(leaveTitle,\"\\\",leaveStartDate:\\\"\").concat(leaveStartDate,\"\\\",leaveEndDate:\\\"\").concat(leaveEndDate,\"\\\"})\\n          {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\\n        \")};// fetch('http://ec2-3-19-32-237.us-east-2.compute.amazonaws.com/graphql', {\nfetch('http://localhost:10000/graphql',{method:'POST',body:JSON.stringify(requestBody),headers:{'Content-Type':'application/json',Authorization:'Bearer '+token}}).then(function(res){if(res.status!==200&&res.status!==201){throw new Error('Failed!');}return res.json();}).then(function(resData){console.log(\"response data... \"+JSON.stringify(resData.data));var updatedUserId=resData.data.updateUserLeave._id;var updatedUser=_this.state.users.find(function(e){return e._id===updatedUserId;});var updatedUserPos=_this.state.users.indexOf(updatedUser);var slicedArray=_this.state.users.splice(updatedUserPos,1);console.log(\"updatedUser:  \",JSON.stringify(updatedUser),\"  updatedUserPos:  \",updatedUserPos,\"  slicedArray:  \",slicedArray);_this.state.users.push(resData.data.updateUserLeave);_this.context.users=_this.state.users;var responseAlert=JSON.stringify(resData.data).slice(2,25);_this.setState({userAlert:responseAlert,selectedUser:resData.data.updateUserLeave});_this.fetchUsers();}).catch(function(err){console.log(err);_this.setState({userAlert:err});});};_this.modalConfirmSearchHandler=function(event){console.log(\"SearchUserForm:  \");var userId=_this.context.userId;console.log(\"SearchUserFormData:  \",event.target.formBasicField.value);_this.setState({searching:false});var field=null;var query=event.target.formBasicQuery.value;if(event.target.formBasicFieldSelect.value===\"select\"){field=event.target.formBasicField.value;}else{field=event.target.formBasicFieldSelect.value;}_this.setState({userSearchField:field,userSearchQuery:query});if(field.trim().length===0||query.trim().length===0){console.log(\"blank fields detected!!!...Please try again...\");_this.setState({userAlert:\"blank fields detected!!!...Please try again...\"});return;}var search={field:field,query:query};console.log(\"Searching for User:  \",JSON.stringify(search));_this.setState({userAlert:\"Searching for User...\"});var requestBody={query:\"\\n          query {getUserField(userId:\\\"\".concat(userId,\"\\\",field:\\\"\").concat(field,\"\\\",query:\\\"\").concat(query,\"\\\")\\n          {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\\n        \")};var token=_this.context.token;// fetch('http://ec2-3-19-32-237.us-east-2.compute.amazonaws.com/graphql', {\nfetch('http://localhost:10000/graphql',{method:'POST',body:JSON.stringify(requestBody),headers:{'Content-Type':'application/json',Authorization:'Bearer '+token}}).then(function(res){if(res.status!==200&&res.status!==201){throw new Error('Failed!');}return res.json();}).then(function(resData){console.log(\"response data... \"+JSON.stringify(resData));var responseAlert=JSON.stringify(resData.data).slice(0,8);_this.setState({userAlert:responseAlert});var searchUsers=resData.data.getUserField;_this.setState({searchUsers:searchUsers});console.log(\"state.searchUsers:  \",_this.state.searchUsers);// this.fetchUsers();\n}).catch(function(err){console.log(err);_this.setState({userAlert:err});});};_this.modalConfirmSearchIdHandler=function(event){var userId=_this.context.userId;_this.setState({searching:false});console.log(\"SearchUserIdFormData:\",event.target.formBasicId.value);var selectedUserId=event.target.formBasicId.value;var requestBody={query:\"\\n        query {getUserId(userId:\\\"\".concat(userId,\"\\\",selectedUserId:\\\"\").concat(selectedUserId,\"\\\")\\n        {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\\n      \")};var token=_this.context.token;// fetch('http://ec2-3-19-32-237.us-east-2.compute.amazonaws.com/graphql', {\nfetch('http://localhost:10000/graphql',{method:'POST',body:JSON.stringify(requestBody),headers:{'Content-Type':'application/json',Authorization:'Bearer '+token}}).then(function(res){if(res.status!==200&&res.status!==201){throw new Error('Failed!');}return res.json();}).then(function(resData){console.log(\"response data... \"+JSON.stringify(resData));var responseAlert=JSON.stringify(resData.data).slice(2,25);_this.setState({userAlert:responseAlert});var searchUsers=resData.data.getUserId;_this.setState({searchUsers:[searchUsers]});console.log(\"state.searchUsers:  \",_this.state.searchUsers);// this.fetchUsers();\n}).catch(function(err){console.log(err);_this.setState({userAlert:err});});};_this.modalConfirmSearchAttendanceDateHandler=function(event){var userId=_this.context.userId;_this.setState({searching:false});console.log(\"SearchUserAttendanceDateFormData:\");var attendanceDate=event.target.formBasicDate.value;var requestBody={query:\"\\n        query {getUserAttendanceDate(userId:\\\"\".concat(userId,\"\\\",attendanceDate:\\\"\").concat(attendanceDate,\"\\\")\\n        {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\\n      \")};var token=_this.context.token;// fetch('http://ec2-3-19-32-237.us-east-2.compute.amazonaws.com/graphql', {\nfetch('http://localhost:10000/graphql',{method:'POST',body:JSON.stringify(requestBody),headers:{'Content-Type':'application/json',Authorization:'Bearer '+token}}).then(function(res){if(res.status!==200&&res.status!==201){throw new Error('Failed!');}return res.json();}).then(function(resData){console.log(\"response data... \"+JSON.stringify(resData));var responseAlert=JSON.stringify(resData.data).slice(0,8);_this.setState({userAlert:responseAlert});var searchUsers=resData.data.getUserAttendanceDate;_this.setState({searchUsers:searchUsers});console.log(\"state.searchUsers:  \",_this.state.searchUsers);// this.fetchUsers();\n}).catch(function(err){console.log(err);_this.setState({userAlert:err});});};_this.modalConfirmSearchLeaveDateRangeHandler=function(event){var userId=_this.context.userId;_this.setState({searching:false});console.log(\"SearchUserLeaveDateRangeFormData:\");var startDate=event.target.formBasicStartDate.value;var endDate=event.target.formBasicEndDate.value;var requestBody={query:\"\\n        query{getUserLeaveDateRange(userId:\\\"\".concat(userId,\"\\\",startDate:\\\"\").concat(startDate,\"\\\",endDate:\\\"\").concat(endDate,\"\\\")\\n        {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\\n      \")};var token=_this.context.token;// fetch('http://ec2-3-19-32-237.us-east-2.compute.amazonaws.com/graphql', {\nfetch('http://localhost:10000/graphql',{method:'POST',body:JSON.stringify(requestBody),headers:{'Content-Type':'application/json',Authorization:'Bearer '+token}}).then(function(res){if(res.status!==200&&res.status!==201){throw new Error('Failed!');}return res.json();}).then(function(resData){console.log(\"response data... \"+JSON.stringify(resData));var responseAlert=JSON.stringify(resData.data).slice(0,8);_this.setState({userAlert:responseAlert});var searchUsers=resData.data.getUserLeaveDateRange;_this.setState({searchUsers:searchUsers});console.log(\"state.searchUsers:  \",_this.state.searchUsers);// this.fetchUsers();\n}).catch(function(err){console.log(err);_this.setState({userAlert:err});});};_this.modalConfirmSearchNameHandler=function(event){console.log(\"SearchUserNameFormData:\",event.target.formBasicName.value);var userId=_this.context.userId;_this.setState({searching:false});var users=_this.state.users;var regex=new RegExp(event.target.formBasicName.value,\"i\");console.log(\"\\n      regex: \".concat(regex,\",\\n      \"));var result=users.filter(function(user){return user.name.match(regex);});console.log(\"\\n        result: \".concat(JSON.stringify(result),\"\\n        \"));_this.setState({searchUsers:result});};_this.modalCancelHandler=function(){_this.setState({creating:false,updating:false,deleting:false,searching:false});};_this.fetchUsersAsc=function(){console.log(\"'fetch usersAsc function' context object... \"+JSON.stringify(_this.context));var userId=_this.context.userId;// this.setState({ isSorting: true });\nvar requestBody={query:\"\\n          query {usersNameAsc (userId:\\\"\".concat(userId,\"\\\")\\n          {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\\n        \")};// fetch('http://ec2-3-19-32-237.us-east-2.compute.amazonaws.com/graphql', {\nfetch('http://localhost:10000/graphql',{method:'POST',body:JSON.stringify(requestBody),headers:{'Content-Type':'application/json',Authorization:'Bearer '+_this.context.token}}).then(function(res){if(res.status!==200&&res.status!==201){_this.context.userAlert='Failed!';throw new Error('Failed!');}return res.json();}).then(function(resData){var users=resData.data.usersNameAsc;console.log(\"resData:  \",resData);console.log(users);var responseAlert=JSON.stringify(resData.data).slice(0,8);_this.setState({userAlert:responseAlert});_this.setState({users:users});// if (this.isActive) {\n//   this.setState({ users: users, isLoading: false });\n// }\n_this.context.users=_this.state.users;}).catch(function(err){console.log(err);_this.setState({userAlert:err});// if (this.isActive) {\n//   this.setState({ isLoading: false });\n// }\n});};_this.fetchUsersDesc=function(){console.log(\"'fetch usersDesc function' context object... \"+JSON.stringify(_this.context));var userId=_this.context.userId;// this.setState({ isLoading: true });\nvar requestBody={query:\"\\n          query {usersNameDesc (userId:\\\"\".concat(userId,\"\\\")\\n          {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\\n        \")};// fetch('http://ec2-3-19-32-237.us-east-2.compute.amazonaws.com/graphql', {\nfetch('http://localhost:10000/graphql',{method:'POST',body:JSON.stringify(requestBody),headers:{'Content-Type':'application/json',Authorization:'Bearer '+_this.context.token}}).then(function(res){if(res.status!==200&&res.status!==201){_this.context.userAlert='Failed!';throw new Error('Failed!');}return res.json();}).then(function(resData){var users=resData.data.usersNameDesc;console.log(\"resData:  \",resData);console.log(users);var responseAlert=JSON.stringify(resData.data).slice(0,8);_this.setState({userAlert:responseAlert});// if (this.isActive) {\n//   this.setState({ users: users, isLoading: false });\n// }\n_this.setState({users:users});_this.context.users=_this.state.users;}).catch(function(err){console.log(err);_this.setState({userAlert:err});// if (this.isActive) {\n//   this.setState({ isLoading: false });\n// }\n});};_this.modalDeleteHandler=function(){console.log(\"deleting user...selectedUser:  \",_this.context.selectedUser);var userId=_this.context.userId;var selectedUserId=_this.context.selectedUser._id;if(_this.context.user.role!=='admin'){console.log(\"Not the Admin! No edit permission!!\");_this.setState({userAlert:\"Not the Admin! No edit permission!!\"});}_this.setState({deleting:true,userAlert:\"deleting user..\"});var requestBody={query:\"\\n        mutation {\\n          deleteUser(userId: \".concat(userId,\", selectedUserId: \").concat(selectedUserId,\")\\n          {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}\\n        }\\n      \")};// fetch('http://ec2-3-19-32-237.us-east-2.compute.amazonaws.com/graphql', {\nfetch('http://localhost:10000/graphql',{method:'POST',body:JSON.stringify(requestBody),headers:{'Content-Type':'application/json',Authorization:'Bearer '+_this.context.token}}).then(function(res){if(res.status!==200&&res.status!==201){throw new Error('Failed!');}return res.json();}).then(function(resData){var responseAlert=JSON.stringify(resData.data).slice(0,8);_this.setState({userAlert:responseAlert});var deletedUser=resData.data.deleteUser;console.log(deletedUser);var deletedUserId=deletedUser._id;deletedUser=_this.state.users.find(function(e){return e._id===deletedUserId;});var deletedUserPos=_this.state.users.indexOf(deletedUser);var slicedArray=_this.state.users.splice(deletedUserPos,1);console.log(\"deletedUser:  \",JSON.stringify(deletedUser),\"  deletedUserPos:  \",deletedUserPos,\"  slicedArray:  \",slicedArray);_this.setState({deleting:false,selectedUser:null});_this.context.selectedUser=null;_this.fetchUsers();}).catch(function(err){console.log(err);_this.setState({userAlert:err});if(_this.isActive){_this.setState({deleting:false});}});};_this.deleteUserAttendanceItem=function(props){var token=_this.context.token;var userId=_this.context.userId;var selectedUserId=_this.state.selectedUser._id;var date=new Date(props.date.substr(0,10)*1000).toISOString().slice(0,10);console.log(\"\\n    delete user Attendance item:\\n    props: \".concat(JSON.stringify(props),\",\\n    token: \").concat(token,\",\\n    userId: \").concat(userId,\",\\n    selectedUserId: \").concat(selectedUserId,\",\\n    attandance date: \").concat(date,\",\\n    \"));var requestBody={query:\"\\n       mutation{deleteUserAttendance(userId:\\\"\".concat(userId,\"\\\",selectedUserId:\\\"\").concat(selectedUserId,\"\\\",attendanceDate:\\\"\").concat(date,\"\\\")\\n       {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\\n    \")};// fetch('http://ec2-3-19-32-237.us-east-2.compute.amazonaws.com/graphql', {\nfetch('http://localhost:10000/graphql',{method:'POST',body:JSON.stringify(requestBody),headers:{'Content-Type':'application/json',Authorization:'Bearer '+token}}).then(function(res){if(res.status!==200&&res.status!==201){throw new Error('Failed!');}return res.json();}).then(function(resData){var deletedUser=resData.data.deleteUserAttendance;console.log(\"resData.data:  \",resData.data.deleteUserAttendance);var updatedUserId=resData.data.deleteUserAttendance._id;var updatedUser=_this.state.users.find(function(e){return e._id===updatedUserId;});var updatedUserPos=_this.state.users.indexOf(updatedUser);var slicedArray=_this.state.users.splice(updatedUserPos,1);console.log(\"updatedUser:  \",JSON.stringify(updatedUser),\"  updatedUserPos:  \",updatedUserPos,\"  slicedArray:  \",slicedArray);_this.state.users.push(resData.data.deleteUserAttendance);_this.context.users=_this.state.users;var responseAlert=JSON.stringify(resData.data).slice(2,25);_this.setState({userAlert:responseAlert});// this.setState({ userAlert: responseAlert, selectedUser: resData.data.deleteUserAttendance})\n_this.fetchUsers();}).catch(function(err){console.log(err);});};_this.deleteUserLeaveItem=function(props){var token=_this.context.token;var userId=_this.context.userId;var selectedUserId=_this.state.selectedUser._id;console.log(\"\\n    delete user Leave item:\\n    props: \".concat(JSON.stringify(props),\",\\n    token: \").concat(token,\",\\n    userId: \").concat(userId,\",\\n    selectedUserId: \").concat(selectedUserId,\",\\n    \"));var requestBody={query:\"\\n       mutation{deleteUserLeave(userId:\\\"\".concat(userId,\"\\\",selectedUserId:\\\"\").concat(selectedUserId,\"\\\",leaveTitle:\\\"\").concat(props.title,\"\\\")\\n       {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\\n    \")};// fetch('http://ec2-3-19-32-237.us-east-2.compute.amazonaws.com/graphql', {\nfetch('http://localhost:10000/graphql',{method:'POST',body:JSON.stringify(requestBody),headers:{'Content-Type':'application/json',Authorization:'Bearer '+token}}).then(function(res){if(res.status!==200&&res.status!==201){throw new Error('Failed!');}return res.json();}).then(function(resData){var deletedUser=resData.data.deleteUserLeave;console.log(deletedUser);var updatedUserId=resData.data.deleteUserLeave._id;var updatedUser=_this.state.users.find(function(e){return e._id===updatedUserId;});var updatedUserPos=_this.state.users.indexOf(updatedUser);var slicedArray=_this.state.users.splice(updatedUserPos,1);console.log(\"updatedUser:  \",JSON.stringify(updatedUser),\"  updatedUserPos:  \",updatedUserPos,\"  slicedArray:  \",slicedArray);_this.state.users.push(resData.data.deleteUserLeave);_this.context.users=_this.state.users;var responseAlert=JSON.stringify(resData.data).slice(2,25);_this.setState({userAlert:responseAlert});// this.setState({ userAlert: responseAlert, selectedUser: resData.data.deleteUserLeave})\n_this.fetchUsers();}).catch(function(err){console.log(err);});};_this.deleteUserAttachmentItem=function(props){var token=_this.context.token;var userId=_this.context.userId;var selectedUserId=_this.state.selectedUser._id;console.log(\"\\n    delete user Attachment item:\\n    props: \".concat(JSON.stringify(props),\",\\n    token: \").concat(token,\",\\n    userId: \").concat(userId,\",\\n    selectedUserId: \").concat(selectedUserId,\",\\n    \"));console.log(\"\\n      deleting from s3...\\n      file.name: \".concat(props.name,\",\\n      \"));var config={bucketName:'ent-emr-bucket',dirName:props.path,region:'us-east-2',accessKeyId:\"AKIARFTS6Q6DALQKT4QR\",secretAccessKey:\"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\"};var ReactS3Client=new S3(config);var filename=props.name;// const attachmentName = newFileName;\n//\nS3FileUpload.deleteFile(filename,config).then(function(response){return console.log(response);}).catch(function(err){return console.error(err);});var requestBody={query:\"\\n       mutation{deleteUserAttachment(userId:\\\"\".concat(userId,\"\\\",selectedUserId:\\\"\").concat(selectedUserId,\"\\\",attachmentName:\\\"\").concat(props.name,\"\\\")\\n       {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\\n    \")};// fetch('http://ec2-3-19-32-237.us-east-2.compute.amazonaws.com/graphql', {\nfetch('http://localhost:10000/graphql',{method:'POST',body:JSON.stringify(requestBody),headers:{'Content-Type':'application/json',Authorization:'Bearer '+token}}).then(function(res){if(res.status!==200&&res.status!==201){throw new Error('Failed!');}return res.json();}).then(function(resData){var deletedUser=resData.data.deleteUserAttachment;console.log(deletedUser);var updatedUserId=resData.data.deleteUserAttachment._id;var updatedUser=_this.state.users.find(function(e){return e._id===updatedUserId;});var updatedUserPos=_this.state.users.indexOf(updatedUser);var slicedArray=_this.state.users.splice(updatedUserPos,1);console.log(\"updatedUser:  \",JSON.stringify(updatedUser),\"  updatedUserPos:  \",updatedUserPos,\"  slicedArray:  \",slicedArray);_this.state.users.push(resData.data.deleteUserAttachment);_this.context.users=_this.state.users;var responseAlert=JSON.stringify(resData.data).slice(2,25);_this.setState({userAlert:responseAlert});// this.setState({ userAlert: responseAlert, selectedUser: resData.data.deleteUserAttachment})\n_this.fetchUsers();}).catch(function(err){console.log(err);});};_this.showDetailHandler=function(userId){_this.setState(function(prevState){var selectedUser=prevState.users.find(function(e){return e._id===userId;});_this.context.selectedUser=selectedUser;_this.setState({selectedUser:selectedUser});console.log(\"User selected  :  \",selectedUser);return{selectedUser:selectedUser};});};_this.onViewAttachment=function(attachment){console.log(\"\\n      setting up attachment viewer...\\n      attachment: \".concat(JSON.stringify(attachment),\"\\n      \"));_this.setState({showAttachment:true});var file=\"https://ent-emr-bucket.s3-us-east-2.amazonaws.com/\"+attachment.path+\"/\"+attachment.name;var type=attachment.format;_this.setState({showThisAttachmentFile:file,showThisAttachmentType:type});};_this.closeAttachmentView=function(){console.log(\"\\n      closing attachment viewer...\\n      \");_this.setState({showAttachment:false});};_this.createPdf=function(user){console.log(\"\\n        creating pdf...\\n        user: \".concat(JSON.stringify(user),\"\\n      \"));var pdfData={title:user.name,body:user.dob};_this.setState({createPdf:true,pdfData:pdfData});};_this.closePdfCreator=function(){console.log(\"\\n      closing pdf creator...\\n      \");_this.setState({createPdf:false,pdfData:null});};return _this;}_createClass(UsersPage,[{key:\"componentDidMount\",// constructor(props) {\n//   super(props);\n// }\nvalue:function componentDidMount(){this.fetchUsers();if(this.context.user.name==='admin579'){this.setState({canDelete:true});}}},{key:\"fetchUsers\",value:function fetchUsers(){var _this2=this;console.log(\"fetch users:\");// console.log(\"'fetch users function' context object... \" + JSON.stringify(this.context));\nvar userId=this.context.userId;this.setState({isLoading:true});var requestBody={query:\"\\n          query {users (userId:\\\"\".concat(userId,\"\\\")\\n          {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\\n        \")};// fetch('http://ec2-3-19-32-237.us-east-2.compute.amazonaws.com/graphql', {\nfetch('http://localhost:10000/graphql',{method:'POST',body:JSON.stringify(requestBody),headers:{'Content-Type':'application/json',Authorization:'Bearer '+this.context.token}}).then(function(res){if(res.status!==200&&res.status!==201){_this2.context.userAlert='Failed!';throw new Error('Failed!');}return res.json();}).then(function(resData){var responseAlert=JSON.stringify(resData.data).slice(0,8);_this2.setState({userAlert:responseAlert});var users=resData.data.users;console.log(\"resData:  \",resData);console.log(users);if(_this2.isActive){_this2.setState({users:users,isLoading:false});}_this2.context.users=_this2.state.users;}).catch(function(err){console.log(err);_this2.setState({userAlert:err});if(_this2.isActive){_this2.setState({isLoading:false});}});}},{key:\"updateUserSpecial\",value:function updateUserSpecial(event){console.log(\"special field to update:  \",event.target.value);var field=event.target.value;this.setState({userUpdateField:field});}},{key:\"userSearchClearlHandler\",value:function userSearchClearlHandler(){console.log(\"clearing user search results\");this.setState({searchUsers:[],userAlert:\"clearing user search results\"});}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.isActive=false;}},{key:\"render\",value:function render(){return React.createElement(React.Fragment,null,this.state.showAttachment===true&&React.createElement(AttachmentViewer,{onCloseAttachmentView:this.closeAttachmentView,attachmentFile:this.state.showThisAttachmentFile,attachmentType:this.state.showThisAttachmentType}),this.state.createPdf===true&&React.createElement(PdfCreator,{pdfData:this.state.pdfData,onClosePdfCreator:this.closePdfCreator}),React.createElement(Accordion,null,React.createElement(Row,null,React.createElement(Col,{md:3,className:\"MasterCol1\"},React.createElement(AlertBox,{authUserId:this.context.userId,alert:this.state.userAlert}),React.createElement(SidebarPage,null)),React.createElement(Col,{md:9,className:\"MasterCol2\"},React.createElement(Container,{className:\"containerCombinedDetail\"},React.createElement(Tab.Container,{id:\"left-tabs-example\",defaultActiveKey:\"userDetail\"},React.createElement(Row,null,React.createElement(Col,{sm:2},React.createElement(Nav,{variant:\"pills\",className:\"flex-column\"},React.createElement(Nav.Item,null,React.createElement(Nav.Link,{eventKey:\"MasterList\"},\"MASTER LIST\")),React.createElement(Nav.Item,null,React.createElement(Nav.Link,{eventKey:\"userDetail\"},\"Selected\")),this.context.user.role===\"admin\"&&React.createElement(Nav.Item,null,React.createElement(Nav.Link,{eventKey:\"userCreate\"},\"Create New\")),React.createElement(Nav.Item,null,React.createElement(Nav.Link,{eventKey:\"disabled\",disabled:true},\"Edit:\")),React.createElement(Nav.Item,null,React.createElement(Nav.Link,{eventKey:\"userEditDemographics\"},\"Demographics\")),React.createElement(Nav.Item,null,React.createElement(Nav.Link,{eventKey:\"userEditField\"},\"Single Field\")),React.createElement(Nav.Item,null,React.createElement(Nav.Link,{eventKey:\"disabled\",disabled:true},\"Add:\")),React.createElement(Nav.Item,null,React.createElement(Nav.Link,{eventKey:\"userEditAttendance\"},\"Attendance\")),React.createElement(Nav.Item,null,React.createElement(Nav.Link,{eventKey:\"userEditLeave\"},\"Leave\")),React.createElement(Nav.Item,null,React.createElement(Nav.Link,{eventKey:\"userEditAttachment\"},\"Attachment\")),React.createElement(Nav.Item,null,React.createElement(Nav.Link,{eventKey:\"disabled\",disabled:true},\"Search:\")),React.createElement(Nav.Item,null,React.createElement(Nav.Link,{eventKey:\"SearchInput\"},\"Input\")),React.createElement(Nav.Item,null,React.createElement(Nav.Link,{eventKey:\"SearchResult\"},\"Results\")))),React.createElement(Col,{sm:10},React.createElement(Tab.Content,null,React.createElement(Tab.Pane,{eventKey:\"userDetail\"},this.state.selectedUser===null&&React.createElement(Button,{variant:\"outline-warning\",size:\"lg\",className:\"confirmEditButton\"},\"Select a Staff member from the Master List\"),this.state.isLoading===false&&this.state.selectedUser!==null&&React.createElement(UserDetail,{authUserId:this.context.userId,AuthContext:this.context,user:this.state.selectedUser,onEdit:this.startUpdateUserHandler,canDelete:this.state.canDelete,onDelete:this.modalDeleteHandler,attendanceDelete:this.deleteUserAttendanceItem,leaveDelete:this.deleteUserLeaveItem,attachmentDelete:this.deleteUserAttachmentItem,onViewAttachment:this.onViewAttachment,onCreatePdf:this.createPdf})),this.context.user.role===\"admin\"&&React.createElement(Tab.Pane,{eventKey:\"userCreate\"},React.createElement(Button,{variant:\"outline-primary\",size:\"lg\",className:\"confirmEditButton\",onClick:this.startCreateUserHandler},\"Create a NEW Staff Profile\"),this.state.creating&&React.createElement(CreateUserForm,{authUserId:this.context.userId,canCancel:true,canConfirm:true,onCancel:this.modalCancelHandler,onConfirm:this.modalConfirmHandler,onSubmit:this.modalConfirmHandler,confirmText:\"Confirm\"})),React.createElement(Tab.Pane,{eventKey:\"userEditDemographics\"},this.state.selectedUser===null&&React.createElement(Button,{variant:\"outline-warning\",className:\"confirmEditButton\",size:\"lg\"},\"Select a Staff member from the Master List\"),this.state.selectedUser!==null&&this.context.user.role===\"admin\"&&React.createElement(Button,{variant:\"outline-primary\",size:\"lg\",className:\"confirmEditButton\",onClick:this.startUpdateUserHandler},\"Edit Demographics as Admin\"),this.state.selectedUser!==null&&this.state.selectedUser._id===this.context.user._id&&React.createElement(Button,{variant:\"outline-primary\",size:\"lg\",className:\"confirmEditButton\",onClick:this.startUpdateUserHandler},\"Edit Demographics\"),this.state.selectedUser!==null&&this.state.selectedUser._id===this.context.user._id&&React.createElement(Button,{variant:\"outline-danger\",className:\"confirmEditButton\",size:\"lg\"},\"Your Profile\"),this.state.selectedUser!==null&&this.state.selectedUser._id!==this.context.user._id&&React.createElement(Button,{variant:\"outline-danger\",className:\"confirmEditButton\",size:\"lg\"},\"Not my profile\"),this.state.updating&&this.state.selectedUser!==null&&React.createElement(UpdateUserForm,{authUserId:this.context.userId,canCancel:true,canConfirm:true,onCancel:this.modalCancelHandler,onConfirm:this.modalConfirmUpdateHandler,confirmText:\"Confirm\",user:this.context.selectedUser})),React.createElement(Tab.Pane,{eventKey:\"userEditField\"},this.state.selectedUser===null&&React.createElement(Button,{variant:\"outline-warning\",className:\"confirmEditButton\",size:\"lg\"},\"Select a Staff member from the Master List\"),this.state.selectedUser!==null&&this.context.user.role===\"admin\"&&React.createElement(Button,{variant:\"outline-primary\",size:\"lg\",className:\"confirmEditButton\",onClick:this.startUpdateUserHandler},\"Edit Field as Admin\"),this.state.selectedUser!==null&&this.state.selectedUser._id===this.context.user._id&&React.createElement(Button,{variant:\"outline-primary\",size:\"lg\",className:\"confirmEditButton\",onClick:this.startUpdateUserHandler},\"Edit a Single Field\"),this.state.selectedUser!==null&&this.state.selectedUser._id===this.context.user._id&&React.createElement(Button,{variant:\"outline-success\",className:\"confirmEditButton\",size:\"lg\"},\"Your Profile\"),this.state.selectedUser!==null&&this.state.selectedUser._id!==this.context.user._id&&React.createElement(Button,{variant:\"outline-danger\",className:\"confirmEditButton\",size:\"lg\"},\"Not my profile\"),this.state.updating&&this.state.selectedUser!==null&&React.createElement(UpdateUserFieldForm,{authUserId:this.context.userId,canCancel:true,canConfirm:true,onCancel:this.modalCancelHandler,onConfirm:this.modalConfirmUpdateFieldHandler,confirmText:\"Confirm\",user:this.state.selectedUser})),React.createElement(Tab.Pane,{eventKey:\"userEditAttendance\"},this.state.selectedUser===null&&React.createElement(Button,{variant:\"outline-warning\",className:\"confirmEditButton\",size:\"lg\"},\"Select a Staff member from the Master List below\"),this.state.selectedUser!==null&&this.context.user.role===\"admin\"&&React.createElement(Button,{variant:\"outline-primary\",size:\"lg\",className:\"confirmEditButton\",value:\"attendance\",onClick:this.updateUserSpecial.bind(this)},\"Add Attendance as Admin\"),this.state.selectedUser!==null&&this.state.selectedUser._id===this.context.user._id&&React.createElement(Button,{variant:\"outline-primary\",size:\"lg\",className:\"confirmEditButton\",value:\"attendance\",onClick:this.updateUserSpecial.bind(this)},\"Add Attendance\"),this.state.selectedUser!==null&&this.state.selectedUser._id===this.context.user._id&&React.createElement(Button,{variant:\"outline-success\",className:\"confirmEditButton\",size:\"lg\"},\"Your Profile\"),this.state.selectedUser!==null&&this.state.selectedUser._id!==this.context.user._id&&React.createElement(Button,{variant:\"outline-danger\",className:\"confirmEditButton\",size:\"lg\"},\"Not my profile\"),this.state.userUpdateField==='attendance'&&this.state.selectedUser!==null&&React.createElement(UpdateUserAttendanceForm,{authUserId:this.context.userId,canCancel:true,canConfirm:true,onCancel:this.modalCancelHandler,onConfirm:this.updateUserAttendanceHandler,confirmText:\"Confirm\",user:this.state.selectedUser})),React.createElement(Tab.Pane,{eventKey:\"userEditLeave\"},this.state.selectedUser===null&&React.createElement(Button,{variant:\"outline-warning\",className:\"confirmEditButton\",size:\"lg\"},\"Select a Staff member from the Master List\"),this.state.selectedUser!==null&&this.context.user.role===\"admin\"&&React.createElement(Button,{variant:\"outline-primary\",size:\"lg\",className:\"confirmEditButton\",value:\"leave\",onClick:this.updateUserSpecial.bind(this)},\"Add Leave as Admin\"),this.state.selectedUser!==null&&this.state.selectedUser._id===this.context.user._id&&React.createElement(Button,{variant:\"outline-primary\",size:\"lg\",className:\"confirmEditButton\",value:\"leave\",onClick:this.updateUserSpecial.bind(this)},\"Add Leave\"),this.state.selectedUser!==null&&this.state.selectedUser._id===this.context.user._id&&React.createElement(Button,{variant:\"outline-success\",className:\"confirmEditButton\",size:\"lg\"},\"Your Profile\"),this.state.selectedUser!==null&&this.state.selectedUser._id!==this.context.user._id&&React.createElement(Button,{variant:\"outline-danger\",className:\"confirmEditButton\",size:\"lg\"},\"Not my profile\"),this.state.userUpdateField==='leave'&&this.state.selectedUser!==null&&React.createElement(UpdateUserLeaveForm,{authUserId:this.context.userId,canCancel:true,canConfirm:true,onCancel:this.modalCancelHandler,onConfirm:this.updateUserLeaveHandler,confirmText:\"Confirm\",user:this.state.selectedUser})),React.createElement(Tab.Pane,{eventKey:\"userEditAttachment\"},this.state.selectedUser===null&&React.createElement(Button,{variant:\"outline-warning\",className:\"confirmEditButton\",size:\"lg\"},\"Select a Staff member from the Master List\"),this.state.selectedUser!==null&&this.context.user.role===\"admin\"&&React.createElement(Button,{variant:\"outline-primary\",size:\"lg\",className:\"confirmEditButton\",value:\"attachments\",onClick:this.updateUserSpecial.bind(this)},\"Add Attachment as Admin\"),this.state.selectedUser!==null&&this.state.selectedUser._id===this.context.user._id&&React.createElement(Button,{variant:\"outline-primary\",size:\"lg\",className:\"confirmEditButton\",value:\"attachments\",onClick:this.updateUserSpecial.bind(this)},\"Add Attachment\"),this.state.selectedUser!==null&&this.state.selectedUser._id===this.context.user._id&&React.createElement(Button,{variant:\"outline-success\",className:\"confirmEditButton\",size:\"lg\"},\"Your Profile\"),this.state.selectedUser!==null&&this.state.selectedUser._id!==this.context.user._id&&React.createElement(Button,{variant:\"outline-danger\",className:\"confirmEditButton\",size:\"lg\"},\"Not my profile\"),this.state.userUpdateField==='attachments'&&this.state.selectedUser!==null&&React.createElement(UpdateUserAttachmentForm,{authUserId:this.context.userId,canCancel:true,canConfirm:true,onCancel:this.modalCancelHandler,onConfirm:this.updateUserAttachmentHandler,confirmText:\"Confirm\",user:this.state.selectedUser})),React.createElement(Tab.Pane,{eventKey:\"MasterList\"},React.createElement(Container,{className:\"containerUserMasterList\"},React.createElement(Row,{className:\"searchListRow\"},React.createElement(Button,{variant:\"primary\",size:\"sm\",onClick:this.fetchUsersAsc},\"Sort Asc\"),React.createElement(Button,{variant:\"info\",size:\"sm\",onClick:this.fetchUsersDesc},\"Sort Desc\"),this.state.isLoading?React.createElement(Spinner,null):React.createElement(UserList,{users:this.state.users,authUserId:this.context.userId,onViewDetail:this.showDetailHandler})))),React.createElement(Tab.Pane,{eventKey:\"SearchInput\"},React.createElement(Container,{className:\"containerSearchUserInput\"},React.createElement(Row,{className:\"searchUserRowAdd\"},React.createElement(Button,{variant:\"primary\",onClick:this.startSearchUserHandler},\"Search\")),React.createElement(Row,{className:\"searchUserRowForm\"},React.createElement(Col,{md:10,className:\"searchUserColForm\"},React.createElement(Tabs,{defaultActiveKey:\"Field\",id:\"uncontrolled-tab-example\"},React.createElement(Tab,{eventKey:\"Search\",title:\"Search:\",disabled:true}),React.createElement(Tab,{eventKey:\"Field\",title:\"Search by Field:\"},this.state.searching!==true&&React.createElement(Button,{variant:\"outline-warning\",className:\"confirmEditButton\",size:\"lg\"},\"Click the 'Search' Button start\"),this.state.searching===true&&React.createElement(SearchUserForm,{authUserId:this.context.userId,canCancel:true,canConfirm:true,onCancel:this.modalCancelHandler,onConfirm:this.modalConfirmSearchHandler,confirmText:\"Search\",user:this.context.selectedUser})),React.createElement(Tab,{eventKey:\"Id\",title:\"Search by ID:\"},this.state.searching!==true&&React.createElement(Button,{variant:\"outline-warning\",className:\"confirmEditButton\",size:\"lg\"},\"Click the 'Search' Button start\"),this.state.searching===true&&React.createElement(SearchUserIdForm,{authUserId:this.context.userId,canCancel:true,canConfirm:true,onCancel:this.modalCancelHandler,onConfirm:this.modalConfirmSearchIdHandler,confirmText:\"Search\",user:this.context.selectedUser})),React.createElement(Tab,{eventKey:\"Attendance\",title:\"Search by Attendance:\"},this.state.searching!==true&&React.createElement(Button,{variant:\"outline-warning\",className:\"confirmEditButton\",size:\"lg\"},\"Click the 'Search' Button start\"),this.state.searching===true&&React.createElement(SearchUserAttendanceDateForm,{authUserId:this.context.userId,canCancel:true,canConfirm:true,onCancel:this.modalCancelHandler,onConfirm:this.modalConfirmSearchAttendanceDateHandler,confirmText:\"Search\",user:this.context.selectedUser})),React.createElement(Tab,{eventKey:\"Leave\",title:\"Search by Leave:\"},this.state.searching!==true&&React.createElement(Button,{variant:\"outline-warning\",className:\"confirmEditButton\",size:\"lg\"},\"Click the 'Search' Button start\"),this.state.searching===true&&React.createElement(SearchUserLeaveDateRangeForm,{authUserId:this.context.userId,canCancel:true,canConfirm:true,onCancel:this.modalCancelHandler,onConfirm:this.modalConfirmSearchLeaveDateRangeHandler,confirmText:\"Search\",user:this.context.selectedUser})),React.createElement(Tab,{eventKey:\"Name\",title:\"Search by Name:\"},this.state.searching!==true&&React.createElement(Button,{variant:\"outline-warning\",className:\"confirmEditButton\",size:\"lg\"},\"Click the 'Search' Button start\"),this.state.searching===true&&React.createElement(SearchUserNameForm,{authUserId:this.context.userId,canCancel:true,canConfirm:true,onCancel:this.modalCancelHandler,onConfirm:this.modalConfirmSearchNameHandler,confirmText:\"Search\",user:this.context.selectedUser})))),React.createElement(Col,{md:10})))),React.createElement(Tab.Pane,{eventKey:\"SearchResult\"},React.createElement(Container,{className:\"containerSearchUserResults\"},React.createElement(Row,null,React.createElement(Card,{className:\"searchCard\"},React.createElement(Card.Body,{className:\"searchCardBody\"},React.createElement(Card.Title,null,\"Your Search\"),React.createElement(Card.Text,null,\"Field: \",this.state.userSearchField),React.createElement(Card.Text,null,\"Query: \",this.state.userSearchQuery)))),React.createElement(Row,{className:\"searchListRow\"},this.state.searchUsers!==[]&&React.createElement(SearchUserList,{searchUsers:this.state.searchUsers,authUserId:this.context.userId,onViewDetail:this.showDetailHandler})))))))))))));}}]);return UsersPage;}(Component);UsersPage.contextType=AuthContext;export default UsersPage;","map":{"version":3,"sources":["/Users/pedrojacob/Downloads/AMR/websites/office_records/ENT_EMR/frontend/src/pages/Users.js"],"names":["S3","S3FileUpload","React","Component","Container","Row","Col","Button","Accordion","Tabs","Tab","TabContainer","TabContent","TabPane","Nav","Card","UserList","SearchUserList","UserDetail","Spinner","AuthContext","SidebarPage","AlertBox","AttachmentViewer","PdfCreator","CreateUserForm","UpdateUserForm","UpdateUserFieldForm","UpdateUserAttendanceForm","UpdateUserAttachmentForm","UpdateUserLeaveForm","SearchUserForm","SearchUserIdForm","SearchUserNameForm","SearchUserAttendanceDateForm","SearchUserLeaveDateRangeForm","UsersPage","state","creating","updating","deleting","searching","users","searchUsers","isLoading","isSorting","selectedUser","userUpdateField","userSearchField","userSearchQuery","canDelete","userAlert","file","showAttachment","showThisAttachmentFile","showThisAttachmentType","createPdf","pdfData","isActive","startCreateUserHandler","setState","console","log","startUpdateUserHandler","startSearchUserHandler","modalConfirmHandler","event","JSON","stringify","target","formGridEmail","value","email","password","formGridPassword","name","formGridName","role","formGridRole","dob","formGridDob","phone","formGridPhone","addressNumber","formGridAddressNumber","addressStreet","formGridAddressStreet","addressTown","formGridAddressTown","addressParish","formGridAddressParish","addressPostOffice","formGridAddressPostOffice","employmentDate","formGridEmploymentDate","terminationDate","formGridTerminationDate","trim","length","token","context","userId","user","requestBody","query","fetch","method","body","headers","Authorization","then","res","status","Error","json","resData","data","createUser","responseAlert","slice","prevState","updatedUsers","push","catch","err","modalConfirmUpdateHandler","selectedUserId","_id","address","number","street","town","parish","postOffice","updatedUser","updateUser","fetchUsers","modalConfirmUpdateFieldHandler","formGridField","formGridFieldSelect","field","formGridQuery","updateUserField","updatedUserId","find","e","updatedUserPos","indexOf","slicedArray","splice","updateUserAttendanceHandler","_currentValue","fancyDate","attendanceDate","attendanceStatus","formGridAttendanceStatus","attendanceDescription","formGridAttendanceDescription","userAttendance","updateUserAttendance","updateUserAttachmentHandler","attachmentFormat","formGridAttachmentFormat","attachmentPath","formGridAttachmentPath","config","bucketName","dirName","region","accessKeyId","secretAccessKey","ReactS3Client","newFileName","attachmentName","uploadFile","error","userAttachment","updateUserAttachment","updateUserLeaveHandler","formGridLeaveType","leaveType","leaveTitle","formGridLeaveTitle","leaveStartDate","formGridLeaveStartDate","leaveEndDate","formGridLeaveEndDate","userLeave","updateUserLeave","modalConfirmSearchHandler","formBasicField","formBasicQuery","formBasicFieldSelect","search","getUserField","modalConfirmSearchIdHandler","formBasicId","getUserId","modalConfirmSearchAttendanceDateHandler","formBasicDate","getUserAttendanceDate","modalConfirmSearchLeaveDateRangeHandler","startDate","formBasicStartDate","endDate","formBasicEndDate","getUserLeaveDateRange","modalConfirmSearchNameHandler","formBasicName","regex","RegExp","result","filter","match","modalCancelHandler","fetchUsersAsc","usersNameAsc","fetchUsersDesc","usersNameDesc","modalDeleteHandler","deletedUser","deleteUser","deletedUserId","deletedUserPos","deleteUserAttendanceItem","props","date","Date","substr","toISOString","deleteUserAttendance","deleteUserLeaveItem","title","deleteUserLeave","deleteUserAttachmentItem","path","filename","deleteFile","response","deleteUserAttachment","showDetailHandler","onViewAttachment","attachment","type","format","closeAttachmentView","closePdfCreator","updateUserSpecial","bind","contextType"],"mappings":"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","sourcesContent":["import S3 from 'react-aws-s3';\nimport S3FileUpload from 'react-s3';\nimport React, { Component } from 'react';\n// import FileViewer from 'react-file-viewer';\n\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\n// import Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport Accordion from 'react-bootstrap/Accordion';\nimport Tabs from 'react-bootstrap/Tabs';\nimport Tab from 'react-bootstrap/Tab';\nimport TabContainer from 'react-bootstrap/TabContainer';\nimport TabContent from 'react-bootstrap/TabContent';\nimport TabPane from 'react-bootstrap/TabPane';\nimport Nav from 'react-bootstrap/Nav';\nimport Card from 'react-bootstrap/Card';\n\n// import Modal from '../components/Modal/Modal';\n// import Backdrop from '../components/Backdrop/Backdrop';\nimport UserList from '../components/Users/UserList/UserList';\nimport SearchUserList from '../components/Users/UserList/SearchUserList';\nimport UserDetail from '../components/Users/UserDetail';\nimport Spinner from '../components/Spinner/Spinner';\nimport AuthContext from '../context/auth-context';\n\nimport SidebarPage from './Sidebar';\nimport AlertBox from '../components/AlertBox';\nimport AttachmentViewer from '../components/AttachmentViewer';\nimport PdfCreator from '../components/PdfCreator';\n\nimport CreateUserForm from '../components/Forms/CreateUserForm';\nimport UpdateUserForm from '../components/Forms/UpdateUserForm';\nimport UpdateUserFieldForm from '../components/Forms/UpdateUserFieldForm';\nimport UpdateUserAttendanceForm from '../components/Forms/UpdateUserAttendanceForm';\nimport UpdateUserAttachmentForm from '../components/Forms/UpdateUserAttachmentForm';\nimport UpdateUserLeaveForm from '../components/Forms/UpdateUserLeaveForm';\nimport SearchUserForm from '../components/Forms/SearchUserForm';\nimport SearchUserIdForm from '../components/Forms/SearchUserIdForm';\nimport SearchUserNameForm from '../components/Forms/SearchUserNameForm';\nimport SearchUserAttendanceDateForm from '../components/Forms/SearchUserAttendanceDateForm';\nimport SearchUserLeaveDateRangeForm from '../components/Forms/SearchUserLeaveDateRangeForm';\n\nimport './Users.css';\n\nclass UsersPage extends Component {\n  state = {\n    creating: false,\n    updating: false,\n    deleting: false,\n    searching: false,\n    users: [],\n    searchUsers: [],\n    isLoading: false,\n    isSorting: false,\n    selectedUser: null,\n    userUpdateField: null,\n    userSearchField: null,\n    userSearchQuery: null,\n    canDelete: null,\n    userAlert: null,\n    file: null,\n    showAttachment: false,\n    showThisAttachmentFile: null,\n    showThisAttachmentType: null,\n    createPdf: false,\n    pdfData: null,\n  };\n  isActive = true;\n\n  static contextType = AuthContext;\n\n  // constructor(props) {\n  //   super(props);\n  // }\n\n  componentDidMount() {\n    this.fetchUsers();\n    if (this.context.user.name === 'admin579'){\n      this.setState({canDelete: true})\n    }\n  }\n\n\n  startCreateUserHandler = () => {\n    this.setState({ creating: true });\n    console.log(\"CreateUserForm...\");\n  };\n  startUpdateUserHandler = () => {\n    this.setState({ updating: true });\n    console.log(\"UpdateUserForm...\");\n  };\n\n  startSearchUserHandler = () => {\n    this.setState({ searching: true });\n    console.log(\"SearchUserForm...\");\n  };\n\n  modalConfirmHandler = (event) => {\n    console.log(`\n      event: ${JSON.stringify(event)},\n      `);\n\n    console.log(\"CreateUserFormData:  \", event.target.formGridEmail.value);\n\n    this.setState({ creating: false });\n    const email = event.target.formGridEmail.value;\n    const password = event.target.formGridPassword.value;\n    const name = event.target.formGridName.value;\n    const role = event.target.formGridRole.value;\n    let dob = event.target.formGridDob.value;\n    let phone = event.target.formGridPhone.value;\n    let addressNumber = event.target.formGridAddressNumber.value;\n    let addressStreet = event.target.formGridAddressStreet.value;\n    let addressTown = event.target.formGridAddressTown.value;\n    let addressParish = event.target.formGridAddressParish.value;\n    let addressPostOffice = event.target.formGridAddressPostOffice.value;\n    let employmentDate = event.target.formGridEmploymentDate.value;\n    let terminationDate = event.target.formGridTerminationDate.value;\n\n    if (\n      email.trim().length === 0 ||\n      password.trim().length === 0 ||\n      name.trim().length === 0 ||\n      role.trim().length === 0 ||\n      dob.trim().length === 0 ||\n      phone.trim().length === 0 ||\n      addressNumber.trim().length === 0 ||\n      addressStreet.trim().length === 0 ||\n      addressTown.trim().length === 0 ||\n      addressParish.trim().length === 0 ||\n      addressPostOffice.trim().length === 0 ||\n      employmentDate.trim().length === 0 ||\n      terminationDate.trim().length === 0\n    ) {\n      console.log(\"blank fields detected!!!...Please try again...\");\n      this.setState({userAlert: \"blank fields detected!!!...Please try again...\"});\n      return;\n    }\n\n    const token = this.context.token;\n    const userId = this.context.userId;\n    const user = { email, password, name, role, dob, phone, addressNumber, addressStreet, addressTown, addressParish, addressPostOffice, employmentDate, terminationDate };\n\n    console.log(`\n      creating user...\n      userId: ${userId}\n      email: ${email},\n      password: ${password},\n      name: ${name},\n      role: ${role},\n      dob: ${dob},\n      phone: ${phone},\n      addressNumber: ${addressNumber},\n      addressStreet: ${addressStreet},\n      addressTown: ${addressTown},\n      addressParish: ${addressParish},\n      addressPostOffice: ${addressPostOffice},\n      employmentDate: ${employmentDate},\n      terminationDate: ${terminationDate},\n      `);\n\n    const requestBody = {\n      query: `\n          mutation {\n            createUser(userInput: {email:\"${email}\",password:\"${password}\",name:\"${name}\",role:\"${role}\",dob:\"${dob}\",addressNumber:${addressNumber},addressStreet:\"${addressStreet}\",addressTown:\"${addressTown}\",addressParish:\"${addressParish}\",addressPostOffice:\"${addressPostOffice}\",phone:\"${phone}\",employmentDate:\"${employmentDate}\",terminationDate:\"${terminationDate}\"})\n            {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}\n          }\n        `\n    };\n\n    fetch('http://localhost:10000/graphql', {\n    // fetch('http://ec2-3-19-32-237.us-east-2.compute.amazonaws.com/graphql', {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + token\n      }\n    })\n      .then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n        return res.json();\n      })\n      .then(resData => {\n        console.log(\"create user response data... \" + JSON.stringify(resData.data.createUser));\n        const responseAlert = JSON.stringify(resData.data).slice(0,8);\n        this.setState({userAlert: responseAlert});\n\n        this.setState(prevState => {\n          const updatedUsers = [...prevState.users];\n          updatedUsers.push(resData.data.createUser);\n\n          return { users: updatedUsers };\n        });\n        this.context.users = this.state.users;\n      })\n      .catch(err => {\n        console.log(err);\n        this.setState({userAlert: err});\n      });\n  };\n\n\n  modalConfirmUpdateHandler = (event) => {\n\n    const token = this.context.token;\n    const userId = this.context.userId;\n    let selectedUserId = this.context.selectedUser._id;\n    if(userId !== selectedUserId && this.context.user.role !== 'admin') {\n      console.log(\"Not the creator or Admin! No edit permission!!\");\n      this.setState({userAlert: \"Not the creator or Admin! No edit permission!!\"});\n      selectedUserId = null;\n    }\n\n    console.log(\"UpdateUserFormData:  \", event.target.formGridEmail.value);\n\n    this.setState({ updating: false });\n\n    let email = event.target.formGridEmail.value;\n    let password = event.target.formGridPassword.value;\n    let name = event.target.formGridName.value;\n    let role = this.context.selectedUser.role;\n    let dob = event.target.formGridDob.value;\n    let phone = event.target.formGridPhone.value;\n    let addressNumber = event.target.formGridAddressNumber.value;\n    let addressStreet = event.target.formGridAddressStreet.value;\n    let addressTown = event.target.formGridAddressTown.value;\n    let addressParish = event.target.formGridAddressParish.value;\n    let addressPostOffice = event.target.formGridAddressPostOffice.value;\n    let employmentDate = event.target.formGridEmploymentDate.value;\n    let terminationDate = event.target.formGridTerminationDate.value;\n\n    if (email.trim().length === 0 ) {\n      console.log(\"blank fields detected!!!...filling w/ previous data...\");\n      email = this.context.selectedUser.email;\n    }\n    if (password.trim().length === 0) {\n      console.log(\"blank fields detected!!!...filling w/ previous data...\");\n      password = this.context.selectedUser.password;\n    }\n    if (name.trim().length === 0) {\n      console.log(\"blank fields detected!!!...filling w/ previous data...\");\n      name = this.context.selectedUser.name;\n    }\n    // if (role.trim().length === 0) {\n    //   console.log(\"blank fields detected!!!...filling w/ previous data...\");\n    //   role = this.state.selectedUser.role;\n    // }\n    if (dob.trim().length === 0) {\n      console.log(\"blank fields detected!!!...filling w/ previous data...\");\n      dob = this.context.selectedUser.dob;\n    }\n    if (phone.trim().length === 0) {\n      console.log(\"blank fields detected!!!...filling w/ previous data...\");\n      phone = this.context.selectedUser.phone;\n    }\n    if (addressNumber.trim().length === 0) {\n      console.log(\"blank fields detected!!!...filling w/ previous data...\");\n      addressNumber = this.context.selectedUser.address.number;\n    }\n    if (addressStreet.trim().length === 0) {\n      console.log(\"blank fields detected!!!...filling w/ previous data...\");\n      addressStreet = this.context.selectedUser.address.street;\n    }\n    if (addressTown.trim().length === 0) {\n      console.log(\"blank fields detected!!!...filling w/ previous data...\");\n      addressTown = this.context.selectedUser.address.town;\n    }\n    if (addressParish.trim().length === 0) {\n      console.log(\"blank fields detected!!!...filling w/ previous data...\");\n      addressParish = this.context.selectedUser.address.parish;\n    }\n    if (addressPostOffice.trim().length === 0) {\n      console.log(\"blank fields detected!!!...filling w/ previous data...\");\n      addressPostOffice = this.context.selectedUser.address.postOffice;\n    }\n    if (employmentDate.trim().length === 0) {\n      console.log(\"blank fields detected!!!...filling w/ previous data...\");\n      employmentDate = this.context.selectedUser.employmentDate;\n    }\n    if (terminationDate.trim().length === 0) {\n      console.log(\"blank fields detected!!!...filling w/ previous data...\");\n      terminationDate = this.context.selectedUser.terminationDate;\n    }\n\n    const user = { email, password, name, role, dob, phone, addressNumber, addressStreet, addressTown, addressParish, addressPostOffice, employmentDate, terminationDate };\n    console.log(`\n      updating user profile...\n      userId: ${userId}\n      email: ${email},\n      password: ${password},\n      name: ${name},\n      role: ${role},\n      dob: ${dob},\n      phone: ${phone},\n      addressNumber: ${addressNumber},\n      addressStreet: ${addressStreet},\n      addressTown: ${addressTown},\n      addressParish: ${addressParish},\n      addressPostOffice: ${addressPostOffice},\n      employmentDate: ${employmentDate},\n      terminationDate: ${terminationDate},\n      `);\n      this.setState({userAlert: \"updating user profile...\"});\n\n    const requestBody = {\n      query: `\n      mutation {updateUser(userId:\\\"${userId}\\\",selectedUserId:\\\"${selectedUserId}\\\",userInput: {email:\\\"${email}\\\",password:\\\"${password}\\\",name:\\\"${name}\\\",dob:\\\"${dob}\\\",addressNumber:${addressNumber},addressStreet:\\\"${addressStreet}\\\",addressTown:\\\"${addressTown}\\\",addressParish:\\\"${addressParish}\\\", addressPostOffice:\\\"${addressPostOffice}\\\",phone:\\\"${phone}\\\",role:\\\"${role}\\\",employmentDate:\\\"${employmentDate}\\\",terminationDate:\\\"${terminationDate}\\\"})\n      {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\n        `};\n\n        // fetch('http://ec2-3-19-32-237.us-east-2.compute.amazonaws.com/graphql', {\n    fetch('http://localhost:10000/graphql', {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + token\n      }})\n      .then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n        return res.json();\n      })\n      .then(resData => {\n        console.log(\"response data... \" + JSON.stringify(resData));\n        const updatedUser = resData.data.updateUser;\n        console.log(\"updatedUser:  \", JSON.stringify(updatedUser));\n        this.setState({user: updatedUser})\n        this.state.users.push(resData.data.updateUser);\n        this.context.users = this.state.users;\n\n        const responseAlert = JSON.stringify(resData.data).slice(2,25);\n        this.setState({ userAlert: responseAlert, selectedUser: resData.data.updateUser})\n        this.fetchUsers();\n      })\n      .catch(err => {\n        console.log(err);\n        this.setState({userAlert: err});\n      });\n  };\n\n\n  modalConfirmUpdateFieldHandler = (event) => {\n\n    const token = this.context.token;\n    const userId = this.context.userId;\n    let selectedUserId = this.context.selectedUser._id;\n    // if(userId !== selectedUserId && this.context.user.role !== 'admin') {\n    //   console.log(\"Not the creator or Admin! No edit permission!!\");\n    //   selectedUserId = null;\n    // }\n\n\n      console.log(\"UpdateUserFieldFormData:  \", event.target.formGridField.value, event.target.formGridFieldSelect.value);\n      this.setState({ updating: false });\n\n      let field = null;\n      let query = event.target.formGridQuery.value;\n      if (event.target.formGridFieldSelect.value === \"select\") {\n        field = event.target.formGridField.value;\n      } else {\n        field = event.target.formGridFieldSelect.value;\n      }\n      console.log(`\n          field: ${field},\n          query: ${query},\n        `);\n\n        this.setState({ userAlert: \"updating user field...\"})\n\n      const requestBody = {\n        query:`\n          mutation{updateUserField(userId:\"${userId}\",selectedUserId:\"${selectedUserId}\",field:\"${field}\",query:\"${query}\")\n          {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}\n        }\n        `};\n\n        // fetch('http://ec2-3-19-32-237.us-east-2.compute.amazonaws.com/graphql', {\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      })\n        .then(res => {\n          if (res.status !== 200 && res.status !== 201) {\n            throw new Error('Failed!');\n          }\n          return res.json();\n        })\n        .then(resData => {\n          console.log(\"response data... \" + JSON.stringify(resData.data.updateUserField));\n\n          const updatedUserId = resData.data.updateUserField._id;\n          const updatedUser = this.state.users.find(e => e._id === updatedUserId);\n          const updatedUserPos = this.state.users.indexOf(updatedUser);\n          const slicedArray = this.state.users.splice(updatedUserPos, 1);\n          console.log(\"updatedUser:  \", JSON.stringify(updatedUser),\"  updatedUserPos:  \", updatedUserPos, \"  slicedArray:  \", slicedArray);\n\n          this.state.users.push(resData.data.updateUserField);\n          this.context.users = this.state.users;\n          const responseAlert = JSON.stringify(resData.data).slice(2,25);\n          this.setState({ userAlert: responseAlert, selectedUser: resData.data.updateUserField})\n          this.fetchUsers();\n        })\n        .catch(err => {\n          console.log(err);\n          this.setState({userAlert: err});\n        });\n\n  }\n\n  updateUserAttendanceHandler = (event) => {\n    const token = this.context.token;\n    const userId = this.context.userId;\n    let selectedUserId = this.context.selectedUser._id;\n    // if(userId !== selectedUserId && this.context.user.role !== 'admin') {\n    //   console.log(\"Not the creator or Admin! No edit permission!!\");\n    //   selectedUserId = null;\n    // }\n    if (userId !== selectedUserId && this.context.user.role !== \"admin\" ) {\n      console.log(\"Not the creator or Admin! No edit permission!!\");\n      this.setState({ userAlert: \"Not the creator or Admin! No edit permission!!\"});\n        selectedUserId = null;\n    }\n\n    console.log(\"UpdateUserAttendanceFormData:  \", AuthContext._currentValue.fancyDate);\n\n    this.setState({ updating: false , userUpdateField: null });\n\n    // FIX ME!!!\n    let attendanceDate = AuthContext._currentValue.fancyDate;\n    let attendanceStatus = event.target.formGridAttendanceStatus.value;\n    let attendanceDescription = event.target.formGridAttendanceDescription.value;\n\n    if (\n    // attendanceDate.trim().length === 0 ||\n    attendanceStatus.trim().length === 0\n    ){\n      console.log(\"blank fields detected!!!...filling w/ previous data...\");\n      return\n    }\n\n    const userAttendance = { attendanceDate, attendanceStatus, attendanceDescription }\n    console.log(`\n      adding user attendance item...\n      userId: ${userId},\n      selectedUserId: ${selectedUserId}\n      attendanceDate: ${attendanceDate},\n      attendanceStatus: ${attendanceStatus},\n      attendanceDescription: ${attendanceDescription}\n      `);\n\n      this.setState({ userAlert: \"adding user attendance item...\"});\n\n      const requestBody = {\n        query:`\n          mutation {updateUserAttendance(userId:\"${userId}\", selectedUserId:\"${selectedUserId}\",userInput:{attendanceDate:\"${attendanceDate}\",attendanceStatus:\"${attendanceStatus}\",attendanceDescription:\"${attendanceDescription}\"})\n          {_id,name,email,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description}}}\n        `};\n\n      // fetch('http://ec2-3-19-32-237.us-east-2.compute.amazonaws.com/graphql', {\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      })\n        .then(res => {\n          if (res.status !== 200 && res.status !== 201) {\n            throw new Error('Failed!');\n          }\n          return res.json();\n        })\n        .then(resData => {\n          console.log(\"response data... \" + JSON.stringify(resData.data.updateUserAttendance));\n\n          const updatedUserId = resData.data.updateUserAttendance._id;\n          const updatedUser = this.state.users.find(e => e._id === updatedUserId);\n          const updatedUserPos = this.state.users.indexOf(updatedUser);\n          const slicedArray = this.state.users.splice(updatedUserPos, 1);\n          console.log(\"updatedUser:  \", JSON.stringify(updatedUser),\"  updatedUserPos:  \", updatedUserPos, \"  slicedArray:  \", slicedArray);\n\n          this.state.users.push(resData.data.updateUserAttendance);\n          this.context.users = this.state.users;\n          const responseAlert = JSON.stringify(resData.data).slice(2,25);\n          this.setState({ userAlert: responseAlert, selectedUser: resData.data.updateUserAttendance})\n          this.fetchUsers();\n        })\n        .catch(err => {\n          console.log(err);\n          this.setState({userAlert: err});\n        });\n\n\n  }\n\n    updateUserAttachmentHandler = (event) => {\n\n    const token = this.context.token;\n    const userId = this.context.userId;\n    let selectedUserId = this.context.selectedUser._id;\n    // if(userId !== selectedUserId && this.context.user.role !== 'admin') {\n    //   console.log(\"Not the creator or Admin! No edit permission!!\");\n    //   selectedUserId = null;\n    // }\n    if (userId !== selectedUserId && this.context.user.role !== \"admin\" ) {\n      console.log(\"Not the creator or Admin! No edit permission!!\");\n      this.setState({userAlert: \"Not the creator or Admin! No edit permission!!\"})\n        selectedUserId = null;\n    }\n\n    console.log(\"UpdateUserAttachmentFormData:  \");\n\n    this.setState({ updating: false , userUpdateField: null });\n\n    // let attachmentName = event.target.formGridAttachmentName.value;\n    let attachmentFormat = event.target.formGridAttachmentFormat.value;\n    let attachmentPath = event.target.formGridAttachmentPath.value;\n    let file = AuthContext._currentValue.file;\n\n    console.log(`\n      uploading to s3...\n      file.name: ${file.name},\n      AuthContext._currentValue.file: ${AuthContext._currentValue.file},\n      `);\n    const config = {\n      bucketName: 'ent-emr-bucket',\n      dirName: attachmentPath,\n      region: 'us-east-2',\n      accessKeyId: \"AKIARFTS6Q6DALQKT4QR\",\n      secretAccessKey: \"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\",\n    }\n    const ReactS3Client = new S3(config);\n    const newFileName = file.name;\n    const attachmentName = newFileName;\n\n    ReactS3Client\n        .uploadFile(file, newFileName)\n        .then(data => {console.log(data);this.setState({userAlert: \"attachment upload success!\"});})\n        .catch(err => {console.error(err);this.setState({userAlert: \"upload error:  \"+err});})\n\n    if (\n      attachmentName.trim().length === 0 ||\n      attachmentFormat.trim().length === 0 ||\n      attachmentPath.trim().length === 0\n  ) {\n      console.log(\"blank fields detected!!! try again\");\n      return\n    }\n\n    const userAttachment = { attachmentName, attachmentFormat, attachmentPath }\n    console.log(`\n      adding user attachment item...\n      userId: ${userId},\n      selectedUserId: ${selectedUserId}\n      attachmentName: ${attachmentName},\n      attachmentFormat: ${attachmentFormat},\n      attachmentPath: ${attachmentPath},\n      `);\n      this.setState({userAlert: \"adding user attatchment item...\"})\n\n      const requestBody = {\n        query:`\n          mutation{updateUserAttachment(userId:\\\"${userId}\\\",selectedUserId:\\\"${selectedUserId}\\\",userInput:{attachmentName:\\\"${attachmentName}\\\",attachmentFormat:\\\"${attachmentFormat}\\\",attachmentPath:\\\"${attachmentPath}\\\"})\n          {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\n        `};\n\n        // fetch('http://ec2-3-19-32-237.us-east-2.compute.amazonaws.com/graphql', {\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      })\n        .then(res => {\n          if (res.status !== 200 && res.status !== 201) {\n            throw new Error('Failed!');\n          }\n          return res.json();\n        })\n        .then(resData => {\n          console.log(\"response data... \" + JSON.stringify(resData.data.updateUserAttachment));\n\n          const updatedUserId = resData.data.updateUserAttachment._id;\n          const updatedUser = this.state.users.find(e => e._id === updatedUserId);\n          const updatedUserPos = this.state.users.indexOf(updatedUser);\n          const slicedArray = this.state.users.splice(updatedUserPos, 1);\n          console.log(\"updatedUser:  \", JSON.stringify(updatedUser),\"  updatedUserPos:  \", updatedUserPos, \"  slicedArray:  \", slicedArray);\n\n          this.state.users.push(resData.data.updateUserAttachment);\n          this.context.users = this.state.users;\n          const responseAlert = JSON.stringify(resData.data).slice(2,25);\n          this.setState({ userAlert: responseAlert, selectedUser: resData.data.updateUserAttachment})\n          this.fetchUsers();\n        })\n        .catch(err => {\n          console.log(err);\n          this.setState({userAlert: err});\n        });\n\n\n  }\n\n\n  updateUserLeaveHandler = (event) => {\n\n    const token = this.context.token;\n    const userId = this.context.userId;\n    let selectedUserId = this.context.selectedUser._id;\n    // if(userId !== selectedUserId && this.context.user.role !== 'admin') {\n    //   console.log(\"Not the creator or Admin! No edit permission!!\");\n    //   selectedUserId = null;\n    // }\n    if (userId !== selectedUserId && this.context.user.role !== \"admin\" ) {\n      console.log(\"Not the creator or Admin! No edit permission!!\");\n      this.setState({userAlert: \"Not the creator or Admin! No edit permission!!\"})\n        selectedUserId = null;\n    }\n\n    console.log(\"UpdateUserLeaveFormData:  \", event.target.formGridLeaveType.value);\n\n    this.setState({ updating: false , userUpdateField: null });\n\n    let leaveType = event.target.formGridLeaveType.value;\n    let leaveTitle = event.target.formGridLeaveTitle.value;\n    let leaveStartDate = event.target.formGridLeaveStartDate.value;\n    let leaveEndDate = event.target.formGridLeaveEndDate.value;\n\n    if (\n      leaveType.trim().length === 0 ||\n      leaveTitle.trim().length === 0 ||\n      leaveStartDate.trim().length === 0 ||\n      leaveEndDate.trim().length === 0\n    ) {\n      console.log(\"blank fields detected!!!...try again\");\n      this.setState({userAlert: \"blank fields detected!!!...try again\"});\n      return\n    }\n\n    const userLeave = { leaveType, leaveTitle, leaveStartDate, leaveEndDate }\n    console.log(`\n      adding user leave item...\n      userId: ${userId},\n      selectedUserId: ${selectedUserId}\n      leave: {\n        type: ${leaveType},\n        title: ${leaveTitle},\n        startDate: ${leaveStartDate},\n        endDate: ${leaveEndDate}\n      }\n      `);\n      this.setState({userAlert: \"adding user leave item...\"})\n\n      const requestBody = {\n        query:`\n          mutation{updateUserLeave(userId:\\\"${userId}\\\",selectedUserId:\\\"${selectedUserId}\\\",userInput:{leaveType:\\\"${leaveType}\\\",leaveTitle:\\\"${leaveTitle}\\\",leaveStartDate:\\\"${leaveStartDate}\\\",leaveEndDate:\\\"${leaveEndDate}\\\"})\n          {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\n        `};\n\n        // fetch('http://ec2-3-19-32-237.us-east-2.compute.amazonaws.com/graphql', {\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      })\n        .then(res => {\n          if (res.status !== 200 && res.status !== 201) {\n            throw new Error('Failed!');\n          }\n          return res.json();\n        })\n        .then(resData => {\n          console.log(\"response data... \" + JSON.stringify(resData.data));\n\n          const updatedUserId = resData.data.updateUserLeave._id;\n          const updatedUser = this.state.users.find(e => e._id === updatedUserId);\n          const updatedUserPos = this.state.users.indexOf(updatedUser);\n          const slicedArray = this.state.users.splice(updatedUserPos, 1);\n          console.log(\"updatedUser:  \", JSON.stringify(updatedUser),\"  updatedUserPos:  \", updatedUserPos, \"  slicedArray:  \", slicedArray);\n\n          this.state.users.push(resData.data.updateUserLeave);\n          this.context.users = this.state.users;\n          const responseAlert = JSON.stringify(resData.data).slice(2,25);\n          this.setState({ userAlert: responseAlert, selectedUser: resData.data.updateUserLeave})\n          this.fetchUsers();\n        })\n        .catch(err => {\n          console.log(err);\n          this.setState({userAlert: err});\n        });\n\n  }\n\n\n  modalConfirmSearchHandler = (event) => {\n    console.log(\"SearchUserForm:  \");\n\n\n    let userId = this.context.userId;\n\n      console.log(\"SearchUserFormData:  \", event.target.formBasicField.value);\n      this.setState({ searching: false });\n\n      let field = null;\n      let query = event.target.formBasicQuery.value;\n      if (event.target.formBasicFieldSelect.value === \"select\") {\n        field = event.target.formBasicField.value;\n      } else {\n        field = event.target.formBasicFieldSelect.value;\n      }\n\n      this.setState({\n        userSearchField: field,\n        userSearchQuery: query,\n      })\n\n      if (\n        field.trim().length === 0 ||\n        query.trim().length === 0\n      ) {\n        console.log(\"blank fields detected!!!...Please try again...\");\n        this.setState({userAlert: \"blank fields detected!!!...Please try again...\"})\n        return;\n      }\n\n      const search = { field, query }\n      console.log(\"Searching for User:  \", JSON.stringify(search));\n      this.setState({userAlert: \"Searching for User...\"})\n\n      const requestBody = {\n        query: `\n          query {getUserField(userId:\"${userId}\",field:\"${field}\",query:\"${query}\")\n          {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\n        `}\n\n      const token = this.context.token;\n\n      // fetch('http://ec2-3-19-32-237.us-east-2.compute.amazonaws.com/graphql', {\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      })\n        .then(res => {\n          if (res.status !== 200 && res.status !== 201) {\n            throw new Error('Failed!');\n          }\n          return res.json();\n        })\n        .then(resData => {\n          console.log(\"response data... \" + JSON.stringify(resData));\n\n          const responseAlert = JSON.stringify(resData.data).slice(0,8);\n          this.setState({userAlert: responseAlert});\n\n          const searchUsers = resData.data.getUserField;\n\n          this.setState({ searchUsers: searchUsers})\n          console.log(\"state.searchUsers:  \", this.state.searchUsers);\n          // this.fetchUsers();\n        })\n        .catch(err => {\n          console.log(err);\n          this.setState({userAlert: err});\n        });\n  }\n\n  modalConfirmSearchIdHandler = (event) => {\n\n    let userId = this.context.userId;\n    this.setState({ searching: false });\n\n    console.log(\"SearchUserIdFormData:\", event.target.formBasicId.value);\n    let selectedUserId = event.target.formBasicId.value;\n\n    const requestBody = {\n      query: `\n        query {getUserId(userId:\"${userId}\",selectedUserId:\"${selectedUserId}\")\n        {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\n      `}\n\n    const token = this.context.token;\n\n    // fetch('http://ec2-3-19-32-237.us-east-2.compute.amazonaws.com/graphql', {\n    fetch('http://localhost:10000/graphql', {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + token\n      }\n    })\n      .then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n        return res.json();\n      })\n      .then(resData => {\n        console.log(\"response data... \" + JSON.stringify(resData));\n\n        const responseAlert = JSON.stringify(resData.data).slice(2,25);\n        this.setState({userAlert: responseAlert});\n\n        const searchUsers = resData.data.getUserId;\n\n        this.setState({ searchUsers: [searchUsers] });\n        console.log(\"state.searchUsers:  \", this.state.searchUsers);\n        // this.fetchUsers();\n      })\n      .catch(err => {\n        console.log(err);\n        this.setState({userAlert: err});\n      });\n\n  }\n  modalConfirmSearchAttendanceDateHandler = (event) => {\n\n    let userId = this.context.userId;\n    this.setState({ searching: false });\n\n    console.log(\"SearchUserAttendanceDateFormData:\");\n\n    const attendanceDate = event.target.formBasicDate.value;\n\n    const requestBody = {\n      query: `\n        query {getUserAttendanceDate(userId:\"${userId}\",attendanceDate:\"${attendanceDate}\")\n        {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\n      `}\n\n    const token = this.context.token;\n\n    // fetch('http://ec2-3-19-32-237.us-east-2.compute.amazonaws.com/graphql', {\n    fetch('http://localhost:10000/graphql', {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + token\n      }\n    })\n      .then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n        return res.json();\n      })\n      .then(resData => {\n        console.log(\"response data... \" + JSON.stringify(resData));\n\n        const responseAlert = JSON.stringify(resData.data).slice(0,8);\n        this.setState({userAlert: responseAlert});\n\n        const searchUsers = resData.data.getUserAttendanceDate;\n\n        this.setState({ searchUsers: searchUsers})\n        console.log(\"state.searchUsers:  \", this.state.searchUsers);\n        // this.fetchUsers();\n      })\n      .catch(err => {\n        console.log(err);\n        this.setState({userAlert: err});\n      });\n\n  }\n  modalConfirmSearchLeaveDateRangeHandler = (event) => {\n\n    let userId = this.context.userId;\n    this.setState({ searching: false });\n\n    console.log(\"SearchUserLeaveDateRangeFormData:\");\n\n    const startDate = event.target.formBasicStartDate.value;\n    const endDate = event.target.formBasicEndDate.value;\n\n    const requestBody = {\n      query: `\n        query{getUserLeaveDateRange(userId:\"${userId}\",startDate:\"${startDate}\",endDate:\"${endDate}\")\n        {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\n      `}\n\n    const token = this.context.token;\n\n    // fetch('http://ec2-3-19-32-237.us-east-2.compute.amazonaws.com/graphql', {\n    fetch('http://localhost:10000/graphql', {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + token\n      }\n    })\n      .then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n        return res.json();\n      })\n      .then(resData => {\n        console.log(\"response data... \" + JSON.stringify(resData));\n\n        const responseAlert = JSON.stringify(resData.data).slice(0,8);\n        this.setState({userAlert: responseAlert});\n\n        const searchUsers = resData.data.getUserLeaveDateRange;\n\n        this.setState({ searchUsers: searchUsers})\n        console.log(\"state.searchUsers:  \", this.state.searchUsers);\n        // this.fetchUsers();\n      })\n      .catch(err => {\n        console.log(err);\n        this.setState({userAlert: err});\n      });\n\n  }\n\n  modalConfirmSearchNameHandler = (event) => {\n    console.log(\"SearchUserNameFormData:\", event.target.formBasicName.value);\n\n    let userId = this.context.userId;\n    this.setState({ searching: false });\n\n    let users = this.state.users;\n    const regex = new RegExp(event.target.formBasicName.value,\"i\");\n    console.log(`\n      regex: ${regex},\n      `);\n      let result = users.filter(user => user.name.match(regex))\n      console.log(`\n        result: ${JSON.stringify(result)}\n        `);\n\n        this.setState({ searchUsers: result})\n\n  }\n\n\n  modalCancelHandler = () => {\n    this.setState({ creating: false, updating: false, deleting: false, searching: false});\n  };\n\n  fetchUsers() {\n    console.log(\"fetch users:\");\n    // console.log(\"'fetch users function' context object... \" + JSON.stringify(this.context));\n    const userId = this.context.userId;\n\n    this.setState({ isLoading: true });\n    const requestBody = {\n      query: `\n          query {users (userId:\"${userId}\")\n          {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\n        `};\n\n    // fetch('http://ec2-3-19-32-237.us-east-2.compute.amazonaws.com/graphql', {\n    fetch('http://localhost:10000/graphql', {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + this.context.token\n      }\n    })\n      .then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          this.context.userAlert = 'Failed!';\n          throw new Error('Failed!');\n        }\n        return res.json();\n      })\n      .then(resData => {\n\n        const responseAlert = JSON.stringify(resData.data).slice(0,8);\n        this.setState({userAlert: responseAlert});\n\n        const users = resData.data.users;\n        console.log(\"resData:  \", resData);\n        console.log(users);\n\n        if (this.isActive) {\n          this.setState({ users: users, isLoading: false });\n        }\n        this.context.users = this.state.users;\n      })\n      .catch(err => {\n        console.log(err);\n        this.setState({userAlert: err});\n        if (this.isActive) {\n          this.setState({ isLoading: false });\n        }\n      });\n  }\n\n  fetchUsersAsc = () => {\n    console.log(\"'fetch usersAsc function' context object... \" + JSON.stringify(this.context));\n    const userId = this.context.userId;\n\n    // this.setState({ isSorting: true });\n    const requestBody = {\n      query: `\n          query {usersNameAsc (userId:\"${userId}\")\n          {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\n        `};\n\n    // fetch('http://ec2-3-19-32-237.us-east-2.compute.amazonaws.com/graphql', {\n    fetch('http://localhost:10000/graphql', {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + this.context.token\n      }\n    })\n      .then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          this.context.userAlert = 'Failed!';\n          throw new Error('Failed!');\n        }\n        return res.json();\n      })\n      .then(resData => {\n        const users = resData.data.usersNameAsc;\n        console.log(\"resData:  \", resData);\n        console.log(users);\n\n        const responseAlert = JSON.stringify(resData.data).slice(0,8);\n        this.setState({userAlert: responseAlert});\n\n        this.setState({users: users});\n        // if (this.isActive) {\n        //   this.setState({ users: users, isLoading: false });\n        // }\n        this.context.users = this.state.users;\n      })\n      .catch(err => {\n        console.log(err);\n        this.setState({userAlert: err});\n        // if (this.isActive) {\n        //   this.setState({ isLoading: false });\n        // }\n      });\n  }\n  fetchUsersDesc = () => {\n    console.log(\"'fetch usersDesc function' context object... \" + JSON.stringify(this.context));\n    const userId = this.context.userId;\n\n    // this.setState({ isLoading: true });\n    const requestBody = {\n      query: `\n          query {usersNameDesc (userId:\"${userId}\")\n          {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\n        `};\n\n    // fetch('http://ec2-3-19-32-237.us-east-2.compute.amazonaws.com/graphql', {\n    fetch('http://localhost:10000/graphql', {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + this.context.token\n      }\n    })\n      .then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          this.context.userAlert = 'Failed!';\n          throw new Error('Failed!');\n        }\n        return res.json();\n      })\n      .then(resData => {\n        const users = resData.data.usersNameDesc;\n        console.log(\"resData:  \", resData);\n        console.log(users);\n\n        const responseAlert = JSON.stringify(resData.data).slice(0,8);\n        this.setState({userAlert: responseAlert});\n\n        // if (this.isActive) {\n        //   this.setState({ users: users, isLoading: false });\n        // }\n        this.setState({users: users});\n        this.context.users = this.state.users;\n      })\n      .catch(err => {\n        console.log(err);\n        this.setState({userAlert: err});\n        // if (this.isActive) {\n        //   this.setState({ isLoading: false });\n        // }\n      });\n  }\n\nmodalDeleteHandler = () => {\n  console.log(\"deleting user...selectedUser:  \", this.context.selectedUser);\n\n  const userId = this.context.userId;\n  const selectedUserId = this.context.selectedUser._id;\n\n  if(this.context.user.role !== 'admin') {\n    console.log(\"Not the Admin! No edit permission!!\");\n    this.setState({userAlert: \"Not the Admin! No edit permission!!\"})\n  }\n\n  this.setState({deleting: true, userAlert: \"deleting user..\"});\n\n  const requestBody = {\n    query: `\n        mutation {\n          deleteUser(userId: ${userId}, selectedUserId: ${selectedUserId})\n          {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}\n        }\n      `};\n\n  // fetch('http://ec2-3-19-32-237.us-east-2.compute.amazonaws.com/graphql', {\n  fetch('http://localhost:10000/graphql', {\n    method: 'POST',\n    body: JSON.stringify(requestBody),\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: 'Bearer ' + this.context.token\n    }\n  })\n    .then(res => {\n      if (res.status !== 200 && res.status !== 201) {\n        throw new Error('Failed!');\n      }\n      return res.json();\n    })\n    .then(resData => {\n\n      const responseAlert = JSON.stringify(resData.data).slice(0,8);\n      this.setState({userAlert: responseAlert});\n\n      let deletedUser = resData.data.deleteUser;\n      console.log(deletedUser);\n\n      let deletedUserId = deletedUser._id;\n      deletedUser = this.state.users.find(e => e._id === deletedUserId);\n      const deletedUserPos = this.state.users.indexOf(deletedUser);\n      const slicedArray = this.state.users.splice(deletedUserPos, 1);\n      console.log(\"deletedUser:  \", JSON.stringify(deletedUser),\"  deletedUserPos:  \", deletedUserPos, \"  slicedArray:  \", slicedArray);\n\n      this.setState({ deleting: false, selectedUser: null });\n      this.context.selectedUser = null;\n\n      this.fetchUsers();\n\n    })\n    .catch(err => {\n      console.log(err);\n      this.setState({userAlert: err});\n      if (this.isActive) {\n        this.setState({ deleting: false });\n      }\n    });\n\n}\n\ndeleteUserAttendanceItem = (props) => {\n\n  let token = this.context.token;\n  let userId = this.context.userId;\n  let selectedUserId = this.state.selectedUser._id;\n  let date = new Date(props.date.substr(0,10)*1000).toISOString().slice(0,10);\n\n  console.log(`\n    delete user Attendance item:\n    props: ${JSON.stringify(props)},\n    token: ${token},\n    userId: ${userId},\n    selectedUserId: ${selectedUserId},\n    attandance date: ${date},\n    `);\n\n    const requestBody = {\n      query: `\n       mutation{deleteUserAttendance(userId:\\\"${userId}\\\",selectedUserId:\\\"${selectedUserId}\\\",attendanceDate:\\\"${date}\\\")\n       {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\n    `};\n\n        // fetch('http://ec2-3-19-32-237.us-east-2.compute.amazonaws.com/graphql', {\n        fetch('http://localhost:10000/graphql', {\n          method: 'POST',\n          body: JSON.stringify(requestBody),\n          headers: {\n            'Content-Type': 'application/json',\n            Authorization: 'Bearer ' + token\n          }\n        })\n          .then(res => {\n            if (res.status !== 200 && res.status !== 201) {\n              throw new Error('Failed!');\n            }\n            return res.json();\n          })\n          .then(resData => {\n            let deletedUser = resData.data.deleteUserAttendance;\n            console.log(\"resData.data:  \",resData.data.deleteUserAttendance);\n\n            const updatedUserId = resData.data.deleteUserAttendance._id;\n            const updatedUser = this.state.users.find(e => e._id === updatedUserId);\n            const updatedUserPos = this.state.users.indexOf(updatedUser);\n            const slicedArray = this.state.users.splice(updatedUserPos, 1);\n            console.log(\"updatedUser:  \", JSON.stringify(updatedUser),\"  updatedUserPos:  \", updatedUserPos, \"  slicedArray:  \", slicedArray);\n\n            this.state.users.push(resData.data.deleteUserAttendance);\n            this.context.users = this.state.users;\n            const responseAlert = JSON.stringify(resData.data).slice(2,25);\n            this.setState({ userAlert: responseAlert})\n            // this.setState({ userAlert: responseAlert, selectedUser: resData.data.deleteUserAttendance})\n            this.fetchUsers();\n\n          })\n          .catch(err => {\n            console.log(err);\n          });\n}\n\ndeleteUserLeaveItem = (props) => {\n\n  let token = this.context.token;\n  let userId = this.context.userId;\n  let selectedUserId = this.state.selectedUser._id;\n\n  console.log(`\n    delete user Leave item:\n    props: ${JSON.stringify(props)},\n    token: ${token},\n    userId: ${userId},\n    selectedUserId: ${selectedUserId},\n    `);\n\n    const requestBody = {\n      query: `\n       mutation{deleteUserLeave(userId:\\\"${userId}\\\",selectedUserId:\\\"${selectedUserId}\\\",leaveTitle:\\\"${props.title}\\\")\n       {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\n    `};\n\n        // fetch('http://ec2-3-19-32-237.us-east-2.compute.amazonaws.com/graphql', {\n        fetch('http://localhost:10000/graphql', {\n          method: 'POST',\n          body: JSON.stringify(requestBody),\n          headers: {\n            'Content-Type': 'application/json',\n            Authorization: 'Bearer ' + token\n          }\n        })\n          .then(res => {\n            if (res.status !== 200 && res.status !== 201) {\n              throw new Error('Failed!');\n            }\n            return res.json();\n          })\n          .then(resData => {\n            let deletedUser = resData.data.deleteUserLeave;\n            console.log(deletedUser);\n\n            const updatedUserId = resData.data.deleteUserLeave._id;\n            const updatedUser = this.state.users.find(e => e._id === updatedUserId);\n            const updatedUserPos = this.state.users.indexOf(updatedUser);\n            const slicedArray = this.state.users.splice(updatedUserPos, 1);\n            console.log(\"updatedUser:  \", JSON.stringify(updatedUser),\"  updatedUserPos:  \", updatedUserPos, \"  slicedArray:  \", slicedArray);\n\n            this.state.users.push(resData.data.deleteUserLeave);\n            this.context.users = this.state.users;\n            const responseAlert = JSON.stringify(resData.data).slice(2,25);\n            this.setState({ userAlert: responseAlert})\n            // this.setState({ userAlert: responseAlert, selectedUser: resData.data.deleteUserLeave})\n            this.fetchUsers();\n\n          })\n          .catch(err => {\n            console.log(err);\n          });\n}\n\ndeleteUserAttachmentItem = (props) => {\n\n  let token = this.context.token;\n  let userId = this.context.userId;\n  let selectedUserId = this.state.selectedUser._id;\n\n  console.log(`\n    delete user Attachment item:\n    props: ${JSON.stringify(props)},\n    token: ${token},\n    userId: ${userId},\n    selectedUserId: ${selectedUserId},\n    `);\n\n    console.log(`\n      deleting from s3...\n      file.name: ${props.name},\n      `);\n\n    const config = {\n      bucketName: 'ent-emr-bucket',\n      dirName: props.path,\n      region: 'us-east-2',\n      accessKeyId: \"AKIARFTS6Q6DALQKT4QR\",\n      secretAccessKey: \"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\",\n    }\n    const ReactS3Client = new S3(config);\n    const filename = props.name;\n    // const attachmentName = newFileName;\n    //\n    S3FileUpload\n    .deleteFile(filename, config)\n    .then(response => console.log(response))\n    .catch(err => console.error(err))\n\n\n    const requestBody = {\n      query: `\n       mutation{deleteUserAttachment(userId:\\\"${userId}\\\",selectedUserId:\\\"${selectedUserId}\\\",attachmentName:\\\"${props.name}\\\")\n       {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\n    `};\n\n        // fetch('http://ec2-3-19-32-237.us-east-2.compute.amazonaws.com/graphql', {\n        fetch('http://localhost:10000/graphql', {\n          method: 'POST',\n          body: JSON.stringify(requestBody),\n          headers: {\n            'Content-Type': 'application/json',\n            Authorization: 'Bearer ' + token\n          }\n        })\n          .then(res => {\n            if (res.status !== 200 && res.status !== 201) {\n              throw new Error('Failed!');\n            }\n            return res.json();\n          })\n          .then(resData => {\n            let deletedUser = resData.data.deleteUserAttachment;\n            console.log(deletedUser);\n\n            const updatedUserId = resData.data.deleteUserAttachment._id;\n            const updatedUser = this.state.users.find(e => e._id === updatedUserId);\n            const updatedUserPos = this.state.users.indexOf(updatedUser);\n            const slicedArray = this.state.users.splice(updatedUserPos, 1);\n            console.log(\"updatedUser:  \", JSON.stringify(updatedUser),\"  updatedUserPos:  \", updatedUserPos, \"  slicedArray:  \", slicedArray);\n\n            this.state.users.push(resData.data.deleteUserAttachment);\n            this.context.users = this.state.users;\n            const responseAlert = JSON.stringify(resData.data).slice(2,25);\n            this.setState({ userAlert: responseAlert})\n            // this.setState({ userAlert: responseAlert, selectedUser: resData.data.deleteUserAttachment})\n            this.fetchUsers();\n\n          })\n          .catch(err => {\n            console.log(err);\n          });\n}\n\n\n\nupdateUserSpecial (event) {\n\n  console.log(\"special field to update:  \", event.target.value);\n  const field = event.target.value;\n  this.setState({ userUpdateField: field});\n\n}\n\n  showDetailHandler = userId => {\n\n    this.setState(prevState => {\n      const selectedUser = prevState.users.find(e => e._id === userId);\n      this.context.selectedUser = selectedUser;\n      this.setState({selectedUser: selectedUser});\n      console.log(\"User selected  :  \", selectedUser);\n      return { selectedUser: selectedUser };\n    });\n  };\n\n  onViewAttachment = (attachment) => {\n    console.log(`\n      setting up attachment viewer...\n      attachment: ${JSON.stringify(attachment)}\n      `);\n      this.setState({showAttachment: true})\n\n      const file = \"https://ent-emr-bucket.s3-us-east-2.amazonaws.com/\"+attachment.path+\"/\"+attachment.name;\n      const type = attachment.format;\n\n      this.setState({showThisAttachmentFile: file, showThisAttachmentType: type})\n  }\n\n  closeAttachmentView = () => {\n    console.log(`\n      closing attachment viewer...\n      `);\n      this.setState({showAttachment: false})\n  }\n\n  createPdf = (user) => {\n    console.log(`\n        creating pdf...\n        user: ${JSON.stringify(user)}\n      `);\n\n      const pdfData = {\n        title: user.name,\n        body: user.dob,\n      };\n\n    this.setState({createPdf: true, pdfData: pdfData})\n  }\n\n  closePdfCreator = () => {\n    console.log(`\n      closing pdf creator...\n      `);\n      this.setState({createPdf: false, pdfData: null})\n  }\n\n  userSearchClearlHandler () {\n    console.log(\"clearing user search results\");\n    this.setState({searchUsers: [], userAlert: \"clearing user search results\"});\n  }\n\n\n  componentWillUnmount() {\n    this.isActive = false;\n  }\n\n  render() {\n    return (\n\n    <React.Fragment>\n    {this.state.showAttachment === true && (\n      <AttachmentViewer\n        onCloseAttachmentView={this.closeAttachmentView}\n        attachmentFile={this.state.showThisAttachmentFile}\n        attachmentType={this.state.showThisAttachmentType}\n      />\n    )}\n\n    {this.state.createPdf === true && (\n        <PdfCreator\n          pdfData={this.state.pdfData}\n          onClosePdfCreator={this.closePdfCreator}\n        />\n    )}\n\n    <Accordion>\n\n    <Row>\n\n    <Col md={3} className=\"MasterCol1\">\n\n    <AlertBox\n      authUserId={this.context.userId}\n      alert={this.state.userAlert}\n    />\n\n    <SidebarPage/>\n\n    </Col>\n\n    <Col md={9} className=\"MasterCol2\">\n\n        <Container className=\"containerCombinedDetail\">\n\n        <Tab.Container id=\"left-tabs-example\" defaultActiveKey=\"userDetail\">\n          <Row>\n            <Col sm={2}>\n              <Nav variant=\"pills\" className=\"flex-column\">\n                <Nav.Item>\n                  <Nav.Link eventKey=\"MasterList\">MASTER LIST</Nav.Link>\n                </Nav.Item>\n                <Nav.Item>\n                  <Nav.Link eventKey=\"userDetail\">Selected</Nav.Link>\n                </Nav.Item>\n                { this.context.user.role === \"admin\" && (\n                <Nav.Item>\n                  <Nav.Link eventKey=\"userCreate\">Create New</Nav.Link>\n                </Nav.Item>\n                )}\n                <Nav.Item>\n                  <Nav.Link eventKey=\"disabled\" disabled>Edit:</Nav.Link>\n                </Nav.Item>\n                <Nav.Item>\n                  <Nav.Link eventKey=\"userEditDemographics\">Demographics</Nav.Link>\n                </Nav.Item>\n                <Nav.Item>\n                  <Nav.Link eventKey=\"userEditField\">Single Field</Nav.Link>\n                </Nav.Item>\n                <Nav.Item>\n                  <Nav.Link eventKey=\"disabled\" disabled>Add:</Nav.Link>\n                </Nav.Item>\n                <Nav.Item>\n                  <Nav.Link eventKey=\"userEditAttendance\">Attendance</Nav.Link>\n                </Nav.Item>\n                <Nav.Item>\n                  <Nav.Link eventKey=\"userEditLeave\">Leave</Nav.Link>\n                </Nav.Item>\n                <Nav.Item>\n                  <Nav.Link eventKey=\"userEditAttachment\">Attachment</Nav.Link>\n                </Nav.Item>\n\n                <Nav.Item>\n                  <Nav.Link eventKey=\"disabled\" disabled>Search:</Nav.Link>\n                </Nav.Item>\n                <Nav.Item>\n                  <Nav.Link eventKey=\"SearchInput\">Input</Nav.Link>\n                </Nav.Item>\n                <Nav.Item>\n                  <Nav.Link eventKey=\"SearchResult\">Results</Nav.Link>\n                </Nav.Item>\n              </Nav>\n            </Col>\n\n            <Col sm={10}>\n              <Tab.Content>\n                <Tab.Pane eventKey=\"userDetail\">\n                  {this.state.selectedUser === null && (\n                    <Button variant=\"outline-warning\" size=\"lg\" className=\"confirmEditButton\">\n                      Select a Staff member from the Master List\n                    </Button>\n                  )}\n                  {this.state.isLoading === false &&\n                    this.state.selectedUser !== null\n                    && (\n                      <UserDetail\n                      authUserId={this.context.userId}\n                      AuthContext={this.context}\n                      user={this.state.selectedUser}\n                      onEdit={this.startUpdateUserHandler}\n                      canDelete={this.state.canDelete}\n                      onDelete={this.modalDeleteHandler}\n                      attendanceDelete={this.deleteUserAttendanceItem}\n                      leaveDelete={this.deleteUserLeaveItem}\n                      attachmentDelete={this.deleteUserAttachmentItem}\n                      onViewAttachment={this.onViewAttachment}\n                      onCreatePdf={this.createPdf}\n                      />\n                    )}\n                </Tab.Pane>\n\n                { this.context.user.role === \"admin\" && (\n                  <Tab.Pane eventKey=\"userCreate\">\n                  <Button variant=\"outline-primary\" size=\"lg\" className=\"confirmEditButton\" onClick={this.startCreateUserHandler} >Create a NEW Staff Profile</Button>\n                    {this.state.creating && (\n                      <CreateUserForm\n                        authUserId={this.context.userId}\n                        canCancel\n                        canConfirm\n                        onCancel={this.modalCancelHandler}\n                        onConfirm={this.modalConfirmHandler}\n                        onSubmit={this.modalConfirmHandler}\n                        confirmText=\"Confirm\"\n                      />\n                    )}\n                  </Tab.Pane>\n                )}\n\n\n                <Tab.Pane eventKey=\"userEditDemographics\">\n                  {this.state.selectedUser === null && (\n                    <Button variant=\"outline-warning\" className=\"confirmEditButton\" size=\"lg\">\n                      Select a Staff member from the Master List\n                    </Button>\n                  )}\n                  {this.state.selectedUser !== null &&\n                    this.context.user.role === \"admin\"\n                    && (\n                    <Button variant=\"outline-primary\" size=\"lg\" className=\"confirmEditButton\" onClick={this.startUpdateUserHandler}>Edit Demographics as Admin</Button>\n                  )}\n                  {this.state.selectedUser !== null &&\n                    this.state.selectedUser._id === this.context.user._id\n                    && (\n                    <Button variant=\"outline-primary\" size=\"lg\" className=\"confirmEditButton\" onClick={this.startUpdateUserHandler}>Edit Demographics</Button>\n                  )}\n                  {this.state.selectedUser !== null &&\n                    this.state.selectedUser._id === this.context.user._id && (\n                    <Button variant=\"outline-danger\" className=\"confirmEditButton\" size=\"lg\">\n                      Your Profile\n                    </Button>\n                  )}\n                  {this.state.selectedUser !== null &&\n                    this.state.selectedUser._id !== this.context.user._id && (\n                    <Button variant=\"outline-danger\" className=\"confirmEditButton\" size=\"lg\">\n                      Not my profile\n                    </Button>\n                  )}\n                  {this.state.updating &&\n                    this.state.selectedUser !== null\n                    && (\n                    <UpdateUserForm\n                      authUserId={this.context.userId}\n                      canCancel\n                      canConfirm\n                      onCancel={this.modalCancelHandler}\n                      onConfirm={this.modalConfirmUpdateHandler}\n                      confirmText=\"Confirm\"\n                      user={this.context.selectedUser}\n                    />\n                  )}\n                </Tab.Pane>\n\n                <Tab.Pane eventKey=\"userEditField\">\n                  {this.state.selectedUser === null && (\n                    <Button variant=\"outline-warning\" className=\"confirmEditButton\" size=\"lg\">\n                      Select a Staff member from the Master List\n                    </Button>\n                  )}\n\n                  {this.state.selectedUser !== null &&\n                    this.context.user.role === \"admin\"\n                    && (\n                    <Button variant=\"outline-primary\" size=\"lg\" className=\"confirmEditButton\" onClick={this.startUpdateUserHandler}>Edit Field as Admin</Button>\n                  )}\n                  {this.state.selectedUser !== null &&\n                    this.state.selectedUser._id === this.context.user._id\n                    && (\n                    <Button variant=\"outline-primary\" size=\"lg\" className=\"confirmEditButton\" onClick={this.startUpdateUserHandler}>Edit a Single Field</Button>\n                  )}\n                  {this.state.selectedUser !== null &&\n                    this.state.selectedUser._id === this.context.user._id && (\n                    <Button variant=\"outline-success\" className=\"confirmEditButton\" size=\"lg\">\n                      Your Profile\n                    </Button>\n                  )}\n                  {this.state.selectedUser !== null &&\n                    this.state.selectedUser._id !== this.context.user._id && (\n                    <Button variant=\"outline-danger\" className=\"confirmEditButton\" size=\"lg\">\n                      Not my profile\n                    </Button>\n                  )}\n                  {this.state.updating &&\n                    this.state.selectedUser !== null\n                    && (\n                      <UpdateUserFieldForm\n                        authUserId={this.context.userId}\n                        canCancel\n                        canConfirm\n                        onCancel={this.modalCancelHandler}\n                        onConfirm={this.modalConfirmUpdateFieldHandler}\n                        confirmText=\"Confirm\"\n                        user={this.state.selectedUser}\n                      />\n                  )}\n                </Tab.Pane>\n\n                <Tab.Pane eventKey=\"userEditAttendance\">\n                  {this.state.selectedUser === null && (\n                    <Button variant=\"outline-warning\" className=\"confirmEditButton\" size=\"lg\">\n                      Select a Staff member from the Master List below\n                    </Button>\n                  )}\n\n                  {this.state.selectedUser !== null &&\n                    this.context.user.role === \"admin\"\n                    && (\n                    <Button variant=\"outline-primary\" size=\"lg\" className=\"confirmEditButton\" value='attendance' onClick={this.updateUserSpecial.bind(this)}>Add Attendance as Admin</Button>\n                  )}\n                  {this.state.selectedUser !== null &&\n                    this.state.selectedUser._id === this.context.user._id\n                    && (\n                    <Button variant=\"outline-primary\" size=\"lg\" className=\"confirmEditButton\" value='attendance' onClick={this.updateUserSpecial.bind(this)}>Add Attendance</Button>\n                  )}\n                  {this.state.selectedUser !== null &&\n                    this.state.selectedUser._id === this.context.user._id && (\n                    <Button variant=\"outline-success\" className=\"confirmEditButton\" size=\"lg\">\n                      Your Profile\n                    </Button>\n                  )}\n                  {this.state.selectedUser !== null &&\n                    this.state.selectedUser._id !== this.context.user._id && (\n                    <Button variant=\"outline-danger\" className=\"confirmEditButton\" size=\"lg\">\n                      Not my profile\n                    </Button>\n                  )}\n\n                  {this.state.userUpdateField === 'attendance' &&\n                  this.state.selectedUser !== null\n                   && (\n                     <UpdateUserAttendanceForm\n                    authUserId={this.context.userId}\n                    canCancel\n                      canConfirm\n                      onCancel={this.modalCancelHandler}\n                      onConfirm={this.updateUserAttendanceHandler}\n                      confirmText=\"Confirm\"\n                      user={this.state.selectedUser}\n                    />\n                  )}\n                </Tab.Pane>\n\n                <Tab.Pane eventKey=\"userEditLeave\">\n                {this.state.selectedUser === null && (\n                  <Button variant=\"outline-warning\" className=\"confirmEditButton\" size=\"lg\">\n                    Select a Staff member from the Master List\n                  </Button>\n                )}\n\n                {this.state.selectedUser !== null &&\n                  this.context.user.role === \"admin\"\n                  && (\n                  <Button variant=\"outline-primary\" size=\"lg\" className=\"confirmEditButton\" value='leave' onClick={this.updateUserSpecial.bind(this)}>Add Leave as Admin</Button>\n                )}\n                {this.state.selectedUser !== null &&\n                  this.state.selectedUser._id === this.context.user._id\n                  && (\n                  <Button variant=\"outline-primary\" size=\"lg\" className=\"confirmEditButton\" value='leave' onClick={this.updateUserSpecial.bind(this)}>Add Leave</Button>\n                )}\n                {this.state.selectedUser !== null &&\n                  this.state.selectedUser._id === this.context.user._id && (\n                  <Button variant=\"outline-success\" className=\"confirmEditButton\" size=\"lg\">\n                    Your Profile\n                  </Button>\n                )}\n                {this.state.selectedUser !== null &&\n                  this.state.selectedUser._id !== this.context.user._id && (\n                  <Button variant=\"outline-danger\" className=\"confirmEditButton\" size=\"lg\">\n                    Not my profile\n                  </Button>\n                )}\n\n                {this.state.userUpdateField === 'leave' &&\n                this.state.selectedUser !== null\n                && (<UpdateUserLeaveForm\n                  authUserId={this.context.userId}\n                  canCancel\n                    canConfirm\n                    onCancel={this.modalCancelHandler}\n                    onConfirm={this.updateUserLeaveHandler}\n                    confirmText=\"Confirm\"\n                    user={this.state.selectedUser}\n                  />)}\n                </Tab.Pane>\n\n                <Tab.Pane eventKey=\"userEditAttachment\">\n                {this.state.selectedUser === null && (\n                  <Button variant=\"outline-warning\" className=\"confirmEditButton\" size=\"lg\">\n                    Select a Staff member from the Master List\n                  </Button>\n                )}\n\n                {this.state.selectedUser !== null &&\n                  this.context.user.role === \"admin\"\n                  && (\n                  <Button variant=\"outline-primary\" size=\"lg\" className=\"confirmEditButton\" value='attachments' onClick={this.updateUserSpecial.bind(this)}>Add Attachment as Admin</Button>\n                )}\n                {this.state.selectedUser !== null &&\n                  this.state.selectedUser._id === this.context.user._id\n                  && (\n                  <Button variant=\"outline-primary\" size=\"lg\" className=\"confirmEditButton\" value='attachments' onClick={this.updateUserSpecial.bind(this)}>Add Attachment</Button>\n                )}\n                {this.state.selectedUser !== null &&\n                  this.state.selectedUser._id === this.context.user._id && (\n                  <Button variant=\"outline-success\" className=\"confirmEditButton\" size=\"lg\">\n                    Your Profile\n                  </Button>\n                )}\n                {this.state.selectedUser !== null &&\n                  this.state.selectedUser._id !== this.context.user._id && (\n                  <Button variant=\"outline-danger\" className=\"confirmEditButton\" size=\"lg\">\n                    Not my profile\n                  </Button>\n                )}\n\n                {this.state.userUpdateField === 'attachments' &&\n                this.state.selectedUser !== null\n                && (<UpdateUserAttachmentForm\n                  authUserId={this.context.userId}\n                  canCancel\n                    canConfirm\n                    onCancel={this.modalCancelHandler}\n                    onConfirm={this.updateUserAttachmentHandler}\n                    confirmText=\"Confirm\"\n                    user={this.state.selectedUser}\n                  />)}\n                </Tab.Pane>\n\n                <Tab.Pane eventKey=\"MasterList\">\n                  <Container className=\"containerUserMasterList\">\n                  <Row className=\"searchListRow\">\n                  <Button variant=\"primary\" size=\"sm\" onClick={this.fetchUsersAsc}>\n                     Sort Asc\n                   </Button>\n                  <Button variant=\"info\" size=\"sm\" onClick={this.fetchUsersDesc}>\n                     Sort Desc\n                   </Button>\n                   {this.state.isLoading ? (\n                     <Spinner />\n                   ) : (\n                     <UserList\n                       users={this.state.users}\n                       authUserId={this.context.userId}\n                       onViewDetail={this.showDetailHandler}\n                     />\n                   )}\n                  </Row>\n                  </Container>\n                </Tab.Pane>\n\n                <Tab.Pane eventKey=\"SearchInput\">\n                  <Container className=\"containerSearchUserInput\">\n\n                  <Row className=\"searchUserRowAdd\">\n                  <Button variant=\"primary\" onClick={this.startSearchUserHandler}>Search</Button>\n                  </Row>\n\n                  <Row className=\"searchUserRowForm\">\n                  <Col md={10} className=\"searchUserColForm\">\n                  <Tabs defaultActiveKey=\"Field\" id=\"uncontrolled-tab-example\">\n                  <Tab eventKey=\"Search\" title=\"Search:\" disabled>\n                  </Tab>\n                  <Tab eventKey=\"Field\" title=\"Search by Field:\">\n                  {this.state.searching !== true && (\n                    <Button variant=\"outline-warning\" className=\"confirmEditButton\" size=\"lg\">\n                      Click the 'Search' Button start\n                    </Button>\n                  )}\n                  {this.state.searching === true && (\n                    <SearchUserForm\n                    authUserId={this.context.userId}\n                    canCancel\n                      canConfirm\n                      onCancel={this.modalCancelHandler}\n                      onConfirm={this.modalConfirmSearchHandler}\n                      confirmText=\"Search\"\n                      user={this.context.selectedUser}\n                    />)}\n                  </Tab>\n                  <Tab eventKey=\"Id\" title=\"Search by ID:\">\n                  {this.state.searching !== true && (\n                    <Button variant=\"outline-warning\" className=\"confirmEditButton\" size=\"lg\">\n                      Click the 'Search' Button start\n                    </Button>\n                  )}\n                  {this.state.searching === true && (\n                    <SearchUserIdForm\n                    authUserId={this.context.userId}\n                    canCancel\n                      canConfirm\n                      onCancel={this.modalCancelHandler}\n                      onConfirm={this.modalConfirmSearchIdHandler}\n                      confirmText=\"Search\"\n                      user={this.context.selectedUser}\n                    />\n                    )}\n                  </Tab>\n                  <Tab eventKey=\"Attendance\" title=\"Search by Attendance:\">\n                  {this.state.searching !== true && (\n                    <Button variant=\"outline-warning\" className=\"confirmEditButton\" size=\"lg\">\n                      Click the 'Search' Button start\n                    </Button>\n                  )}\n                  {this.state.searching === true && (\n                    <SearchUserAttendanceDateForm\n                    authUserId={this.context.userId}\n                    canCancel\n                      canConfirm\n                      onCancel={this.modalCancelHandler}\n                      onConfirm={this.modalConfirmSearchAttendanceDateHandler}\n                      confirmText=\"Search\"\n                      user={this.context.selectedUser}\n                    />\n                    )}\n                  </Tab>\n                  <Tab eventKey=\"Leave\" title=\"Search by Leave:\">\n                  {this.state.searching !== true && (\n                    <Button variant=\"outline-warning\" className=\"confirmEditButton\" size=\"lg\">\n                      Click the 'Search' Button start\n                    </Button>\n                  )}\n                  {this.state.searching === true && (\n                    <SearchUserLeaveDateRangeForm\n                    authUserId={this.context.userId}\n                    canCancel\n                      canConfirm\n                      onCancel={this.modalCancelHandler}\n                      onConfirm={this.modalConfirmSearchLeaveDateRangeHandler}\n                      confirmText=\"Search\"\n                      user={this.context.selectedUser}\n                    />\n                    )}\n                  </Tab>\n                  <Tab eventKey=\"Name\" title=\"Search by Name:\">\n                  {this.state.searching !== true && (\n                    <Button variant=\"outline-warning\" className=\"confirmEditButton\" size=\"lg\">\n                      Click the 'Search' Button start\n                    </Button>\n                  )}\n                  {this.state.searching === true && (\n                    <SearchUserNameForm\n                    authUserId={this.context.userId}\n                    canCancel\n                      canConfirm\n                      onCancel={this.modalCancelHandler}\n                      onConfirm={this.modalConfirmSearchNameHandler}\n                      confirmText=\"Search\"\n                      user={this.context.selectedUser}\n                    />\n                  )}\n                  </Tab>\n                  </Tabs>\n                  </Col>\n                  <Col md={10}>\n                  </Col>\n                  </Row>\n\n                  </Container>\n                </Tab.Pane>\n\n                <Tab.Pane eventKey=\"SearchResult\">\n                  <Container className=\"containerSearchUserResults\">\n                  <Row>\n                    <Card className=\"searchCard\">\n                      <Card.Body className=\"searchCardBody\">\n                        <Card.Title>Your Search</Card.Title>\n                        <Card.Text>\n                          Field: {this.state.userSearchField}\n                        </Card.Text>\n                        <Card.Text>\n                          Query: {this.state.userSearchQuery}\n                        </Card.Text>\n                      </Card.Body>\n                    </Card>\n                  </Row>\n                  <Row className=\"searchListRow\">\n\n                  {this.state.searchUsers !== [] && (\n                    <SearchUserList\n                      searchUsers={this.state.searchUsers}\n                      authUserId={this.context.userId}\n                      onViewDetail={this.showDetailHandler}\n                    />\n                  )}\n                  </Row>\n                  </Container>\n                </Tab.Pane>\n              </Tab.Content>\n            </Col>\n          </Row>\n        </Tab.Container>\n\n\n\n        </Container>\n\n    </Col>\n\n  </Row>\n\n</Accordion>\n</React.Fragment>\n    );\n  }\n}\n\nexport default UsersPage;\n"]},"metadata":{},"sourceType":"module"}