{"ast":null,"code":"var _jsxFileName = \"/Users/pedrojacob/Downloads/AMR/websites/office_records/ENT_EMR/frontend/src/pages/Patients.js\";\nimport React, { Component } from 'react';\nimport S3 from 'react-aws-s3';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Button from 'react-bootstrap/Button';\nimport Accordion from 'react-bootstrap/Accordion';\nimport SidebarPage from './Sidebar';\nimport Tabs from 'react-bootstrap/Tabs';\nimport Tab from 'react-bootstrap/Tab';\nimport Nav from 'react-bootstrap/Nav';\nimport Card from 'react-bootstrap/Card';\nimport PatientList from '../components/Patients/PatientList/PatientList';\nimport PatientDetail from '../components/Patients/PatientDetail';\nimport Spinner from '../components/Spinner/Spinner';\nimport AuthContext from '../context/auth-context';\nimport SearchPatientList from '../components/Patients/PatientList/SearchPatientList';\nimport SearchPatientForm from '../components/Forms/SearchPatientForm';\nimport SearchPatientIdForm from '../components/Forms/SearchPatientIdForm';\nimport SearchPatientNameForm from '../components/Forms/SearchPatientNameForm';\nimport AlertBox from '../components/AlertBox';\nimport AttachmentViewer from '../components/AttachmentViewer';\nimport PdfCreator from '../components/PdfCreator';\nimport LoadingOverlay from '../components/LoadingOverlay';\nimport CreatePatientForm from '../components/Forms/CreatePatientForm';\nimport UpdatePatientForm from '../components/Forms/UpdatePatientForm';\nimport UpdatePatientFieldForm from '../components/Forms/UpdatePatientFieldForm';\nimport UpdatePatientConsultantForm from '../components/Forms/UpdatePatientConsultantForm';\nimport UpdatePatientInsuranceForm from '../components/Forms/UpdatePatientInsuranceForm';\nimport UpdatePatientNextOfKinForm from '../components/Forms/UpdatePatientNextOfKinForm';\nimport UpdatePatientComplaintForm from '../components/Forms/UpdatePatientComplaintForm';\nimport UpdatePatientSurveyForm from '../components/Forms/UpdatePatientSurveyForm';\nimport UpdatePatientSystematicInquiryForm from '../components/Forms/UpdatePatientSystematicInquiryForm';\nimport UpdatePatientVitalsForm from '../components/Forms/UpdatePatientVitalsForm';\nimport UpdatePatientExaminationForm from '../components/Forms/UpdatePatientExaminationForm';\nimport UpdatePatientHistoryForm from '../components/Forms/UpdatePatientHistoryForm';\nimport UpdatePatientAllergiesForm from '../components/Forms/UpdatePatientAllergiesForm';\nimport UpdatePatientMedicationForm from '../components/Forms/UpdatePatientMedicationForm';\nimport UpdatePatientInvestigationForm from '../components/Forms/UpdatePatientInvestigationForm';\nimport UpdatePatientDiagnosisForm from '../components/Forms/UpdatePatientDiagnosisForm';\nimport UpdatePatientTreatmentForm from '../components/Forms/UpdatePatientTreatmentForm';\nimport UpdatePatientBillingForm from '../components/Forms/UpdatePatientBillingForm';\nimport UpdatePatientVigilanceForm from '../components/Forms/UpdatePatientVigilanceForm';\nimport UpdatePatientAttachmentForm from '../components/Forms/UpdatePatientAttachmentForm';\nimport UpdatePatientNoteForm from '../components/Forms/UpdatePatientNoteForm';\nimport UpdatePatientTagForm from '../components/Forms/UpdatePatientTagForm';\nimport './Users.css';\n\nclass PatientsPage extends Component {\n  constructor(_props) {\n    super(_props);\n    this.state = {\n      creating: false,\n      updating: false,\n      searching: false,\n      updatingArray: false,\n      deleting: false,\n      patients: [],\n      searchPatients: [],\n      isLoading: false,\n      selectedPatient: null,\n      patientUpdateField: null,\n      patientSearchField: null,\n      patientSearchQuery: null,\n      canDelete: null,\n      visit: null,\n      visitList: [],\n      selectedVisit: null,\n      newVisit: false,\n      createVisitChecklist: {\n        consultant: false,\n        complaint: false,\n        diagnosis: false,\n        examination: false,\n        investigation: false,\n        survey: false,\n        systematicInquiry: false,\n        treatment: false,\n        vitals: false,\n        billing: false,\n        vigilance: false\n      },\n      newVisit: false,\n      userAlert: null,\n      overlay: false,\n      overlayStatus: \"test\",\n      showAttachment: false,\n      showThisAttachmentFile: null,\n      showThisAttachmentType: null,\n      createPdf: false,\n      pdfData: null\n    };\n    this.isActive = true;\n\n    this.startCreatePatientHandler = () => {\n      this.setState({\n        creating: true\n      });\n    };\n\n    this.startCreateVisitHandler = () => {\n      this.setState({\n        newVisit: true\n      });\n    };\n\n    this.startUpdatePatientHandler = () => {\n      this.setState({\n        updating: true,\n        updatingArray: true\n      });\n      console.log(\"UpdatePatientForm...\");\n    };\n\n    this.startSearchPatientHandler = () => {\n      this.setState({\n        searching: true\n      });\n    };\n\n    this.modalConfirmHandler = event => {\n      this.setState({\n        creating: false,\n        userAlert: \"Creating New Patient ...\"\n      });\n      const userId = this.context.userId;\n      const token = this.context.token;\n      let title = event.target.formGridTitle.value;\n      let name = event.target.formGridName.value;\n      let dob = event.target.formGridDob.value;\n      let age = event.target.formGridAge.value;\n      let gender = event.target.formGridGender.value;\n      let addressNumber = event.target.formGridAddressNumber.value;\n      let addressStreet = event.target.formGridAddressStreet.value;\n      let addressTown = event.target.formGridAddressTown.value;\n      let addressParish = event.target.formGridAddressParish.value;\n      let addressPostOffice = event.target.formGridAddressPostOffice.value;\n      let contactPhone = event.target.formGridContactPhone.value;\n      let contactEmail = event.target.formGridContactEmail.value;\n      let registrationDate = event.target.formGridRegistrationDate.value;\n\n      if (event.target.formGridRegistrationDateTodayCheckbox.checked === true) {\n        registrationDate = new Date().toISOString().slice(0, 10);\n      }\n\n      let referralDate = event.target.formGridReferralDate.value;\n\n      if (event.target.formGridReferralDateTodayCheckbox.checked === true) {\n        referralDate = new Date().toISOString().slice(0, 10);\n      }\n\n      let expirationDate = event.target.formGridExpirationDate.value;\n      let attendingPhysicianName = event.target.formGridAttendingPhysicianName.value;\n      let attendingPhysicianEmail = event.target.formGridAttendingPhysicianEmail.value;\n      let attendingPhysicianPhone = event.target.formGridAttendingPhysicianPhone.value;\n      let referringDoctorName = event.target.formGridReferringDoctorName.value;\n      let referringDoctorEmail = event.target.formGridReferringDoctorEmail.value;\n      let referringDoctorPhone = event.target.formGridReferringDoctorPhone.value;\n      let occupationRole = event.target.formGridOccupationRole.value;\n      let occupationEmployer = event.target.formGridOccupationEmployer.value;\n      let occupationEmployerContactPhone = event.target.formGridOccupationEmployerContactPhone.value;\n      let occupationEmployerContactEmail = event.target.formGridOccupationEmployerContactEmail.value;\n\n      if (name.trim().length === 0 || age.trim().length === 0 || addressNumber.trim().length === 0 || addressStreet.trim().length === 0 || contactPhone.trim().length === 0 || registrationDate.trim().length === 0) {\n        this.setState({\n          userAlert: \"patient must have at least: Name, Age, Contact Number, Street Name & Number and Registration Date!!!...Please try again...\"\n        });\n        return;\n      }\n\n      const requestBody = {\n        query: `\n        mutation {createPatient(userId:\"${userId}\", patientInput:{title:\"${title}\",name:\"${name}\",dob:\"${dob}\",age:${age},gender:\"${gender}\",addressNumber:${addressNumber},addressStreet:\"${addressStreet}\",addressTown:\"${addressTown}\",addressParish:\"${addressParish}\",addressPostOffice:\"${addressPostOffice}\",contactPhone:\"${contactPhone}\",contactEmail:\"${contactEmail}\",registrationDate:\"${registrationDate}\",referralDate:\"${referralDate}\",expirationDate:\"${expirationDate}\",referringDoctorName:\"${referringDoctorName}\",referringDoctorEmail:\"${referringDoctorEmail}\",referringDoctorPhone:\"${referringDoctorPhone}\",attendingPhysicianName:\"${attendingPhysicianName}\",attendingPhysicianEmail:\"${attendingPhysicianEmail}\",attendingPhysicianPhone:\"${attendingPhysicianPhone}\",occupationRole:\"${occupationRole}\",occupationEmployer:\"${occupationEmployer}\",occupationEmployerContactPhone:\"${occupationEmployerContactPhone}\",occupationEmployerContactEmail:\"${occupationEmployerContactEmail}\"})\n        {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n        `\n      }; // fetch('http://ec2-3-19-32-237.us-east-2.compute.amazonaws.com/graphql', {\n\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        const responseAlert = JSON.stringify(resData.data).slice(2, 15);\n        this.setState({\n          userAlert: responseAlert\n        });\n        const newPatient = resData.data.createPatient;\n        this.setState(prevState => {\n          const updatedPatients = [...prevState.patients];\n          updatedPatients.push(newPatient);\n          return {\n            patients: updatedPatients\n          };\n        });\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        });\n      });\n    };\n\n    this.modalCancelHandler = () => {\n      this.setState({\n        creating: false,\n        updating: false\n      });\n    };\n\n    this.modalConfirmUpdateHandler = event => {\n      const userId = this.context.userId;\n      const selectedPatientId = this.context.selectedPatient._id;\n      const token = this.context.token;\n      this.setState({\n        updating: false,\n        userAlert: \"Updating selected Patient...\"\n      });\n      let title = event.target.formGridTitle.value;\n      let name = event.target.formGridName.value;\n      let dob = event.target.formGridDob.value;\n      let age = event.target.formGridAge.value;\n      let gender = event.target.formGridGender.value;\n      let addressNumber = event.target.formGridAddressNumber.value;\n      let addressStreet = event.target.formGridAddressStreet.value;\n      let addressTown = event.target.formGridAddressTown.value;\n      let addressParish = event.target.formGridAddressParish.value;\n      let addressPostOffice = event.target.formGridAddressPostOffice.value;\n      let contactPhone = event.target.formGridContactPhone.value;\n      let contactEmail = event.target.formGridContactEmail.value;\n      let registrationDate = event.target.formGridRegistrationDate.value;\n\n      if (event.target.formGridRegistrationDateTodayCheckbox.checked === true) {\n        registrationDate = new Date().toISOString().slice(0, 10);\n      }\n\n      let referralDate = event.target.formGridReferralDate.value;\n\n      if (event.target.formGridReferralDateTodayCheckbox.checked === true) {\n        referralDate = new Date().toISOString().slice(0, 10);\n      }\n\n      let expirationDate = event.target.formGridExpirationDate.value;\n\n      if (event.target.formGridExpirationDateTodayCheckbox.checked === true) {\n        expirationDate = new Date().toISOString().slice(0, 10);\n      }\n\n      let attendingPhysicianName = event.target.formGridAttendingPhysicianName.value;\n      let attendingPhysicianEmail = event.target.formGridAttendingPhysicianEmail.value;\n      let attendingPhysicianPhone = event.target.formGridAttendingPhysicianPhone.value;\n      let referringDoctorName = event.target.formGridReferringDoctorName.value;\n      let referringDoctorEmail = event.target.formGridReferringDoctorEmail.value;\n      let referringDoctorPhone = event.target.formGridReferringDoctorPhone.value;\n      let occupationRole = event.target.formGridOccupationRole.value;\n      let occupationEmployer = event.target.formGridOccupationEmployer.value;\n      let occupationEmployerContactPhone = event.target.formGridOccupationEmployerContactPhone.value;\n      let occupationEmployerContactEmail = event.target.formGridOccupationEmployerContactEmail.value;\n\n      if (title.trim().length === 0) {\n        this.setState({\n          userAlert: \"blank fields detected!!!...filling w/ previous data...\"\n        });\n        title = this.context.selectedPatient.title;\n      }\n\n      if (name.trim().length === 0) {\n        this.setState({\n          userAlert: \"blank fields detected!!!...filling w/ previous data...\"\n        });\n        name = this.context.selectedPatient.name;\n      }\n\n      if (dob.trim().length === 0) {\n        this.setState({\n          userAlert: \"blank fields detected!!!...filling w/ previous data...\"\n        });\n        dob = this.context.selectedPatient.dob;\n      }\n\n      if (gender.trim().length === 0) {\n        this.setState({\n          userAlert: \"blank fields detected!!!...filling w/ previous data...\"\n        });\n        gender = this.context.selectedPatient.gender;\n      }\n\n      if (age.trim().length === 0) {\n        this.setState({\n          userAlert: \"blank fields detected!!!...filling w/ previous data...\"\n        });\n        age = this.context.selectedPatient.age;\n      }\n\n      if (addressNumber.trim().length === 0) {\n        this.setState({\n          userAlert: \"blank fields detected!!!...filling w/ previous data...\"\n        });\n        addressNumber = this.context.selectedPatient.address.number;\n      }\n\n      if (addressStreet.trim().length === 0) {\n        this.setState({\n          userAlert: \"blank fields detected!!!...filling w/ previous data...\"\n        });\n        addressStreet = this.context.selectedPatient.address.street;\n      }\n\n      if (addressTown.trim().length === 0) {\n        this.setState({\n          userAlert: \"blank fields detected!!!...filling w/ previous data...\"\n        });\n        addressTown = this.context.selectedPatient.address.town;\n      }\n\n      if (addressParish.trim().length === 0) {\n        this.setState({\n          userAlert: \"blank fields detected!!!...filling w/ previous data...\"\n        });\n        addressParish = this.context.selectedPatient.address.parish;\n      }\n\n      if (addressPostOffice.trim().length === 0) {\n        this.setState({\n          userAlert: \"blank fields detected!!!...filling w/ previous data...\"\n        });\n        addressPostOffice = this.context.selectedPatient.address.postOffice;\n      }\n\n      if (contactPhone.trim().length === 0) {\n        this.setState({\n          userAlert: \"blank fields detected!!!...filling w/ previous data...\"\n        });\n        contactPhone = this.context.selectedPatient.contact.phone;\n      }\n\n      if (contactEmail.trim().length === 0) {\n        this.setState({\n          userAlert: \"blank fields detected!!!...filling w/ previous data...\"\n        });\n        contactEmail = this.context.selectedPatient.contact.email;\n      }\n\n      if (registrationDate.trim().length === 0) {\n        this.setState({\n          userAlert: \"blank fields detected!!!...filling w/ previous data...\"\n        });\n        registrationDate = this.context.selectedPatient.registrationDate;\n      }\n\n      if (attendingPhysicianName.trim().length === 0) {\n        this.setState({\n          userAlert: \"blank fields detected!!!...filling w/ previous data...\"\n        });\n        attendingPhysicianName = this.context.selectedPatient.attendingPhysician.name;\n      }\n\n      if (attendingPhysicianEmail.trim().length === 0) {\n        this.setState({\n          userAlert: \"blank fields detected!!!...filling w/ previous data...\"\n        });\n        attendingPhysicianEmail = this.context.selectedPatient.attendingPhysician.email;\n      }\n\n      if (attendingPhysicianPhone.trim().length === 0) {\n        this.setState({\n          userAlert: \"blank fields detected!!!...filling w/ previous data...\"\n        });\n        attendingPhysicianPhone = this.context.selectedPatient.attendingPhysician.phone;\n      }\n\n      if (referringDoctorName.trim().length === 0) {\n        this.setState({\n          userAlert: \"blank fields detected!!!...filling w/ previous data...\"\n        });\n        referringDoctorName = this.context.selectedPatient.referringDoctor.name;\n      }\n\n      if (referringDoctorEmail.trim().length === 0) {\n        this.setState({\n          userAlert: \"blank fields detected!!!...filling w/ previous data...\"\n        });\n        referringDoctorEmail = this.context.selectedPatient.referringDoctor.email;\n      }\n\n      if (referringDoctorPhone.trim().length === 0) {\n        this.setState({\n          userAlert: \"blank fields detected!!!...filling w/ previous data...\"\n        });\n        referringDoctorPhone = this.context.selectedPatient.referringDoctor.phone;\n      }\n\n      if (occupationRole.trim().length === 0) {\n        this.setState({\n          userAlert: \"blank fields detected!!!...filling w/ previous data...\"\n        });\n        occupationRole = this.context.selectedPatient.occupation.role;\n      }\n\n      if (occupationEmployer.trim().length === 0) {\n        this.setState({\n          userAlert: \"blank fields detected!!!...filling w/ previous data...\"\n        });\n        occupationEmployer = this.context.selectedPatient.occupation.employer;\n      }\n\n      if (occupationEmployerContactEmail.trim().length === 0) {\n        this.setState({\n          userAlert: \"blank fields detected!!!...filling w/ previous data...\"\n        });\n        occupationEmployerContactEmail = this.context.selectedPatient.occupation.contact.email;\n      }\n\n      if (occupationEmployerContactPhone.trim().length === 0) {\n        this.setState({\n          userAlert: \"blank fields detected!!!...filling w/ previous data...\"\n        });\n        occupationEmployerContactPhone = this.context.selectedPatient.occupation.contact.phone;\n      }\n\n      const requestBody = {\n        query: `\n          mutation {updatePatient(userId:\"${userId}\",patientId:\"${selectedPatientId}\", patientInput:{title:\"${title}\",name:\"${name}\",dob:\"${dob}\",age:${age},gender:\"${gender}\",addressNumber:${addressNumber},addressStreet:\"${addressStreet}\",addressTown:\"${addressTown}\",addressParish:\"${addressParish}\",addressPostOffice:\"${addressPostOffice}\",contactPhone:\"${contactPhone}\",contactEmail:\"${contactEmail}\",registrationDate:\"${registrationDate}\",referralDate:\"${referralDate}\",expirationDate:\"${expirationDate}\",referringDoctorName:\"${referringDoctorName}\",referringDoctorEmail:\"${referringDoctorEmail}\",referringDoctorPhone:\"${referringDoctorPhone}\",attendingPhysicianName:\"${attendingPhysicianName}\",attendingPhysicianEmail:\"${attendingPhysicianEmail}\",attendingPhysicianPhone:\"${attendingPhysicianPhone}\",occupationRole:\"${occupationRole}\",occupationEmployer:\"${occupationEmployer}\",occupationEmployerContactPhone:\"${occupationEmployerContactPhone}\",occupationEmployerContactEmail:\"${occupationEmployerContactPhone}\"})\n          {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n        `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        const updatedPatientId = resData.data.updatePatient._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.updatePatient);\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.setState({\n          userAlert: responseAlert\n        });\n        this.fetchPatients();\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        });\n      });\n    };\n\n    this.modalConfirmUpdateFieldHandler = event => {\n      const token = this.context.token;\n      const userId = this.context.userId;\n      let selectedPatientId = this.context.selectedPatient._id;\n      this.setState({\n        updating: false,\n        userAlert: \"Updating selected Patient by Field...\"\n      });\n      let field = null;\n      let query = event.target.formGridQuery.value;\n\n      if (event.target.formGridFieldSelect.value === \"select\") {\n        field = event.target.formGridField.value;\n      } else {\n        field = event.target.formGridFieldSelect.value;\n      }\n\n      const requestBody = {\n        query: `\n        mutation {updatePatientField(userId:\"${userId}\",patientId:\"${selectedPatientId}\",field:\"${field}\",query:\"${query}\")\n        {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n      `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        const updatedPatientId = resData.data.updatePatientField._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.updatePatientField);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.setState({\n          userAlert: responseAlert\n        });\n        this.fetchPatients();\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        });\n      });\n    };\n\n    this.updatePatientConsultantHandler = event => {\n      event.preventDefault();\n      let token = this.context.token;\n      const userId = this.context.userId;\n      let selectedPatientId = this.context.selectedPatient._id;\n      const patientConsultantReference = this.context.selectedUser._id;\n\n      if (patientConsultantReference === undefined) {\n        this.setState({\n          userAlert: \"select a Staff member before adding a Patient Consultant!!...\"\n        });\n        token = null;\n      }\n\n      this.setState({\n        updating: false,\n        patientUpdateField: null,\n        userAlert: \"Adding selected Patient Consultant...\"\n      });\n      let consultantDate = null;\n\n      if (event.target.formGridConsultantDate) {\n        consultantDate = event.target.formGridConsultantDate.value;\n      }\n\n      if (event.target.formGridConsultantDateTodayCheckbox.checked === true) {\n        consultantDate = new Date().toISOString().slice(0, 10);\n      }\n\n      const requestBody = {\n        query: `\n      mutation {updatePatientConsultant(userId:\"${userId}\", patientId:\"${selectedPatientId}\",patientInput:{consultantDate:\" ${consultantDate}\",consultantReference: \"${patientConsultantReference}\"})\n      {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        const updatedPatientId = resData.data.updatePatientConsultant._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.updatePatientConsultant);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.setState({\n          userAlert: responseAlert\n        });\n        this.fetchPatients();\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        });\n      });\n    };\n\n    this.updatePatientInsuranceHandler = event => {\n      const token = this.context.token;\n      const userId = this.context.userId;\n      let selectedPatientId = this.context.selectedPatient._id;\n      this.setState({\n        updating: false,\n        patientUpdateField: null,\n        userAlert: \"Adding selected Patient Insurance...\"\n      });\n      let insuranceCompany = event.target.formGridInsuranceCompany.value;\n      let insuranceNumber = event.target.formGridInsuranceNumber.value;\n      let insuranceExpiry = event.target.formGridInsuranceExpiry.value;\n      let insuranceDescription = event.target.formGridInsuranceDescription.value;\n      let insuranceSubscriberCompany = event.target.formGridInsuranceSubscriberCompany.value;\n      let insuranceSubscriberDescription = event.target.formGridInsuranceSubscriberDescription.value;\n      const requestBody = {\n        query: `\n        mutation {updatePatientInsurance(userId:\"${userId}\", patientId:\"${selectedPatientId}\",patientInput:{insuranceCompany:\"${insuranceCompany}\",insuranceNumber:\"${insuranceNumber}\",insuranceDescription:\"${insuranceDescription}\",insuranceExpiry:\"${insuranceExpiry}\",insuranceSubscriberCompany:\"${insuranceSubscriberCompany}\",insuranceSubscriberDescription:\"${insuranceSubscriberDescription}\"})\n        {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n      `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        const updatedPatientId = resData.data.updatePatientInsurance._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.updatePatientInsurance);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.setState({\n          userAlert: responseAlert\n        });\n        this.fetchPatients();\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        });\n      });\n    };\n\n    this.updatePatientNextOfKinHandler = event => {\n      const token = this.context.token;\n      const userId = this.context.userId;\n      let selectedPatientId = this.context.selectedPatient._id;\n      this.setState({\n        updating: false,\n        patientUpdateField: null,\n        userAlert: \"Adding selected Patient Next of Kin...\"\n      });\n      let nextOfKinName = event.target.formGridNextOfKinName.value;\n      let nextOfKinPhone = event.target.formGridNextOfKinPhone.value;\n      let nextOfKinEmail = event.target.formGridNextOfKinEmail.value;\n      const requestBody = {\n        query: `\n        mutation {updatePatientNextOfKin(userId:\"${userId}\", patientId:\"${selectedPatientId}\",patientInput:{nextOfKinName:\"${nextOfKinName}\",nextOfKinEmail:\"${nextOfKinEmail}\",nextOfKinPhone:\"${nextOfKinPhone}\"})\n        {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n      `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        const updatedPatientId = resData.data.updatePatientNextOfKin._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.updatePatientNextOfKin);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.setState({\n          userAlert: responseAlert\n        });\n        this.fetchPatients();\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        });\n      });\n    };\n\n    this.updatePatientComplaintHandler = event => {\n      event.preventDefault();\n      const token = this.context.token;\n      const userId = this.context.userId;\n      let selectedPatientId = this.context.selectedPatient._id;\n      this.setState({\n        updating: false,\n        patientUpdateField: null,\n        userAlert: \"Adding selected Patient Complaint...\"\n      });\n      let complaintTitle = event.target.formGridComplaintTitle.value;\n      let complaintDate = null;\n\n      if (event.target.formGridComplaintDate) {\n        complaintDate = event.target.formGridComplaintDate.value;\n      }\n\n      if (event.target.formGridComplaintDateTodayCheckbox.checked === true) {\n        complaintDate = new Date().toISOString().slice(0, 10);\n      }\n\n      let complaintDescription = event.target.formGridComplaintDescription.value;\n      let complaintAnamnesis = event.target.formGridComplaintAnamnesis.value;\n      let complaintAttachmentFormat = event.target.formGridComplaintAttachmentFormat.value;\n      let complaintAttachmentPath = \"uploads/patients/\" + selectedPatientId + \"/complaints\";\n      let file = AuthContext._currentValue.file;\n      const config = {\n        bucketName: this.context.creds.s3.bucketName,\n        dirName: complaintAttachmentPath,\n        region: this.context.creds.s3.region,\n        accessKeyId: this.context.creds.s3.accessKeyId,\n        secretAccessKey: this.context.creds.s3.secretAccessKey\n      };\n      const ReactS3Client = new S3(config);\n      const newFileName = file.name;\n      const complaintAttachmentName = newFileName;\n      ReactS3Client.uploadFile(file, newFileName).then(data => {\n        console.log(data);\n        this.setState({\n          userAlert: \"attachment upload success!\"\n        });\n      }).catch(err => {\n        console.error(err);\n        this.setState({\n          userAlert: \"upload error:  \" + err\n        });\n      });\n      const requestBody = {\n        query: `\n      mutation {updatePatientComplaint(userId:\"${userId}\", patientId:\"${selectedPatientId}\",patientInput:{complaintDate:\"${complaintDate}\",complaintTitle:\"${complaintTitle}\",complaintDescription:\"${complaintDescription}\",complaintAnamnesis:\"${complaintAnamnesis}\",complaintAttachmentName:\"${complaintAttachmentName}\",complaintAttachmentFormat:\"${complaintAttachmentFormat}\",complaintAttachmentPath:\"${complaintAttachmentPath}\"})\n      {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        const updatedPatientId = resData.data.updatePatientComplaint._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.updatePatientComplaint);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.setState({\n          userAlert: responseAlert\n        }); // this.fetchPatients();\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        });\n      });\n    };\n\n    this.updatePatientSurveyHandler = event => {\n      event.preventDefault();\n      const token = this.context.token;\n      const userId = this.context.userId;\n      let selectedPatientId = this.context.selectedPatient._id;\n      this.setState({\n        updating: false,\n        patientUpdateField: null,\n        userAlert: \"Adding selected Patient Survey...\"\n      });\n      let surveyDate = null;\n\n      if (event.target.formGridSurveyDate) {\n        surveyDate = event.target.formGridSurveyDate.value;\n      }\n\n      if (event.target.formGridSurveyDateTodayCheckbox.checked === true) {\n        surveyDate = new Date().toISOString().slice(0, 10);\n      }\n\n      let surveyTitle = event.target.formGridSurveyTitle.value;\n      let surveyDescription = event.target.formGridSurveyDescription.value;\n      let surveyAttachmentFormat = event.target.formGridSurveyAttachmentFormat.value;\n      let surveyAttachmentPath = \"uploads/patients/\" + selectedPatientId + \"/surveys\";\n      let file = AuthContext._currentValue.file;\n      const config = {\n        bucketName: this.context.creds.s3.bucketName,\n        dirName: surveyAttachmentPath,\n        region: this.context.creds.s3.region,\n        accessKeyId: this.context.creds.s3.accessKeyId,\n        secretAccessKey: this.context.creds.s3.secretAccessKey\n      };\n      const ReactS3Client = new S3(config);\n      const newFileName = file.name;\n      const surveyAttachmentName = newFileName;\n      ReactS3Client.uploadFile(file, newFileName).then(data => {\n        console.log(data);\n        this.setState({\n          userAlert: \"attachment upload success!\"\n        });\n      }).catch(err => {\n        console.error(err);\n        this.setState({\n          userAlert: \"upload error:  \" + err\n        });\n      });\n      const requestBody = {\n        query: `\n      mutation {updatePatientSurvey(userId:\"${userId}\",patientId:\"${selectedPatientId}\",patientInput:{surveyDate:\"${surveyDate}\",surveyTitle:\"${surveyTitle}\",surveyDescription:\"${surveyDescription}\",surveyAttachmentName:\"${surveyAttachmentName}\",surveyAttachmentFormat:\"${surveyAttachmentFormat}\",surveyAttachmentPath:\"${surveyAttachmentPath}\"})\n      {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        const updatedPatientId = resData.data.updatePatientSurvey._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.updatePatientSurvey);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.setState({\n          userAlert: responseAlert\n        });\n        this.fetchPatients();\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        });\n      });\n    };\n\n    this.updatePatientSystematicInquiryHandler = event => {\n      event.preventDefault();\n      const token = this.context.token;\n      const userId = this.context.userId;\n      let selectedPatientId = this.context.selectedPatient._id;\n      this.setState({\n        updating: false,\n        patientUpdateField: null,\n        userAlert: \"Adding selected Patient Systematic Inquiry...\"\n      });\n      let systematicInquiryDate = null;\n\n      if (event.target.formGridSystematicInquiryDate) {\n        systematicInquiryDate = event.target.formGridSystematicInquiryDate.value;\n      }\n\n      if (event.target.formGridSystematicInquiryDateTodayCheckbox.checked === true) {\n        systematicInquiryDate = new Date().toISOString().slice(0, 10);\n      }\n\n      let systematicInquiryTitle = event.target.formGridSystematicInquiryTitle.value;\n      let systematicInquiryDescription = event.target.formGridSystematicInquiryDescription.value;\n      let systematicInquiryAttachmentFormat = event.target.formGridSystematicInquiryAttachmentFormat.value;\n      let systematicInquiryAttachmentPath = \"uploads/patients/\" + selectedPatientId + \"/systematicInquirys\";\n      let file = AuthContext._currentValue.file;\n      const config = {\n        bucketName: this.context.creds.s3.bucketName,\n        dirName: systematicInquiryAttachmentPath,\n        region: this.context.creds.s3.region,\n        accessKeyId: this.context.creds.s3.accessKeyId,\n        secretAccessKey: this.context.creds.s3.secretAccessKey\n      };\n      const ReactS3Client = new S3(config);\n      const newFileName = file.name;\n      const systematicInquiryAttachmentName = newFileName;\n      ReactS3Client.uploadFile(file, newFileName).then(data => {\n        console.log(data);\n        this.setState({\n          userAlert: \"attachment upload success!\"\n        });\n      }).catch(err => {\n        console.error(err);\n        this.setState({\n          userAlert: \"upload error:  \" + err\n        });\n      });\n      const requestBody = {\n        query: `\n      mutation {updatePatientSystematicInquiry(userId:\"${userId}\",patientId:\"${selectedPatientId}\",patientInput:{systematicInquiryDate:\"${systematicInquiryDate}\",systematicInquiryTitle:\"${systematicInquiryTitle}\",systematicInquiryDescription:\"${systematicInquiryDescription}\",systematicInquiryAttachmentName:\"${systematicInquiryAttachmentName}\",systematicInquiryAttachmentFormat:\"${systematicInquiryAttachmentFormat}\",systematicInquiryAttachmentPath:\"${systematicInquiryAttachmentPath}\"})\n      {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        const updatedPatientId = resData.data.updatePatientSystematicInquiry._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.updatePatientSystematicInquiry);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.setState({\n          userAlert: responseAlert\n        });\n        this.fetchPatients();\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        });\n      });\n    };\n\n    this.updatePatientVitalsHandler = event => {\n      event.preventDefault();\n      const token = this.context.token;\n      const userId = this.context.userId;\n      const selectedPatientId = this.context.selectedPatient._id;\n      this.setState({\n        updating: false,\n        patientUpdateField: null,\n        userAlert: \"Adding selected Patient Vitals...\"\n      });\n      let vitalsDate = null;\n\n      if (event.target.formGridVitalsDate) {\n        vitalsDate = event.target.formGridVitalsDate.value;\n      }\n\n      if (event.target.formGridVitalsDateTodayCheckbox.checked === true) {\n        vitalsDate = new Date().toISOString().slice(0, 10);\n      }\n\n      const vitalsPr = event.target.formGridVitalsPr.value;\n      const vitalsBp1 = event.target.formGridVitalsBp1.value;\n      const vitalsBp2 = event.target.formGridVitalsBp2.value;\n      const vitalsRr = event.target.formGridVitalsRr.value;\n      const vitalsTemp = event.target.formGridVitalsTemp.value;\n      const vitalsPs02 = event.target.formGridVitalsPs02.value;\n      const vitalsHeight = event.target.formGridVitalsHeight.value;\n      const vitalsWeight = event.target.formGridVitalsWeight.value;\n      const vitalsBmi = event.target.formGridVitalsBmi.value;\n      const vitalsUrineType = event.target.formGridVitalsUrineType.value;\n      const vitalsUrineValue = event.target.formGridVitalsUrineValue.value;\n      const requestBody = {\n        query: `\n      mutation {updatePatientVitals(userId:\"${userId}\",patientId:\"${selectedPatientId}\",patientInput:{vitalsDate:\"${vitalsDate}\",vitalsPr:${vitalsPr},vitalsBp1:${vitalsBp1},vitalsBp2:${vitalsBp2},vitalsRr:${vitalsRr},vitalsTemp:${vitalsTemp},vitalsPs02:${vitalsPs02},vitalsHeight:${vitalsHeight},vitalsWeight:${vitalsWeight},vitalsBmi:${vitalsBmi},vitalsUrineType:\"${vitalsUrineType}\",vitalsUrineValue:\"${vitalsUrineValue}\"})\n      {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        const updatedPatientId = resData.data.updatePatientVitals._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.updatePatientVitals);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.setState({\n          userAlert: responseAlert\n        });\n        this.fetchPatients();\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        });\n      });\n    };\n\n    this.updatePatientExaminationHandler = event => {\n      event.preventDefault();\n      const token = this.context.token;\n      const userId = this.context.userId;\n      const selectedPatientId = this.context.selectedPatient._id;\n      this.setState({\n        updating: false,\n        patientUpdateField: null,\n        userAlert: \"Adding selected Patient Examination...\"\n      });\n      let examinationDate = null;\n\n      if (event.target.formGridExaminationDate) {\n        examinationDate = event.target.formGridExaminationDate.value;\n      }\n\n      if (event.target.formGridExaminationDateTodayCheckbox.checked === true) {\n        examinationDate = new Date().toISOString().slice(0, 10);\n      }\n\n      const examinationGeneral = event.target.formGridExaminationGeneral.value;\n      let examinationArea = undefined;\n\n      if (event.target.formGridExaminationAreaSelect === \"select\") {\n        examinationArea = event.target.formGridExaminationArea.value;\n      } else {\n        examinationArea = event.target.formGridExaminationAreaSelect.value;\n      }\n\n      const examinationType = event.target.formGridExaminationType.value;\n      const examinationMeasure = event.target.formGridExaminationMeasure.value;\n      const examinationValue = event.target.formGridExaminationValue.value;\n      const examinationDescription = event.target.formGridExaminationDescription.value;\n      const examinationFollowUp = event.target.formGridExaminationFollowUp.value;\n      const examinationAttachmentFormat = event.target.formGridExaminationAttachmentFormat.value;\n      const examinationAttachmentPath = \"uploads/patients/\" + selectedPatientId + \"/examinations\";\n      const file = AuthContext._currentValue.file;\n      const config = {\n        bucketName: this.context.creds.s3.bucketName,\n        dirName: examinationAttachmentPath,\n        region: this.context.creds.s3.region,\n        accessKeyId: this.context.creds.s3.accessKeyId,\n        secretAccessKey: this.context.creds.s3.secretAccessKey\n      };\n      const ReactS3Client = new S3(config);\n      const newFileName = file.name;\n      const examinationAttachmentName = newFileName;\n      ReactS3Client.uploadFile(file, newFileName).then(data => {\n        console.log(data);\n        this.setState({\n          userAlert: \"attachment upload success!\"\n        });\n      }).catch(err => {\n        console.error(err);\n        this.setState({\n          userAlert: \"upload error:  \" + err\n        });\n      });\n      const requestBody = {\n        query: `\n      mutation {updatePatientExamination(userId:\"${userId}\",patientId:\"${selectedPatientId}\",patientInput:{examinationDate:\"${examinationDate}\",examinationGeneral:\"${examinationGeneral}\",examinationArea:\"${examinationArea}\",examinationType:\"${examinationType}\",examinationMeasure:\"${examinationMeasure}\",examinationValue:\"${examinationValue}\",examinationDescription:\"${examinationDescription}\",examinationFollowUp:${examinationFollowUp},examinationAttachmentName:\"${examinationAttachmentName}\",examinationAttachmentFormat:\"${examinationAttachmentFormat}\",examinationAttachmentPath:\"${examinationAttachmentPath}\"})\n      {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        const updatedPatientId = resData.data.updatePatientExamination._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.updatePatientExamination);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.setState({\n          userAlert: responseAlert\n        });\n        this.fetchPatients();\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        });\n      });\n    };\n\n    this.updatePatientHistoryHandler = event => {\n      event.preventDefault();\n      const token = this.context.token;\n      const userId = this.context.userId;\n      const selectedPatientId = this.context.selectedPatient._id;\n      this.setState({\n        updating: false,\n        patientUpdateField: null,\n        userAlert: \"Adding selected Patient History...\"\n      });\n      const historyType = event.target.formGridHistoryType.value;\n      let historyDate = event.target.formGridHistoryDate.value;\n\n      if (event.target.formGridHistoryDateTodayCheckbox.checked === true) {\n        historyDate = new Date().toISOString().slice(0, 10);\n      }\n\n      const historyTitle = event.target.formGridHistoryTitle.value;\n      const historyDescription = event.target.formGridHistoryDescription.value;\n      const historyAttachmentFormat = event.target.formGridHistoryAttachmentFormat.value;\n      const historyAttachmentPath = \"uploads/patients/\" + selectedPatientId + \"/history\";\n      const file = AuthContext._currentValue.file;\n      const config = {\n        bucketName: this.context.creds.s3.bucketName,\n        dirName: historyAttachmentPath,\n        region: this.context.creds.s3.region,\n        accessKeyId: this.context.creds.s3.accessKeyId,\n        secretAccessKey: this.context.creds.s3.secretAccessKey\n      };\n      const ReactS3Client = new S3(config);\n      const newFileName = file.name;\n      const historyAttachmentName = newFileName;\n      ReactS3Client.uploadFile(file, newFileName).then(data => {\n        console.log(data);\n        this.setState({\n          userAlert: \"attachment upload success!\"\n        });\n      }).catch(err => {\n        console.error(err);\n        this.setState({\n          userAlert: \"upload error:  \" + err\n        });\n      });\n      const requestBody = {\n        query: `\n      mutation {updatePatientHistory(userId:\"${userId}\", patientId:\"${selectedPatientId}\",patientInput:{historyTitle:\"${historyTitle}\",historyType:\"${historyType}\",historyDate:\"${historyDate}\",historyDescription:\"${historyDescription}\",historyAttachmentName:\"${historyAttachmentName}\",historyAttachmentFormat:\"${historyAttachmentFormat}\",historyAttachmentPath:\"${historyAttachmentPath}\"})\n      {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        const updatedPatientId = resData.data.updatePatientHistory._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.updatePatientHistory);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.setState({\n          userAlert: responseAlert\n        });\n        this.fetchPatients();\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        });\n      });\n    };\n\n    this.updatePatientAllergiesHandler = event => {\n      event.preventDefault();\n      const token = this.context.token;\n      const userId = this.context.userId;\n      const selectedPatientId = this.context.selectedPatient._id;\n      this.setState({\n        updating: false,\n        patientUpdateField: null,\n        userAlert: \"Adding selected Patient Allergies...\"\n      });\n      const allergiesTitle = event.target.formGridAllergiesTitle.value;\n      let allergiesType = undefined;\n\n      if (event.target.formGridAllergiesTypeSelect === \"select\") {\n        allergiesType = event.target.formGridAllergiesType.value;\n      } else {\n        allergiesType = event.target.formGridAllergiesTypeSelect.value;\n      }\n\n      const allergiesDescription = event.target.formGridAllergiesDescription.value;\n      const allergiesAttachmentFormat = event.target.formGridAllergiesAttachmentFormat.value;\n      const allergiesAttachmentPath = \"uploads/patients/\" + selectedPatientId + \"/allergies\";\n      const file = AuthContext._currentValue.file;\n      const config = {\n        bucketName: this.context.creds.s3.bucketName,\n        dirName: allergiesAttachmentPath,\n        region: this.context.creds.s3.region,\n        accessKeyId: this.context.creds.s3.accessKeyId,\n        secretAccessKey: this.context.creds.s3.secretAccessKey\n      };\n      const ReactS3Client = new S3(config);\n      const newFileName = file.name;\n      const allergiesAttachmentName = newFileName;\n      ReactS3Client.uploadFile(file, newFileName).then(data => {\n        console.log(data);\n        this.setState({\n          userAlert: \"attachment upload success!\"\n        });\n      }).catch(err => {\n        console.error(err);\n        this.setState({\n          userAlert: \"upload error:  \" + err\n        });\n      });\n      const requestBody = {\n        query: `\n      mutation {updatePatientAllergies(userId:\"${userId}\", patientId:\"${selectedPatientId}\",patientInput:{allergiesTitle:\"${allergiesTitle}\",allergiesType:\"${allergiesType}\", allergiesDescription:\"${allergiesDescription}\",allergiesAttachmentName:\"${allergiesAttachmentName}\",allergiesAttachmentFormat:\"${allergiesAttachmentFormat}\",allergiesAttachmentPath:\"${allergiesAttachmentPath}\"})\n      {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        const updatedPatientId = resData.data.updatePatientAllergies._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.updatePatientAllergies);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.setState({\n          userAlert: responseAlert\n        });\n        this.fetchPatients();\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        });\n      });\n    };\n\n    this.updatePatientMedicationHandler = event => {\n      const token = this.context.token;\n      const userId = this.context.userId;\n      const selectedPatientId = this.context.selectedPatient._id;\n      this.setState({\n        updating: false,\n        patientUpdateField: null,\n        userAlert: \"Adding selected Patient Medication...\"\n      });\n      const medicationTitle = event.target.formGridMedicationTitle.value;\n      const medicationType = event.target.formGridMedicationType.value;\n      const medicationDescription = event.target.formGridMedicationDescription.value;\n      const medicationAttachmentFormat = event.target.formGridMedicationAttachmentFormat.value;\n      const medicationAttachmentPath = \"uploads/patients/\" + selectedPatientId + \"/medication\";\n      const file = AuthContext._currentValue.file;\n      const config = {\n        bucketName: this.context.creds.s3.bucketName,\n        dirName: medicationAttachmentPath,\n        region: this.context.creds.s3.region,\n        accessKeyId: this.context.creds.s3.accessKeyId,\n        secretAccessKey: this.context.creds.s3.secretAccessKey\n      };\n      const ReactS3Client = new S3(config);\n      const newFileName = file.name;\n      const medicationAttachmentName = newFileName;\n      ReactS3Client.uploadFile(file, newFileName).then(data => {\n        console.log(data);\n        this.setState({\n          userAlert: \"attachment upload success!\"\n        });\n      }).catch(err => {\n        console.error(err);\n        this.setState({\n          userAlert: \"upload error:  \" + err\n        });\n      });\n      const requestBody = {\n        query: `\n    mutation {updatePatientMedication(userId:\"${userId}\", patientId:\"${selectedPatientId}\",patientInput:{medicationTitle:\"${medicationTitle}\",medicationType:\"${medicationType}\" medicationDescription:\"${medicationDescription}\",medicationAttachmentName:\"${medicationAttachmentName}\",medicationAttachmentFormat:\"${medicationAttachmentFormat}\",medicationAttachmentPath:\"${medicationAttachmentPath}\"})\n    {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        const updatedPatientId = resData.data.updatePatientMedication._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.updatePatientMedication);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.setState({\n          userAlert: responseAlert\n        });\n        this.fetchPatients();\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        });\n      });\n    };\n\n    this.updatePatientInvestigationHandler = event => {\n      event.preventDefault();\n      const token = this.context.token;\n      const userId = this.context.userId;\n      const selectedPatientId = this.context.selectedPatient._id;\n      this.setState({\n        updating: false,\n        patientUpdateField: null,\n        userAlert: \"Adding selected Patient Investigation...\"\n      });\n      let investigationDate = null;\n\n      if (event.target.formGridInvestigationDate) {\n        investigationDate = event.target.formGridInvestigationDate.value;\n      }\n\n      if (event.target.formGridInvestigationDateTodayCheckbox.checked === true) {\n        investigationDate = new Date().toISOString().slice(0, 10);\n      }\n\n      const investigationTitle = event.target.formGridInvestigationTitle.value;\n      let investigationType = undefined;\n\n      if (event.target.formGridInvestigationTypeSelect === \"select\") {\n        investigationType = event.target.formGridInvestigationType.value;\n      } else {\n        investigationType = event.target.formGridInvestigationTypeSelect.value;\n      }\n\n      const investigationDescription = event.target.formGridInvestigationDescription.value;\n      const investigationAttachmentFormat = event.target.formGridInvestigationAttachmentFormat.value;\n      const investigationAttachmentPath = \"uploads/patients/\" + selectedPatientId + \"/investigation\";\n      const file = AuthContext._currentValue.file;\n      const config = {\n        bucketName: this.context.creds.s3.bucketName,\n        dirName: investigationAttachmentPath,\n        region: this.context.creds.s3.region,\n        accessKeyId: this.context.creds.s3.accessKeyId,\n        secretAccessKey: this.context.creds.s3.secretAccessKey\n      };\n      const ReactS3Client = new S3(config);\n      const newFileName = file.name;\n      const investigationAttachmentName = newFileName;\n      ReactS3Client.uploadFile(file, newFileName).then(data => {\n        console.log(data);\n        this.setState({\n          userAlert: \"attachment upload success!\"\n        });\n      }).catch(err => {\n        console.error(err);\n        this.setState({\n          userAlert: \"upload error:  \" + err\n        });\n      });\n      const requestBody = {\n        query: `\n      mutation {updatePatientInvestigation(userId:\"${userId}\", patientId:\"${selectedPatientId}\",patientInput:{investigationDate:\"${investigationDate}\",investigationTitle:\"${investigationTitle}\",investigationType:\"${investigationType}\",investigationDescription:\"${investigationDescription}\",investigationAttachmentName:\"${investigationAttachmentName}\",investigationAttachmentFormat:\"${investigationAttachmentFormat}\",investigationAttachmentPath:\"${investigationAttachmentPath}\"})\n      {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        const updatedPatientId = resData.data.updatePatientInvestigation._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.updatePatientInvestigation);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.setState({\n          userAlert: responseAlert\n        });\n        this.fetchPatients();\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        });\n      });\n    };\n\n    this.updatePatientDiagnosisHandler = event => {\n      event.preventDefault();\n      const token = this.context.token;\n      const userId = this.context.userId;\n      const selectedPatientId = this.context.selectedPatient._id;\n      this.setState({\n        updating: false,\n        patientUpdateField: null,\n        userAlert: \"Adding selected Patient Diagnosis...\"\n      });\n      let diagnosisDate = null;\n\n      if (event.target.formGridDiagnosisDate) {\n        diagnosisDate = event.target.formGridDiagnosisDate.value;\n      }\n\n      if (event.target.formGridDiagnosisDateTodayCheckbox.checked === true) {\n        diagnosisDate = new Date().toISOString().slice(0, 10);\n      }\n\n      const diagnosisTitle = event.target.formGridDiagnosisTitle.value;\n      const diagnosisType = event.target.formGridDiagnosisType.value;\n      const diagnosisDescription = event.target.formGridDiagnosisDescription.value;\n      const diagnosisAttachmentFormat = event.target.formGridDiagnosisAttachmentFormat.value;\n      const diagnosisAttachmentPath = \"uploads/patients/\" + selectedPatientId + \"/diagnosis\";\n      const file = AuthContext._currentValue.file;\n      const config = {\n        bucketName: this.context.creds.s3.bucketName,\n        dirName: diagnosisAttachmentPath,\n        region: this.context.creds.s3.region,\n        accessKeyId: this.context.creds.s3.accessKeyId,\n        secretAccessKey: this.context.creds.s3.secretAccessKey\n      };\n      const ReactS3Client = new S3(config);\n      const newFileName = file.name;\n      const diagnosisAttachmentName = newFileName;\n      ReactS3Client.uploadFile(file, newFileName).then(data => {\n        console.log(data);\n        this.setState({\n          userAlert: \"attachment upload success!\"\n        });\n      }).catch(err => {\n        console.error(err);\n        this.setState({\n          userAlert: \"upload error:  \" + err\n        });\n      });\n      const requestBody = {\n        query: `\n      mutation {updatePatientDiagnosis(userId:\"${userId}\", patientId:\"${selectedPatientId}\",patientInput:{diagnosisDate:\"${diagnosisDate}\",diagnosisTitle:\"${diagnosisTitle}\",diagnosisType:\"${diagnosisType}\",diagnosisDescription:\"${diagnosisDescription}\",diagnosisAttachmentName:\"${diagnosisAttachmentName}\",diagnosisAttachmentFormat:\"${diagnosisAttachmentFormat}\",diagnosisAttachmentPath:\"${diagnosisAttachmentPath}\"})\n      {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        const updatedPatientId = resData.data.updatePatientDiagnosis._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.updatePatientDiagnosis);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.setState({\n          userAlert: responseAlert\n        });\n        this.fetchPatients();\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        });\n      });\n    };\n\n    this.updatePatientTreatmentHandler = event => {\n      event.preventDefault();\n      const token = this.context.token;\n      const userId = this.context.userId;\n      const selectedPatientId = this.context.selectedPatient._id;\n      this.setState({\n        updating: false,\n        patientUpdateField: null,\n        userAlert: \"Adding selected Patient Treatment...\"\n      });\n      let treatmentDate = null;\n\n      if (event.target.formGridTreatmentDate) {\n        treatmentDate = event.target.formGridTreatmentDate.value;\n      }\n\n      if (event.target.formGridTreatmentDateTodayCheckbox.checked === true) {\n        treatmentDate = new Date().toISOString().slice(0, 10);\n      }\n\n      const treatmentTitle = event.target.formGridTreatmentTitle.value;\n      const treatmentDescription = event.target.formGridTreatmentDescription.value;\n      const treatmentDose = event.target.formGridTreatmentDose.value;\n      const treatmentFrequency = event.target.formGridTreatmentFrequency.value;\n      let treatmentType = undefined;\n\n      if (event.target.formGridInvestigationTypeSelect === \"select\") {\n        treatmentType = event.target.formGridTreatmentType.value;\n      } else {\n        treatmentType = event.target.formGridTreatmentTypeSelect.value;\n      }\n\n      const treatmentAttachmentFormat = event.target.formGridTreatmentAttachmentFormat.value;\n      const treatmentAttachmentPath = \"uploads/patients/\" + selectedPatientId + \"/treatment\";\n      const file = AuthContext._currentValue.file;\n      const config = {\n        bucketName: this.context.creds.s3.bucketName,\n        dirName: treatmentAttachmentPath,\n        region: this.context.creds.s3.region,\n        accessKeyId: this.context.creds.s3.accessKeyId,\n        secretAccessKey: this.context.creds.s3.secretAccessKey\n      };\n      const ReactS3Client = new S3(config);\n      const newFileName = file.name;\n      const treatmentAttachmentName = newFileName;\n      ReactS3Client.uploadFile(file, newFileName).then(data => {\n        console.log(data);\n        this.setState({\n          userAlert: \"attachment upload success!\"\n        });\n      }).catch(err => {\n        console.error(err);\n        this.setState({\n          userAlert: \"upload error:  \" + err\n        });\n      });\n      const requestBody = {\n        query: `\n      mutation {updatePatientTreatment(userId:\"${userId}\",patientId:\"${selectedPatientId}\",patientInput:{treatmentDate:\"${treatmentDate}\",treatmentTitle:\"${treatmentTitle}\",treatmentType:\"${treatmentType}\",treatmentDescription:\"${treatmentDescription}\",treatmentDose:\"${treatmentDose}\",treatmentFrequency:\"${treatmentFrequency}\",treatmentAttachmentName:\"${treatmentAttachmentName}\",treatmentAttachmentFormat:\"${treatmentAttachmentFormat}\",treatmentAttachmentPath:\"${treatmentAttachmentPath}\"})\n      {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        const updatedPatientId = resData.data.updatePatientTreatment._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.updatePatientTreatment);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.setState({\n          userAlert: responseAlert\n        });\n        this.fetchPatients();\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        });\n      });\n    };\n\n    this.updatePatientBillingHandler = event => {\n      event.preventDefault();\n      const token = this.context.token;\n      const userId = this.context.userId;\n      const selectedPatientId = this.context.selectedPatient._id;\n      this.setState({\n        updating: false,\n        patientUpdateField: null,\n        userAlert: \"Adding selected Patient Billing...\"\n      });\n      let billingDate = null;\n\n      if (event.target.formGridBillingDate) {\n        billingDate = event.target.formGridBillingDate.value;\n      }\n\n      if (event.target.formGridBillingDateTodayCheckbox.checked === true) {\n        billingDate = new Date().toISOString().slice(0, 10);\n      }\n\n      const billingTitle = event.target.formGridBillingTitle.value;\n      const billingType = event.target.formGridBillingType.value;\n      const billingDescription = event.target.formGridBillingDescription.value;\n      const billingAmount = event.target.formGridBillingAmount.value;\n      const billingPaid = event.target.formGridBillingPaid.value;\n      const billingNotes = event.target.formGridBillingNotes.value;\n      const billingAttachmentFormat = event.target.formGridBillingAttachmentFormat.value;\n      const billingAttachmentPath = \"uploads/patients/\" + selectedPatientId + \"/billing\";\n      const file = AuthContext._currentValue.file;\n      const config = {\n        bucketName: this.context.creds.s3.bucketName,\n        dirName: billingAttachmentPath,\n        region: this.context.creds.s3.region,\n        accessKeyId: this.context.creds.s3.accessKeyId,\n        secretAccessKey: this.context.creds.s3.secretAccessKey\n      };\n      const ReactS3Client = new S3(config);\n      const newFileName = file.name;\n      const billingAttachmentName = newFileName;\n      ReactS3Client.uploadFile(file, newFileName).then(data => {\n        console.log(data);\n        this.setState({\n          userAlert: \"attachment upload success!\"\n        });\n      }).catch(err => {\n        console.error(err);\n        this.setState({\n          userAlert: \"upload error:  \" + err\n        });\n      });\n      const requestBody = {\n        query: `\n      mutation {updatePatientBilling(userId:\"${userId}\", patientId:\"${selectedPatientId}\",patientInput:{billingDate:\"${billingDate}\",billingTitle:\"${billingTitle}\",billingType:\"${billingType}\",billingDescription:\"${billingDescription}\",billingAmount:${billingAmount},billingPaid:${billingPaid},billingNotes:\"${billingNotes}\",billingAttachmentName:\"${billingAttachmentName}\",billingAttachmentFormat:\"${billingAttachmentFormat}\",billingAttachmentPath:\"${billingAttachmentPath}\"})\n      {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        const updatedPatientId = resData.data.updatePatientBilling._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.updatePatientBilling);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.setState({\n          userAlert: responseAlert\n        });\n        this.fetchPatients();\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        });\n      });\n    };\n\n    this.updatePatientVigilanceHandler = event => {\n      event.preventDefault();\n      const token = this.context.token;\n      const userId = this.context.userId;\n      const selectedPatientId = this.context.selectedPatient._id;\n      this.setState({\n        updating: false,\n        patientUpdateField: null,\n        userAlert: \"Adding selected Patient Vigilance...\"\n      });\n      let vigilanceDate = null;\n\n      if (event.target.formGridVigilanceDate) {\n        vigilanceDate = event.target.formGridVigilanceDate.value;\n      }\n\n      if (event.target.formGridVigilanceDateTodayCheckbox.checked === true) {\n        vigilanceDate = new Date().toISOString().slice(0, 10);\n      }\n\n      const vigilanceChronicIllnessDiabetesMedication = event.target.formGridVigilanceChronicIllnessDiabetesMedication.checked;\n      const vigilanceChronicIllnessDiabetesTesting = event.target.formGridVigilanceChronicIllnessDiabetesTesting.checked;\n      const vigilanceChronicIllnessDiabetesComment = event.target.formGridVigilanceChronicIllnessDiabetesComment.value;\n      const vigilanceChronicIllnessHbpMedication = event.target.formGridVigilanceChronicIllnessHbpMedication.checked;\n      const vigilanceChronicIllnessHbpTesting = event.target.formGridVigilanceChronicIllnessHbpTesting.checked;\n      const vigilanceChronicIllnessHbpComment = event.target.formGridVigilanceChronicIllnessHbpComment.value;\n      const vigilanceChronicIllnessDyslipidemiaMedication = event.target.formGridVigilanceChronicIllnessDyslipidemiaMedication.checked;\n      const vigilanceChronicIllnessDyslipidemiaTesting = event.target.formGridVigilanceChronicIllnessDyslipidemiaTesting.checked;\n      const vigilanceChronicIllnessDyslipidemiaComment = event.target.formGridVigilanceChronicIllnessDyslipidemiaComment.value;\n      const vigilanceChronicIllnessCadMedication = event.target.formGridVigilanceChronicIllnessCadMedication.checked;\n      const vigilanceChronicIllnessCadTesting = event.target.formGridVigilanceChronicIllnessCadTesting.checked;\n      const vigilanceChronicIllnessCadComment = event.target.formGridVigilanceChronicIllnessCadComment.value;\n      const vigilanceLifestyleWeightMedication = event.target.formGridVigilanceLifestyleWeightMedication.checked;\n      const vigilanceLifestyleWeightTesting = event.target.formGridVigilanceLifestyleWeightTesting.checked;\n      const vigilanceLifestyleWeightComment = event.target.formGridVigilanceLifestyleWeightComment.value;\n      const vigilanceLifestyleDietMedication = event.target.formGridVigilanceLifestyleDietMedication.checked;\n      const vigilanceLifestyleDietTesting = event.target.formGridVigilanceLifestyleDietTesting.checked;\n      const vigilanceLifestyleDietComment = event.target.formGridVigilanceLifestyleDietComment.value;\n      const vigilanceLifestyleSmokingMedication = event.target.formGridVigilanceLifestyleSmokingMedication.checked;\n      const vigilanceLifestyleSmokingTesting = event.target.formGridVigilanceLifestyleSmokingTesting.checked;\n      const vigilanceLifestyleSmokingComment = event.target.formGridVigilanceLifestyleSmokingComment.value;\n      const vigilanceLifestyleSubstanceAbuseMedication = event.target.formGridVigilanceLifestyleSubstanceAbuseMedication.checked;\n      const vigilanceLifestyleSubstanceAbuseTesting = event.target.formGridVigilanceLifestyleSubstanceAbuseTesting.checked;\n      const vigilanceLifestyleSubstanceAbuseComment = event.target.formGridVigilanceLifestyleSubstanceAbuseComment.value;\n      const vigilanceLifestyleExerciseMedication = event.target.formGridVigilanceLifestyleExerciseMedication.checked;\n      const vigilanceLifestyleExerciseTesting = event.target.formGridVigilanceLifestyleExerciseTesting.checked;\n      const vigilanceLifestyleExerciseComment = event.target.formGridVigilanceLifestyleExerciseComment.value;\n      const vigilanceLifestyleAllergiesMedication = event.target.formGridVigilanceLifestyleAllergiesMedication.checked;\n      const vigilanceLifestyleAllergiesTesting = event.target.formGridVigilanceLifestyleAllergiesTesting.checked;\n      const vigilanceLifestyleAllergiesComment = event.target.formGridVigilanceLifestyleAllergiesComment.value;\n      const vigilanceLifestyleAsthmaMedication = event.target.formGridVigilanceLifestyleAsthmaMedication.checked;\n      const vigilanceLifestyleAsthmaTesting = event.target.formGridVigilanceLifestyleAsthmaTesting.checked;\n      const vigilanceLifestyleAsthmaComment = event.target.formGridVigilanceLifestyleAsthmaComment.value;\n      const vigilanceScreeningBreastMedication = event.target.formGridVigilanceScreeningBreastMedication.checked;\n      const vigilanceScreeningBreastTesting = event.target.formGridVigilanceScreeningBreastTesting.checked;\n      const vigilanceScreeningBreastComment = event.target.formGridVigilanceScreeningBreastComment.value;\n      const vigilanceScreeningProstateMedication = event.target.formGridVigilanceScreeningProstateMedication.checked;\n      const vigilanceScreeningProstateTesting = event.target.formGridVigilanceScreeningProstateTesting.checked;\n      const vigilanceScreeningProstateComment = event.target.formGridVigilanceScreeningProstateComment.value;\n      const vigilanceScreeningCervixMedication = event.target.formGridVigilanceScreeningCervixMedication.checked;\n      const vigilanceScreeningCervixTesting = event.target.formGridVigilanceScreeningCervixTesting.checked;\n      const vigilanceScreeningCervixComment = event.target.formGridVigilanceScreeningCervixComment.value;\n      const vigilanceScreeningColonMedication = event.target.formGridVigilanceScreeningColonMedication.checked;\n      const vigilanceScreeningColonTesting = event.target.formGridVigilanceScreeningColonTesting.checked;\n      const vigilanceScreeningColonComment = event.target.formGridVigilanceScreeningColonComment.value;\n      const vigilanceScreeningDentalMedication = event.target.formGridVigilanceScreeningDentalMedication.checked;\n      const vigilanceScreeningDentalTesting = event.target.formGridVigilanceScreeningDentalTesting.checked;\n      const vigilanceScreeningDentalComment = event.target.formGridVigilanceScreeningDentalComment.value;\n      const vigilanceVaccinesInfluenzaMedication = event.target.formGridVigilanceVaccinesInfluenzaMedication.checked;\n      const vigilanceVaccinesInfluenzaTesting = event.target.formGridVigilanceVaccinesInfluenzaTesting.checked;\n      const vigilanceVaccinesInfluenzaComment = event.target.formGridVigilanceVaccinesInfluenzaComment.value;\n      const vigilanceVaccinesVaricellaMedication = event.target.formGridVigilanceVaccinesVaricellaMedication.checked;\n      const vigilanceVaccinesVaricellaTesting = event.target.formGridVigilanceVaccinesVaricellaTesting.checked;\n      const vigilanceVaccinesVaricellaComment = event.target.formGridVigilanceVaccinesVaricellaComment.value;\n      const vigilanceVaccinesHpvMedication = event.target.formGridVigilanceVaccinesHpvMedication.checked;\n      const vigilanceVaccinesHpvTesting = event.target.formGridVigilanceVaccinesHpvTesting.checked;\n      const vigilanceVaccinesHpvComment = event.target.formGridVigilanceVaccinesHpvComment.value;\n      const vigilanceVaccinesMmrMedication = event.target.formGridVigilanceVaccinesMmrMedication.checked;\n      const vigilanceVaccinesMmrTesting = event.target.formGridVigilanceVaccinesMmrTesting.checked;\n      const vigilanceVaccinesMmrComment = event.target.formGridVigilanceVaccinesMmrComment.value;\n      const vigilanceVaccinesTetanusMedication = event.target.formGridVigilanceVaccinesTetanusMedication.checked;\n      const vigilanceVaccinesTetanusTesting = event.target.formGridVigilanceVaccinesTetanusTesting.checked;\n      const vigilanceVaccinesTetanusComment = event.target.formGridVigilanceVaccinesTetanusComment.value;\n      const vigilanceVaccinesPneumovaxMedication = event.target.formGridVigilanceVaccinesPneumovaxMedication.checked;\n      const vigilanceVaccinesPneumovaxTesting = event.target.formGridVigilanceVaccinesPneumovaxTesting.checked;\n      const vigilanceVaccinesPneumovaxComment = event.target.formGridVigilanceVaccinesPneumovaxComment.value;\n      const vigilanceVaccinesOtherName = event.target.formGridVigilanceVaccinesOtherName.value;\n      const vigilanceVaccinesOtherMedication = event.target.formGridVigilanceVaccinesOtherMedication.checked;\n      const vigilanceVaccinesOtherTesting = event.target.formGridVigilanceVaccinesOtherTesting.checked;\n      const vigilanceVaccinesOtherComment = event.target.formGridVigilanceVaccinesOtherComment.value;\n      const requestBody = {\n        query: `\n      mutation {updatePatientVigilance(userId:\"${userId}\", patientId:\"${selectedPatientId}\",patientInput:{\n        vigilanceDate:\"${vigilanceDate}\",\n        vigilanceChronicIllnessDiabetesMedication: ${vigilanceChronicIllnessDiabetesMedication},\n        vigilanceChronicIllnessDiabetesTesting: ${vigilanceChronicIllnessDiabetesTesting},\n        vigilanceChronicIllnessDiabetesComment: \"${vigilanceChronicIllnessDiabetesComment}\",\n        vigilanceChronicIllnessHbpMedication: ${vigilanceChronicIllnessHbpMedication},\n        vigilanceChronicIllnessHbpTesting: ${vigilanceChronicIllnessHbpTesting},\n        vigilanceChronicIllnessHbpComment: \"${vigilanceChronicIllnessHbpComment}\",\n        vigilanceChronicIllnessDyslipidemiaMedication: ${vigilanceChronicIllnessDyslipidemiaMedication},\n        vigilanceChronicIllnessDyslipidemiaTesting: ${vigilanceChronicIllnessDyslipidemiaTesting},\n        vigilanceChronicIllnessDyslipidemiaComment: \"${vigilanceChronicIllnessDyslipidemiaComment}\",\n        vigilanceChronicIllnessCadMedication: ${vigilanceChronicIllnessCadMedication},\n        vigilanceChronicIllnessCadTesting: ${vigilanceChronicIllnessCadTesting},\n        vigilanceChronicIllnessCadComment: \"${vigilanceChronicIllnessCadComment}\",\n        vigilanceLifestyleWeightMedication: ${vigilanceLifestyleWeightMedication},\n        vigilanceLifestyleWeightTesting: ${vigilanceLifestyleWeightTesting},\n        vigilanceLifestyleWeightComment: \"${vigilanceLifestyleWeightComment}\",\n        vigilanceLifestyleDietMedication: ${vigilanceLifestyleDietMedication},\n        vigilanceLifestyleDietTesting: ${vigilanceLifestyleDietTesting},\n        vigilanceLifestyleDietComment: \"${vigilanceLifestyleDietComment}\",\n        vigilanceLifestyleSmokingMedication: ${vigilanceLifestyleSmokingMedication},\n        vigilanceLifestyleSmokingTesting: ${vigilanceLifestyleSmokingTesting},\n        vigilanceLifestyleSmokingComment: \"${vigilanceLifestyleSmokingComment}\",\n        vigilanceLifestyleSubstanceAbuseMedication: ${vigilanceLifestyleSubstanceAbuseMedication},\n        vigilanceLifestyleSubstanceAbuseTesting: ${vigilanceLifestyleSubstanceAbuseTesting},\n        vigilanceLifestyleSubstanceAbuseComment: \"${vigilanceLifestyleSubstanceAbuseComment}\",\n        vigilanceLifestyleExerciseMedication: ${vigilanceLifestyleExerciseMedication},\n        vigilanceLifestyleExerciseTesting: ${vigilanceLifestyleExerciseTesting},\n        vigilanceLifestyleExerciseComment: \"${vigilanceLifestyleExerciseComment}\",\n        vigilanceLifestyleAllergiesMedication: ${vigilanceLifestyleAllergiesMedication},\n        vigilanceLifestyleAllergiesTesting: ${vigilanceLifestyleAllergiesTesting},\n        vigilanceLifestyleAllergiesComment: \"${vigilanceLifestyleAllergiesComment}\",\n        vigilanceLifestyleAsthmaMedication: ${vigilanceLifestyleAsthmaMedication},\n        vigilanceLifestyleAsthmaTesting: ${vigilanceLifestyleAsthmaTesting},\n        vigilanceLifestyleAsthmaComment: \"${vigilanceLifestyleAsthmaComment}\",\n        vigilanceScreeningBreastMedication: ${vigilanceScreeningBreastMedication},\n        vigilanceScreeningBreastTesting: ${vigilanceScreeningBreastTesting},\n        vigilanceScreeningBreastComment: \"${vigilanceScreeningBreastComment}\",\n        vigilanceScreeningProstateMedication: ${vigilanceScreeningProstateMedication},\n        vigilanceScreeningProstateTesting: ${vigilanceScreeningProstateTesting},\n        vigilanceScreeningProstateComment: \"${vigilanceScreeningProstateComment}\",\n        vigilanceScreeningCervixMedication: ${vigilanceScreeningCervixMedication},\n        vigilanceScreeningCervixTesting: ${vigilanceScreeningCervixTesting},\n        vigilanceScreeningCervixComment: \"${vigilanceScreeningCervixComment}\",\n        vigilanceScreeningColonMedication: ${vigilanceScreeningColonMedication},\n        vigilanceScreeningColonTesting: ${vigilanceScreeningColonTesting},\n        vigilanceScreeningColonComment: \"${vigilanceScreeningColonComment}\",\n        vigilanceScreeningDentalMedication: ${vigilanceScreeningDentalMedication},\n        vigilanceScreeningDentalTesting: ${vigilanceScreeningDentalTesting},\n        vigilanceScreeningDentalComment: \"${vigilanceScreeningDentalComment}\",\n        vigilanceVaccinesInfluenzaMedication: ${vigilanceVaccinesInfluenzaMedication},\n        vigilanceVaccinesInfluenzaTesting: ${vigilanceVaccinesInfluenzaTesting},\n        vigilanceVaccinesInfluenzaComment: \"${vigilanceVaccinesInfluenzaComment}\",\n        vigilanceVaccinesVaricellaMedication: ${vigilanceVaccinesVaricellaMedication},\n        vigilanceVaccinesVaricellaTesting: ${vigilanceVaccinesVaricellaTesting},\n        vigilanceVaccinesVaricellaComment: \"${vigilanceVaccinesVaricellaComment}\",\n        vigilanceVaccinesHpvMedication: ${vigilanceVaccinesHpvMedication},\n        vigilanceVaccinesHpvTesting: ${vigilanceVaccinesHpvTesting},\n        vigilanceVaccinesHpvComment: \"${vigilanceVaccinesHpvComment}\",\n        vigilanceVaccinesMmrMedication: ${vigilanceVaccinesMmrMedication},\n        vigilanceVaccinesMmrTesting: ${vigilanceVaccinesMmrTesting},\n        vigilanceVaccinesMmrComment: \"${vigilanceVaccinesMmrComment}\",\n        vigilanceVaccinesTetanusMedication: ${vigilanceVaccinesTetanusMedication},\n        vigilanceVaccinesTetanusTesting: ${vigilanceVaccinesTetanusTesting},\n        vigilanceVaccinesTetanusComment: \"${vigilanceVaccinesTetanusComment}\",\n        vigilanceVaccinesPneumovaxMedication: ${vigilanceVaccinesPneumovaxMedication},\n        vigilanceVaccinesPneumovaxTesting: ${vigilanceVaccinesPneumovaxTesting},\n        vigilanceVaccinesPneumovaxComment: \"${vigilanceVaccinesPneumovaxComment}\",\n        vigilanceVaccinesOtherName: \"${vigilanceVaccinesOtherName}\",\n        vigilanceVaccinesOtherMedication: ${vigilanceVaccinesOtherMedication},\n        vigilanceVaccinesOtherTesting: ${vigilanceVaccinesOtherTesting},\n        vigilanceVaccinesOtherComment: \"${vigilanceVaccinesOtherComment}\"})\n        {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        const updatedPatientId = resData.data.updatePatientVigilance._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.updatePatientVigilance);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.setState({\n          userAlert: responseAlert\n        });\n        this.fetchPatients();\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        });\n      });\n    };\n\n    this.updatePatientAttachmentHandler = event => {\n      const token = this.context.token;\n      const userId = this.context.userId;\n      const selectedPatientId = this.context.selectedPatient._id;\n      this.setState({\n        updating: false,\n        patientUpdateField: null,\n        userAlert: \"Adding selected Patient Attachment...\"\n      });\n      const attachmentFormat = event.target.formGridPatientAttachmentFormat.value;\n      const attachmentPath = \"uploads/patients/\" + selectedPatientId + \"/attachments\";\n      const file = AuthContext._currentValue.file;\n      const config = {\n        bucketName: this.context.creds.s3.bucketName,\n        dirName: attachmentPath,\n        region: this.context.creds.s3.region,\n        accessKeyId: this.context.creds.s3.accessKeyId,\n        secretAccessKey: this.context.creds.s3.secretAccessKey\n      };\n      const ReactS3Client = new S3(config);\n      const newFileName = file.name;\n      const attachmentName = newFileName;\n      ReactS3Client.uploadFile(file, newFileName).then(data => {\n        console.log(data);\n        this.setState({\n          userAlert: \"attachment upload success!\"\n        });\n      }).catch(err => {\n        console.error(err);\n        this.setState({\n          userAlert: \"upload error:  \" + err\n        });\n      });\n\n      if (attachmentName.trim().length === 0 || attachmentFormat.trim().length === 0 || attachmentPath.trim().length === 0) {\n        this.setState({\n          userAlert: \"blank fields detected!!!...Please try again...\"\n        });\n        return;\n      }\n\n      const requestBody = {\n        query: `\n              mutation {updatePatientAttachment(userId:\"${userId}\",patientId:\"${selectedPatientId}\",patientInput:{attachmentName:\"${attachmentName}\",attachmentFormat:\"${attachmentFormat}\",attachmentPath:\"${attachmentPath}\"})\n              {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},attachments{name,format,path},notes,tags}}\n            `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        const updatedPatientId = resData.data.updatePatientAttachment._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.updatePatientAttachment);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.setState({\n          userAlert: responseAlert\n        });\n        this.fetchPatients();\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        });\n      });\n    };\n\n    this.updatePatientNoteHandler = event => {\n      const token = this.context.token;\n      const userId = this.context.userId;\n      const selectedPatientId = this.context.selectedPatient._id;\n      this.setState({\n        updating: false,\n        patientUpdateField: null,\n        userAlert: \"Adding selected Patient Note ...\"\n      });\n      const note = event.target.formGridNote.value;\n\n      if (note.trim().length === 0) {\n        this.setState({\n          userAlert: \"Can't Submit a blank form!!!...Please try again...\"\n        });\n        return;\n      }\n\n      const requestBody = {\n        query: `\n          mutation {updatePatientNotes(userId:\"${userId}\",patientId:\"${selectedPatientId}\",patientInput:{notes:\"${note}\"})\n          {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n      `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        const updatedPatientId = resData.data.updatePatientNotes._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.updatePatientNotes);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.setState({\n          userAlert: responseAlert\n        });\n        this.fetchPatients();\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        });\n      });\n    };\n\n    this.updatePatientTagHandler = event => {\n      const token = this.context.token;\n      const userId = this.context.userId;\n      let selectedPatientId = this.context.selectedPatient._id;\n      this.setState({\n        updating: false,\n        patientUpdateField: null,\n        userAlert: \"Adding selected Patient Tag...\"\n      });\n      let tag = event.target.formGridTag.value;\n\n      if (tag.trim().length === 0) {\n        console.log(\"Can't Submit a blank form!!!...Please try again...\");\n        this.setState({\n          userAlert: \"Can't Submit a blank form!!!...Please try again...\"\n        });\n        return;\n      }\n\n      const requestBody = {\n        query: `\n              mutation {updatePatientTags(userId:\"${userId}\",patientId:\"${selectedPatientId}\",patientInput:{tag:\"${tag}\"})\n              {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n          `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        const updatedPatientId = resData.data.updatePatientTags._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.updatePatientTags);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.setState({\n          userAlert: responseAlert\n        });\n        this.fetchPatients();\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        });\n      });\n    };\n\n    this.modalConfirmSearchHandler = event => {\n      const userId = this.context.userId;\n      const token = this.context.token;\n      this.setState({\n        searching: false,\n        userAlert: \"Now Searching Patients...\"\n      });\n      let field = null;\n      const query = event.target.formBasicQuery.value;\n\n      if (event.target.formBasicFieldSelect.value === \"select\") {\n        field = event.target.formBasicField.value;\n      } else {\n        field = event.target.formBasicFieldSelect.value;\n      }\n\n      this.setState({\n        patientSearchField: field,\n        patientSearchQuery: query\n      });\n\n      if (field.trim().length === 0 || query.trim().length === 0) {\n        this.setState({\n          userAlert: \"blank fields detected!!!...Please try again...\"\n        });\n        return;\n      }\n\n      const requestBody = {\n        query: `\n      query {\n        getPatientField(userId: \"${userId}\", field: \"${field}\", query: \"${query}\" )\n        {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        const responseAlert = JSON.stringify(resData.data).slice(2, 15);\n        const searchPatients = resData.data.getPatientField;\n        this.setState({\n          searchPatients: searchPatients,\n          userAlert: responseAlert\n        }); // this.fetchPatients();\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        });\n      });\n    };\n\n    this.modalConfirmSearchIdHandler = event => {\n      const userId = this.context.userId;\n      this.setState({\n        searching: false,\n        userAlert: \"Searching Patients by Id...\"\n      });\n      const patientId = event.target.formBasicId.value;\n      const requestBody = {\n        query: `\n      query {getPatientId(userId:\"${userId}\",patientId:\"${patientId}\")\n      {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n      };\n      const token = this.context.token;\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        const searchPatients = resData.data.getPatientId;\n        this.setState({\n          searchPatients: [searchPatients],\n          userAlert: responseAlert\n        });\n        console.log(\"state.searchPatients:  \", this.state.searchPatients); // this.fetchUsers();\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        });\n      });\n    };\n\n    this.modalConfirmSearchNameHandler = event => {\n      this.setState({\n        searching: false,\n        userAlert: \"Searching Patients by Name...\"\n      });\n      const patients = this.state.patients;\n      const regex = new RegExp(event.target.formBasicName.value, \"i\");\n      let result = patients.filter(patient => patient.name.match(regex));\n      this.setState({\n        searchPatients: result\n      });\n    };\n\n    this.getPatientVisit = event => {\n      const selectedPatient = this.state.selectedPatient;\n      event.preventDefault();\n      let visitDate = new Date(event.target.formBasicVisitDate.value).toISOString().substring(0, 10);\n      let visitSurveys = selectedPatient.surveys.filter(x => new Date(x.date.substr(0, 10) * 1000).toISOString().substring(0, 10) === visitDate);\n      let visitConsultants = selectedPatient.consultant.filter(x => new Date(x.date.substr(0, 10) * 1000).toISOString().substring(0, 10) === visitDate);\n      let visitComplaints = selectedPatient.complaints.filter(x => new Date(x.date.substr(0, 10) * 1000).toISOString().substring(0, 10) === visitDate); // let visitSurveys = selectedPatient.surveys.filter(x=> new Date(x.date.substr(0,10)*1000).toISOString() === visitDate);\n\n      let visitSystematicInquiry = selectedPatient.systematicInquiry.filter(x => new Date(x.date.substr(0, 10) * 1000).toISOString().substring(0, 10) === visitDate);\n      let visitVitals = selectedPatient.vitals.filter(x => new Date(x.date.substr(0, 10) * 1000).toISOString().substring(0, 10) === visitDate);\n      let visitExaminations = selectedPatient.examination.filter(x => new Date(x.date.substr(0, 10) * 1000).toISOString().substring(0, 10) === visitDate);\n      let visitHistory = selectedPatient.history.filter(x => new Date(x.date.substr(0, 10) * 1000).toISOString().substring(0, 10) === visitDate);\n      let visitInvestigations = selectedPatient.investigation.filter(x => new Date(x.date.substr(0, 10) * 1000).toISOString().substring(0, 10) === visitDate);\n      let visitDiagnosis = selectedPatient.diagnosis.filter(x => new Date(x.date.substr(0, 10) * 1000).toISOString().substring(0, 10) === visitDate);\n      let visitTreatments = selectedPatient.treatment.filter(x => new Date(x.date.substr(0, 10) * 1000).toISOString().substring(0, 10) === visitDate);\n      let visitBilling = selectedPatient.billing.filter(x => new Date(x.date.substr(0, 10) * 1000).toISOString().substring(0, 10) === visitDate);\n      let visitVigilance = selectedPatient.vigilance.filter(x => new Date(x.date.substr(0, 10) * 1000).toISOString().substring(0, 10) === visitDate);\n      const visit = {\n        date: visitDate,\n        patientName: this.context.selectedPatient.name,\n        consultant: visitConsultants,\n        complaint: visitComplaints,\n        examination: visitExaminations,\n        survey: visitSurveys,\n        systematicInquiry: visitSystematicInquiry,\n        vitals: visitVitals,\n        history: visitHistory,\n        investigation: visitInvestigations,\n        diagnosis: visitDiagnosis,\n        treatment: visitTreatments,\n        billing: visitBilling,\n        vigilance: visitVigilance\n      }; // this.context.visit = visit;\n\n      this.setState({\n        visit: visit\n      });\n    };\n\n    this.getVisitList = () => {\n      const selectedPatient = this.state.selectedPatient;\n      const patientName = this.state.selectedPatient.name;\n      let selectedPatientAppointmentDateArray = [];\n      let selectedPatientAppointmentVisitArray = [];\n      let selectedPatientAppointments = this.state.selectedPatient.appointments.map(appointments => {\n        selectedPatientAppointmentDateArray.push(new Date(appointments.date.substr(0, 10) * 1000).toISOString().substring(0, 10));\n      });\n      selectedPatientAppointmentDateArray.map(appointmentDate => {\n        thisGetVisit(appointmentDate, patientName);\n      });\n\n      function thisGetVisit(argsDate, argsPatientName) {\n        let visitDate = argsDate;\n        let visitSurveys = selectedPatient.surveys.filter(x => new Date(x.date.substr(0, 10) * 1000).toISOString().substring(0, 10) === visitDate);\n        let visitConsultants = selectedPatient.consultant.filter(x => new Date(x.date.substr(0, 10) * 1000).toISOString().substring(0, 10) === visitDate);\n        let visitComplaints = selectedPatient.complaints.filter(x => new Date(x.date.substr(0, 10) * 1000).toISOString().substring(0, 10) === visitDate); // let visitSurveys = selectedPatient.surveys.filter(x=> new Date(x.date.substr(0,10)*1000).toISOString() === visitDate);\n\n        let visitVitals = selectedPatient.vitals.filter(x => new Date(x.date.substr(0, 10) * 1000).toISOString().substring(0, 10) === visitDate);\n        let visitSystematicInquiry = selectedPatient.systematicInquiry.filter(x => new Date(x.date.substr(0, 10) * 1000).toISOString().substring(0, 10) === visitDate);\n        let visitExaminations = selectedPatient.examination.filter(x => new Date(x.date.substr(0, 10) * 1000).toISOString().substring(0, 10) === visitDate);\n        let visitHistory = selectedPatient.history.filter(x => new Date(x.date.substr(0, 10) * 1000).toISOString().substring(0, 10) === visitDate);\n        let visitInvestigations = selectedPatient.investigation.filter(x => new Date(x.date.substr(0, 10) * 1000).toISOString().substring(0, 10) === visitDate);\n        let visitDiagnosis = selectedPatient.diagnosis.filter(x => new Date(x.date.substr(0, 10) * 1000).toISOString().substring(0, 10) === visitDate);\n        let visitTreatments = selectedPatient.treatment.filter(x => new Date(x.date.substr(0, 10) * 1000).toISOString().substring(0, 10) === visitDate);\n        let visitBilling = selectedPatient.billing.filter(x => new Date(x.date.substr(0, 10) * 1000).toISOString().substring(0, 10) === visitDate);\n        let visitVigilance = selectedPatient.vigilance.filter(x => new Date(x.date.substr(0, 10) * 1000).toISOString().substring(0, 10) === visitDate);\n        const visit = {\n          date: visitDate,\n          patientName: argsPatientName,\n          consultant: visitConsultants,\n          complaint: visitComplaints,\n          examination: visitExaminations,\n          survey: visitSurveys,\n          systematicInquiry: visitSystematicInquiry,\n          vitals: visitVitals,\n          history: visitHistory,\n          investigation: visitInvestigations,\n          diagnosis: visitDiagnosis,\n          treatment: visitTreatments,\n          billing: visitBilling,\n          vigilance: visitVigilance\n        };\n        selectedPatientAppointmentVisitArray.push(visit);\n      }\n\n      this.setState({\n        visitList: selectedPatientAppointmentVisitArray\n      });\n    };\n\n    this.getVisitListAsc = () => {\n      let list = this.state.visitList;\n      list.sort((a, b) => {\n        if (a.date < b.date) return -1;\n        return a.date > b.date ? 1 : 0;\n      });\n      this.setState({\n        visitList: list\n      });\n    };\n\n    this.getVisitListDesc = () => {\n      let list = this.state.visitList;\n      list.sort((a, b) => {\n        if (a.date < b.date) return 1;\n        return a.date > b.date ? -1 : 0;\n      });\n      this.setState({\n        visitList: list\n      });\n    };\n\n    this.modalCancelHandler = () => {\n      this.setState({\n        creating: false,\n        updating: false,\n        searching: false,\n        selectedPatient: null\n      });\n    };\n\n    this.fetchPatientsAsc = () => {\n      const userId = this.context.userId;\n      const token = this.context.token; // this.setState({ isLoading: true });\n\n      const requestBody = {\n        query: `\n          query {patientsNameAsc(userId:\"${userId}\")\n          {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n        `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        const patients = resData.data.patientsNameAsc;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.setState({\n          userAlert: responseAlert\n        });\n        this.context.patients = patients;\n        this.setState({\n          patients: patients\n        }); // if (this.isActive) {\n        //   this.setState({ patients: patients, isLoading: false });\n        // }\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        }); // if (this.isActive) {\n        //   this.setState({ isLoading: false });\n        // }\n      });\n    };\n\n    this.fetchPatientsDesc = () => {\n      const userId = this.context.userId;\n      const token = this.context.token; // this.setState({ isLoading: true });\n\n      const requestBody = {\n        query: `\n          query {patientsNameDesc(userId:\"${userId}\")\n          {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n        `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        const patients = resData.data.patientsNameDesc;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.setState({\n          userAlert: responseAlert\n        });\n        this.context.patients = patients; // if (this.isActive) {\n        //   this.setState({ patients: patients, isLoading: false });\n        // }\n\n        this.setState({\n          patients: patients\n        });\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        }); // if (this.isActive) {\n        //   this.setState({ isLoading: false });\n        // }\n      });\n    };\n\n    this.modalDeleteHandler = () => {\n      const selectedPatientId = this.context.selectedPatient._id;\n      const userId = this.context.selectedUser._id;\n\n      if (this.context.user.role !== 'admin') {\n        this.setState({\n          userAlert: \"Not the Admin! No edit permission!!\"\n        });\n      }\n\n      this.setState({\n        deleting: true,\n        userAlert: \"Deleting selected Patient...\"\n      });\n      const requestBody = {\n        query: `\n          mutation {deletePatient(userId:\"${userId}\",patientId:\"${selectedPatientId}\")\n          {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n        `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + this.context.token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        let deletedPatient = resData.data.deletePatient;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.setState({\n          userAlert: responseAlert\n        });\n        let deletedPatientId = deletedPatient._id;\n        deletedPatient = this.state.patients.find(e => e._id === deletedPatientId);\n        const deletedPatientPos = this.state.patients.indexOf(deletedPatient);\n        const slicedArray = this.state.patients.splice(deletedPatientPos, 1);\n        this.setState({\n          deleting: false\n        });\n        this.fetchPatients();\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        });\n\n        if (this.isActive) {\n          this.setState({\n            deleting: false\n          });\n        }\n      });\n    };\n\n    this.deletePatientInsuranceItem = props => {\n      const token = this.context.token;\n      const userId = this.context.userId;\n      const patientId = this.state.selectedPatient._id;\n      const requestBody = {\n        query: `\n         mutation {deletePatientInsurance (userId:\"${userId}\", patientId:\"${patientId}\",insuranceCompany:\"${props.company}\",insuranceNumber:\"${props.number}\")\n         {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n      `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        let deletedPatient = resData.data.deletePatientInsurance;\n        const updatedPatientId = resData.data.deletePatientInsurance._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.deletePatientInsurance);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.setState({\n          userAlert: responseAlert\n        });\n        this.fetchPatients();\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        });\n      });\n    };\n\n    this.deletePatientAppointmentItem = props => {\n      const token = this.context.token;\n      const userId = this.context.userId;\n      const patientId = this.state.selectedPatient._id;\n      const date = new Date(props.date.substr(0, 10) * 1000).toISOString().slice(0, 10);\n      const requestBody = {\n        query: `\n         mutation {deletePatientAppointment (userId:\"${userId}\", patientId:\"${patientId}\",appointmentId:\"${props._id}\",appointmentDate:\"${date}\")\n         {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n      `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        let deletedPatient = resData.data.deletePatientAppointment;\n        const updatedPatientId = resData.data.deletePatientAppointment._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.deletePatientAppointment);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.setState({\n          userAlert: responseAlert\n        });\n        this.fetchPatients();\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        });\n      });\n    };\n\n    this.deletePatientConsultantItem = props => {\n      const token = this.context.token;\n      const userId = this.context.userId;\n      const patientId = this.state.selectedPatient._id;\n      const date = new Date(props.date.substr(0, 10) * 1000).toISOString().slice(0, 10);\n      const requestBody = {\n        query: `\n         mutation {deletePatientConsultant (userId:\"${userId}\", patientId:\"${patientId}\",consultantId:\"${props.reference.id}\",consultantDate:\"${date}\")\n         {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n      `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        let deletedPatient = resData.data.deletePatientConsultant;\n        const updatedPatientId = resData.data.deletePatientConsultant._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.deletePatientConsultant);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.setState({\n          userAlert: responseAlert\n        });\n        this.fetchPatients();\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        });\n      });\n    };\n\n    this.deletePatientNextOfKinItem = props => {\n      let token = this.context.token;\n      let userId = this.context.userId;\n      let patientId = this.state.selectedPatient._id;\n      console.log(`\n    delete patient nextOfKin item:\n    props: ${JSON.stringify(props)},\n    token: ${token},\n    userId: ${userId},\n    patientId: ${patientId},\n    `);\n      const requestBody = {\n        query: `\n       mutation {deletePatientNextOfKin (userId:\"${userId}\", patientId:\"${patientId}\",nextOfKinName:\"${props.name}\")\n       {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        let deletedPatient = resData.data.deletePatientNextOfKin;\n        console.log(deletedPatient);\n        const updatedPatientId = resData.data.deletePatientNextOfKin._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        console.log(\"updatedPatient:  \", JSON.stringify(updatedPatient), \"  updatedPatientPos:  \", updatedPatientPos, \"  slicedArray:  \", slicedArray);\n        this.state.patients.push(resData.data.deletePatientNextOfKin);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.setState({\n          userAlert: responseAlert\n        });\n        this.fetchPatients();\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.deletePatientComplaintItem = props => {\n      let token = this.context.token;\n      let userId = this.context.userId;\n      let patientId = this.state.selectedPatient._id;\n      let date = new Date(props.date.substr(0, 10) * 1000).toISOString().slice(0, 10);\n      console.log(`\n    delete patient Complaint item:\n    props: ${JSON.stringify(props)},\n    token: ${token},\n    userId: ${userId},\n    patientId: ${patientId},\n    complaint date: ${date},\n    `);\n      const requestBody = {\n        query: `\n       mutation {deletePatientComplaint (userId:\"${userId}\", patientId:\"${patientId}\",complaintTitle:\"${props.title}\",complaintDate:\"${date}\")\n       {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        let deletedPatient = resData.data.deletePatientComplaint;\n        console.log(deletedPatient);\n        const updatedPatientId = resData.data.deletePatientComplaint._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        console.log(\"updatedPatient:  \", JSON.stringify(updatedPatient), \"  updatedPatientPos:  \", updatedPatientPos, \"  slicedArray:  \", slicedArray);\n        this.state.patients.push(resData.data.deletePatientComplaint);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.setState({\n          userAlert: responseAlert\n        });\n        this.fetchPatients();\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.deletePatientSurveyItem = props => {\n      let token = this.context.token;\n      let userId = this.context.userId;\n      let patientId = this.state.selectedPatient._id;\n      let date = new Date(props.date.substr(0, 10) * 1000).toISOString().slice(0, 10);\n      console.log(`\n    delete patient Survey item:\n    props: ${JSON.stringify(props)},\n    token: ${token},\n    userId: ${userId},\n    patientId: ${patientId},\n    survey date: ${date}\n    `);\n      const requestBody = {\n        query: `\n       mutation {deletePatientSurvey (userId:\"${userId}\", patientId:\"${patientId}\",surveyTitle:\"${props.title}\",surveyDate:\"${date}\")\n       {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        let deletedPatient = resData.data.deletePatientSurvey;\n        console.log(deletedPatient);\n        const updatedPatientId = resData.data.deletePatientSurvey._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        console.log(\"updatedPatient:  \", JSON.stringify(updatedPatient), \"  updatedPatientPos:  \", updatedPatientPos, \"  slicedArray:  \", slicedArray);\n        this.state.patients.push(resData.data.deletePatientSurvey);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.setState({\n          userAlert: responseAlert\n        });\n        this.fetchPatients();\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.deletePatientSystematicInquiryItem = props => {\n      let token = this.context.token;\n      let userId = this.context.userId;\n      let patientId = this.state.selectedPatient._id;\n      let date = new Date(props.date.substr(0, 10) * 1000).toISOString().slice(0, 10);\n      console.log(`\n    delete patient SystematicInquiry item:\n    props: ${JSON.stringify(props)},\n    token: ${token},\n    userId: ${userId},\n    patientId: ${patientId},\n    systematicInquiry date: ${date}\n    `);\n      const requestBody = {\n        query: `\n       mutation {deletePatientSystematicInquiry (userId:\"${userId}\", patientId:\"${patientId}\",systematicInquiryTitle:\"${props.title}\",systematicInquiryDate:\"${date}\")\n       {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        let deletedPatient = resData.data.deletePatientSystematicInquiry;\n        console.log(deletedPatient);\n        const updatedPatientId = resData.data.deletePatientSystematicInquiry._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        console.log(\"updatedPatient:  \", JSON.stringify(updatedPatient), \"  updatedPatientPos:  \", updatedPatientPos, \"  slicedArray:  \", slicedArray);\n        this.state.patients.push(resData.data.deletePatientSystematicInquiry);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.setState({\n          userAlert: responseAlert\n        });\n        this.fetchPatients();\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.deletePatientVitalsItem = props => {\n      let token = this.context.token;\n      let userId = this.context.userId;\n      let patientId = this.state.selectedPatient._id;\n      let date = new Date(props.date.substr(0, 10) * 1000).toISOString().slice(0, 10);\n      console.log(`\n    delete patient Vitals item:\n    props: ${JSON.stringify(props)},\n    token: ${token},\n    userId: ${userId},\n    patientId: ${patientId},\n    vitals date: ${date},\n    `);\n      const requestBody = {\n        query: `\n       mutation {deletePatientVitals (userId:\"${userId}\", patientId:\"${patientId}\",vitalsDate:\"${date}\")\n       {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        let deletedPatient = resData.data.deletePatientVitals;\n        console.log(deletedPatient);\n        const updatedPatientId = resData.data.deletePatientVitals._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        console.log(\"updatedPatient:  \", JSON.stringify(updatedPatient), \"  updatedPatientPos:  \", updatedPatientPos, \"  slicedArray:  \", slicedArray);\n        this.state.patients.push(resData.data.deletePatientVitals);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.setState({\n          userAlert: responseAlert\n        });\n        this.fetchPatients();\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.deletePatientExaminationItem = props => {\n      let token = this.context.token;\n      let userId = this.context.userId;\n      let patientId = this.state.selectedPatient._id;\n      let date = new Date(props.date.substr(0, 10) * 1000).toISOString().slice(0, 10);\n      console.log(`\n    delete patient Examination item:\n    props: ${JSON.stringify(props)},\n    token: ${token},\n    userId: ${userId},\n    patientId: ${patientId},\n    examination date: ${date},\n    `);\n      const requestBody = {\n        query: `\n       mutation {deletePatientExamination (userId:\"${userId}\", patientId:\"${patientId}\",examinationType:\"${props.type}\",examinationDate:\"${date}\")\n       {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        let deletedPatient = resData.data.deletePatientExamination;\n        console.log(deletedPatient);\n        const updatedPatientId = resData.data.deletePatientExamination._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        console.log(\"updatedPatient:  \", JSON.stringify(updatedPatient), \"  updatedPatientPos:  \", updatedPatientPos, \"  slicedArray:  \", slicedArray);\n        this.state.patients.push(resData.data.deletePatientExamination);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.setState({\n          userAlert: responseAlert\n        });\n        this.fetchPatients();\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.deletePatientHistoryItem = props => {\n      let token = this.context.token;\n      let userId = this.context.userId;\n      let patientId = this.state.selectedPatient._id;\n      let date = new Date(props.date.substr(0, 10) * 1000).toISOString().slice(0, 10);\n      console.log(`\n    delete patient History item:\n    props: ${JSON.stringify(props)},\n    token: ${token},\n    userId: ${userId},\n    patientId: ${patientId},\n    history date: ${date},\n    `);\n      const requestBody = {\n        query: `\n       mutation {deletePatientHistory (userId:\"${userId}\", patientId:\"${patientId}\",historyTitle:\"${props.title}\",historyDate:\"${date}\")\n       {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        let deletedPatient = resData.data.deletePatientHistory;\n        console.log(deletedPatient);\n        const updatedPatientId = resData.data.deletePatientHistory._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        console.log(\"updatedPatient:  \", JSON.stringify(updatedPatient), \"  updatedPatientPos:  \", updatedPatientPos, \"  slicedArray:  \", slicedArray);\n        this.state.patients.push(resData.data.deletePatientHistory);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.setState({\n          userAlert: responseAlert\n        });\n        this.fetchPatients();\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.deletePatientAllergiesItem = props => {\n      let token = this.context.token;\n      let userId = this.context.userId;\n      let patientId = this.state.selectedPatient._id;\n      console.log(`\n    delete patient Allergies item:\n    props: ${JSON.stringify(props)},\n    token: ${token},\n    userId: ${userId},\n    patientId: ${patientId},\n    `);\n      const requestBody = {\n        query: `\n       mutation {deletePatientAllergies (userId:\"${userId}\", patientId:\"${patientId}\",allergiesTitle:\"${props.title}\",allergiesType:\"${props.type}\")\n       {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        let deletedPatient = resData.data.deletePatientAllergies;\n        console.log(deletedPatient);\n        const updatedPatientId = resData.data.deletePatientAllergies._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        console.log(\"updatedPatient:  \", JSON.stringify(updatedPatient), \"  updatedPatientPos:  \", updatedPatientPos, \"  slicedArray:  \", slicedArray);\n        this.state.patients.push(resData.data.deletePatientAllergies);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.setState({\n          userAlert: responseAlert\n        });\n        this.fetchPatients();\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.deletePatientMedicationItem = props => {\n      let token = this.context.token;\n      let userId = this.context.userId;\n      let patientId = this.state.selectedPatient._id;\n      console.log(`\n    delete patient Medication item:\n    props: ${JSON.stringify(props)},\n    token: ${token},\n    userId: ${userId},\n    patientId: ${patientId},\n    `);\n      const requestBody = {\n        query: `\n       mutation {deletePatientMedication (userId:\"${userId}\", patientId:\"${patientId}\",medicationTitle:\"${props.title}\",medicationType:\"${props.type}\")\n       {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        let deletedPatient = resData.data.deletePatientMedication;\n        console.log(deletedPatient);\n        const updatedPatientId = resData.data.deletePatientMedication._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        console.log(\"updatedPatient:  \", JSON.stringify(updatedPatient), \"  updatedPatientPos:  \", updatedPatientPos, \"  slicedArray:  \", slicedArray);\n        this.state.patients.push(resData.data.deletePatientMedication);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.setState({\n          userAlert: responseAlert\n        });\n        this.fetchPatients();\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.deletePatientInvestigationItem = props => {\n      let token = this.context.token;\n      let userId = this.context.userId;\n      let patientId = this.state.selectedPatient._id;\n      let date = new Date(props.date.substr(0, 10) * 1000).toISOString().slice(0, 10);\n      console.log(`\n    delete patient Investigation item:\n    props: ${JSON.stringify(props)},\n    token: ${token},\n    userId: ${userId},\n    patientId: ${patientId},\n    investigation date: ${date},\n    `);\n      const requestBody = {\n        query: `\n       mutation {deletePatientInvestigation (userId:\"${userId}\", patientId:\"${patientId}\",investigationDate:\"${date}\",investigationTitle:\"${props.title}\")\n       {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        let deletedPatient = resData.data.deletePatientInvestigation;\n        console.log(deletedPatient);\n        const updatedPatientId = resData.data.deletePatientInvestigation._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        console.log(\"updatedPatient:  \", JSON.stringify(updatedPatient), \"  updatedPatientPos:  \", updatedPatientPos, \"  slicedArray:  \", slicedArray);\n        this.state.patients.push(resData.data.deletePatientInvestigation);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.setState({\n          userAlert: responseAlert\n        });\n        this.fetchPatients();\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.deletePatientDiagnosisItem = props => {\n      let token = this.context.token;\n      let userId = this.context.userId;\n      let patientId = this.state.selectedPatient._id;\n      let date = new Date(props.date.substr(0, 10) * 1000).toISOString().slice(0, 10);\n      console.log(`\n    delete patient Diagnosis item:\n    props: ${JSON.stringify(props)},\n    token: ${token},\n    userId: ${userId},\n    patientId: ${patientId},\n    diagnosis date: ${date}\n    `);\n      const requestBody = {\n        query: `\n       mutation {deletePatientDiagnosis (userId:\"${userId}\",patientId:\"${patientId}\",diagnosisDate:\"${date}\",diagnosisTitle:\"${props.title}\")\n       {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        let deletedPatient = resData.data.deletePatientDiagnosis;\n        console.log(deletedPatient);\n        const updatedPatientId = resData.data.deletePatientDiagnosis._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        console.log(\"updatedPatient:  \", JSON.stringify(updatedPatient), \"  updatedPatientPos:  \", updatedPatientPos, \"  slicedArray:  \", slicedArray);\n        this.state.patients.push(resData.data.deletePatientDiagnosis);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.setState({\n          userAlert: responseAlert\n        });\n        this.fetchPatients();\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.deletePatientTreatmentItem = props => {\n      let token = this.context.token;\n      let userId = this.context.userId;\n      let patientId = this.state.selectedPatient._id;\n      let date = new Date(props.date.substr(0, 10) * 1000).toISOString().slice(0, 10);\n      console.log(`\n    delete patient Treatment item:\n    props: ${JSON.stringify(props)},\n    token: ${token},\n    userId: ${userId},\n    patientId: ${patientId},\n    treatment date: ${date},\n    `);\n      const requestBody = {\n        query: `\n       mutation {deletePatientTreatment (userId:\"${userId}\", patientId:\"${patientId}\",treatmentDate:\"${date}\",treatmentTitle:\"${props.title}\")\n       {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        let deletedPatient = resData.data.deletePatientTreatment;\n        console.log(deletedPatient);\n        const updatedPatientId = resData.data.deletePatientTreatment._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        console.log(\"updatedPatient:  \", JSON.stringify(updatedPatient), \"  updatedPatientPos:  \", updatedPatientPos, \"  slicedArray:  \", slicedArray);\n        this.state.patients.push(resData.data.deletePatientTreatment);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.setState({\n          userAlert: responseAlert\n        });\n        this.fetchPatients();\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.deletePatientBillingItem = props => {\n      let token = this.context.token;\n      let userId = this.context.userId;\n      let patientId = this.state.selectedPatient._id;\n      let date = new Date(props.date.substr(0, 10) * 1000).toISOString().slice(0, 10);\n      console.log(`\n    delete patient Billing item:\n    props: ${JSON.stringify(props)},\n    token: ${token},\n    userId: ${userId},\n    patientId: ${patientId},\n    billing date: ${date},\n    `);\n      const requestBody = {\n        query: `\n       mutation {deletePatientBilling (userId:\"${userId}\", patientId:\"${patientId}\",billingDate:\"${date}\",billingTitle:\"${props.title}\")\n       {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        let deletedPatient = resData.data.deletePatientBilling;\n        console.log(deletedPatient);\n        const updatedPatientId = resData.data.deletePatientBilling._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        console.log(\"updatedPatient:  \", JSON.stringify(updatedPatient), \"  updatedPatientPos:  \", updatedPatientPos, \"  slicedArray:  \", slicedArray);\n        this.state.patients.push(resData.data.deletePatientBilling);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.setState({\n          userAlert: responseAlert\n        });\n        this.fetchPatients();\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.deletePatientVigilanceItem = props => {\n      let token = this.context.token;\n      let userId = this.context.userId;\n      let patientId = this.state.selectedPatient._id;\n      let date = new Date(props.date.substr(0, 10) * 1000).toISOString().slice(0, 10);\n      console.log(`\n    delete patient Vigilance item:\n    props: ${JSON.stringify(props)},\n    token: ${token},\n    userId: ${userId},\n    patientId: ${patientId},\n    vigilance date: ${date},\n    `);\n      const requestBody = {\n        query: `\n       mutation {deletePatientVigilance (userId:\"${userId}\", patientId:\"${patientId}\",vigilanceDate:\"${date}\")\n       {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        let deletedPatient = resData.data.deletePatientVigilance;\n        console.log(deletedPatient);\n        const updatedPatientId = resData.data.deletePatientVigilance._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        console.log(\"updatedPatient:  \", JSON.stringify(updatedPatient), \"  updatedPatientPos:  \", updatedPatientPos, \"  slicedArray:  \", slicedArray);\n        this.state.patients.push(resData.data.deletePatientVigilance);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.setState({\n          userAlert: responseAlert\n        });\n        this.fetchPatients();\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.deletePatientAttachmentItem = props => {\n      let token = this.context.token;\n      let userId = this.context.userId;\n      let patientId = this.state.selectedPatient._id; // console.log(`\n      //   deleting from s3...\n      //   file.name: ${props.name},\n      //   `);\n      //\n      //   const config = {\n      //     bucketName: this.context.creds.s3.bucketName,\n      //     dirName: props.path,\n      //     region: this.context.creds.s3.region,\n      //     accessKeyId: this.context.creds.s3.accessKeyId,\n      //     secretAccessKey: this.context.creds.s3.secretAccessKey,\n      //   }\n      // const ReactS3Client = new S3(config);\n      // const filename = props.name;\n      // // const attachmentName = newFileName;\n      // //\n      // S3FileUpload\n      // .deleteFile(filename, config)\n      // .then(response => console.log(response))\n      // .catch(err => console.error(err))\n\n      console.log(`\n    delete patient Attachment item:\n    props: ${JSON.stringify(props)},\n    token: ${token},\n    userId: ${userId},\n    patientId: ${patientId},\n    `);\n      const requestBody = {\n        query: `\n       mutation {deletePatientAttachment (userId:\"${userId}\", patientId:\"${patientId}\",attachmentName:\"${props.name}\")\n       {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        let deletedPatient = resData.data.deletePatientAttachment;\n        console.log(deletedPatient);\n        const updatedPatientId = resData.data.deletePatientAttachment._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        console.log(\"updatedPatient:  \", JSON.stringify(updatedPatient), \"  updatedPatientPos:  \", updatedPatientPos, \"  slicedArray:  \", slicedArray);\n        this.state.patients.push(resData.data.deletePatientAttachment);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.setState({\n          userAlert: responseAlert\n        });\n        this.fetchPatients();\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.deletePatientNoteItem = props => {\n      let token = this.context.token;\n      let userId = this.context.userId;\n      let patientId = this.state.selectedPatient._id;\n      console.log(`\n    delete patient Note item:\n    props: ${JSON.stringify(props)},\n    token: ${token},\n    userId: ${userId},\n    patientId: ${patientId},\n    `);\n      const requestBody = {\n        query: `\n      mutation {deletePatientNote (userId:\"${userId}\", patientId:\"${patientId}\",note:\"${props}\")\n      {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        let deletedPatient = resData.data.deletePatientNote;\n        console.log(deletedPatient);\n        const updatedPatientId = resData.data.deletePatientNote._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        console.log(\"updatedPatient:  \", JSON.stringify(updatedPatient), \"  updatedPatientPos:  \", updatedPatientPos, \"  slicedArray:  \", slicedArray);\n        this.state.patients.push(resData.data.deletePatientNote);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.setState({\n          userAlert: responseAlert\n        });\n        this.fetchPatients();\n      }).catch(err => {\n        console.log(err);\n      });\n    };\n\n    this.deletePatientTagItem = props => {\n      let token = this.context.token;\n      let userId = this.context.userId;\n      let patientId = this.state.selectedPatient._id;\n      console.log(`\n    delete patient Tag item:\n    props: ${JSON.stringify(props)},\n    token: ${token},\n    userId: ${userId},\n    patientId: ${patientId},\n    `);\n      const requestBody = {\n        query: `\n      mutation {deletePatientTag (userId:\"${userId}\", patientId:\"${patientId}\",tag:\"${props}\")\n      {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        let deletedPatient = resData.data.deletePatientTag;\n        console.log(deletedPatient);\n        const updatedPatientId = resData.data.deletePatientTag._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        console.log(\"updatedPatient:  \", JSON.stringify(updatedPatient), \"  updatedPatientPos:  \", updatedPatientPos, \"  slicedArray:  \", slicedArray);\n        this.state.patients.push(resData.data.deletePatientTag);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.setState({\n          userAlert: responseAlert\n        });\n        this.fetchPatients();\n      }).catch(err => {\n        console.log(err);\n        this.setState({\n          userAlert: err\n        });\n      });\n    };\n\n    this.onViewAttachment = attachment => {\n      console.log(`\n      setting up attachment viewer...\n      attachment: ${JSON.stringify(attachment)}\n      `);\n      this.setState({\n        showAttachment: true\n      });\n      const file = \"https://ent-emr-bucket.s3-us-east-2.amazonaws.com/\" + attachment.path + \"/\" + attachment.name;\n      const type = attachment.format;\n      this.setState({\n        showThisAttachmentFile: file,\n        showThisAttachmentType: type\n      });\n    };\n\n    this.closeAttachmentView = () => {\n      console.log(`\n      closing attachment viewer...\n      `);\n      this.setState({\n        showAttachment: false\n      });\n    };\n\n    this.createPdf = patient => {\n      console.log(`\n        creating pdf...\n        user: ${JSON.stringify(patient)}\n      `);\n      const pdfData = {\n        title: \"This pdf is supplied with Patient data...\",\n        patient: {\n          _id: patient._id,\n          title: patient.title,\n          name: patient.name,\n          dob: patient.dob,\n          age: patient.age,\n          gender: patient.gender,\n          address: {\n            number: patient.number,\n            street: patient.street,\n            town: patient.town,\n            parish: patient.parish,\n            postOffice: patient.postOffice\n          },\n          registrationDate: patient.registrationDate,\n          referralDate: patient.referralDate,\n          expirationDate: patient.expirationDate,\n          attendingPhysician: {\n            name: patient.attendingPhysician.name,\n            email: patient.attendingPhysician.email,\n            phone: patient.attendingPhysician.phone\n          },\n          referringDoctor: {\n            name: patient.referringDoctor.name,\n            email: patient.referringDoctor.email,\n            phone: patient.referringDoctor.phone\n          },\n          contact: {\n            phone: patient.contact.phone,\n            email: patient.contact.email\n          },\n          occupation: {\n            role: patient.occupation.role,\n            employer: patient.occupation.employer,\n            contact: {\n              phone: patient.occupation.contact.phone,\n              email: patient.occupation.contact.email\n            }\n          },\n          appointments: patient.appointments,\n          consultant: patient.consultant,\n          insurance: patient.insurance,\n          nextOfKin: patient.nextOfKin,\n          complaints: patient.complaints,\n          surveys: patient.surveys,\n          systematicInquiry: patient.systematicInquiry,\n          vitals: patient.vitals,\n          examination: patient.examination,\n          history: patient.history,\n          allergies: patient.allergies,\n          medication: patient.medication,\n          investigation: patient.investigation,\n          diagnosis: patient.diagnosis,\n          treatment: patient.treatment,\n          billing: patient.billing,\n          vigilance: patient.vigilance,\n          attachments: patient.attachments,\n          notes: patient.notes,\n          tags: patient.tags\n        }\n      };\n      this.setState({\n        createPdf: true,\n        pdfData: pdfData\n      });\n    };\n\n    this.closePdfCreator = () => {\n      console.log(`\n      closing pdf creator...\n      `);\n      this.setState({\n        createPdf: false,\n        pdfData: null\n      });\n    };\n\n    this.showDetailHandler = patientId => {\n      this.setState({\n        visitList: []\n      });\n      this.setState(prevState => {\n        const selectedPatient = prevState.patients.find(e => e._id === patientId);\n        this.context.selectedPatient = selectedPatient;\n        this.context.selectedPatientId = selectedPatient._id;\n        console.log(\"selectedPatient:  \", selectedPatient);\n        return {\n          selectedPatient: selectedPatient\n        };\n      });\n    };\n\n    this.selectVisit = props => {\n      console.log(`\n      changing selected visit ...\n      event: ${JSON.stringify(props)},\n      `);\n      this.setState({\n        selectedVisit: props\n      });\n    };\n\n    this.closeVisit = () => {\n      console.log(`\n      clearing selected visits...\n      `);\n      this.setState({\n        visit: null,\n        selectedVisit: null\n      });\n    };\n\n    this.createVisitChecklistUpdate = props => {\n      console.log(`\n      updating create-visit checklist...\n      props: ${props},\n      `);\n      this.setState({\n        userAlert: `creating visit: ${props} addedd...`\n      });\n      let newState = Object.assign({}, this.state);\n      newState.createVisitChecklist[props] = true;\n      this.setState(newState);\n    };\n\n    this.newVisitComplete = () => {\n      console.log(`\n      finished adding new visit...\n      `);\n      this.setState({\n        newVisit: false,\n        createVisitChecklist: {\n          consultant: true,\n          complaint: true,\n          diagnosis: true,\n          examination: true,\n          investigation: true,\n          survey: true,\n          systematicInquiry: true,\n          treatment: true,\n          vitals: true,\n          billing: true,\n          vigilance: true\n        }\n      });\n    };\n\n    this.nameElRef = React.createRef();\n  }\n\n  componentDidMount() {\n    if (this.context.user.name === \"Lord-of-the-Manor\") {\n      this.setState({\n        canDelete: true\n      });\n    }\n\n    this.fetchPatients();\n  }\n\n  fetchPatients() {\n    const userId = this.context.userId;\n    const token = this.context.token;\n    this.setState({\n      isLoading: true,\n      userAlert: \"Fetching Patient Master List...\"\n    });\n    const requestBody = {\n      query: `\n          query {patients(userId:\"${userId}\")\n          {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n        `\n    };\n    fetch('http://localhost:10000/graphql', {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + token\n      }\n    }).then(res => {\n      if (res.status !== 200 && res.status !== 201) {\n        throw new Error('Failed!');\n      }\n\n      return res.json();\n    }).then(resData => {\n      const patients = resData.data.patients;\n      const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n      this.setState({\n        userAlert: responseAlert\n      });\n      this.context.patients = this.state.patients;\n\n      if (this.isActive) {\n        this.setState({\n          patients: patients,\n          isLoading: false\n        });\n      }\n    }).catch(err => {\n      this.setState({\n        userAlert: err\n      });\n\n      if (this.isActive) {\n        this.setState({\n          isLoading: false\n        });\n      }\n    });\n  }\n\n  updatePatientSpecial(event) {\n    console.log(\"special field to update:  \", event.target.value);\n    const field = event.target.value;\n    this.setState({\n      patientUpdateField: field\n    });\n  }\n\n  componentWillUnmount() {\n    this.isActive = false;\n  }\n\n  render() {\n    return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3607\n      },\n      __self: this\n    }, this.state.showAttachment === true && React.createElement(AttachmentViewer, {\n      onCloseAttachmentView: this.closeAttachmentView,\n      attachmentFile: this.state.showThisAttachmentFile,\n      attachmentType: this.state.showThisAttachmentType,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3609\n      },\n      __self: this\n    }), this.state.createPdf === true && React.createElement(PdfCreator, {\n      pdfData: this.state.pdfData,\n      onClosePdfCreator: this.closePdfCreator,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3617\n      },\n      __self: this\n    }), React.createElement(Accordion, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3623\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3625\n      },\n      __self: this\n    }, React.createElement(Col, {\n      md: 3,\n      className: \"MasterCol1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3626\n      },\n      __self: this\n    }, React.createElement(AlertBox, {\n      authUserId: this.context.userId,\n      alert: this.state.userAlert,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3628\n      },\n      __self: this\n    }), React.createElement(SidebarPage, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3632\n      },\n      __self: this\n    })), React.createElement(Col, {\n      md: 9,\n      className: \"MasterCol2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3635\n      },\n      __self: this\n    }, React.createElement(Container, {\n      className: \"containerCombinedDetail\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3636\n      },\n      __self: this\n    }, React.createElement(Tab.Container, {\n      id: \"left-tabs-example\",\n      defaultActiveKey: \"patientDetail\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3638\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3639\n      },\n      __self: this\n    }, React.createElement(Col, {\n      sm: 2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3640\n      },\n      __self: this\n    }, React.createElement(Nav, {\n      variant: \"pills\",\n      className: \"flex-column\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3641\n      },\n      __self: this\n    }, React.createElement(Nav.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3642\n      },\n      __self: this\n    }, React.createElement(Nav.Link, {\n      eventKey: \"MasterList\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3643\n      },\n      __self: this\n    }, \"MASTER LIST\")), React.createElement(Nav.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3645\n      },\n      __self: this\n    }, React.createElement(Nav.Link, {\n      eventKey: \"patientDetail\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3646\n      },\n      __self: this\n    }, \"Selected\")), React.createElement(Nav.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3648\n      },\n      __self: this\n    }, React.createElement(Nav.Link, {\n      eventKey: \"patientCreate\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3649\n      },\n      __self: this\n    }, \"Create New\")), React.createElement(Nav.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3651\n      },\n      __self: this\n    }, React.createElement(Nav.Link, {\n      eventKey: \"disabled\",\n      disabled: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3652\n      },\n      __self: this\n    }, \"Edit:\")), React.createElement(Nav.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3654\n      },\n      __self: this\n    }, React.createElement(Nav.Link, {\n      eventKey: \"patientEditDemographics\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3655\n      },\n      __self: this\n    }, \"Demographics\")), React.createElement(Nav.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3657\n      },\n      __self: this\n    }, React.createElement(Nav.Link, {\n      eventKey: \"patientEditField\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3658\n      },\n      __self: this\n    }, \"Single Field\")), React.createElement(Nav.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3660\n      },\n      __self: this\n    }, React.createElement(Nav.Link, {\n      eventKey: \"disabled\",\n      disabled: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3661\n      },\n      __self: this\n    }, \"Add:\")), React.createElement(Nav.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3663\n      },\n      __self: this\n    }, React.createElement(Nav.Link, {\n      eventKey: \"patientAddVisit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3664\n      },\n      __self: this\n    }, \"Visit\")), React.createElement(Nav.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3666\n      },\n      __self: this\n    }, React.createElement(Nav.Link, {\n      eventKey: \"patientEditConsultant\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3667\n      },\n      __self: this\n    }, \"Consultant\")), React.createElement(Nav.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3669\n      },\n      __self: this\n    }, React.createElement(Nav.Link, {\n      eventKey: \"patientEditInsurance\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3670\n      },\n      __self: this\n    }, \"Insurance\")), React.createElement(Nav.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3672\n      },\n      __self: this\n    }, React.createElement(Nav.Link, {\n      eventKey: \"patientEditNextOfKin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3673\n      },\n      __self: this\n    }, \"Next of Kin\")), React.createElement(Nav.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3675\n      },\n      __self: this\n    }, React.createElement(Nav.Link, {\n      eventKey: \"patientEditComplaint\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3676\n      },\n      __self: this\n    }, \"History\")), React.createElement(Nav.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3678\n      },\n      __self: this\n    }, React.createElement(Nav.Link, {\n      eventKey: \"patientEditSurvey\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3679\n      },\n      __self: this\n    }, \"Survey\")), React.createElement(Nav.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3681\n      },\n      __self: this\n    }, React.createElement(Nav.Link, {\n      eventKey: \"patientEditSystematicInquiry\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3682\n      },\n      __self: this\n    }, \"Systematic Inquiry\")), React.createElement(Nav.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3684\n      },\n      __self: this\n    }, React.createElement(Nav.Link, {\n      eventKey: \"patientEditVitals\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3685\n      },\n      __self: this\n    }, \"Vitals\")), React.createElement(Nav.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3687\n      },\n      __self: this\n    }, React.createElement(Nav.Link, {\n      eventKey: \"patientEditExamination\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3688\n      },\n      __self: this\n    }, \"Examination\")), React.createElement(Nav.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3690\n      },\n      __self: this\n    }, React.createElement(Nav.Link, {\n      eventKey: \"patientEditHistory\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3691\n      },\n      __self: this\n    }, \"Past History\")), React.createElement(Nav.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3693\n      },\n      __self: this\n    }, React.createElement(Nav.Link, {\n      eventKey: \"patientEditAllergies\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3694\n      },\n      __self: this\n    }, \"Allergies\")), React.createElement(Nav.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3696\n      },\n      __self: this\n    }, React.createElement(Nav.Link, {\n      eventKey: \"patientEditMedication\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3697\n      },\n      __self: this\n    }, \"Medication\")), React.createElement(Nav.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3699\n      },\n      __self: this\n    }, React.createElement(Nav.Link, {\n      eventKey: \"patientEditInvestigation\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3700\n      },\n      __self: this\n    }, \"Investigation\")), React.createElement(Nav.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3702\n      },\n      __self: this\n    }, React.createElement(Nav.Link, {\n      eventKey: \"patientEditDiagnosis\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3703\n      },\n      __self: this\n    }, \"Diagnosis\")), React.createElement(Nav.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3705\n      },\n      __self: this\n    }, React.createElement(Nav.Link, {\n      eventKey: \"patientEditTreatment\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3706\n      },\n      __self: this\n    }, \"Treatment\")), React.createElement(Nav.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3708\n      },\n      __self: this\n    }, React.createElement(Nav.Link, {\n      eventKey: \"patientEditBilling\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3709\n      },\n      __self: this\n    }, \"Billing\")), React.createElement(Nav.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3711\n      },\n      __self: this\n    }, React.createElement(Nav.Link, {\n      eventKey: \"patientEditVigilance\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3712\n      },\n      __self: this\n    }, \"Vigilance\")), React.createElement(Nav.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3714\n      },\n      __self: this\n    }, React.createElement(Nav.Link, {\n      eventKey: \"patientEditAttachment\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3715\n      },\n      __self: this\n    }, \"Attachment\")), React.createElement(Nav.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3717\n      },\n      __self: this\n    }, React.createElement(Nav.Link, {\n      eventKey: \"patientEditNote\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3718\n      },\n      __self: this\n    }, \"Note\")), React.createElement(Nav.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3720\n      },\n      __self: this\n    }, React.createElement(Nav.Link, {\n      eventKey: \"patientEditTag\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3721\n      },\n      __self: this\n    }, \"Tag\")), React.createElement(Nav.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3724\n      },\n      __self: this\n    }, React.createElement(Nav.Link, {\n      eventKey: \"disabled\",\n      disabled: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3725\n      },\n      __self: this\n    }, \"Search:\")), React.createElement(Nav.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3727\n      },\n      __self: this\n    }, React.createElement(Nav.Link, {\n      eventKey: \"SearchInput\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3728\n      },\n      __self: this\n    }, \"Input\")), React.createElement(Nav.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3730\n      },\n      __self: this\n    }, React.createElement(Nav.Link, {\n      eventKey: \"SearchResult\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3731\n      },\n      __self: this\n    }, \"Search\")))), React.createElement(Col, {\n      sm: 10,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3735\n      },\n      __self: this\n    }, React.createElement(Tab.Content, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3736\n      },\n      __self: this\n    }, React.createElement(Tab.Pane, {\n      eventKey: \"patientDetail\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3737\n      },\n      __self: this\n    }, this.state.selectedPatient === null && React.createElement(Button, {\n      variant: \"outline-warning\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3740\n      },\n      __self: this\n    }, \"Select a Patient from the Master List\"), this.state.selectedPatient === null && React.createElement(Button, {\n      variant: \"outline-danger\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3746\n      },\n      __self: this\n    }, \"Don't forget to select someone from the Staff page before editing Patient Consultant information !!!\"), this.state.isLoading === false && this.state.selectedPatient !== null && React.createElement(PatientDetail, {\n      authUserId: this.context.userId,\n      token: this.context.token,\n      patient: this.state.selectedPatient,\n      onEdit: this.startUpdatePatientHandler,\n      canDelete: this.state.canDelete,\n      onDelete: this.modalDeleteHandler,\n      onGetVisit: this.getPatientVisit,\n      visit: this.state.visit,\n      selectedVisit: this.state.selectedVisit,\n      fetchUsers: this.fetchUsers,\n      appointmentDelete: this.deletePatientAppointmentItem,\n      consultantDelete: this.deletePatientConsultantItem,\n      insuranceDelete: this.deletePatientInsuranceItem,\n      nextOfKinDelete: this.deletePatientNextOfKinItem,\n      complaintDelete: this.deletePatientComplaintItem,\n      surveyDelete: this.deletePatientSurveyItem,\n      systematicInquiryDelete: this.deletePatientSystematicInquiryItem,\n      vitalsDelete: this.deletePatientVitalsItem,\n      examinationDelete: this.deletePatientExaminationItem,\n      historyDelete: this.deletePatientHistoryItem,\n      allergiesDelete: this.deletePatientAllergiesItem,\n      medicationDelete: this.deletePatientMedicationItem,\n      investigationDelete: this.deletePatientInvestigationItem,\n      diagnosisDelete: this.deletePatientDiagnosisItem,\n      treatmentDelete: this.deletePatientTreatmentItem,\n      billingDelete: this.deletePatientBillingItem,\n      vigilanceDelete: this.deletePatientVigilanceItem,\n      attachmentDelete: this.deletePatientAttachmentItem,\n      noteDelete: this.deletePatientNoteItem,\n      tagDelete: this.deletePatientTagItem,\n      onViewAttachment: this.onViewAttachment,\n      onCreatePdf: this.createPdf,\n      onGetVisitList: this.getVisitList,\n      visitList: this.state.visitList,\n      onSelectVisit: this.selectVisit,\n      onCloseVisit: this.closeVisit,\n      onSortVisitListAsc: this.getVisitListAsc,\n      onSortVisitListDesc: this.getVisitListDesc,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3752\n      },\n      __self: this\n    })), React.createElement(Tab.Pane, {\n      eventKey: \"patientCreate\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3795\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"outline-primary\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      onClick: this.startCreatePatientHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3796\n      },\n      __self: this\n    }, \"Create NEW Patient Profile\"), this.state.creating && React.createElement(CreatePatientForm, {\n      canCancel: true,\n      canConfirm: true,\n      onCancel: this.modalCancelHandler,\n      onConfirm: this.modalConfirmHandler,\n      confirmText: \"Confirm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3799\n      },\n      __self: this\n    })), React.createElement(Tab.Pane, {\n      eventKey: \"patientAddVisit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3809\n      },\n      __self: this\n    }, this.state.selectedPatient === null && React.createElement(Button, {\n      variant: \"outline-warning\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3811\n      },\n      __self: this\n    }, \"Select a Patient from the Master List\"), this.state.selectedPatient !== null && this.state.newVisit !== true && React.createElement(Button, {\n      variant: \"outline-primary\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      onClick: this.startCreateVisitHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3817\n      },\n      __self: this\n    }, \"Add NEW Visit\"), this.state.selectedPatient !== null && this.state.newVisit === true && React.createElement(Accordion, {\n      defaultActiveKey: \"0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3822\n      },\n      __self: this\n    }, React.createElement(Card, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3823\n      },\n      __self: this\n    }, React.createElement(Card.Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3824\n      },\n      __self: this\n    }, React.createElement(Accordion.Toggle, {\n      as: Button,\n      variant: \"link\",\n      eventKey: \"0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3825\n      },\n      __self: this\n    }, \"Guide:\")), React.createElement(Accordion.Collapse, {\n      eventKey: \"0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3829\n      },\n      __self: this\n    }, React.createElement(Card.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3830\n      },\n      __self: this\n    }, React.createElement(Card.Text, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3831\n      },\n      __self: this\n    }, \"To create a NEW Patient Visit, fill in the forms below.\"), React.createElement(Card.Text, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3835\n      },\n      __self: this\n    }, \"Everytime you submit a form with new info, a new item is added to the current Patient visit.\"), React.createElement(Card.Text, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3839\n      },\n      __self: this\n    }, \"When you are done with a section click the GREEN Done adding Complaints, Vitals etc and continue to the next form.\"), React.createElement(Card.Text, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3843\n      },\n      __self: this\n    }, \"Once you have submitted all the information required scroll to the bottom and click the green button.\")))), React.createElement(Card, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3849\n      },\n      __self: this\n    }, React.createElement(Card.Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3850\n      },\n      __self: this\n    }, React.createElement(Accordion.Toggle, {\n      as: Button,\n      variant: \"link\",\n      eventKey: \"1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3851\n      },\n      __self: this\n    }, \"Consultant\")), React.createElement(Accordion.Collapse, {\n      eventKey: \"1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3855\n      },\n      __self: this\n    }, React.createElement(Card.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3856\n      },\n      __self: this\n    }, \"Add Consultant form:\", this.state.createVisitChecklist.consultant === true && React.createElement(Button, {\n      variant: \"warning\",\n      size: \"lg\",\n      className: \"formButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3860\n      },\n      __self: this\n    }, \"Consultant for this Visit has already been added!!\"), this.state.createVisitChecklist.consultant === false && this.context.selectedUser === null && React.createElement(Button, {\n      variant: \"outline-warning\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3867\n      },\n      __self: this\n    }, \"Select someone from the Staff page\"), this.state.createVisitChecklist.consultant === false && this.context.selectedUser !== null && React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3873\n      },\n      __self: this\n    }, React.createElement(Card.Text, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3874\n      },\n      __self: this\n    }, \"Add Consultant: \", this.context.selectedUser.name, \"  ...\"), React.createElement(Card.Text, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3875\n      },\n      __self: this\n    }, \" To Paitient: \", this.state.selectedPatient.name, \" ??\")), this.state.createVisitChecklist.consultant === false && this.context.selectedUser !== null && React.createElement(UpdatePatientConsultantForm, {\n      authUserId: this.context.userId,\n      canConfirm: true,\n      onCancel: this.modalCancelHandler,\n      onConfirm: this.updatePatientConsultantHandler,\n      confirmText: \"Confirm\",\n      consultant: this.context.selectedUser,\n      visit: true,\n      onCreateVisitChecklistUpdate: this.createVisitChecklistUpdate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3881\n      },\n      __self: this\n    })))), React.createElement(Card, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3895\n      },\n      __self: this\n    }, React.createElement(Card.Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3896\n      },\n      __self: this\n    }, React.createElement(Accordion.Toggle, {\n      as: Button,\n      variant: \"link\",\n      eventKey: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3897\n      },\n      __self: this\n    }, \"Complaint\")), React.createElement(Accordion.Collapse, {\n      eventKey: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3901\n      },\n      __self: this\n    }, React.createElement(Card.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3902\n      },\n      __self: this\n    }, \"Add Complaint form:\", this.state.createVisitChecklist.complaint === true && React.createElement(Button, {\n      variant: \"warning\",\n      size: \"lg\",\n      className: \"formButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3906\n      },\n      __self: this\n    }, \"Complaint for this Visit has already been added!!\"), this.state.createVisitChecklist.complaint === false && React.createElement(UpdatePatientComplaintForm, {\n      authUserId: this.context.userId,\n      canConfirm: true,\n      onCancel: this.modalCancelHandler,\n      onConfirm: this.updatePatientComplaintHandler,\n      confirmText: \"Confirm\",\n      patient: this.state.selectedPatient,\n      visit: true,\n      onCreateVisitChecklistUpdate: this.createVisitChecklistUpdate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3911\n      },\n      __self: this\n    })))), React.createElement(Card, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3925\n      },\n      __self: this\n    }, React.createElement(Card.Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3926\n      },\n      __self: this\n    }, React.createElement(Accordion.Toggle, {\n      as: Button,\n      variant: \"link\",\n      eventKey: \"3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3927\n      },\n      __self: this\n    }, \"Vitals\")), React.createElement(Accordion.Collapse, {\n      eventKey: \"3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3931\n      },\n      __self: this\n    }, React.createElement(Card.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3932\n      },\n      __self: this\n    }, \"Add Vitals form:\", this.state.createVisitChecklist.vitals === true && React.createElement(Button, {\n      variant: \"warning\",\n      size: \"lg\",\n      className: \"formButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3936\n      },\n      __self: this\n    }, \"Vitals for this Visit have already been added!!\"), this.state.createVisitChecklist.vitals === false && React.createElement(UpdatePatientVitalsForm, {\n      authUserId: this.context.userId,\n      canConfirm: true,\n      onCancel: this.modalCancelHandler,\n      onConfirm: this.updatePatientVitalsHandler,\n      confirmText: \"Confirm\",\n      patient: this.state.selectedPatient,\n      visit: true,\n      onCreateVisitChecklistUpdate: this.createVisitChecklistUpdate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3941\n      },\n      __self: this\n    })))), React.createElement(Card, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3955\n      },\n      __self: this\n    }, React.createElement(Card.Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3956\n      },\n      __self: this\n    }, React.createElement(Accordion.Toggle, {\n      as: Button,\n      variant: \"link\",\n      eventKey: \"4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3957\n      },\n      __self: this\n    }, \"Examination\")), React.createElement(Accordion.Collapse, {\n      eventKey: \"4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3961\n      },\n      __self: this\n    }, React.createElement(Card.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3962\n      },\n      __self: this\n    }, \"Add Examination form:\", this.state.createVisitChecklist.examination === true && React.createElement(Button, {\n      variant: \"warning\",\n      size: \"lg\",\n      className: \"formButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3966\n      },\n      __self: this\n    }, \"Examination for this Visit has already been added!!\"), this.state.createVisitChecklist.examination === false && React.createElement(UpdatePatientExaminationForm, {\n      authUserId: this.context.userId,\n      canConfirm: true,\n      onCancel: this.modalCancelHandler,\n      onConfirm: this.updatePatientExaminationHandler,\n      confirmText: \"Confirm\",\n      patient: this.state.selectedPatient,\n      visit: true,\n      onCreateVisitChecklistUpdate: this.createVisitChecklistUpdate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3971\n      },\n      __self: this\n    })))), React.createElement(Card, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3985\n      },\n      __self: this\n    }, React.createElement(Card.Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3986\n      },\n      __self: this\n    }, React.createElement(Accordion.Toggle, {\n      as: Button,\n      variant: \"link\",\n      eventKey: \"5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3987\n      },\n      __self: this\n    }, \"Survey\")), React.createElement(Accordion.Collapse, {\n      eventKey: \"5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3991\n      },\n      __self: this\n    }, React.createElement(Card.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3992\n      },\n      __self: this\n    }, \"Add Survey form:\", this.state.createVisitChecklist.survey === true && React.createElement(Button, {\n      variant: \"warning\",\n      size: \"lg\",\n      className: \"formButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 3995\n      },\n      __self: this\n    }, \"Survey for this Visit has already been added!!\"), this.state.createVisitChecklist.survey === false && React.createElement(UpdatePatientSurveyForm, {\n      authUserId: this.context.userId,\n      canConfirm: true,\n      onCancel: this.modalCancelHandler,\n      onConfirm: this.updatePatientSurveyHandler,\n      confirmText: \"Confirm\",\n      patient: this.state.selectedPatient,\n      visit: true,\n      onCreateVisitChecklistUpdate: this.createVisitChecklistUpdate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4000\n      },\n      __self: this\n    })))), React.createElement(Card, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4014\n      },\n      __self: this\n    }, React.createElement(Card.Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4015\n      },\n      __self: this\n    }, React.createElement(Accordion.Toggle, {\n      as: Button,\n      variant: \"link\",\n      eventKey: \"22\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4016\n      },\n      __self: this\n    }, \"SystematicInquiry\")), React.createElement(Accordion.Collapse, {\n      eventKey: \"22\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4020\n      },\n      __self: this\n    }, React.createElement(Card.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4021\n      },\n      __self: this\n    }, \"Add Systematic Inquiry form:\", this.state.createVisitChecklist.systematicInquiry === true && React.createElement(Button, {\n      variant: \"warning\",\n      size: \"lg\",\n      className: \"formButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4024\n      },\n      __self: this\n    }, \"Systematic Inquiry for this Visit has already been added!!\"), this.state.createVisitChecklist.systematicInquiry === false && React.createElement(UpdatePatientSystematicInquiryForm, {\n      authUserId: this.context.userId,\n      canConfirm: true,\n      onCancel: this.modalCancelHandler,\n      onConfirm: this.updatePatientSystematicInquiryHandler,\n      confirmText: \"Confirm\",\n      patient: this.state.selectedPatient,\n      visit: true,\n      onCreateVisitChecklistUpdate: this.createVisitChecklistUpdate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4029\n      },\n      __self: this\n    })))), React.createElement(Card, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4043\n      },\n      __self: this\n    }, React.createElement(Card.Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4044\n      },\n      __self: this\n    }, React.createElement(Accordion.Toggle, {\n      as: Button,\n      variant: \"link\",\n      eventKey: \"6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4045\n      },\n      __self: this\n    }, \"Investigation\")), React.createElement(Accordion.Collapse, {\n      eventKey: \"6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4049\n      },\n      __self: this\n    }, React.createElement(Card.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4050\n      },\n      __self: this\n    }, \"Add Investigation form:\", this.state.createVisitChecklist.investigation === true && React.createElement(Button, {\n      variant: \"warning\",\n      size: \"lg\",\n      className: \"formButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4053\n      },\n      __self: this\n    }, \"Investigation for this Visit has already been added!!\"), this.state.createVisitChecklist.investigation === false && React.createElement(UpdatePatientInvestigationForm, {\n      authUserId: this.context.userId,\n      canConfirm: true,\n      onCancel: this.modalCancelHandler,\n      onConfirm: this.updatePatientInvestigationHandler,\n      confirmText: \"Confirm\",\n      patient: this.state.selectedPatient,\n      visit: true,\n      onCreateVisitChecklistUpdate: this.createVisitChecklistUpdate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4058\n      },\n      __self: this\n    })))), React.createElement(Card, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4072\n      },\n      __self: this\n    }, React.createElement(Card.Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4073\n      },\n      __self: this\n    }, React.createElement(Accordion.Toggle, {\n      as: Button,\n      variant: \"link\",\n      eventKey: \"7\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4074\n      },\n      __self: this\n    }, \"Diagnosis\")), React.createElement(Accordion.Collapse, {\n      eventKey: \"7\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4078\n      },\n      __self: this\n    }, React.createElement(Card.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4079\n      },\n      __self: this\n    }, \"Add Diagnosis form:\", this.state.createVisitChecklist.diagnosis === true && React.createElement(Button, {\n      variant: \"warning\",\n      size: \"lg\",\n      className: \"formButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4082\n      },\n      __self: this\n    }, \"Diagnosis for this Visit has already been added!!\"), this.state.createVisitChecklist.diagnosis === false && React.createElement(UpdatePatientDiagnosisForm, {\n      authUserId: this.context.userId,\n      canConfirm: true,\n      onCancel: this.modalCancelHandler,\n      onConfirm: this.updatePatientDiagnosisHandler,\n      confirmText: \"Confirm\",\n      patient: this.state.selectedPatient,\n      visit: true,\n      onCreateVisitChecklistUpdate: this.createVisitChecklistUpdate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4087\n      },\n      __self: this\n    })))), React.createElement(Card, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4101\n      },\n      __self: this\n    }, React.createElement(Card.Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4102\n      },\n      __self: this\n    }, React.createElement(Accordion.Toggle, {\n      as: Button,\n      variant: \"link\",\n      eventKey: \"8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4103\n      },\n      __self: this\n    }, \"Treatment\")), React.createElement(Accordion.Collapse, {\n      eventKey: \"8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4107\n      },\n      __self: this\n    }, React.createElement(Card.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4108\n      },\n      __self: this\n    }, \"Add Treatment form:\", this.state.createVisitChecklist.treatment === true && React.createElement(Button, {\n      variant: \"warning\",\n      size: \"lg\",\n      className: \"formButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4111\n      },\n      __self: this\n    }, \"Treatment for this Visit has already been added!!\"), this.state.createVisitChecklist.treatment === false && React.createElement(UpdatePatientTreatmentForm, {\n      authUserId: this.context.userId,\n      canCancel: true,\n      canConfirm: true,\n      onCancel: this.modalCancelHandler,\n      onConfirm: this.updatePatientTreatmentHandler,\n      confirmText: \"Confirm\",\n      patient: this.state.selectedPatient,\n      visit: true,\n      onCreateVisitChecklistUpdate: this.createVisitChecklistUpdate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4116\n      },\n      __self: this\n    })))), React.createElement(Card, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4131\n      },\n      __self: this\n    }, React.createElement(Card.Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4132\n      },\n      __self: this\n    }, React.createElement(Accordion.Toggle, {\n      as: Button,\n      variant: \"link\",\n      eventKey: \"9\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4133\n      },\n      __self: this\n    }, \"Billing\")), React.createElement(Accordion.Collapse, {\n      eventKey: \"9\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4137\n      },\n      __self: this\n    }, React.createElement(Card.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4138\n      },\n      __self: this\n    }, \"Add Billing form:\", this.state.createVisitChecklist.billing === true && React.createElement(Button, {\n      variant: \"warning\",\n      size: \"lg\",\n      className: \"formButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4142\n      },\n      __self: this\n    }, \"Billing for this Visit has already been added!!\"), this.state.createVisitChecklist.billing === false && React.createElement(UpdatePatientBillingForm, {\n      authUserId: this.context.userId,\n      canConfirm: true,\n      onCancel: this.modalCancelHandler,\n      onConfirm: this.updatePatientBillingHandler,\n      confirmText: \"Confirm\",\n      patient: this.state.selectedPatient,\n      visit: true,\n      onCreateVisitChecklistUpdate: this.createVisitChecklistUpdate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4147\n      },\n      __self: this\n    })))), React.createElement(Card, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4161\n      },\n      __self: this\n    }, React.createElement(Card.Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4162\n      },\n      __self: this\n    }, React.createElement(Accordion.Toggle, {\n      as: Button,\n      variant: \"link\",\n      eventKey: \"23\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4163\n      },\n      __self: this\n    }, \"Vigilance\")), React.createElement(Accordion.Collapse, {\n      eventKey: \"23\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4167\n      },\n      __self: this\n    }, React.createElement(Card.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4168\n      },\n      __self: this\n    }, \"Add Vigilance form:\", this.state.createVisitChecklist.vigilance === true && React.createElement(Button, {\n      variant: \"warning\",\n      size: \"lg\",\n      className: \"formButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4172\n      },\n      __self: this\n    }, \"Vigilance for this Visit has already been added!!\"), this.state.createVisitChecklist.vigilance === false && React.createElement(UpdatePatientVigilanceForm, {\n      authUserId: this.context.userId,\n      canConfirm: true,\n      onCancel: this.modalCancelHandler,\n      onConfirm: this.updatePatientVigilanceHandler,\n      confirmText: \"Confirm\",\n      patient: this.state.selectedPatient,\n      visit: true,\n      onCreateVisitChecklistUpdate: this.createVisitChecklistUpdate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4177\n      },\n      __self: this\n    })))), React.createElement(Card, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4191\n      },\n      __self: this\n    }, React.createElement(Card.Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4192\n      },\n      __self: this\n    }, React.createElement(Accordion.Toggle, {\n      as: Button,\n      variant: \"link\",\n      eventKey: \"10\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4193\n      },\n      __self: this\n    }, \"Finished ?\")), React.createElement(Accordion.Collapse, {\n      eventKey: \"10\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4197\n      },\n      __self: this\n    }, React.createElement(Card.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4198\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"success\",\n      className: \"formButton\",\n      onClick: this.newVisitComplete,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4199\n      },\n      __self: this\n    }, \"Done creating Visit\")))))), React.createElement(Tab.Pane, {\n      eventKey: \"patientEditDemographics\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4209\n      },\n      __self: this\n    }, this.state.selectedPatient === null && React.createElement(Button, {\n      variant: \"outline-warning\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4211\n      },\n      __self: this\n    }, \"Select a Patient from the Master List\"), this.state.selectedPatient !== null && React.createElement(Button, {\n      variant: \"outline-primary\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      onClick: this.startUpdatePatientHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4216\n      },\n      __self: this\n    }, \"Edit Demographics\"), this.state.updating && this.state.selectedPatient !== null && React.createElement(UpdatePatientForm, {\n      authUserId: this.context.userId,\n      canCancel: true,\n      canConfirm: true,\n      onCancel: this.modalCancelHandler,\n      onConfirm: this.modalConfirmUpdateHandler,\n      confirmText: \"Confirm\",\n      patient: this.state.selectedPatient,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4221\n      },\n      __self: this\n    })), React.createElement(Tab.Pane, {\n      eventKey: \"patientEditField\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4233\n      },\n      __self: this\n    }, this.state.selectedPatient === null && React.createElement(Button, {\n      variant: \"outline-warning\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4235\n      },\n      __self: this\n    }, \"Select a Patient from the Master List\"), this.state.selectedPatient !== null && React.createElement(Button, {\n      variant: \"outline-primary\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      onClick: this.startUpdatePatientHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4240\n      },\n      __self: this\n    }, \"Edit a Single Field\"), this.state.updating && this.state.selectedPatient !== null && React.createElement(UpdatePatientFieldForm, {\n      authUserId: this.context.userId,\n      canCancel: true,\n      canConfirm: true,\n      onCancel: this.modalCancelHandler,\n      onConfirm: this.modalConfirmUpdateFieldHandler,\n      confirmText: \"Confirm\",\n      patient: this.state.selectedPatient,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4245\n      },\n      __self: this\n    })), React.createElement(Tab.Pane, {\n      eventKey: \"patientEditConsultant\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4257\n      },\n      __self: this\n    }, this.state.selectedPatient === null && React.createElement(Button, {\n      variant: \"outline-warning\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4259\n      },\n      __self: this\n    }, \"Select a Patient from the Master List\"), this.state.selectedPatient !== null && React.createElement(Button, {\n      variant: \"outline-primary\",\n      value: \"consultant\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      onClick: this.updatePatientSpecial.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4264\n      },\n      __self: this\n    }, \"Add a Consultant\"), this.state.patientUpdateField === 'consultant' && this.state.selectedPatient !== null && this.context.selectedUser === null && React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4270\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"outline-warning\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4271\n      },\n      __self: this\n    }, \"Select someone from the Staff page\")), this.state.patientUpdateField === 'consultant' && this.state.selectedPatient !== null && React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4279\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4280\n      },\n      __self: this\n    }, \"Add Consultant: \", this.context.selectedUser.name, \"  ...\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4281\n      },\n      __self: this\n    }, \" To Paitient: \", this.state.selectedPatient.name, \" ??\")), this.state.patientUpdateField === 'consultant' && this.state.selectedPatient !== null && React.createElement(UpdatePatientConsultantForm, {\n      authUserId: this.context.userId,\n      canCancel: true,\n      canConfirm: true,\n      onCancel: this.modalCancelHandler,\n      onConfirm: this.updatePatientConsultantHandler,\n      confirmText: \"Confirm\",\n      consultant: this.context.selectedUser,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4288\n      },\n      __self: this\n    })), React.createElement(Tab.Pane, {\n      eventKey: \"patientEditInsurance\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4300\n      },\n      __self: this\n    }, this.state.selectedPatient === null && React.createElement(Button, {\n      variant: \"outline-warning\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4302\n      },\n      __self: this\n    }, \"Select a Patient from the Master List\"), this.state.selectedPatient !== null && React.createElement(Button, {\n      variant: \"outline-primary\",\n      value: \"insurance\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      onClick: this.updatePatientSpecial.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4307\n      },\n      __self: this\n    }, \"Add Insurance\"), this.state.patientUpdateField === 'insurance' && this.state.selectedPatient !== null && React.createElement(UpdatePatientInsuranceForm, {\n      authUserId: this.context.userId,\n      canCancel: true,\n      canConfirm: true,\n      onCancel: this.modalCancelHandler,\n      onConfirm: this.updatePatientInsuranceHandler,\n      confirmText: \"Confirm\",\n      patient: this.state.selectedPatient,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4312\n      },\n      __self: this\n    })), React.createElement(Tab.Pane, {\n      eventKey: \"patientEditNextOfKin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4324\n      },\n      __self: this\n    }, this.state.selectedPatient === null && React.createElement(Button, {\n      variant: \"outline-warning\",\n      size: \"lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4326\n      },\n      __self: this\n    }, \"Select a Patient from the Master List\"), this.state.selectedPatient !== null && React.createElement(Button, {\n      variant: \"outline-primary\",\n      value: \"nextOfKin\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      onClick: this.updatePatientSpecial.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4331\n      },\n      __self: this\n    }, \"Add NextOfKin\"), this.state.patientUpdateField === 'nextOfKin' && this.state.selectedPatient !== null && React.createElement(UpdatePatientNextOfKinForm, {\n      authUserId: this.context.userId,\n      canCancel: true,\n      canConfirm: true,\n      onCancel: this.modalCancelHandler,\n      onConfirm: this.updatePatientNextOfKinHandler,\n      confirmText: \"Confirm\",\n      patient: this.state.selectedPatient,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4336\n      },\n      __self: this\n    })), React.createElement(Tab.Pane, {\n      eventKey: \"patientEditComplaint\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4348\n      },\n      __self: this\n    }, this.state.selectedPatient === null && React.createElement(Button, {\n      variant: \"outline-warning\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4350\n      },\n      __self: this\n    }, \"Select a Patient from the Master List\"), this.state.selectedPatient !== null && React.createElement(Button, {\n      variant: \"outline-primary\",\n      value: \"complaint\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      onClick: this.updatePatientSpecial.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4355\n      },\n      __self: this\n    }, \"Add History\"), this.state.patientUpdateField === 'complaint' && this.state.selectedPatient !== null && React.createElement(UpdatePatientComplaintForm, {\n      authUserId: this.context.userId,\n      canCancel: true,\n      canConfirm: true,\n      onCancel: this.modalCancelHandler,\n      onConfirm: this.updatePatientComplaintHandler,\n      confirmText: \"Confirm\",\n      patient: this.state.selectedPatient,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4360\n      },\n      __self: this\n    })), React.createElement(Tab.Pane, {\n      eventKey: \"patientEditSurvey\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4372\n      },\n      __self: this\n    }, this.state.selectedPatient === null && React.createElement(Button, {\n      variant: \"outline-warning\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4374\n      },\n      __self: this\n    }, \"Select a Patient from the Master List\"), this.state.selectedPatient !== null && React.createElement(Button, {\n      variant: \"outline-primary\",\n      value: \"survey\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      onClick: this.updatePatientSpecial.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4379\n      },\n      __self: this\n    }, \"Add Survey\"), this.state.patientUpdateField === 'survey' && this.state.selectedPatient !== null && React.createElement(UpdatePatientSurveyForm, {\n      authUserId: this.context.userId,\n      canCancel: true,\n      canConfirm: true,\n      onCancel: this.modalCancelHandler,\n      onConfirm: this.updatePatientSurveyHandler,\n      confirmText: \"Confirm\",\n      patient: this.state.selectedPatient,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4384\n      },\n      __self: this\n    })), React.createElement(Tab.Pane, {\n      eventKey: \"patientEditSystematicInquiry\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4396\n      },\n      __self: this\n    }, this.state.selectedPatient === null && React.createElement(Button, {\n      variant: \"outline-warning\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4398\n      },\n      __self: this\n    }, \"Select a Patient from the Master List\"), this.state.selectedPatient !== null && React.createElement(Button, {\n      variant: \"outline-primary\",\n      value: \"systematicInquiry\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      onClick: this.updatePatientSpecial.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4403\n      },\n      __self: this\n    }, \"Add Systematic Inquiry\"), this.state.patientUpdateField === 'systematicInquiry' && this.state.selectedPatient !== null && React.createElement(UpdatePatientSystematicInquiryForm, {\n      authUserId: this.context.userId,\n      canCancel: true,\n      canConfirm: true,\n      onCancel: this.modalCancelHandler,\n      onConfirm: this.updatePatientSystematicInquiryHandler,\n      confirmText: \"Confirm\",\n      patient: this.state.selectedPatient,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4408\n      },\n      __self: this\n    })), React.createElement(Tab.Pane, {\n      eventKey: \"patientEditVitals\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4420\n      },\n      __self: this\n    }, this.state.selectedPatient === null && React.createElement(Button, {\n      variant: \"outline-warning\",\n      size: \"lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4422\n      },\n      __self: this\n    }, \"Select a Patient from the Master List\"), this.state.selectedPatient !== null && React.createElement(Button, {\n      variant: \"outline-primary\",\n      value: \"vitals\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      onClick: this.updatePatientSpecial.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4427\n      },\n      __self: this\n    }, \"Add Vitals\"), this.state.patientUpdateField === 'vitals' && this.state.selectedPatient !== null && React.createElement(UpdatePatientVitalsForm, {\n      authUserId: this.context.userId,\n      canCancel: true,\n      canConfirm: true,\n      onCancel: this.modalCancelHandler,\n      onConfirm: this.updatePatientVitalsHandler,\n      confirmText: \"Confirm\",\n      patient: this.state.selectedPatient,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4432\n      },\n      __self: this\n    })), React.createElement(Tab.Pane, {\n      eventKey: \"patientEditExamination\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4444\n      },\n      __self: this\n    }, this.state.selectedPatient === null && React.createElement(Button, {\n      variant: \"outline-warning\",\n      size: \"lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4446\n      },\n      __self: this\n    }, \"Select a Patient from the Master List\"), this.state.selectedPatient !== null && React.createElement(Button, {\n      variant: \"outline-primary\",\n      value: \"examintion\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      onClick: this.updatePatientSpecial.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4451\n      },\n      __self: this\n    }, \"Add Examination\"), this.state.patientUpdateField === 'examintion' && this.state.selectedPatient !== null && React.createElement(UpdatePatientExaminationForm, {\n      authUserId: this.context.userId,\n      canCancel: true,\n      canConfirm: true,\n      onCancel: this.modalCancelHandler,\n      onConfirm: this.updatePatientExaminationHandler,\n      confirmText: \"Confirm\",\n      patient: this.state.selectedPatient,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4456\n      },\n      __self: this\n    })), React.createElement(Tab.Pane, {\n      eventKey: \"patientEditHistory\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4468\n      },\n      __self: this\n    }, this.state.selectedPatient === null && React.createElement(Button, {\n      variant: \"outline-warning\",\n      size: \"lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4470\n      },\n      __self: this\n    }, \"Select a Patient from the Master List\"), this.state.selectedPatient !== null && React.createElement(Button, {\n      variant: \"outline-primary\",\n      value: \"history\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      onClick: this.updatePatientSpecial.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4475\n      },\n      __self: this\n    }, \"Add Past History\"), this.state.patientUpdateField === 'history' && this.state.selectedPatient !== null && React.createElement(UpdatePatientHistoryForm, {\n      authUserId: this.context.userId,\n      canCancel: true,\n      canConfirm: true,\n      onCancel: this.modalCancelHandler,\n      onConfirm: this.updatePatientHistoryHandler,\n      confirmText: \"Confirm\",\n      patient: this.state.selectedPatient,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4480\n      },\n      __self: this\n    })), React.createElement(Tab.Pane, {\n      eventKey: \"patientEditAllergies\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4492\n      },\n      __self: this\n    }, this.state.selectedPatient === null && React.createElement(Button, {\n      variant: \"outline-warning\",\n      size: \"lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4494\n      },\n      __self: this\n    }, \"Select a Patient from the Master List\"), this.state.selectedPatient !== null && React.createElement(Button, {\n      variant: \"outline-primary\",\n      value: \"allergies\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      onClick: this.updatePatientSpecial.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4499\n      },\n      __self: this\n    }, \"Add Allergies\"), this.state.patientUpdateField === 'allergies' && this.state.selectedPatient !== null && React.createElement(UpdatePatientAllergiesForm, {\n      authUserId: this.context.userId,\n      canCancel: true,\n      canConfirm: true,\n      onCancel: this.modalCancelHandler,\n      onConfirm: this.updatePatientAllergiesHandler,\n      confirmText: \"Confirm\",\n      patient: this.state.selectedPatient,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4504\n      },\n      __self: this\n    })), React.createElement(Tab.Pane, {\n      eventKey: \"patientEditMedication\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4516\n      },\n      __self: this\n    }, this.state.selectedPatient === null && React.createElement(Button, {\n      variant: \"outline-warning\",\n      size: \"lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4518\n      },\n      __self: this\n    }, \"Select a Patient from the Master List\"), this.state.selectedPatient !== null && React.createElement(Button, {\n      variant: \"outline-primary\",\n      value: \"medication\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      onClick: this.updatePatientSpecial.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4523\n      },\n      __self: this\n    }, \"Add Medication\"), this.state.patientUpdateField === 'medication' && this.state.selectedPatient !== null && React.createElement(UpdatePatientMedicationForm, {\n      authUserId: this.context.userId,\n      canCancel: true,\n      canConfirm: true,\n      onCancel: this.modalCancelHandler,\n      onConfirm: this.updatePatientMedicationHandler,\n      confirmText: \"Confirm\",\n      patient: this.state.selectedPatient,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4528\n      },\n      __self: this\n    })), React.createElement(Tab.Pane, {\n      eventKey: \"patientEditInvestigation\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4540\n      },\n      __self: this\n    }, this.state.selectedPatient === null && React.createElement(Button, {\n      variant: \"outline-warning\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4542\n      },\n      __self: this\n    }, \"Select a Patient from the Master List\"), this.state.selectedPatient !== null && React.createElement(Button, {\n      variant: \"outline-primary\",\n      value: \"investigation\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      onClick: this.updatePatientSpecial.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4547\n      },\n      __self: this\n    }, \"Add Investigation\"), this.state.patientUpdateField === 'investigation' && this.state.selectedPatient !== null && React.createElement(UpdatePatientInvestigationForm, {\n      authUserId: this.context.userId,\n      canCancel: true,\n      canConfirm: true,\n      onCancel: this.modalCancelHandler,\n      onConfirm: this.updatePatientInvestigationHandler,\n      confirmText: \"Confirm\",\n      patient: this.state.selectedPatient,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4552\n      },\n      __self: this\n    })), React.createElement(Tab.Pane, {\n      eventKey: \"patientEditDiagnosis\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4564\n      },\n      __self: this\n    }, this.state.selectedPatient === null && React.createElement(Button, {\n      variant: \"outline-warning\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4566\n      },\n      __self: this\n    }, \"Select a Patient from the Master List\"), this.state.selectedPatient !== null && React.createElement(Button, {\n      variant: \"outline-primary\",\n      value: \"diagnosis\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      onClick: this.updatePatientSpecial.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4571\n      },\n      __self: this\n    }, \"Add Diagnosis\"), this.state.patientUpdateField === 'diagnosis' && this.state.selectedPatient !== null && React.createElement(UpdatePatientDiagnosisForm, {\n      authUserId: this.context.userId,\n      canCancel: true,\n      canConfirm: true,\n      onCancel: this.modalCancelHandler,\n      onConfirm: this.updatePatientDiagnosisHandler,\n      confirmText: \"Confirm\",\n      patient: this.state.selectedPatient,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4576\n      },\n      __self: this\n    })), React.createElement(Tab.Pane, {\n      eventKey: \"patientEditTreatment\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4588\n      },\n      __self: this\n    }, this.state.selectedPatient === null && React.createElement(Button, {\n      variant: \"outline-warning\",\n      size: \"lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4590\n      },\n      __self: this\n    }, \"Select a Patient from the Master List\"), this.state.selectedPatient !== null && React.createElement(Button, {\n      variant: \"outline-primary\",\n      value: \"treatment\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      onClick: this.updatePatientSpecial.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4595\n      },\n      __self: this\n    }, \"Add Treatment\"), this.state.patientUpdateField === 'treatment' && this.state.selectedPatient !== null && React.createElement(UpdatePatientTreatmentForm, {\n      authUserId: this.context.userId,\n      canCancel: true,\n      canConfirm: true,\n      onCancel: this.modalCancelHandler,\n      onConfirm: this.updatePatientTreatmentHandler,\n      confirmText: \"Confirm\",\n      patient: this.state.selectedPatient,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4600\n      },\n      __self: this\n    })), React.createElement(Tab.Pane, {\n      eventKey: \"patientEditBilling\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4612\n      },\n      __self: this\n    }, this.state.selectedPatient === null && React.createElement(Button, {\n      variant: \"outline-warning\",\n      size: \"lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4614\n      },\n      __self: this\n    }, \"Select a Patient from the Master List\"), this.state.selectedPatient !== null && React.createElement(Button, {\n      variant: \"outline-primary\",\n      value: \"billing\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      onClick: this.updatePatientSpecial.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4619\n      },\n      __self: this\n    }, \"Add Billing\"), this.state.patientUpdateField === 'billing' && this.state.selectedPatient !== null && React.createElement(UpdatePatientBillingForm, {\n      authUserId: this.context.userId,\n      canCancel: true,\n      canConfirm: true,\n      onCancel: this.modalCancelHandler,\n      onConfirm: this.updatePatientBillingHandler,\n      confirmText: \"Confirm\",\n      patient: this.state.selectedPatient,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4624\n      },\n      __self: this\n    })), React.createElement(Tab.Pane, {\n      eventKey: \"patientEditVigilance\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4636\n      },\n      __self: this\n    }, this.state.selectedPatient === null && React.createElement(Button, {\n      variant: \"outline-warning\",\n      size: \"lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4638\n      },\n      __self: this\n    }, \"Select a Patient from the Master List\"), this.state.selectedPatient !== null && React.createElement(Button, {\n      variant: \"outline-primary\",\n      value: \"vigilance\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      onClick: this.updatePatientSpecial.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4643\n      },\n      __self: this\n    }, \"Add Vigilance\"), this.state.patientUpdateField === 'vigilance' && this.state.selectedPatient !== null && React.createElement(UpdatePatientVigilanceForm, {\n      authUserId: this.context.userId,\n      canCancel: true,\n      canConfirm: true,\n      onCancel: this.modalCancelHandler,\n      onConfirm: this.updatePatientVigilanceHandler,\n      confirmText: \"Confirm\",\n      patient: this.state.selectedPatient,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4648\n      },\n      __self: this\n    })), React.createElement(Tab.Pane, {\n      eventKey: \"patientEditAttachment\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4660\n      },\n      __self: this\n    }, this.state.selectedPatient === null && React.createElement(Button, {\n      variant: \"outline-warning\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4662\n      },\n      __self: this\n    }, \"Select a Patient from the Master List\"), this.state.selectedPatient !== null && React.createElement(Button, {\n      variant: \"outline-primary\",\n      value: \"attachment\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      onClick: this.updatePatientSpecial.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4667\n      },\n      __self: this\n    }, \"Add Attachment\"), this.state.patientUpdateField === 'attachment' && this.state.selectedPatient !== null && React.createElement(UpdatePatientAttachmentForm, {\n      authUserId: this.context.userId,\n      canCancel: true,\n      canConfirm: true,\n      onCancel: this.modalCancelHandler,\n      onConfirm: this.updatePatientAttachmentHandler,\n      confirmText: \"Confirm\",\n      patient: this.state.selectedPatient,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4672\n      },\n      __self: this\n    })), React.createElement(Tab.Pane, {\n      eventKey: \"patientEditNote\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4684\n      },\n      __self: this\n    }, this.state.selectedPatient === null && React.createElement(Button, {\n      variant: \"outline-warning\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4686\n      },\n      __self: this\n    }, \"Select a Patient from the Master List\"), this.state.selectedPatient !== null && React.createElement(Button, {\n      variant: \"outline-primary\",\n      value: \"notes\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      onClick: this.updatePatientSpecial.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4691\n      },\n      __self: this\n    }, \"Add Note\"), this.state.patientUpdateField === 'notes' && this.state.selectedPatient !== null && React.createElement(UpdatePatientNoteForm, {\n      authUserId: this.context.userId,\n      canCancel: true,\n      canConfirm: true,\n      onCancel: this.modalCancelHandler,\n      onConfirm: this.updatePatientNoteHandler,\n      confirmText: \"Confirm\",\n      patient: this.state.selectedPatient,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4696\n      },\n      __self: this\n    })), React.createElement(Tab.Pane, {\n      eventKey: \"patientEditTag\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4708\n      },\n      __self: this\n    }, this.state.selectedPatient === null && React.createElement(Button, {\n      variant: \"outline-warning\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4710\n      },\n      __self: this\n    }, \"Select a Patient from the Master List\"), this.state.selectedPatient !== null && React.createElement(Button, {\n      variant: \"outline-primary\",\n      value: \"tags\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      onClick: this.updatePatientSpecial.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4715\n      },\n      __self: this\n    }, \"Add Tag\"), this.state.patientUpdateField === 'tags' && this.state.selectedPatient !== null && React.createElement(UpdatePatientTagForm, {\n      authUserId: this.context.userId,\n      canCancel: true,\n      canConfirm: true,\n      onCancel: this.modalCancelHandler,\n      onConfirm: this.updatePatientTagHandler,\n      confirmText: \"Confirm\",\n      patient: this.state.selectedPatient,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4720\n      },\n      __self: this\n    })), React.createElement(Tab.Pane, {\n      eventKey: \"MasterList\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4732\n      },\n      __self: this\n    }, React.createElement(Container, {\n      className: \"containerUserMasterList\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4733\n      },\n      __self: this\n    }, React.createElement(Row, {\n      className: \"searchListRow\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4734\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"primary\",\n      size: \"sm\",\n      onClick: this.fetchPatientsAsc,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4735\n      },\n      __self: this\n    }, \"Sort Asc\"), React.createElement(Button, {\n      variant: \"info\",\n      size: \"sm\",\n      onClick: this.fetchPatientsDesc,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4738\n      },\n      __self: this\n    }, \"Sort Desc\"), this.state.isLoading ? React.createElement(Spinner, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4742\n      },\n      __self: this\n    }) : React.createElement(PatientList, {\n      patients: this.state.patients,\n      authUserId: this.context.userId,\n      onViewDetail: this.showDetailHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4744\n      },\n      __self: this\n    })))), React.createElement(Tab.Pane, {\n      eventKey: \"SearchInput\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4754\n      },\n      __self: this\n    }, React.createElement(Container, {\n      className: \"containerSearchUserInput\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4755\n      },\n      __self: this\n    }, this.context.token && React.createElement(Row, {\n      className: \"searchUserRowAdd\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4757\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"primary\",\n      onClick: this.startSearchPatientHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4758\n      },\n      __self: this\n    }, \"Search\")), React.createElement(Row, {\n      className: \"searchUserRowForm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4762\n      },\n      __self: this\n    }, React.createElement(Col, {\n      md: 10,\n      className: \"searchUserColForm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4763\n      },\n      __self: this\n    }, React.createElement(Tabs, {\n      defaultActiveKey: \"Field\",\n      id: \"uncontrolled-tab-example\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4764\n      },\n      __self: this\n    }, React.createElement(Tab, {\n      eventKey: \"Search\",\n      title: \"Search:\",\n      disabled: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4765\n      },\n      __self: this\n    }), React.createElement(Tab, {\n      eventKey: \"Field\",\n      title: \"Search by Field:\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4767\n      },\n      __self: this\n    }, this.state.searching !== true && React.createElement(Button, {\n      variant: \"outline-warning\",\n      className: \"confirmEditButton\",\n      size: \"lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4769\n      },\n      __self: this\n    }, \"Click the 'Search' Button start\"), this.state.searching === true && React.createElement(SearchPatientForm, {\n      authUserId: this.context.userId,\n      canCancel: true,\n      canConfirm: true,\n      onCancel: this.modalCancelHandler,\n      onConfirm: this.modalConfirmSearchHandler,\n      confirmText: \"Search\",\n      patient: this.context.selectedPatient,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4774\n      },\n      __self: this\n    })), React.createElement(Tab, {\n      eventKey: \"Id\",\n      title: \"Search by ID:\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4785\n      },\n      __self: this\n    }, this.state.searching !== true && React.createElement(Button, {\n      variant: \"outline-warning\",\n      className: \"confirmEditButton\",\n      size: \"lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4787\n      },\n      __self: this\n    }, \"Click the 'Search' Button start\"), this.state.searching === true && React.createElement(SearchPatientIdForm, {\n      authUserId: this.context.userId,\n      canCancel: true,\n      canConfirm: true,\n      onCancel: this.modalCancelHandler,\n      onConfirm: this.modalConfirmSearchIdHandler,\n      confirmText: \"Search\",\n      patient: this.context.selectedPatient,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4792\n      },\n      __self: this\n    })), React.createElement(Tab, {\n      eventKey: \"Name\",\n      title: \"Search by Name:\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4804\n      },\n      __self: this\n    }, this.state.searching !== true && React.createElement(Button, {\n      variant: \"outline-warning\",\n      className: \"confirmEditButton\",\n      size: \"lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4806\n      },\n      __self: this\n    }, \"Click the 'Search' Button start\"), this.state.searching === true && React.createElement(SearchPatientNameForm, {\n      authUserId: this.context.userId,\n      canCancel: true,\n      canConfirm: true,\n      onCancel: this.modalCancelHandler,\n      onConfirm: this.modalConfirmSearchNameHandler,\n      confirmText: \"Search\",\n      patient: this.context.selectedPatient,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4811\n      },\n      __self: this\n    }))))))), React.createElement(Tab.Pane, {\n      eventKey: \"SearchResult\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4828\n      },\n      __self: this\n    }, React.createElement(Container, {\n      className: \"containerSearchUserResults\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4829\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4830\n      },\n      __self: this\n    }, React.createElement(Card, {\n      className: \"searchCard\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4831\n      },\n      __self: this\n    }, React.createElement(Card.Body, {\n      className: \"searchCardBody\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4832\n      },\n      __self: this\n    }, React.createElement(Card.Title, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4833\n      },\n      __self: this\n    }, \"Your Search\"), React.createElement(Card.Text, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4834\n      },\n      __self: this\n    }, \"Field: \", this.state.patientSearchField), React.createElement(Card.Text, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4837\n      },\n      __self: this\n    }, \"Query: \", this.state.patientSearchQuery)))), React.createElement(Row, {\n      className: \"searchListRow\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4843\n      },\n      __self: this\n    }, this.state.searchPatients !== [] && React.createElement(SearchPatientList, {\n      searchPatients: this.state.searchPatients,\n      authUserId: this.context.userId,\n      onCancel: this.modalCancelHandler,\n      onViewDetail: this.showDetailHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4846\n      },\n      __self: this\n    })))))))))), React.createElement(Col, {\n      md: 3,\n      className: \"MasterCol3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4871\n      },\n      __self: this\n    }))));\n  }\n\n}\n\nPatientsPage.contextType = AuthContext;\nexport default PatientsPage;","map":{"version":3,"sources":["/Users/pedrojacob/Downloads/AMR/websites/office_records/ENT_EMR/frontend/src/pages/Patients.js"],"names":["React","Component","S3","Container","Row","Col","Button","Accordion","SidebarPage","Tabs","Tab","Nav","Card","PatientList","PatientDetail","Spinner","AuthContext","SearchPatientList","SearchPatientForm","SearchPatientIdForm","SearchPatientNameForm","AlertBox","AttachmentViewer","PdfCreator","LoadingOverlay","CreatePatientForm","UpdatePatientForm","UpdatePatientFieldForm","UpdatePatientConsultantForm","UpdatePatientInsuranceForm","UpdatePatientNextOfKinForm","UpdatePatientComplaintForm","UpdatePatientSurveyForm","UpdatePatientSystematicInquiryForm","UpdatePatientVitalsForm","UpdatePatientExaminationForm","UpdatePatientHistoryForm","UpdatePatientAllergiesForm","UpdatePatientMedicationForm","UpdatePatientInvestigationForm","UpdatePatientDiagnosisForm","UpdatePatientTreatmentForm","UpdatePatientBillingForm","UpdatePatientVigilanceForm","UpdatePatientAttachmentForm","UpdatePatientNoteForm","UpdatePatientTagForm","PatientsPage","constructor","props","state","creating","updating","searching","updatingArray","deleting","patients","searchPatients","isLoading","selectedPatient","patientUpdateField","patientSearchField","patientSearchQuery","canDelete","visit","visitList","selectedVisit","newVisit","createVisitChecklist","consultant","complaint","diagnosis","examination","investigation","survey","systematicInquiry","treatment","vitals","billing","vigilance","userAlert","overlay","overlayStatus","showAttachment","showThisAttachmentFile","showThisAttachmentType","createPdf","pdfData","isActive","startCreatePatientHandler","setState","startCreateVisitHandler","startUpdatePatientHandler","console","log","startSearchPatientHandler","modalConfirmHandler","event","userId","context","token","title","target","formGridTitle","value","name","formGridName","dob","formGridDob","age","formGridAge","gender","formGridGender","addressNumber","formGridAddressNumber","addressStreet","formGridAddressStreet","addressTown","formGridAddressTown","addressParish","formGridAddressParish","addressPostOffice","formGridAddressPostOffice","contactPhone","formGridContactPhone","contactEmail","formGridContactEmail","registrationDate","formGridRegistrationDate","formGridRegistrationDateTodayCheckbox","checked","Date","toISOString","slice","referralDate","formGridReferralDate","formGridReferralDateTodayCheckbox","expirationDate","formGridExpirationDate","attendingPhysicianName","formGridAttendingPhysicianName","attendingPhysicianEmail","formGridAttendingPhysicianEmail","attendingPhysicianPhone","formGridAttendingPhysicianPhone","referringDoctorName","formGridReferringDoctorName","referringDoctorEmail","formGridReferringDoctorEmail","referringDoctorPhone","formGridReferringDoctorPhone","occupationRole","formGridOccupationRole","occupationEmployer","formGridOccupationEmployer","occupationEmployerContactPhone","formGridOccupationEmployerContactPhone","occupationEmployerContactEmail","formGridOccupationEmployerContactEmail","trim","length","requestBody","query","fetch","method","body","JSON","stringify","headers","Authorization","then","res","status","Error","json","resData","responseAlert","data","newPatient","createPatient","prevState","updatedPatients","push","catch","err","modalCancelHandler","modalConfirmUpdateHandler","selectedPatientId","_id","formGridExpirationDateTodayCheckbox","address","number","street","town","parish","postOffice","contact","phone","email","attendingPhysician","referringDoctor","occupation","role","employer","updatedPatientId","updatePatient","updatedPatient","find","e","updatedPatientPos","indexOf","slicedArray","splice","fetchPatients","modalConfirmUpdateFieldHandler","field","formGridQuery","formGridFieldSelect","formGridField","updatePatientField","updatePatientConsultantHandler","preventDefault","patientConsultantReference","selectedUser","undefined","consultantDate","formGridConsultantDate","formGridConsultantDateTodayCheckbox","updatePatientConsultant","updatePatientInsuranceHandler","insuranceCompany","formGridInsuranceCompany","insuranceNumber","formGridInsuranceNumber","insuranceExpiry","formGridInsuranceExpiry","insuranceDescription","formGridInsuranceDescription","insuranceSubscriberCompany","formGridInsuranceSubscriberCompany","insuranceSubscriberDescription","formGridInsuranceSubscriberDescription","updatePatientInsurance","updatePatientNextOfKinHandler","nextOfKinName","formGridNextOfKinName","nextOfKinPhone","formGridNextOfKinPhone","nextOfKinEmail","formGridNextOfKinEmail","updatePatientNextOfKin","updatePatientComplaintHandler","complaintTitle","formGridComplaintTitle","complaintDate","formGridComplaintDate","formGridComplaintDateTodayCheckbox","complaintDescription","formGridComplaintDescription","complaintAnamnesis","formGridComplaintAnamnesis","complaintAttachmentFormat","formGridComplaintAttachmentFormat","complaintAttachmentPath","file","_currentValue","config","bucketName","creds","s3","dirName","region","accessKeyId","secretAccessKey","ReactS3Client","newFileName","complaintAttachmentName","uploadFile","error","updatePatientComplaint","updatePatientSurveyHandler","surveyDate","formGridSurveyDate","formGridSurveyDateTodayCheckbox","surveyTitle","formGridSurveyTitle","surveyDescription","formGridSurveyDescription","surveyAttachmentFormat","formGridSurveyAttachmentFormat","surveyAttachmentPath","surveyAttachmentName","updatePatientSurvey","updatePatientSystematicInquiryHandler","systematicInquiryDate","formGridSystematicInquiryDate","formGridSystematicInquiryDateTodayCheckbox","systematicInquiryTitle","formGridSystematicInquiryTitle","systematicInquiryDescription","formGridSystematicInquiryDescription","systematicInquiryAttachmentFormat","formGridSystematicInquiryAttachmentFormat","systematicInquiryAttachmentPath","systematicInquiryAttachmentName","updatePatientSystematicInquiry","updatePatientVitalsHandler","vitalsDate","formGridVitalsDate","formGridVitalsDateTodayCheckbox","vitalsPr","formGridVitalsPr","vitalsBp1","formGridVitalsBp1","vitalsBp2","formGridVitalsBp2","vitalsRr","formGridVitalsRr","vitalsTemp","formGridVitalsTemp","vitalsPs02","formGridVitalsPs02","vitalsHeight","formGridVitalsHeight","vitalsWeight","formGridVitalsWeight","vitalsBmi","formGridVitalsBmi","vitalsUrineType","formGridVitalsUrineType","vitalsUrineValue","formGridVitalsUrineValue","updatePatientVitals","updatePatientExaminationHandler","examinationDate","formGridExaminationDate","formGridExaminationDateTodayCheckbox","examinationGeneral","formGridExaminationGeneral","examinationArea","formGridExaminationAreaSelect","formGridExaminationArea","examinationType","formGridExaminationType","examinationMeasure","formGridExaminationMeasure","examinationValue","formGridExaminationValue","examinationDescription","formGridExaminationDescription","examinationFollowUp","formGridExaminationFollowUp","examinationAttachmentFormat","formGridExaminationAttachmentFormat","examinationAttachmentPath","examinationAttachmentName","updatePatientExamination","updatePatientHistoryHandler","historyType","formGridHistoryType","historyDate","formGridHistoryDate","formGridHistoryDateTodayCheckbox","historyTitle","formGridHistoryTitle","historyDescription","formGridHistoryDescription","historyAttachmentFormat","formGridHistoryAttachmentFormat","historyAttachmentPath","historyAttachmentName","updatePatientHistory","updatePatientAllergiesHandler","allergiesTitle","formGridAllergiesTitle","allergiesType","formGridAllergiesTypeSelect","formGridAllergiesType","allergiesDescription","formGridAllergiesDescription","allergiesAttachmentFormat","formGridAllergiesAttachmentFormat","allergiesAttachmentPath","allergiesAttachmentName","updatePatientAllergies","updatePatientMedicationHandler","medicationTitle","formGridMedicationTitle","medicationType","formGridMedicationType","medicationDescription","formGridMedicationDescription","medicationAttachmentFormat","formGridMedicationAttachmentFormat","medicationAttachmentPath","medicationAttachmentName","updatePatientMedication","updatePatientInvestigationHandler","investigationDate","formGridInvestigationDate","formGridInvestigationDateTodayCheckbox","investigationTitle","formGridInvestigationTitle","investigationType","formGridInvestigationTypeSelect","formGridInvestigationType","investigationDescription","formGridInvestigationDescription","investigationAttachmentFormat","formGridInvestigationAttachmentFormat","investigationAttachmentPath","investigationAttachmentName","updatePatientInvestigation","updatePatientDiagnosisHandler","diagnosisDate","formGridDiagnosisDate","formGridDiagnosisDateTodayCheckbox","diagnosisTitle","formGridDiagnosisTitle","diagnosisType","formGridDiagnosisType","diagnosisDescription","formGridDiagnosisDescription","diagnosisAttachmentFormat","formGridDiagnosisAttachmentFormat","diagnosisAttachmentPath","diagnosisAttachmentName","updatePatientDiagnosis","updatePatientTreatmentHandler","treatmentDate","formGridTreatmentDate","formGridTreatmentDateTodayCheckbox","treatmentTitle","formGridTreatmentTitle","treatmentDescription","formGridTreatmentDescription","treatmentDose","formGridTreatmentDose","treatmentFrequency","formGridTreatmentFrequency","treatmentType","formGridTreatmentType","formGridTreatmentTypeSelect","treatmentAttachmentFormat","formGridTreatmentAttachmentFormat","treatmentAttachmentPath","treatmentAttachmentName","updatePatientTreatment","updatePatientBillingHandler","billingDate","formGridBillingDate","formGridBillingDateTodayCheckbox","billingTitle","formGridBillingTitle","billingType","formGridBillingType","billingDescription","formGridBillingDescription","billingAmount","formGridBillingAmount","billingPaid","formGridBillingPaid","billingNotes","formGridBillingNotes","billingAttachmentFormat","formGridBillingAttachmentFormat","billingAttachmentPath","billingAttachmentName","updatePatientBilling","updatePatientVigilanceHandler","vigilanceDate","formGridVigilanceDate","formGridVigilanceDateTodayCheckbox","vigilanceChronicIllnessDiabetesMedication","formGridVigilanceChronicIllnessDiabetesMedication","vigilanceChronicIllnessDiabetesTesting","formGridVigilanceChronicIllnessDiabetesTesting","vigilanceChronicIllnessDiabetesComment","formGridVigilanceChronicIllnessDiabetesComment","vigilanceChronicIllnessHbpMedication","formGridVigilanceChronicIllnessHbpMedication","vigilanceChronicIllnessHbpTesting","formGridVigilanceChronicIllnessHbpTesting","vigilanceChronicIllnessHbpComment","formGridVigilanceChronicIllnessHbpComment","vigilanceChronicIllnessDyslipidemiaMedication","formGridVigilanceChronicIllnessDyslipidemiaMedication","vigilanceChronicIllnessDyslipidemiaTesting","formGridVigilanceChronicIllnessDyslipidemiaTesting","vigilanceChronicIllnessDyslipidemiaComment","formGridVigilanceChronicIllnessDyslipidemiaComment","vigilanceChronicIllnessCadMedication","formGridVigilanceChronicIllnessCadMedication","vigilanceChronicIllnessCadTesting","formGridVigilanceChronicIllnessCadTesting","vigilanceChronicIllnessCadComment","formGridVigilanceChronicIllnessCadComment","vigilanceLifestyleWeightMedication","formGridVigilanceLifestyleWeightMedication","vigilanceLifestyleWeightTesting","formGridVigilanceLifestyleWeightTesting","vigilanceLifestyleWeightComment","formGridVigilanceLifestyleWeightComment","vigilanceLifestyleDietMedication","formGridVigilanceLifestyleDietMedication","vigilanceLifestyleDietTesting","formGridVigilanceLifestyleDietTesting","vigilanceLifestyleDietComment","formGridVigilanceLifestyleDietComment","vigilanceLifestyleSmokingMedication","formGridVigilanceLifestyleSmokingMedication","vigilanceLifestyleSmokingTesting","formGridVigilanceLifestyleSmokingTesting","vigilanceLifestyleSmokingComment","formGridVigilanceLifestyleSmokingComment","vigilanceLifestyleSubstanceAbuseMedication","formGridVigilanceLifestyleSubstanceAbuseMedication","vigilanceLifestyleSubstanceAbuseTesting","formGridVigilanceLifestyleSubstanceAbuseTesting","vigilanceLifestyleSubstanceAbuseComment","formGridVigilanceLifestyleSubstanceAbuseComment","vigilanceLifestyleExerciseMedication","formGridVigilanceLifestyleExerciseMedication","vigilanceLifestyleExerciseTesting","formGridVigilanceLifestyleExerciseTesting","vigilanceLifestyleExerciseComment","formGridVigilanceLifestyleExerciseComment","vigilanceLifestyleAllergiesMedication","formGridVigilanceLifestyleAllergiesMedication","vigilanceLifestyleAllergiesTesting","formGridVigilanceLifestyleAllergiesTesting","vigilanceLifestyleAllergiesComment","formGridVigilanceLifestyleAllergiesComment","vigilanceLifestyleAsthmaMedication","formGridVigilanceLifestyleAsthmaMedication","vigilanceLifestyleAsthmaTesting","formGridVigilanceLifestyleAsthmaTesting","vigilanceLifestyleAsthmaComment","formGridVigilanceLifestyleAsthmaComment","vigilanceScreeningBreastMedication","formGridVigilanceScreeningBreastMedication","vigilanceScreeningBreastTesting","formGridVigilanceScreeningBreastTesting","vigilanceScreeningBreastComment","formGridVigilanceScreeningBreastComment","vigilanceScreeningProstateMedication","formGridVigilanceScreeningProstateMedication","vigilanceScreeningProstateTesting","formGridVigilanceScreeningProstateTesting","vigilanceScreeningProstateComment","formGridVigilanceScreeningProstateComment","vigilanceScreeningCervixMedication","formGridVigilanceScreeningCervixMedication","vigilanceScreeningCervixTesting","formGridVigilanceScreeningCervixTesting","vigilanceScreeningCervixComment","formGridVigilanceScreeningCervixComment","vigilanceScreeningColonMedication","formGridVigilanceScreeningColonMedication","vigilanceScreeningColonTesting","formGridVigilanceScreeningColonTesting","vigilanceScreeningColonComment","formGridVigilanceScreeningColonComment","vigilanceScreeningDentalMedication","formGridVigilanceScreeningDentalMedication","vigilanceScreeningDentalTesting","formGridVigilanceScreeningDentalTesting","vigilanceScreeningDentalComment","formGridVigilanceScreeningDentalComment","vigilanceVaccinesInfluenzaMedication","formGridVigilanceVaccinesInfluenzaMedication","vigilanceVaccinesInfluenzaTesting","formGridVigilanceVaccinesInfluenzaTesting","vigilanceVaccinesInfluenzaComment","formGridVigilanceVaccinesInfluenzaComment","vigilanceVaccinesVaricellaMedication","formGridVigilanceVaccinesVaricellaMedication","vigilanceVaccinesVaricellaTesting","formGridVigilanceVaccinesVaricellaTesting","vigilanceVaccinesVaricellaComment","formGridVigilanceVaccinesVaricellaComment","vigilanceVaccinesHpvMedication","formGridVigilanceVaccinesHpvMedication","vigilanceVaccinesHpvTesting","formGridVigilanceVaccinesHpvTesting","vigilanceVaccinesHpvComment","formGridVigilanceVaccinesHpvComment","vigilanceVaccinesMmrMedication","formGridVigilanceVaccinesMmrMedication","vigilanceVaccinesMmrTesting","formGridVigilanceVaccinesMmrTesting","vigilanceVaccinesMmrComment","formGridVigilanceVaccinesMmrComment","vigilanceVaccinesTetanusMedication","formGridVigilanceVaccinesTetanusMedication","vigilanceVaccinesTetanusTesting","formGridVigilanceVaccinesTetanusTesting","vigilanceVaccinesTetanusComment","formGridVigilanceVaccinesTetanusComment","vigilanceVaccinesPneumovaxMedication","formGridVigilanceVaccinesPneumovaxMedication","vigilanceVaccinesPneumovaxTesting","formGridVigilanceVaccinesPneumovaxTesting","vigilanceVaccinesPneumovaxComment","formGridVigilanceVaccinesPneumovaxComment","vigilanceVaccinesOtherName","formGridVigilanceVaccinesOtherName","vigilanceVaccinesOtherMedication","formGridVigilanceVaccinesOtherMedication","vigilanceVaccinesOtherTesting","formGridVigilanceVaccinesOtherTesting","vigilanceVaccinesOtherComment","formGridVigilanceVaccinesOtherComment","updatePatientVigilance","updatePatientAttachmentHandler","attachmentFormat","formGridPatientAttachmentFormat","attachmentPath","attachmentName","updatePatientAttachment","updatePatientNoteHandler","note","formGridNote","updatePatientNotes","updatePatientTagHandler","tag","formGridTag","updatePatientTags","modalConfirmSearchHandler","formBasicQuery","formBasicFieldSelect","formBasicField","getPatientField","modalConfirmSearchIdHandler","patientId","formBasicId","getPatientId","modalConfirmSearchNameHandler","regex","RegExp","formBasicName","result","filter","patient","match","getPatientVisit","visitDate","formBasicVisitDate","substring","visitSurveys","surveys","x","date","substr","visitConsultants","visitComplaints","complaints","visitSystematicInquiry","visitVitals","visitExaminations","visitHistory","history","visitInvestigations","visitDiagnosis","visitTreatments","visitBilling","visitVigilance","patientName","getVisitList","selectedPatientAppointmentDateArray","selectedPatientAppointmentVisitArray","selectedPatientAppointments","appointments","map","appointmentDate","thisGetVisit","argsDate","argsPatientName","getVisitListAsc","list","sort","a","b","getVisitListDesc","fetchPatientsAsc","patientsNameAsc","fetchPatientsDesc","patientsNameDesc","modalDeleteHandler","user","deletedPatient","deletePatient","deletedPatientId","deletedPatientPos","deletePatientInsuranceItem","company","deletePatientInsurance","deletePatientAppointmentItem","deletePatientAppointment","deletePatientConsultantItem","reference","id","deletePatientConsultant","deletePatientNextOfKinItem","deletePatientNextOfKin","deletePatientComplaintItem","deletePatientComplaint","deletePatientSurveyItem","deletePatientSurvey","deletePatientSystematicInquiryItem","deletePatientSystematicInquiry","deletePatientVitalsItem","deletePatientVitals","deletePatientExaminationItem","type","deletePatientExamination","deletePatientHistoryItem","deletePatientHistory","deletePatientAllergiesItem","deletePatientAllergies","deletePatientMedicationItem","deletePatientMedication","deletePatientInvestigationItem","deletePatientInvestigation","deletePatientDiagnosisItem","deletePatientDiagnosis","deletePatientTreatmentItem","deletePatientTreatment","deletePatientBillingItem","deletePatientBilling","deletePatientVigilanceItem","deletePatientVigilance","deletePatientAttachmentItem","deletePatientAttachment","deletePatientNoteItem","deletePatientNote","deletePatientTagItem","deletePatientTag","onViewAttachment","attachment","path","format","closeAttachmentView","insurance","nextOfKin","allergies","medication","attachments","notes","tags","closePdfCreator","showDetailHandler","selectVisit","closeVisit","createVisitChecklistUpdate","newState","Object","assign","newVisitComplete","nameElRef","createRef","componentDidMount","updatePatientSpecial","componentWillUnmount","render","fetchUsers","bind","contextType"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport S3 from 'react-aws-s3';\n\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row'\nimport Col from 'react-bootstrap/Col'\nimport Button from 'react-bootstrap/Button';\nimport Accordion from 'react-bootstrap/Accordion';\nimport SidebarPage from './Sidebar';\nimport Tabs from 'react-bootstrap/Tabs';\nimport Tab from 'react-bootstrap/Tab';\nimport Nav from 'react-bootstrap/Nav';\nimport Card from 'react-bootstrap/Card';\n\nimport PatientList from '../components/Patients/PatientList/PatientList';\nimport PatientDetail from '../components/Patients/PatientDetail';\nimport Spinner from '../components/Spinner/Spinner';\nimport AuthContext from '../context/auth-context';\nimport SearchPatientList from '../components/Patients/PatientList/SearchPatientList';\nimport SearchPatientForm from '../components/Forms/SearchPatientForm';\nimport SearchPatientIdForm from '../components/Forms/SearchPatientIdForm';\nimport SearchPatientNameForm from '../components/Forms/SearchPatientNameForm';\n\nimport AlertBox from '../components/AlertBox';\nimport AttachmentViewer from '../components/AttachmentViewer';\nimport PdfCreator from '../components/PdfCreator';\nimport LoadingOverlay from '../components/LoadingOverlay';\n\nimport CreatePatientForm from '../components/Forms/CreatePatientForm';\nimport UpdatePatientForm from '../components/Forms/UpdatePatientForm';\nimport UpdatePatientFieldForm from '../components/Forms/UpdatePatientFieldForm';\nimport UpdatePatientConsultantForm from '../components/Forms/UpdatePatientConsultantForm';\nimport UpdatePatientInsuranceForm from '../components/Forms/UpdatePatientInsuranceForm';\nimport UpdatePatientNextOfKinForm from '../components/Forms/UpdatePatientNextOfKinForm';\nimport UpdatePatientComplaintForm from '../components/Forms/UpdatePatientComplaintForm';\nimport UpdatePatientSurveyForm from '../components/Forms/UpdatePatientSurveyForm';\nimport UpdatePatientSystematicInquiryForm from '../components/Forms/UpdatePatientSystematicInquiryForm';\nimport UpdatePatientVitalsForm from '../components/Forms/UpdatePatientVitalsForm';\nimport UpdatePatientExaminationForm from '../components/Forms/UpdatePatientExaminationForm';\nimport UpdatePatientHistoryForm from '../components/Forms/UpdatePatientHistoryForm';\nimport UpdatePatientAllergiesForm from '../components/Forms/UpdatePatientAllergiesForm';\nimport UpdatePatientMedicationForm from '../components/Forms/UpdatePatientMedicationForm';\nimport UpdatePatientInvestigationForm from '../components/Forms/UpdatePatientInvestigationForm';\nimport UpdatePatientDiagnosisForm from '../components/Forms/UpdatePatientDiagnosisForm';\nimport UpdatePatientTreatmentForm from '../components/Forms/UpdatePatientTreatmentForm';\nimport UpdatePatientBillingForm from '../components/Forms/UpdatePatientBillingForm';\nimport UpdatePatientVigilanceForm from '../components/Forms/UpdatePatientVigilanceForm';\nimport UpdatePatientAttachmentForm from '../components/Forms/UpdatePatientAttachmentForm';\nimport UpdatePatientNoteForm from '../components/Forms/UpdatePatientNoteForm';\nimport UpdatePatientTagForm from '../components/Forms/UpdatePatientTagForm';\n\nimport './Users.css';\n\nclass PatientsPage extends Component {\n  state = {\n    creating: false,\n    updating: false,\n    searching: false,\n    updatingArray: false,\n    deleting: false,\n    patients: [],\n    searchPatients: [],\n    isLoading: false,\n    selectedPatient: null,\n    patientUpdateField: null,\n    patientSearchField: null,\n    patientSearchQuery: null,\n    canDelete: null,\n    visit: null,\n    visitList: [],\n    selectedVisit: null,\n    newVisit: false,\n    createVisitChecklist: {\n      consultant: false,\n      complaint: false,\n      diagnosis: false,\n      examination: false,\n      investigation: false,\n      survey: false,\n      systematicInquiry: false,\n      treatment: false,\n      vitals: false,\n      billing: false,\n      vigilance: false\n    },\n    newVisit: false,\n    userAlert: null,\n    overlay: false,\n    overlayStatus: \"test\",\n    showAttachment: false,\n    showThisAttachmentFile: null,\n    showThisAttachmentType: null,\n    createPdf: false,\n    pdfData: null,\n  };\n  isActive = true;\n\n  static contextType = AuthContext;\n\n  constructor(props) {\n    super(props);\n    this.nameElRef = React.createRef();\n  }\n\n  componentDidMount() {\n\n    if (this.context.user.name === \"Lord-of-the-Manor\"){\n      this.setState({canDelete: true})\n    }\n    this.fetchPatients();\n  }\n\n\n  startCreatePatientHandler = () => {\n    this.setState({ creating: true });\n  };\n  startCreateVisitHandler = () => {\n    this.setState({ newVisit: true });\n  };\n  startUpdatePatientHandler = () => {\n    this.setState({ updating: true, updatingArray: true });\n    console.log(\"UpdatePatientForm...\");\n  };\n  startSearchPatientHandler = () => {\n    this.setState({ searching: true });\n  };\n\n  modalConfirmHandler = (event) => {\n\n    this.setState({ creating: false, userAlert: \"Creating New Patient ...\" });\n    const userId = this.context.userId;\n    const token = this.context.token;\n    let title = event.target.formGridTitle.value;\n    let name = event.target.formGridName.value;\n    let dob = event.target.formGridDob.value;\n    let age = event.target.formGridAge.value;\n    let gender = event.target.formGridGender.value;\n    let addressNumber = event.target.formGridAddressNumber.value;\n    let addressStreet = event.target.formGridAddressStreet.value;\n    let addressTown = event.target.formGridAddressTown.value;\n    let addressParish = event.target.formGridAddressParish.value;\n    let addressPostOffice = event.target.formGridAddressPostOffice.value;\n    let contactPhone = event.target.formGridContactPhone.value;\n    let contactEmail = event.target.formGridContactEmail.value;\n\n    let registrationDate = event.target.formGridRegistrationDate.value;\n    if (event.target.formGridRegistrationDateTodayCheckbox.checked === true) {\n      registrationDate = new Date().toISOString().slice(0,10);\n    }\n    let referralDate = event.target.formGridReferralDate.value;\n    if (event.target.formGridReferralDateTodayCheckbox.checked === true) {\n      referralDate = new Date().toISOString().slice(0,10);\n    }\n\n    let expirationDate = event.target.formGridExpirationDate.value;\n    let attendingPhysicianName = event.target.formGridAttendingPhysicianName.value;\n    let attendingPhysicianEmail = event.target.formGridAttendingPhysicianEmail.value;\n    let attendingPhysicianPhone = event.target.formGridAttendingPhysicianPhone.value;\n    let referringDoctorName = event.target.formGridReferringDoctorName.value;\n    let referringDoctorEmail = event.target.formGridReferringDoctorEmail.value;\n    let referringDoctorPhone = event.target.formGridReferringDoctorPhone.value;\n    let occupationRole = event.target.formGridOccupationRole.value;\n    let occupationEmployer = event.target.formGridOccupationEmployer.value;\n    let occupationEmployerContactPhone = event.target.formGridOccupationEmployerContactPhone.value;\n    let occupationEmployerContactEmail = event.target.formGridOccupationEmployerContactEmail.value;\n\n    if (\n      name.trim().length === 0 ||\n      age.trim().length === 0 ||\n      addressNumber.trim().length === 0 ||\n      addressStreet.trim().length === 0 ||\n      contactPhone.trim().length === 0 ||\n      registrationDate.trim().length === 0\n    ) {\n      this.setState({userAlert: \"patient must have at least: Name, Age, Contact Number, Street Name & Number and Registration Date!!!...Please try again...\"});\n      return;\n    }\n\n    const requestBody = {\n      query: `\n        mutation {createPatient(userId:\"${userId}\", patientInput:{title:\"${title}\",name:\"${name}\",dob:\"${dob}\",age:${age},gender:\"${gender}\",addressNumber:${addressNumber},addressStreet:\"${addressStreet}\",addressTown:\"${addressTown}\",addressParish:\"${addressParish}\",addressPostOffice:\"${addressPostOffice}\",contactPhone:\"${contactPhone}\",contactEmail:\"${contactEmail}\",registrationDate:\"${registrationDate}\",referralDate:\"${referralDate}\",expirationDate:\"${expirationDate}\",referringDoctorName:\"${referringDoctorName}\",referringDoctorEmail:\"${referringDoctorEmail}\",referringDoctorPhone:\"${referringDoctorPhone}\",attendingPhysicianName:\"${attendingPhysicianName}\",attendingPhysicianEmail:\"${attendingPhysicianEmail}\",attendingPhysicianPhone:\"${attendingPhysicianPhone}\",occupationRole:\"${occupationRole}\",occupationEmployer:\"${occupationEmployer}\",occupationEmployerContactPhone:\"${occupationEmployerContactPhone}\",occupationEmployerContactEmail:\"${occupationEmployerContactEmail}\"})\n        {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n        `};\n\n    // fetch('http://ec2-3-19-32-237.us-east-2.compute.amazonaws.com/graphql', {\n    fetch('http://localhost:10000/graphql', {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + token\n      }\n    })\n      .then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n        return res.json();\n      })\n      .then(resData => {\n        const responseAlert = JSON.stringify(resData.data).slice(2,15);\n        this.setState({userAlert: responseAlert});\n        const newPatient = resData.data.createPatient;\n        this.setState(prevState => {\n          const updatedPatients = [...prevState.patients];\n          updatedPatients.push(newPatient);\n          return { patients: updatedPatients };\n        });\n\n      })\n      .catch(err => {\n        this.setState({userAlert: err});\n      });\n  };\n\n  modalCancelHandler = () => {\n    this.setState({ creating: false, updating: false });\n  };\n\n\n  modalConfirmUpdateHandler = (event) => {\n\n    const userId = this.context.userId;\n    const selectedPatientId = this.context.selectedPatient._id;\n    const token = this.context.token;\n\n    this.setState({ updating: false , userAlert: \"Updating selected Patient...\"});\n\n    let title = event.target.formGridTitle.value;\n    let name = event.target.formGridName.value;\n    let dob = event.target.formGridDob.value;\n    let age = event.target.formGridAge.value;\n    let gender = event.target.formGridGender.value;\n    let addressNumber = event.target.formGridAddressNumber.value;\n    let addressStreet = event.target.formGridAddressStreet.value;\n    let addressTown = event.target.formGridAddressTown.value;\n    let addressParish = event.target.formGridAddressParish.value;\n    let addressPostOffice = event.target.formGridAddressPostOffice.value;\n    let contactPhone = event.target.formGridContactPhone.value;\n    let contactEmail = event.target.formGridContactEmail.value;\n\n    let registrationDate = event.target.formGridRegistrationDate.value;\n    if (event.target.formGridRegistrationDateTodayCheckbox.checked === true) {\n      registrationDate = new Date().toISOString().slice(0,10);\n    }\n\n    let referralDate = event.target.formGridReferralDate.value;\n    if (event.target.formGridReferralDateTodayCheckbox.checked === true) {\n      referralDate = new Date().toISOString().slice(0,10);\n    }\n\n    let expirationDate = event.target.formGridExpirationDate.value;\n    if (event.target.formGridExpirationDateTodayCheckbox.checked === true) {\n      expirationDate = new Date().toISOString().slice(0,10);\n    }\n\n    let attendingPhysicianName = event.target.formGridAttendingPhysicianName.value;\n    let attendingPhysicianEmail = event.target.formGridAttendingPhysicianEmail.value;\n    let attendingPhysicianPhone = event.target.formGridAttendingPhysicianPhone.value;\n    let referringDoctorName = event.target.formGridReferringDoctorName.value;\n    let referringDoctorEmail = event.target.formGridReferringDoctorEmail.value;\n    let referringDoctorPhone = event.target.formGridReferringDoctorPhone.value;\n    let occupationRole = event.target.formGridOccupationRole.value;\n    let occupationEmployer = event.target.formGridOccupationEmployer.value;\n    let occupationEmployerContactPhone = event.target.formGridOccupationEmployerContactPhone.value;\n    let occupationEmployerContactEmail = event.target.formGridOccupationEmployerContactEmail.value;\n\n    if (title.trim().length === 0 ) {\n      this.setState({ userAlert: \"blank fields detected!!!...filling w/ previous data...\"});\n      title = this.context.selectedPatient.title;\n    }\n    if (name.trim().length === 0 ) {\n      this.setState({ userAlert: \"blank fields detected!!!...filling w/ previous data...\"});\n      name = this.context.selectedPatient.name;\n    }\n    if (dob.trim().length === 0 ) {\n      this.setState({ userAlert: \"blank fields detected!!!...filling w/ previous data...\"});\n      dob = this.context.selectedPatient.dob;\n    }\n    if (gender.trim().length === 0 ) {\n      this.setState({ userAlert: \"blank fields detected!!!...filling w/ previous data...\"});\n      gender = this.context.selectedPatient.gender;\n    }\n    if (age.trim().length === 0 ) {\n      this.setState({ userAlert: \"blank fields detected!!!...filling w/ previous data...\"});\n      age = this.context.selectedPatient.age;\n    }\n    if (addressNumber.trim().length === 0 ) {\n      this.setState({ userAlert: \"blank fields detected!!!...filling w/ previous data...\"});\n      addressNumber = this.context.selectedPatient.address.number;\n    }\n    if (addressStreet.trim().length === 0 ) {\n      this.setState({ userAlert: \"blank fields detected!!!...filling w/ previous data...\"});\n      addressStreet = this.context.selectedPatient.address.street;\n    }\n    if (addressTown.trim().length === 0 ) {\n      this.setState({ userAlert: \"blank fields detected!!!...filling w/ previous data...\"});\n      addressTown = this.context.selectedPatient.address.town;\n    }\n    if (addressParish.trim().length === 0 ) {\n      this.setState({ userAlert: \"blank fields detected!!!...filling w/ previous data...\"});\n      addressParish = this.context.selectedPatient.address.parish;\n    }\n    if (addressPostOffice.trim().length === 0 ) {\n      this.setState({ userAlert: \"blank fields detected!!!...filling w/ previous data...\"});\n      addressPostOffice = this.context.selectedPatient.address.postOffice;\n    }\n    if (contactPhone.trim().length === 0 ) {\n      this.setState({ userAlert: \"blank fields detected!!!...filling w/ previous data...\"});\n      contactPhone = this.context.selectedPatient.contact.phone;\n    }\n    if (contactEmail.trim().length === 0 ) {\n      this.setState({ userAlert: \"blank fields detected!!!...filling w/ previous data...\"});\n      contactEmail = this.context.selectedPatient.contact.email;\n    }\n    if (registrationDate.trim().length === 0 ) {\n      this.setState({ userAlert: \"blank fields detected!!!...filling w/ previous data...\"});\n      registrationDate = this.context.selectedPatient.registrationDate;\n    }\n    if (attendingPhysicianName.trim().length === 0 ) {\n      this.setState({ userAlert: \"blank fields detected!!!...filling w/ previous data...\"});\n      attendingPhysicianName = this.context.selectedPatient.attendingPhysician.name;\n    }\n    if (attendingPhysicianEmail.trim().length === 0 ) {\n      this.setState({ userAlert: \"blank fields detected!!!...filling w/ previous data...\"});\n      attendingPhysicianEmail = this.context.selectedPatient.attendingPhysician.email;\n    }\n    if (attendingPhysicianPhone.trim().length === 0 ) {\n      this.setState({ userAlert: \"blank fields detected!!!...filling w/ previous data...\"});\n      attendingPhysicianPhone = this.context.selectedPatient.attendingPhysician.phone;\n    }\n    if (referringDoctorName.trim().length === 0 ) {\n      this.setState({ userAlert: \"blank fields detected!!!...filling w/ previous data...\"});\n      referringDoctorName = this.context.selectedPatient.referringDoctor.name;\n    }\n    if (referringDoctorEmail.trim().length === 0 ) {\n      this.setState({ userAlert: \"blank fields detected!!!...filling w/ previous data...\"});\n      referringDoctorEmail = this.context.selectedPatient.referringDoctor.email;\n    }\n    if (referringDoctorPhone.trim().length === 0 ) {\n      this.setState({ userAlert: \"blank fields detected!!!...filling w/ previous data...\"});\n      referringDoctorPhone = this.context.selectedPatient.referringDoctor.phone;\n    }\n    if (occupationRole.trim().length === 0 ) {\n      this.setState({ userAlert: \"blank fields detected!!!...filling w/ previous data...\"});\n      occupationRole = this.context.selectedPatient.occupation.role;\n    }\n    if (occupationEmployer.trim().length === 0 ) {\n      this.setState({ userAlert: \"blank fields detected!!!...filling w/ previous data...\"});\n      occupationEmployer = this.context.selectedPatient.occupation.employer;\n    }\n    if (occupationEmployerContactEmail.trim().length === 0 ) {\n      this.setState({ userAlert: \"blank fields detected!!!...filling w/ previous data...\"});\n      occupationEmployerContactEmail = this.context.selectedPatient.occupation.contact.email;\n    }\n    if (occupationEmployerContactPhone.trim().length === 0 ) {\n      this.setState({ userAlert: \"blank fields detected!!!...filling w/ previous data...\"});\n      occupationEmployerContactPhone = this.context.selectedPatient.occupation.contact.phone;\n    }\n\n    const requestBody = {\n      query: `\n          mutation {updatePatient(userId:\"${userId}\",patientId:\"${selectedPatientId}\", patientInput:{title:\"${title}\",name:\"${name}\",dob:\"${dob}\",age:${age},gender:\"${gender}\",addressNumber:${addressNumber},addressStreet:\"${addressStreet}\",addressTown:\"${addressTown}\",addressParish:\"${addressParish}\",addressPostOffice:\"${addressPostOffice}\",contactPhone:\"${contactPhone}\",contactEmail:\"${contactEmail}\",registrationDate:\"${registrationDate}\",referralDate:\"${referralDate}\",expirationDate:\"${expirationDate}\",referringDoctorName:\"${referringDoctorName}\",referringDoctorEmail:\"${referringDoctorEmail}\",referringDoctorPhone:\"${referringDoctorPhone}\",attendingPhysicianName:\"${attendingPhysicianName}\",attendingPhysicianEmail:\"${attendingPhysicianEmail}\",attendingPhysicianPhone:\"${attendingPhysicianPhone}\",occupationRole:\"${occupationRole}\",occupationEmployer:\"${occupationEmployer}\",occupationEmployerContactPhone:\"${occupationEmployerContactPhone}\",occupationEmployerContactEmail:\"${occupationEmployerContactPhone}\"})\n          {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n        `};\n\n    fetch('http://localhost:10000/graphql', {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + token\n      }\n    })\n      .then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n        return res.json();\n      })\n      .then(resData => {\n        const updatedPatientId = resData.data.updatePatient._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.updatePatient);\n        const responseAlert = JSON.stringify(resData.data).slice(2,25);\n        this.setState({ userAlert: responseAlert})\n        this.fetchPatients();\n      })\n      .catch(err => {\n        this.setState({userAlert: err});\n      });\n  };\n\n\n  modalConfirmUpdateFieldHandler = (event) => {\n\n    const token = this.context.token;\n    const userId = this.context.userId;\n    let selectedPatientId = this.context.selectedPatient._id;\n    this.setState({ updating: false, userAlert: \"Updating selected Patient by Field...\" });\n\n    let field = null;\n    let query = event.target.formGridQuery.value;\n    if (event.target.formGridFieldSelect.value === \"select\") {\n      field = event.target.formGridField.value;\n    } else {\n      field = event.target.formGridFieldSelect.value;\n    }\n\n    const requestBody = {\n      query:`\n        mutation {updatePatientField(userId:\"${userId}\",patientId:\"${selectedPatientId}\",field:\"${field}\",query:\"${query}\")\n        {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n      `};\n\n\n    fetch('http://localhost:10000/graphql', {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + token\n      }\n    })\n      .then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n        return res.json();\n      })\n      .then(resData => {\n        const updatedPatientId = resData.data.updatePatientField._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.updatePatientField);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2,25);\n        this.setState({ userAlert: responseAlert})\n        this.fetchPatients();\n      })\n      .catch(err => {\n        this.setState({userAlert: err});\n      });\n  }\n\n\nupdatePatientConsultantHandler = (event) => {\n\n  event.preventDefault();\n  let token = this.context.token;\n  const userId = this.context.userId;\n  let selectedPatientId = this.context.selectedPatient._id;\n  const patientConsultantReference = this.context.selectedUser._id;\n  if (patientConsultantReference === undefined) {\n      this.setState({userAlert: \"select a Staff member before adding a Patient Consultant!!...\"});\n      token = null;\n  }\n\n  this.setState({ updating: false , patientUpdateField: null, userAlert: \"Adding selected Patient Consultant...\" });\n\n  let consultantDate = null;\n  if (event.target.formGridConsultantDate) {\n    consultantDate = event.target.formGridConsultantDate.value;\n  }\n  if (event.target.formGridConsultantDateTodayCheckbox.checked === true) {\n    consultantDate = new Date().toISOString().slice(0,10);\n  }\n\n  const requestBody = {\n    query:`\n      mutation {updatePatientConsultant(userId:\"${userId}\", patientId:\"${selectedPatientId}\",patientInput:{consultantDate:\" ${consultantDate}\",consultantReference: \"${patientConsultantReference}\"})\n      {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n  };\n\n\n    fetch('http://localhost:10000/graphql', {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + token\n      }\n    })\n    .then(res => {\n      if (res.status !== 200 && res.status !== 201) {\n        throw new Error('Failed!');\n      }\n      return res.json();\n    })\n    .then(resData => {\n      const updatedPatientId = resData.data.updatePatientConsultant._id;\n      const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n      const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n      const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n      this.state.patients.push(resData.data.updatePatientConsultant);\n      this.context.patients = this.state.patients;\n      const responseAlert = JSON.stringify(resData.data).slice(2,25);\n      this.setState({ userAlert: responseAlert})\n      this.fetchPatients();\n    })\n    .catch(err => {\n      this.setState({userAlert: err});\n    });\n}\n\nupdatePatientInsuranceHandler = (event) => {\n\n  const token = this.context.token;\n  const userId = this.context.userId;\n  let selectedPatientId = this.context.selectedPatient._id;\n  this.setState({ updating: false , patientUpdateField: null, userAlert: \"Adding selected Patient Insurance...\" });\n  let insuranceCompany = event.target.formGridInsuranceCompany.value;\n  let insuranceNumber = event.target.formGridInsuranceNumber.value;\n  let insuranceExpiry = event.target.formGridInsuranceExpiry.value;\n  let insuranceDescription = event.target.formGridInsuranceDescription.value;\n  let insuranceSubscriberCompany = event.target.formGridInsuranceSubscriberCompany.value;\n  let insuranceSubscriberDescription = event.target.formGridInsuranceSubscriberDescription.value;\n\n    const requestBody = {\n      query:`\n        mutation {updatePatientInsurance(userId:\"${userId}\", patientId:\"${selectedPatientId}\",patientInput:{insuranceCompany:\"${insuranceCompany}\",insuranceNumber:\"${insuranceNumber}\",insuranceDescription:\"${insuranceDescription}\",insuranceExpiry:\"${insuranceExpiry}\",insuranceSubscriberCompany:\"${insuranceSubscriberCompany}\",insuranceSubscriberDescription:\"${insuranceSubscriberDescription}\"})\n        {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n      `\n    };\n\n    fetch('http://localhost:10000/graphql', {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + token\n      }\n    })\n    .then(res => {\n      if (res.status !== 200 && res.status !== 201) {\n        throw new Error('Failed!');\n      }\n      return res.json();\n    })\n    .then(resData => {\n      const updatedPatientId = resData.data.updatePatientInsurance._id;\n      const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n      const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n      const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n      this.state.patients.push(resData.data.updatePatientInsurance);\n      this.context.patients = this.state.patients;\n      const responseAlert = JSON.stringify(resData.data).slice(2,25);\n      this.setState({ userAlert: responseAlert})\n      this.fetchPatients();\n    })\n    .catch(err => {\n      this.setState({userAlert: err});\n    });\n}\n\nupdatePatientNextOfKinHandler = (event) => {\n\n  const token = this.context.token;\n  const userId = this.context.userId;\n  let selectedPatientId = this.context.selectedPatient._id;\n  this.setState({ updating: false , patientUpdateField: null, userAlert: \"Adding selected Patient Next of Kin...\" });\n  let nextOfKinName = event.target.formGridNextOfKinName.value;\n  let nextOfKinPhone = event.target.formGridNextOfKinPhone.value;\n  let nextOfKinEmail = event.target.formGridNextOfKinEmail.value;\n\n    const requestBody = {\n      query:`\n        mutation {updatePatientNextOfKin(userId:\"${userId}\", patientId:\"${selectedPatientId}\",patientInput:{nextOfKinName:\"${nextOfKinName}\",nextOfKinEmail:\"${nextOfKinEmail}\",nextOfKinPhone:\"${nextOfKinPhone}\"})\n        {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n      `\n    };\n\n    fetch('http://localhost:10000/graphql', {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + token\n      }\n    })\n      .then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n        return res.json();\n      })\n      .then(resData => {\n        const updatedPatientId = resData.data.updatePatientNextOfKin._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.updatePatientNextOfKin);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2,25);\n        this.setState({ userAlert: responseAlert})\n        this.fetchPatients();\n      })\n      .catch(err => {\n        this.setState({userAlert: err});\n      });\n}\n\nupdatePatientComplaintHandler = (event) => {\n\n  event.preventDefault();\n  const token = this.context.token;\n  const userId = this.context.userId;\n  let selectedPatientId = this.context.selectedPatient._id;\n  this.setState({ updating: false , patientUpdateField: null, userAlert: \"Adding selected Patient Complaint...\" });\n\n  let complaintTitle = event.target.formGridComplaintTitle.value;\n\n  let complaintDate = null;\n  if (event.target.formGridComplaintDate) {\n    complaintDate = event.target.formGridComplaintDate.value;\n  }\n  if (event.target.formGridComplaintDateTodayCheckbox.checked === true) {\n    complaintDate = new Date().toISOString().slice(0,10);\n  }\n\n  let complaintDescription = event.target.formGridComplaintDescription.value;\n  let complaintAnamnesis = event.target.formGridComplaintAnamnesis.value;\n  let complaintAttachmentFormat = event.target.formGridComplaintAttachmentFormat.value;\n  let complaintAttachmentPath = \"uploads/patients/\"+selectedPatientId+\"/complaints\";\n  let file = AuthContext._currentValue.file;\n\n  const config = {\n    bucketName: this.context.creds.s3.bucketName,\n    dirName: complaintAttachmentPath,\n    region: this.context.creds.s3.region,\n    accessKeyId: this.context.creds.s3.accessKeyId,\n    secretAccessKey: this.context.creds.s3.secretAccessKey,\n  }\n  const ReactS3Client = new S3(config);\n  const newFileName = file.name;\n  const complaintAttachmentName = newFileName;\n\n  ReactS3Client\n      .uploadFile(file, newFileName)\n      .then(data => {console.log(data);this.setState({userAlert: \"attachment upload success!\"});})\n      .catch(err => {console.error(err);this.setState({userAlert: \"upload error:  \"+err});})\n\n  const requestBody = {\n    query:`\n      mutation {updatePatientComplaint(userId:\"${userId}\", patientId:\"${selectedPatientId}\",patientInput:{complaintDate:\"${complaintDate}\",complaintTitle:\"${complaintTitle}\",complaintDescription:\"${complaintDescription}\",complaintAnamnesis:\"${complaintAnamnesis}\",complaintAttachmentName:\"${complaintAttachmentName}\",complaintAttachmentFormat:\"${complaintAttachmentFormat}\",complaintAttachmentPath:\"${complaintAttachmentPath}\"})\n      {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n  }\n\n  fetch('http://localhost:10000/graphql', {\n    method: 'POST',\n    body: JSON.stringify(requestBody),\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: 'Bearer ' + token\n    }\n  })\n    .then(res => {\n      if (res.status !== 200 && res.status !== 201) {\n        throw new Error('Failed!');\n      }\n      return res.json();\n    })\n    .then(resData => {\n      const updatedPatientId = resData.data.updatePatientComplaint._id;\n      const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n      const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n      const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n      this.state.patients.push(resData.data.updatePatientComplaint);\n      this.context.patients = this.state.patients;\n      const responseAlert = JSON.stringify(resData.data).slice(2,25);\n      this.setState({ userAlert: responseAlert})\n      // this.fetchPatients();\n    })\n    .catch(err => {\n      this.setState({userAlert: err});\n    });\n}\n\nupdatePatientSurveyHandler = (event) => {\n\n  event.preventDefault();\n  const token = this.context.token;\n  const userId = this.context.userId;\n  let selectedPatientId = this.context.selectedPatient._id;\n  this.setState({ updating: false , patientUpdateField: null, userAlert: \"Adding selected Patient Survey...\" });\n\n  let surveyDate = null;\n  if (event.target.formGridSurveyDate) {\n    surveyDate = event.target.formGridSurveyDate.value;\n  }\n  if (event.target.formGridSurveyDateTodayCheckbox.checked === true) {\n    surveyDate = new Date().toISOString().slice(0,10);\n  }\n\n  let surveyTitle = event.target.formGridSurveyTitle.value;\n  let surveyDescription = event.target.formGridSurveyDescription.value;\n  let surveyAttachmentFormat = event.target.formGridSurveyAttachmentFormat.value;\n  let surveyAttachmentPath = \"uploads/patients/\"+selectedPatientId+\"/surveys\";\n  let file = AuthContext._currentValue.file;\n\n  const config = {\n    bucketName: this.context.creds.s3.bucketName,\n    dirName: surveyAttachmentPath,\n    region: this.context.creds.s3.region,\n    accessKeyId: this.context.creds.s3.accessKeyId,\n    secretAccessKey: this.context.creds.s3.secretAccessKey,\n  }\n  const ReactS3Client = new S3(config);\n  const newFileName = file.name;\n  const surveyAttachmentName = newFileName;\n\n  ReactS3Client\n      .uploadFile(file, newFileName)\n      .then(data => {console.log(data);this.setState({userAlert: \"attachment upload success!\"});})\n      .catch(err => {console.error(err);this.setState({userAlert: \"upload error:  \"+err});})\n\n  const requestBody = {\n    query:`\n      mutation {updatePatientSurvey(userId:\"${userId}\",patientId:\"${selectedPatientId}\",patientInput:{surveyDate:\"${surveyDate}\",surveyTitle:\"${surveyTitle}\",surveyDescription:\"${surveyDescription}\",surveyAttachmentName:\"${surveyAttachmentName}\",surveyAttachmentFormat:\"${surveyAttachmentFormat}\",surveyAttachmentPath:\"${surveyAttachmentPath}\"})\n      {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n  }\n\n  fetch('http://localhost:10000/graphql', {\n    method: 'POST',\n    body: JSON.stringify(requestBody),\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: 'Bearer ' + token\n    }\n  })\n    .then(res => {\n      if (res.status !== 200 && res.status !== 201) {\n        throw new Error('Failed!');\n      }\n      return res.json();\n    })\n    .then(resData => {\n      const updatedPatientId = resData.data.updatePatientSurvey._id;\n      const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n      const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n      const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n      this.state.patients.push(resData.data.updatePatientSurvey);\n      this.context.patients = this.state.patients;\n      const responseAlert = JSON.stringify(resData.data).slice(2,25);\n      this.setState({ userAlert: responseAlert})\n      this.fetchPatients();\n    })\n    .catch(err => {\n      this.setState({userAlert: err});\n    });\n}\n\nupdatePatientSystematicInquiryHandler = (event) => {\n\n  event.preventDefault();\n  const token = this.context.token;\n  const userId = this.context.userId;\n  let selectedPatientId = this.context.selectedPatient._id;\n  this.setState({ updating: false , patientUpdateField: null, userAlert: \"Adding selected Patient Systematic Inquiry...\" });\n\n  let systematicInquiryDate = null;\n  if (event.target.formGridSystematicInquiryDate) {\n    systematicInquiryDate = event.target.formGridSystematicInquiryDate.value;\n  }\n  if (event.target.formGridSystematicInquiryDateTodayCheckbox.checked === true) {\n    systematicInquiryDate = new Date().toISOString().slice(0,10);\n  }\n\n  let systematicInquiryTitle = event.target.formGridSystematicInquiryTitle.value;\n  let systematicInquiryDescription = event.target.formGridSystematicInquiryDescription.value;\n  let systematicInquiryAttachmentFormat = event.target.formGridSystematicInquiryAttachmentFormat.value;\n  let systematicInquiryAttachmentPath = \"uploads/patients/\"+selectedPatientId+\"/systematicInquirys\";\n  let file = AuthContext._currentValue.file;\n\n  const config = {\n    bucketName: this.context.creds.s3.bucketName,\n    dirName: systematicInquiryAttachmentPath,\n    region: this.context.creds.s3.region,\n    accessKeyId: this.context.creds.s3.accessKeyId,\n    secretAccessKey: this.context.creds.s3.secretAccessKey,\n  }\n  const ReactS3Client = new S3(config);\n  const newFileName = file.name;\n  const systematicInquiryAttachmentName = newFileName;\n\n  ReactS3Client\n      .uploadFile(file, newFileName)\n      .then(data => {console.log(data);this.setState({userAlert: \"attachment upload success!\"});})\n      .catch(err => {console.error(err);this.setState({userAlert: \"upload error:  \"+err});})\n\n  const requestBody = {\n    query:`\n      mutation {updatePatientSystematicInquiry(userId:\"${userId}\",patientId:\"${selectedPatientId}\",patientInput:{systematicInquiryDate:\"${systematicInquiryDate}\",systematicInquiryTitle:\"${systematicInquiryTitle}\",systematicInquiryDescription:\"${systematicInquiryDescription}\",systematicInquiryAttachmentName:\"${systematicInquiryAttachmentName}\",systematicInquiryAttachmentFormat:\"${systematicInquiryAttachmentFormat}\",systematicInquiryAttachmentPath:\"${systematicInquiryAttachmentPath}\"})\n      {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n  }\n\n  fetch('http://localhost:10000/graphql', {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + token\n      }\n    })\n    .then(res => {\n      if (res.status !== 200 && res.status !== 201) {\n        throw new Error('Failed!');\n      }\n      return res.json();\n    })\n    .then(resData => {\n      const updatedPatientId = resData.data.updatePatientSystematicInquiry._id;\n      const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n      const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n      const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n      this.state.patients.push(resData.data.updatePatientSystematicInquiry);\n      this.context.patients = this.state.patients;\n      const responseAlert = JSON.stringify(resData.data).slice(2,25);\n      this.setState({ userAlert: responseAlert})\n      this.fetchPatients();\n    })\n    .catch(err => {\n      this.setState({userAlert: err});\n    });\n}\n\nupdatePatientVitalsHandler = (event) => {\n\n  event.preventDefault();\n  const token = this.context.token;\n  const userId = this.context.userId;\n  const selectedPatientId = this.context.selectedPatient._id;\n  this.setState({ updating: false , patientUpdateField: null, userAlert: \"Adding selected Patient Vitals...\" });\n\n  let vitalsDate = null;\n  if (event.target.formGridVitalsDate) {\n    vitalsDate = event.target.formGridVitalsDate.value;\n  }\n  if (event.target.formGridVitalsDateTodayCheckbox.checked === true) {\n    vitalsDate = new Date().toISOString().slice(0,10);\n  }\n\n  const vitalsPr = event.target.formGridVitalsPr.value;\n  const vitalsBp1 = event.target.formGridVitalsBp1.value;\n  const vitalsBp2 = event.target.formGridVitalsBp2.value;\n  const vitalsRr = event.target.formGridVitalsRr.value;\n  const vitalsTemp = event.target.formGridVitalsTemp.value;\n  const vitalsPs02 = event.target.formGridVitalsPs02.value;\n  const vitalsHeight = event.target.formGridVitalsHeight.value;\n  const vitalsWeight = event.target.formGridVitalsWeight.value;\n  const vitalsBmi = event.target.formGridVitalsBmi.value;\n  const vitalsUrineType = event.target.formGridVitalsUrineType.value;\n  const vitalsUrineValue = event.target.formGridVitalsUrineValue.value;\n  const requestBody = {\n    query:`\n      mutation {updatePatientVitals(userId:\"${userId}\",patientId:\"${selectedPatientId}\",patientInput:{vitalsDate:\"${vitalsDate}\",vitalsPr:${vitalsPr},vitalsBp1:${vitalsBp1},vitalsBp2:${vitalsBp2},vitalsRr:${vitalsRr},vitalsTemp:${vitalsTemp},vitalsPs02:${vitalsPs02},vitalsHeight:${vitalsHeight},vitalsWeight:${vitalsWeight},vitalsBmi:${vitalsBmi},vitalsUrineType:\"${vitalsUrineType}\",vitalsUrineValue:\"${vitalsUrineValue}\"})\n      {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n  }\n\n  fetch('http://localhost:10000/graphql', {\n    method: 'POST',\n    body: JSON.stringify(requestBody),\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: 'Bearer ' + token\n    }\n  })\n    .then(res => {\n      if (res.status !== 200 && res.status !== 201) {\n        throw new Error('Failed!');\n      }\n      return res.json();\n    })\n    .then(resData => {\n      const updatedPatientId = resData.data.updatePatientVitals._id;\n      const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n      const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n      const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n      this.state.patients.push(resData.data.updatePatientVitals);\n      this.context.patients = this.state.patients;\n      const responseAlert = JSON.stringify(resData.data).slice(2,25);\n      this.setState({ userAlert: responseAlert})\n      this.fetchPatients();\n    })\n    .catch(err => {\n      this.setState({userAlert: err});\n    });\n}\n\nupdatePatientExaminationHandler = (event) => {\n\n  event.preventDefault();\n  const token = this.context.token;\n  const userId = this.context.userId;\n  const selectedPatientId = this.context.selectedPatient._id;\n  this.setState({ updating: false , patientUpdateField: null, userAlert: \"Adding selected Patient Examination...\" });\n\n  let examinationDate = null;\n  if (event.target.formGridExaminationDate) {\n    examinationDate = event.target.formGridExaminationDate.value;\n  }\n  if (event.target.formGridExaminationDateTodayCheckbox.checked === true) {\n    examinationDate = new Date().toISOString().slice(0,10);\n  }\n\n  const examinationGeneral = event.target.formGridExaminationGeneral.value;\n  let examinationArea = undefined;\n  if (event.target.formGridExaminationAreaSelect === \"select\") {\n    examinationArea = event.target.formGridExaminationArea.value;\n  } else {\n    examinationArea = event.target.formGridExaminationAreaSelect.value;\n  }\n  const examinationType = event.target.formGridExaminationType.value;\n  const examinationMeasure = event.target.formGridExaminationMeasure.value;\n  const examinationValue = event.target.formGridExaminationValue.value;\n  const examinationDescription = event.target.formGridExaminationDescription.value;\n  const examinationFollowUp = event.target.formGridExaminationFollowUp.value;\n  const examinationAttachmentFormat = event.target.formGridExaminationAttachmentFormat.value;\n  const examinationAttachmentPath = \"uploads/patients/\"+selectedPatientId+\"/examinations\";\n  const file = AuthContext._currentValue.file;\n  const config = {\n    bucketName: this.context.creds.s3.bucketName,\n    dirName: examinationAttachmentPath,\n    region: this.context.creds.s3.region,\n    accessKeyId: this.context.creds.s3.accessKeyId,\n    secretAccessKey: this.context.creds.s3.secretAccessKey,\n  }\n  const ReactS3Client = new S3(config);\n  const newFileName = file.name;\n  const examinationAttachmentName = newFileName;\n\n  ReactS3Client\n      .uploadFile(file, newFileName)\n      .then(data => {console.log(data);this.setState({userAlert: \"attachment upload success!\"});})\n      .catch(err => {console.error(err);this.setState({userAlert: \"upload error:  \"+err});})\n\n  const requestBody = {\n    query:`\n      mutation {updatePatientExamination(userId:\"${userId}\",patientId:\"${selectedPatientId}\",patientInput:{examinationDate:\"${examinationDate}\",examinationGeneral:\"${examinationGeneral}\",examinationArea:\"${examinationArea}\",examinationType:\"${examinationType}\",examinationMeasure:\"${examinationMeasure}\",examinationValue:\"${examinationValue}\",examinationDescription:\"${examinationDescription}\",examinationFollowUp:${examinationFollowUp},examinationAttachmentName:\"${examinationAttachmentName}\",examinationAttachmentFormat:\"${examinationAttachmentFormat}\",examinationAttachmentPath:\"${examinationAttachmentPath}\"})\n      {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n  }\n\n  fetch('http://localhost:10000/graphql', {\n    method: 'POST',\n    body: JSON.stringify(requestBody),\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: 'Bearer ' + token\n    }\n  })\n    .then(res => {\n      if (res.status !== 200 && res.status !== 201) {\n        throw new Error('Failed!');\n      }\n      return res.json();\n    })\n    .then(resData => {\n      const updatedPatientId = resData.data.updatePatientExamination._id;\n      const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n      const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n      const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n      this.state.patients.push(resData.data.updatePatientExamination);\n      this.context.patients = this.state.patients;\n      const responseAlert = JSON.stringify(resData.data).slice(2,25);\n      this.setState({ userAlert: responseAlert})\n      this.fetchPatients();\n    })\n    .catch(err => {\n      this.setState({userAlert: err});\n    });\n}\n\n\nupdatePatientHistoryHandler = (event) => {\n\n  event.preventDefault();\n  const token = this.context.token;\n  const userId = this.context.userId;\n  const selectedPatientId = this.context.selectedPatient._id;\n  this.setState({ updating: false , patientUpdateField: null, userAlert: \"Adding selected Patient History...\" });\n\n  const historyType = event.target.formGridHistoryType.value;\n  let historyDate = event.target.formGridHistoryDate.value;\n  if (event.target.formGridHistoryDateTodayCheckbox.checked === true) {\n    historyDate = new Date().toISOString().slice(0,10);\n  }\n\n  const historyTitle = event.target.formGridHistoryTitle.value;\n  const historyDescription = event.target.formGridHistoryDescription.value;\n  const historyAttachmentFormat = event.target.formGridHistoryAttachmentFormat.value;\n  const historyAttachmentPath = \"uploads/patients/\"+selectedPatientId+\"/history\";\n  const file = AuthContext._currentValue.file;\n  const config = {\n    bucketName: this.context.creds.s3.bucketName,\n    dirName: historyAttachmentPath,\n    region: this.context.creds.s3.region,\n    accessKeyId: this.context.creds.s3.accessKeyId,\n    secretAccessKey: this.context.creds.s3.secretAccessKey,\n  }\n  const ReactS3Client = new S3(config);\n  const newFileName = file.name;\n  const historyAttachmentName = newFileName;\n\n  ReactS3Client\n      .uploadFile(file, newFileName)\n      .then(data => {console.log(data);this.setState({userAlert: \"attachment upload success!\"});})\n      .catch(err => {console.error(err);this.setState({userAlert: \"upload error:  \"+err});})\n\n  const requestBody = {\n    query:`\n      mutation {updatePatientHistory(userId:\"${userId}\", patientId:\"${selectedPatientId}\",patientInput:{historyTitle:\"${historyTitle}\",historyType:\"${historyType}\",historyDate:\"${historyDate}\",historyDescription:\"${historyDescription}\",historyAttachmentName:\"${historyAttachmentName}\",historyAttachmentFormat:\"${historyAttachmentFormat}\",historyAttachmentPath:\"${historyAttachmentPath}\"})\n      {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n  }\n\n  fetch('http://localhost:10000/graphql', {\n    method: 'POST',\n    body: JSON.stringify(requestBody),\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: 'Bearer ' + token\n    }\n  })\n    .then(res => {\n      if (res.status !== 200 && res.status !== 201) {\n        throw new Error('Failed!');\n      }\n      return res.json();\n    })\n    .then(resData => {\n      const updatedPatientId = resData.data.updatePatientHistory._id;\n      const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n      const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n      const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n      this.state.patients.push(resData.data.updatePatientHistory);\n      this.context.patients = this.state.patients;\n      const responseAlert = JSON.stringify(resData.data).slice(2,25);\n      this.setState({ userAlert: responseAlert})\n      this.fetchPatients();\n    })\n    .catch(err => {\n      this.setState({userAlert: err});\n    });\n}\n\n\nupdatePatientAllergiesHandler = (event) => {\n\n  event.preventDefault();\n  const token = this.context.token;\n  const userId = this.context.userId;\n  const selectedPatientId = this.context.selectedPatient._id;\n  this.setState({ updating: false , patientUpdateField: null, userAlert: \"Adding selected Patient Allergies...\" });\n\n  const allergiesTitle = event.target.formGridAllergiesTitle.value;\n  let allergiesType = undefined;\n  if (event.target.formGridAllergiesTypeSelect === \"select\") {\n    allergiesType = event.target.formGridAllergiesType.value;\n  } else {\n    allergiesType = event.target.formGridAllergiesTypeSelect.value;\n  }\n  const allergiesDescription = event.target.formGridAllergiesDescription.value;\n  const allergiesAttachmentFormat = event.target.formGridAllergiesAttachmentFormat.value;\n  const allergiesAttachmentPath = \"uploads/patients/\"+selectedPatientId+\"/allergies\";\n  const file = AuthContext._currentValue.file;\n  const config = {\n    bucketName: this.context.creds.s3.bucketName,\n    dirName: allergiesAttachmentPath,\n    region: this.context.creds.s3.region,\n    accessKeyId: this.context.creds.s3.accessKeyId,\n    secretAccessKey: this.context.creds.s3.secretAccessKey,\n  }\n  const ReactS3Client = new S3(config);\n  const newFileName = file.name;\n  const allergiesAttachmentName = newFileName;\n\n  ReactS3Client\n      .uploadFile(file, newFileName)\n      .then(data => {console.log(data);this.setState({userAlert: \"attachment upload success!\"});})\n      .catch(err => {console.error(err);this.setState({userAlert: \"upload error:  \"+err});})\n\n  const requestBody = {\n    query:`\n      mutation {updatePatientAllergies(userId:\"${userId}\", patientId:\"${selectedPatientId}\",patientInput:{allergiesTitle:\"${allergiesTitle}\",allergiesType:\"${allergiesType}\", allergiesDescription:\"${allergiesDescription}\",allergiesAttachmentName:\"${allergiesAttachmentName}\",allergiesAttachmentFormat:\"${allergiesAttachmentFormat}\",allergiesAttachmentPath:\"${allergiesAttachmentPath}\"})\n      {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n  }\n\n  fetch('http://localhost:10000/graphql', {\n    method: 'POST',\n    body: JSON.stringify(requestBody),\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: 'Bearer ' + token\n    }\n  })\n    .then(res => {\n      if (res.status !== 200 && res.status !== 201) {\n        throw new Error('Failed!');\n      }\n      return res.json();\n    })\n    .then(resData => {\n      const updatedPatientId = resData.data.updatePatientAllergies._id;\n      const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n      const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n      const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n      this.state.patients.push(resData.data.updatePatientAllergies);\n      this.context.patients = this.state.patients;\n      const responseAlert = JSON.stringify(resData.data).slice(2,25);\n      this.setState({ userAlert: responseAlert})\n      this.fetchPatients();\n    })\n    .catch(err => {\n      this.setState({userAlert: err});\n    });\n}\n\nupdatePatientMedicationHandler = (event) => {\n\n  const token = this.context.token;\n  const userId = this.context.userId;\n  const selectedPatientId = this.context.selectedPatient._id;\n  this.setState({ updating: false , patientUpdateField: null, userAlert: \"Adding selected Patient Medication...\" });\n\n  const medicationTitle = event.target.formGridMedicationTitle.value;\n  const medicationType = event.target.formGridMedicationType.value;\n  const medicationDescription = event.target.formGridMedicationDescription.value;\n  const medicationAttachmentFormat = event.target.formGridMedicationAttachmentFormat.value;\n  const medicationAttachmentPath = \"uploads/patients/\"+selectedPatientId+\"/medication\";\n  const file = AuthContext._currentValue.file;\n  const config = {\n    bucketName: this.context.creds.s3.bucketName,\n    dirName: medicationAttachmentPath,\n    region: this.context.creds.s3.region,\n    accessKeyId: this.context.creds.s3.accessKeyId,\n    secretAccessKey: this.context.creds.s3.secretAccessKey,\n  }\n  const ReactS3Client = new S3(config);\n  const newFileName = file.name;\n  const medicationAttachmentName = newFileName;\n\n  ReactS3Client\n      .uploadFile(file, newFileName)\n      .then(data => {console.log(data);this.setState({userAlert: \"attachment upload success!\"});})\n      .catch(err => {console.error(err);this.setState({userAlert: \"upload error:  \"+err});})\n\n  const requestBody = {\n    query:`\n    mutation {updatePatientMedication(userId:\"${userId}\", patientId:\"${selectedPatientId}\",patientInput:{medicationTitle:\"${medicationTitle}\",medicationType:\"${medicationType}\" medicationDescription:\"${medicationDescription}\",medicationAttachmentName:\"${medicationAttachmentName}\",medicationAttachmentFormat:\"${medicationAttachmentFormat}\",medicationAttachmentPath:\"${medicationAttachmentPath}\"})\n    {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n  }\n\n  fetch('http://localhost:10000/graphql', {\n    method: 'POST',\n    body: JSON.stringify(requestBody),\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: 'Bearer ' + token\n    }\n  })\n    .then(res => {\n      if (res.status !== 200 && res.status !== 201) {\n        throw new Error('Failed!');\n      }\n      return res.json();\n    })\n    .then(resData => {\n      const updatedPatientId = resData.data.updatePatientMedication._id;\n      const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n      const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n      const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n      this.state.patients.push(resData.data.updatePatientMedication);\n      this.context.patients = this.state.patients;\n      const responseAlert = JSON.stringify(resData.data).slice(2,25);\n      this.setState({ userAlert: responseAlert})\n      this.fetchPatients();\n    })\n    .catch(err => {\n      this.setState({userAlert: err});\n    });\n\n}\n\n\nupdatePatientInvestigationHandler = (event) => {\n\n  event.preventDefault();\n  const token = this.context.token;\n  const userId = this.context.userId;\n  const selectedPatientId = this.context.selectedPatient._id;\n  this.setState({ updating: false , patientUpdateField: null, userAlert: \"Adding selected Patient Investigation...\" });\n\n  let investigationDate = null;\n  if (event.target.formGridInvestigationDate) {\n    investigationDate = event.target.formGridInvestigationDate.value;\n  }\n  if (event.target.formGridInvestigationDateTodayCheckbox.checked === true) {\n    investigationDate = new Date().toISOString().slice(0,10);\n  }\n  const investigationTitle = event.target.formGridInvestigationTitle.value;\n  let investigationType = undefined;\n  if (event.target.formGridInvestigationTypeSelect === \"select\") {\n    investigationType = event.target.formGridInvestigationType.value;\n  } else {\n    investigationType = event.target.formGridInvestigationTypeSelect.value;\n  }\n  const investigationDescription = event.target.formGridInvestigationDescription.value;\n  const investigationAttachmentFormat = event.target.formGridInvestigationAttachmentFormat.value;\n  const investigationAttachmentPath = \"uploads/patients/\"+selectedPatientId+\"/investigation\";\n  const file = AuthContext._currentValue.file;\n  const config = {\n    bucketName: this.context.creds.s3.bucketName,\n    dirName: investigationAttachmentPath,\n    region: this.context.creds.s3.region,\n    accessKeyId: this.context.creds.s3.accessKeyId,\n    secretAccessKey: this.context.creds.s3.secretAccessKey,\n  }\n  const ReactS3Client = new S3(config);\n  const newFileName = file.name;\n  const investigationAttachmentName = newFileName;\n\n  ReactS3Client\n      .uploadFile(file, newFileName)\n      .then(data => {console.log(data);this.setState({userAlert: \"attachment upload success!\"});})\n      .catch(err => {console.error(err);this.setState({userAlert: \"upload error:  \"+err});})\n\n  const requestBody = {\n    query:`\n      mutation {updatePatientInvestigation(userId:\"${userId}\", patientId:\"${selectedPatientId}\",patientInput:{investigationDate:\"${investigationDate}\",investigationTitle:\"${investigationTitle}\",investigationType:\"${investigationType}\",investigationDescription:\"${investigationDescription}\",investigationAttachmentName:\"${investigationAttachmentName}\",investigationAttachmentFormat:\"${investigationAttachmentFormat}\",investigationAttachmentPath:\"${investigationAttachmentPath}\"})\n      {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n  }\n\n  fetch('http://localhost:10000/graphql', {\n    method: 'POST',\n    body: JSON.stringify(requestBody),\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: 'Bearer ' + token\n    }\n  })\n    .then(res => {\n      if (res.status !== 200 && res.status !== 201) {\n        throw new Error('Failed!');\n      }\n      return res.json();\n    })\n    .then(resData => {\n      const updatedPatientId = resData.data.updatePatientInvestigation._id;\n      const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n      const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n      const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n      this.state.patients.push(resData.data.updatePatientInvestigation);\n      this.context.patients = this.state.patients;\n      const responseAlert = JSON.stringify(resData.data).slice(2,25);\n      this.setState({ userAlert: responseAlert})\n      this.fetchPatients();\n    })\n    .catch(err => {\n      this.setState({userAlert: err});\n    });\n}\n\nupdatePatientDiagnosisHandler = (event) => {\n\n  event.preventDefault();\n  const token = this.context.token;\n  const userId = this.context.userId;\n  const selectedPatientId = this.context.selectedPatient._id;\n  this.setState({ updating: false , patientUpdateField: null, userAlert: \"Adding selected Patient Diagnosis...\" });\n\n  let diagnosisDate = null;\n  if (event.target.formGridDiagnosisDate) {\n    diagnosisDate = event.target.formGridDiagnosisDate.value;\n  }\n  if (event.target.formGridDiagnosisDateTodayCheckbox.checked === true) {\n    diagnosisDate = new Date().toISOString().slice(0,10);\n  }\n  const diagnosisTitle = event.target.formGridDiagnosisTitle.value;\n  const diagnosisType = event.target.formGridDiagnosisType.value;\n  const diagnosisDescription = event.target.formGridDiagnosisDescription.value;\n  const diagnosisAttachmentFormat = event.target.formGridDiagnosisAttachmentFormat.value;\n  const diagnosisAttachmentPath = \"uploads/patients/\"+selectedPatientId+\"/diagnosis\";\n  const file = AuthContext._currentValue.file;\n  const config = {\n    bucketName: this.context.creds.s3.bucketName,\n    dirName: diagnosisAttachmentPath,\n    region: this.context.creds.s3.region,\n    accessKeyId: this.context.creds.s3.accessKeyId,\n    secretAccessKey: this.context.creds.s3.secretAccessKey,\n  }\n  const ReactS3Client = new S3(config);\n  const newFileName = file.name;\n  const diagnosisAttachmentName = newFileName;\n\n  ReactS3Client\n      .uploadFile(file, newFileName)\n      .then(data => {console.log(data);this.setState({userAlert: \"attachment upload success!\"});})\n      .catch(err => {console.error(err);this.setState({userAlert: \"upload error:  \"+err});})\n\n  const requestBody = {\n    query:`\n      mutation {updatePatientDiagnosis(userId:\"${userId}\", patientId:\"${selectedPatientId}\",patientInput:{diagnosisDate:\"${diagnosisDate}\",diagnosisTitle:\"${diagnosisTitle}\",diagnosisType:\"${diagnosisType}\",diagnosisDescription:\"${diagnosisDescription}\",diagnosisAttachmentName:\"${diagnosisAttachmentName}\",diagnosisAttachmentFormat:\"${diagnosisAttachmentFormat}\",diagnosisAttachmentPath:\"${diagnosisAttachmentPath}\"})\n      {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n  }\n\n  fetch('http://localhost:10000/graphql', {\n    method: 'POST',\n    body: JSON.stringify(requestBody),\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: 'Bearer ' + token\n    }\n  })\n    .then(res => {\n      if (res.status !== 200 && res.status !== 201) {\n        throw new Error('Failed!');\n      }\n      return res.json();\n    })\n    .then(resData => {\n      const updatedPatientId = resData.data.updatePatientDiagnosis._id;\n      const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n      const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n      const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n      this.state.patients.push(resData.data.updatePatientDiagnosis);\n      this.context.patients = this.state.patients;\n      const responseAlert = JSON.stringify(resData.data).slice(2,25);\n      this.setState({ userAlert: responseAlert})\n      this.fetchPatients();\n    })\n    .catch(err => {\n      this.setState({userAlert: err});\n    });\n}\n\nupdatePatientTreatmentHandler = (event) => {\n\n  event.preventDefault();\n  const token = this.context.token;\n  const userId = this.context.userId;\n  const selectedPatientId = this.context.selectedPatient._id;\n  this.setState({ updating: false , patientUpdateField: null, userAlert: \"Adding selected Patient Treatment...\" });\n\n  let treatmentDate = null;\n  if (event.target.formGridTreatmentDate) {\n    treatmentDate = event.target.formGridTreatmentDate.value;\n  }\n  if (event.target.formGridTreatmentDateTodayCheckbox.checked === true) {\n    treatmentDate = new Date().toISOString().slice(0,10);\n  }\n\n  const treatmentTitle = event.target.formGridTreatmentTitle.value;\n  const treatmentDescription = event.target.formGridTreatmentDescription.value;\n  const treatmentDose = event.target.formGridTreatmentDose.value;\n  const treatmentFrequency = event.target.formGridTreatmentFrequency.value;\n  let treatmentType = undefined;\n  if (event.target.formGridInvestigationTypeSelect === \"select\") {\n    treatmentType = event.target.formGridTreatmentType.value;\n  } else {\n    treatmentType = event.target.formGridTreatmentTypeSelect.value;\n  }\n  const treatmentAttachmentFormat = event.target.formGridTreatmentAttachmentFormat.value;\n  const treatmentAttachmentPath = \"uploads/patients/\"+selectedPatientId+\"/treatment\";\n  const file = AuthContext._currentValue.file;\n  const config = {\n    bucketName: this.context.creds.s3.bucketName,\n    dirName: treatmentAttachmentPath,\n    region: this.context.creds.s3.region,\n    accessKeyId: this.context.creds.s3.accessKeyId,\n    secretAccessKey: this.context.creds.s3.secretAccessKey,\n  }\n  const ReactS3Client = new S3(config);\n  const newFileName = file.name;\n  const treatmentAttachmentName = newFileName;\n\n  ReactS3Client\n      .uploadFile(file, newFileName)\n      .then(data => {console.log(data);this.setState({userAlert: \"attachment upload success!\"});})\n      .catch(err => {console.error(err);this.setState({userAlert: \"upload error:  \"+err});})\n\n  const requestBody = {\n    query:`\n      mutation {updatePatientTreatment(userId:\"${userId}\",patientId:\"${selectedPatientId}\",patientInput:{treatmentDate:\"${treatmentDate}\",treatmentTitle:\"${treatmentTitle}\",treatmentType:\"${treatmentType}\",treatmentDescription:\"${treatmentDescription}\",treatmentDose:\"${treatmentDose}\",treatmentFrequency:\"${treatmentFrequency}\",treatmentAttachmentName:\"${treatmentAttachmentName}\",treatmentAttachmentFormat:\"${treatmentAttachmentFormat}\",treatmentAttachmentPath:\"${treatmentAttachmentPath}\"})\n      {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `}\n\n  fetch('http://localhost:10000/graphql', {\n    method: 'POST',\n    body: JSON.stringify(requestBody),\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: 'Bearer ' + token\n    }\n  })\n    .then(res => {\n      if (res.status !== 200 && res.status !== 201) {\n        throw new Error('Failed!');\n      }\n      return res.json();\n    })\n    .then(resData => {\n      const updatedPatientId = resData.data.updatePatientTreatment._id;\n      const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n      const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n      const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n      this.state.patients.push(resData.data.updatePatientTreatment);\n      this.context.patients = this.state.patients;\n      const responseAlert = JSON.stringify(resData.data).slice(2,25);\n      this.setState({ userAlert: responseAlert})\n      this.fetchPatients();\n    })\n    .catch(err => {\n      this.setState({userAlert: err});\n    });\n}\n\nupdatePatientBillingHandler = (event) => {\n\n  event.preventDefault();\n  const token = this.context.token;\n  const userId = this.context.userId;\n  const selectedPatientId = this.context.selectedPatient._id;\n  this.setState({ updating: false , patientUpdateField: null, userAlert: \"Adding selected Patient Billing...\" });\n\n  let billingDate = null;\n  if (event.target.formGridBillingDate) {\n    billingDate = event.target.formGridBillingDate.value;\n  }\n  if (event.target.formGridBillingDateTodayCheckbox.checked === true) {\n    billingDate = new Date().toISOString().slice(0,10);\n  }\n\n  const billingTitle = event.target.formGridBillingTitle.value;\n  const billingType = event.target.formGridBillingType.value;\n  const billingDescription = event.target.formGridBillingDescription.value;\n  const billingAmount = event.target.formGridBillingAmount.value;\n  const billingPaid = event.target.formGridBillingPaid.value;\n  const billingNotes = event.target.formGridBillingNotes.value;\n  const billingAttachmentFormat = event.target.formGridBillingAttachmentFormat.value;\n  const billingAttachmentPath = \"uploads/patients/\"+selectedPatientId+\"/billing\";\n  const file = AuthContext._currentValue.file;\n  const config = {\n    bucketName: this.context.creds.s3.bucketName,\n    dirName: billingAttachmentPath,\n    region: this.context.creds.s3.region,\n    accessKeyId: this.context.creds.s3.accessKeyId,\n    secretAccessKey: this.context.creds.s3.secretAccessKey,\n  }\n  const ReactS3Client = new S3(config);\n  const newFileName = file.name;\n  const billingAttachmentName = newFileName;\n\n  ReactS3Client\n      .uploadFile(file, newFileName)\n      .then(data => {console.log(data);this.setState({userAlert: \"attachment upload success!\"});})\n      .catch(err => {console.error(err);this.setState({userAlert: \"upload error:  \"+err});})\n\n  const requestBody = {\n    query:`\n      mutation {updatePatientBilling(userId:\"${userId}\", patientId:\"${selectedPatientId}\",patientInput:{billingDate:\"${billingDate}\",billingTitle:\"${billingTitle}\",billingType:\"${billingType}\",billingDescription:\"${billingDescription}\",billingAmount:${billingAmount},billingPaid:${billingPaid},billingNotes:\"${billingNotes}\",billingAttachmentName:\"${billingAttachmentName}\",billingAttachmentFormat:\"${billingAttachmentFormat}\",billingAttachmentPath:\"${billingAttachmentPath}\"})\n      {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n  }\n\n  fetch('http://localhost:10000/graphql', {\n    method: 'POST',\n    body: JSON.stringify(requestBody),\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: 'Bearer ' + token\n    }\n  })\n    .then(res => {\n      if (res.status !== 200 && res.status !== 201) {\n        throw new Error('Failed!');\n      }\n      return res.json();\n    })\n    .then(resData => {\n      const updatedPatientId = resData.data.updatePatientBilling._id;\n      const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n      const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n      const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n      this.state.patients.push(resData.data.updatePatientBilling);\n      this.context.patients = this.state.patients;\n      const responseAlert = JSON.stringify(resData.data).slice(2,25);\n      this.setState({ userAlert: responseAlert})\n      this.fetchPatients();\n    })\n    .catch(err => {\n      this.setState({userAlert: err});\n    });\n}\n\nupdatePatientVigilanceHandler = (event) => {\n\n  event.preventDefault();\n  const token = this.context.token;\n  const userId = this.context.userId;\n  const selectedPatientId = this.context.selectedPatient._id;\n  this.setState({ updating: false , patientUpdateField: null, userAlert: \"Adding selected Patient Vigilance...\" });\n\n  let vigilanceDate = null;\n  if (event.target.formGridVigilanceDate) {\n    vigilanceDate = event.target.formGridVigilanceDate.value;\n  }\n  if (event.target.formGridVigilanceDateTodayCheckbox.checked === true) {\n    vigilanceDate = new Date().toISOString().slice(0,10);\n  }\n  const vigilanceChronicIllnessDiabetesMedication = event.target.formGridVigilanceChronicIllnessDiabetesMedication.checked;\n  const vigilanceChronicIllnessDiabetesTesting = event.target.formGridVigilanceChronicIllnessDiabetesTesting.checked;\n  const vigilanceChronicIllnessDiabetesComment = event.target.formGridVigilanceChronicIllnessDiabetesComment.value;\n  const vigilanceChronicIllnessHbpMedication = event.target.formGridVigilanceChronicIllnessHbpMedication.checked;\n  const vigilanceChronicIllnessHbpTesting = event.target.formGridVigilanceChronicIllnessHbpTesting.checked;\n  const vigilanceChronicIllnessHbpComment = event.target.formGridVigilanceChronicIllnessHbpComment.value;\n  const vigilanceChronicIllnessDyslipidemiaMedication = event.target.formGridVigilanceChronicIllnessDyslipidemiaMedication.checked;\n  const vigilanceChronicIllnessDyslipidemiaTesting = event.target.formGridVigilanceChronicIllnessDyslipidemiaTesting.checked;\n  const vigilanceChronicIllnessDyslipidemiaComment = event.target.formGridVigilanceChronicIllnessDyslipidemiaComment.value;\n  const vigilanceChronicIllnessCadMedication = event.target.formGridVigilanceChronicIllnessCadMedication.checked;\n  const vigilanceChronicIllnessCadTesting = event.target.formGridVigilanceChronicIllnessCadTesting.checked;\n  const vigilanceChronicIllnessCadComment = event.target.formGridVigilanceChronicIllnessCadComment.value;\n  const vigilanceLifestyleWeightMedication = event.target.formGridVigilanceLifestyleWeightMedication.checked;\n  const vigilanceLifestyleWeightTesting = event.target.formGridVigilanceLifestyleWeightTesting.checked;\n  const vigilanceLifestyleWeightComment = event.target.formGridVigilanceLifestyleWeightComment.value;\n  const vigilanceLifestyleDietMedication = event.target.formGridVigilanceLifestyleDietMedication.checked;\n  const vigilanceLifestyleDietTesting = event.target.formGridVigilanceLifestyleDietTesting.checked;\n  const vigilanceLifestyleDietComment = event.target.formGridVigilanceLifestyleDietComment.value;\n  const vigilanceLifestyleSmokingMedication = event.target.formGridVigilanceLifestyleSmokingMedication.checked;\n  const vigilanceLifestyleSmokingTesting = event.target.formGridVigilanceLifestyleSmokingTesting.checked;\n  const vigilanceLifestyleSmokingComment = event.target.formGridVigilanceLifestyleSmokingComment.value;\n  const vigilanceLifestyleSubstanceAbuseMedication = event.target.formGridVigilanceLifestyleSubstanceAbuseMedication.checked;\n  const vigilanceLifestyleSubstanceAbuseTesting = event.target.formGridVigilanceLifestyleSubstanceAbuseTesting.checked;\n  const vigilanceLifestyleSubstanceAbuseComment = event.target.formGridVigilanceLifestyleSubstanceAbuseComment.value;\n  const vigilanceLifestyleExerciseMedication = event.target.formGridVigilanceLifestyleExerciseMedication.checked;\n  const vigilanceLifestyleExerciseTesting = event.target.formGridVigilanceLifestyleExerciseTesting.checked;\n  const vigilanceLifestyleExerciseComment = event.target.formGridVigilanceLifestyleExerciseComment.value;\n  const vigilanceLifestyleAllergiesMedication = event.target.formGridVigilanceLifestyleAllergiesMedication.checked;\n  const vigilanceLifestyleAllergiesTesting = event.target.formGridVigilanceLifestyleAllergiesTesting.checked;\n  const vigilanceLifestyleAllergiesComment = event.target.formGridVigilanceLifestyleAllergiesComment.value;\n  const vigilanceLifestyleAsthmaMedication = event.target.formGridVigilanceLifestyleAsthmaMedication.checked;\n  const vigilanceLifestyleAsthmaTesting = event.target.formGridVigilanceLifestyleAsthmaTesting.checked;\n  const vigilanceLifestyleAsthmaComment = event.target.formGridVigilanceLifestyleAsthmaComment.value;\n  const vigilanceScreeningBreastMedication = event.target.formGridVigilanceScreeningBreastMedication.checked;\n  const vigilanceScreeningBreastTesting = event.target.formGridVigilanceScreeningBreastTesting.checked;\n  const vigilanceScreeningBreastComment = event.target.formGridVigilanceScreeningBreastComment.value;\n  const vigilanceScreeningProstateMedication = event.target.formGridVigilanceScreeningProstateMedication.checked;\n  const vigilanceScreeningProstateTesting = event.target.formGridVigilanceScreeningProstateTesting.checked;\n  const vigilanceScreeningProstateComment = event.target.formGridVigilanceScreeningProstateComment.value;\n  const vigilanceScreeningCervixMedication = event.target.formGridVigilanceScreeningCervixMedication.checked;\n  const vigilanceScreeningCervixTesting = event.target.formGridVigilanceScreeningCervixTesting.checked;\n  const vigilanceScreeningCervixComment = event.target.formGridVigilanceScreeningCervixComment.value;\n  const vigilanceScreeningColonMedication = event.target.formGridVigilanceScreeningColonMedication.checked;\n  const vigilanceScreeningColonTesting = event.target.formGridVigilanceScreeningColonTesting.checked;\n  const vigilanceScreeningColonComment = event.target.formGridVigilanceScreeningColonComment.value;\n  const vigilanceScreeningDentalMedication = event.target.formGridVigilanceScreeningDentalMedication.checked;\n  const vigilanceScreeningDentalTesting = event.target.formGridVigilanceScreeningDentalTesting.checked;\n  const vigilanceScreeningDentalComment = event.target.formGridVigilanceScreeningDentalComment.value;\n  const vigilanceVaccinesInfluenzaMedication = event.target.formGridVigilanceVaccinesInfluenzaMedication.checked;\n  const vigilanceVaccinesInfluenzaTesting = event.target.formGridVigilanceVaccinesInfluenzaTesting.checked;\n  const vigilanceVaccinesInfluenzaComment = event.target.formGridVigilanceVaccinesInfluenzaComment.value;\n  const vigilanceVaccinesVaricellaMedication = event.target.formGridVigilanceVaccinesVaricellaMedication.checked;\n  const vigilanceVaccinesVaricellaTesting = event.target.formGridVigilanceVaccinesVaricellaTesting.checked;\n  const vigilanceVaccinesVaricellaComment = event.target.formGridVigilanceVaccinesVaricellaComment.value;\n  const vigilanceVaccinesHpvMedication = event.target.formGridVigilanceVaccinesHpvMedication.checked;\n  const vigilanceVaccinesHpvTesting = event.target.formGridVigilanceVaccinesHpvTesting.checked;\n  const vigilanceVaccinesHpvComment = event.target.formGridVigilanceVaccinesHpvComment.value;\n  const vigilanceVaccinesMmrMedication = event.target.formGridVigilanceVaccinesMmrMedication.checked;\n  const vigilanceVaccinesMmrTesting = event.target.formGridVigilanceVaccinesMmrTesting.checked;\n  const vigilanceVaccinesMmrComment = event.target.formGridVigilanceVaccinesMmrComment.value;\n  const vigilanceVaccinesTetanusMedication = event.target.formGridVigilanceVaccinesTetanusMedication.checked;\n  const vigilanceVaccinesTetanusTesting = event.target.formGridVigilanceVaccinesTetanusTesting.checked;\n  const vigilanceVaccinesTetanusComment = event.target.formGridVigilanceVaccinesTetanusComment.value;\n  const vigilanceVaccinesPneumovaxMedication = event.target.formGridVigilanceVaccinesPneumovaxMedication.checked;\n  const vigilanceVaccinesPneumovaxTesting = event.target.formGridVigilanceVaccinesPneumovaxTesting.checked;\n  const vigilanceVaccinesPneumovaxComment = event.target.formGridVigilanceVaccinesPneumovaxComment.value;\n  const vigilanceVaccinesOtherName = event.target.formGridVigilanceVaccinesOtherName.value;\n  const vigilanceVaccinesOtherMedication = event.target.formGridVigilanceVaccinesOtherMedication.checked;\n  const vigilanceVaccinesOtherTesting = event.target.formGridVigilanceVaccinesOtherTesting.checked;\n  const vigilanceVaccinesOtherComment = event.target.formGridVigilanceVaccinesOtherComment.value;\n  const requestBody = {\n    query:`\n      mutation {updatePatientVigilance(userId:\"${userId}\", patientId:\"${selectedPatientId}\",patientInput:{\n        vigilanceDate:\"${vigilanceDate}\",\n        vigilanceChronicIllnessDiabetesMedication: ${vigilanceChronicIllnessDiabetesMedication},\n        vigilanceChronicIllnessDiabetesTesting: ${vigilanceChronicIllnessDiabetesTesting},\n        vigilanceChronicIllnessDiabetesComment: \"${vigilanceChronicIllnessDiabetesComment}\",\n        vigilanceChronicIllnessHbpMedication: ${vigilanceChronicIllnessHbpMedication},\n        vigilanceChronicIllnessHbpTesting: ${vigilanceChronicIllnessHbpTesting},\n        vigilanceChronicIllnessHbpComment: \"${vigilanceChronicIllnessHbpComment}\",\n        vigilanceChronicIllnessDyslipidemiaMedication: ${vigilanceChronicIllnessDyslipidemiaMedication},\n        vigilanceChronicIllnessDyslipidemiaTesting: ${vigilanceChronicIllnessDyslipidemiaTesting},\n        vigilanceChronicIllnessDyslipidemiaComment: \"${vigilanceChronicIllnessDyslipidemiaComment}\",\n        vigilanceChronicIllnessCadMedication: ${vigilanceChronicIllnessCadMedication},\n        vigilanceChronicIllnessCadTesting: ${vigilanceChronicIllnessCadTesting},\n        vigilanceChronicIllnessCadComment: \"${vigilanceChronicIllnessCadComment}\",\n        vigilanceLifestyleWeightMedication: ${vigilanceLifestyleWeightMedication},\n        vigilanceLifestyleWeightTesting: ${vigilanceLifestyleWeightTesting},\n        vigilanceLifestyleWeightComment: \"${vigilanceLifestyleWeightComment}\",\n        vigilanceLifestyleDietMedication: ${vigilanceLifestyleDietMedication},\n        vigilanceLifestyleDietTesting: ${vigilanceLifestyleDietTesting},\n        vigilanceLifestyleDietComment: \"${vigilanceLifestyleDietComment}\",\n        vigilanceLifestyleSmokingMedication: ${vigilanceLifestyleSmokingMedication},\n        vigilanceLifestyleSmokingTesting: ${vigilanceLifestyleSmokingTesting},\n        vigilanceLifestyleSmokingComment: \"${vigilanceLifestyleSmokingComment}\",\n        vigilanceLifestyleSubstanceAbuseMedication: ${vigilanceLifestyleSubstanceAbuseMedication},\n        vigilanceLifestyleSubstanceAbuseTesting: ${vigilanceLifestyleSubstanceAbuseTesting},\n        vigilanceLifestyleSubstanceAbuseComment: \"${vigilanceLifestyleSubstanceAbuseComment}\",\n        vigilanceLifestyleExerciseMedication: ${vigilanceLifestyleExerciseMedication},\n        vigilanceLifestyleExerciseTesting: ${vigilanceLifestyleExerciseTesting},\n        vigilanceLifestyleExerciseComment: \"${vigilanceLifestyleExerciseComment}\",\n        vigilanceLifestyleAllergiesMedication: ${vigilanceLifestyleAllergiesMedication},\n        vigilanceLifestyleAllergiesTesting: ${vigilanceLifestyleAllergiesTesting},\n        vigilanceLifestyleAllergiesComment: \"${vigilanceLifestyleAllergiesComment}\",\n        vigilanceLifestyleAsthmaMedication: ${vigilanceLifestyleAsthmaMedication},\n        vigilanceLifestyleAsthmaTesting: ${vigilanceLifestyleAsthmaTesting},\n        vigilanceLifestyleAsthmaComment: \"${vigilanceLifestyleAsthmaComment}\",\n        vigilanceScreeningBreastMedication: ${vigilanceScreeningBreastMedication},\n        vigilanceScreeningBreastTesting: ${vigilanceScreeningBreastTesting},\n        vigilanceScreeningBreastComment: \"${vigilanceScreeningBreastComment}\",\n        vigilanceScreeningProstateMedication: ${vigilanceScreeningProstateMedication},\n        vigilanceScreeningProstateTesting: ${vigilanceScreeningProstateTesting},\n        vigilanceScreeningProstateComment: \"${vigilanceScreeningProstateComment}\",\n        vigilanceScreeningCervixMedication: ${vigilanceScreeningCervixMedication},\n        vigilanceScreeningCervixTesting: ${vigilanceScreeningCervixTesting},\n        vigilanceScreeningCervixComment: \"${vigilanceScreeningCervixComment}\",\n        vigilanceScreeningColonMedication: ${vigilanceScreeningColonMedication},\n        vigilanceScreeningColonTesting: ${vigilanceScreeningColonTesting},\n        vigilanceScreeningColonComment: \"${vigilanceScreeningColonComment}\",\n        vigilanceScreeningDentalMedication: ${vigilanceScreeningDentalMedication},\n        vigilanceScreeningDentalTesting: ${vigilanceScreeningDentalTesting},\n        vigilanceScreeningDentalComment: \"${vigilanceScreeningDentalComment}\",\n        vigilanceVaccinesInfluenzaMedication: ${vigilanceVaccinesInfluenzaMedication},\n        vigilanceVaccinesInfluenzaTesting: ${vigilanceVaccinesInfluenzaTesting},\n        vigilanceVaccinesInfluenzaComment: \"${vigilanceVaccinesInfluenzaComment}\",\n        vigilanceVaccinesVaricellaMedication: ${vigilanceVaccinesVaricellaMedication},\n        vigilanceVaccinesVaricellaTesting: ${vigilanceVaccinesVaricellaTesting},\n        vigilanceVaccinesVaricellaComment: \"${vigilanceVaccinesVaricellaComment}\",\n        vigilanceVaccinesHpvMedication: ${vigilanceVaccinesHpvMedication},\n        vigilanceVaccinesHpvTesting: ${vigilanceVaccinesHpvTesting},\n        vigilanceVaccinesHpvComment: \"${vigilanceVaccinesHpvComment}\",\n        vigilanceVaccinesMmrMedication: ${vigilanceVaccinesMmrMedication},\n        vigilanceVaccinesMmrTesting: ${vigilanceVaccinesMmrTesting},\n        vigilanceVaccinesMmrComment: \"${vigilanceVaccinesMmrComment}\",\n        vigilanceVaccinesTetanusMedication: ${vigilanceVaccinesTetanusMedication},\n        vigilanceVaccinesTetanusTesting: ${vigilanceVaccinesTetanusTesting},\n        vigilanceVaccinesTetanusComment: \"${vigilanceVaccinesTetanusComment}\",\n        vigilanceVaccinesPneumovaxMedication: ${vigilanceVaccinesPneumovaxMedication},\n        vigilanceVaccinesPneumovaxTesting: ${vigilanceVaccinesPneumovaxTesting},\n        vigilanceVaccinesPneumovaxComment: \"${vigilanceVaccinesPneumovaxComment}\",\n        vigilanceVaccinesOtherName: \"${vigilanceVaccinesOtherName}\",\n        vigilanceVaccinesOtherMedication: ${vigilanceVaccinesOtherMedication},\n        vigilanceVaccinesOtherTesting: ${vigilanceVaccinesOtherTesting},\n        vigilanceVaccinesOtherComment: \"${vigilanceVaccinesOtherComment}\"})\n        {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n    }\n\n    fetch('http://localhost:10000/graphql', {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + token\n      }\n    })\n      .then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n        return res.json();\n      })\n      .then(resData => {\n        const updatedPatientId = resData.data.updatePatientVigilance._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.updatePatientVigilance);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2,25);\n        this.setState({ userAlert: responseAlert})\n        this.fetchPatients();\n      })\n      .catch(err => {\n        this.setState({userAlert: err});\n      });\n}\n\nupdatePatientAttachmentHandler = (event) => {\n\n    const token = this.context.token;\n    const userId = this.context.userId;\n    const selectedPatientId = this.context.selectedPatient._id;\n    this.setState({ updating: false , patientUpdateField: null, userAlert: \"Adding selected Patient Attachment...\" });\n\n    const attachmentFormat = event.target.formGridPatientAttachmentFormat.value;\n    const attachmentPath = \"uploads/patients/\"+selectedPatientId+\"/attachments\"\n    const file = AuthContext._currentValue.file;\n    const config = {\n      bucketName: this.context.creds.s3.bucketName,\n      dirName: attachmentPath,\n      region: this.context.creds.s3.region,\n      accessKeyId: this.context.creds.s3.accessKeyId,\n      secretAccessKey: this.context.creds.s3.secretAccessKey,\n    }\n    const ReactS3Client = new S3(config);\n    const newFileName = file.name;\n    const attachmentName = newFileName;\n\n    ReactS3Client\n        .uploadFile(file, newFileName)\n        .then(data => {console.log(data);this.setState({userAlert: \"attachment upload success!\"});})\n        .catch(err => {console.error(err);this.setState({userAlert: \"upload error:  \"+err});})\n\n    if (\n      attachmentName.trim().length === 0 ||\n      attachmentFormat.trim().length === 0 ||\n      attachmentPath.trim().length === 0\n    ) {\n      this.setState({userAlert: \"blank fields detected!!!...Please try again...\"});\n      return;\n    }\n\n    const requestBody = {\n            query:`\n              mutation {updatePatientAttachment(userId:\"${userId}\",patientId:\"${selectedPatientId}\",patientInput:{attachmentName:\"${attachmentName}\",attachmentFormat:\"${attachmentFormat}\",attachmentPath:\"${attachmentPath}\"})\n              {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},attachments{name,format,path},notes,tags}}\n            `}\n\n    fetch('http://localhost:10000/graphql', {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + token\n      }\n    })\n    .then(res => {\n      if (res.status !== 200 && res.status !== 201) {\n        throw new Error('Failed!');\n      }\n      return res.json();\n    })\n    .then(resData => {\n      const updatedPatientId = resData.data.updatePatientAttachment._id;\n      const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n      const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n      const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n      this.state.patients.push(resData.data.updatePatientAttachment);\n      this.context.patients = this.state.patients;\n      const responseAlert = JSON.stringify(resData.data).slice(2,25);\n      this.setState({ userAlert: responseAlert})\n      this.fetchPatients();\n    })\n    .catch(err => {\n      this.setState({userAlert: err});\n    });\n}\n\nupdatePatientNoteHandler = (event) => {\n\n  const token = this.context.token;\n  const userId = this.context.userId;\n  const selectedPatientId = this.context.selectedPatient._id;\n  this.setState({ updating: false , patientUpdateField: null, userAlert: \"Adding selected Patient Note ...\" });\n\n  const note = event.target.formGridNote.value;\n\n  if (\n    note.trim().length === 0\n  ) {\n    this.setState({userAlert: \"Can't Submit a blank form!!!...Please try again...\"});\n    return;\n  }\n\n  const requestBody = {\n        query:`\n          mutation {updatePatientNotes(userId:\"${userId}\",patientId:\"${selectedPatientId}\",patientInput:{notes:\"${note}\"})\n          {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n      `}\n\n  fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      })\n        .then(res => {\n          if (res.status !== 200 && res.status !== 201) {\n            throw new Error('Failed!');\n          }\n          return res.json();\n        })\n        .then(resData => {\n          const updatedPatientId = resData.data.updatePatientNotes._id;\n          const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n          const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n          const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n          this.state.patients.push(resData.data.updatePatientNotes);\n          this.context.patients = this.state.patients;\n          const responseAlert = JSON.stringify(resData.data).slice(2,25);\n          this.setState({ userAlert: responseAlert})\n          this.fetchPatients();\n        })\n        .catch(err => {\n          this.setState({userAlert: err});\n        });\n\n}\nupdatePatientTagHandler = (event) => {\n\n  const token = this.context.token;\n  const userId = this.context.userId;\n  let selectedPatientId = this.context.selectedPatient._id;\n  this.setState({ updating: false , patientUpdateField: null, userAlert: \"Adding selected Patient Tag...\" });\n  let tag = event.target.formGridTag.value;\n\n  if (\n    tag.trim().length === 0\n  ) {\n    console.log(\"Can't Submit a blank form!!!...Please try again...\");\n    this.setState({userAlert: \"Can't Submit a blank form!!!...Please try again...\"});\n    return;\n  }\n\n  const requestBody = {\n            query:`\n              mutation {updatePatientTags(userId:\"${userId}\",patientId:\"${selectedPatientId}\",patientInput:{tag:\"${tag}\"})\n              {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n          `}\n\n  fetch('http://localhost:10000/graphql', {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + token\n      }\n    })\n    .then(res => {\n      if (res.status !== 200 && res.status !== 201) {\n        throw new Error('Failed!');\n      }\n      return res.json();\n    })\n    .then(resData => {\n      const updatedPatientId = resData.data.updatePatientTags._id;\n      const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n      const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n      const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n      this.state.patients.push(resData.data.updatePatientTags);\n      this.context.patients = this.state.patients;\n      const responseAlert = JSON.stringify(resData.data).slice(2,25);\n      this.setState({ userAlert: responseAlert})\n      this.fetchPatients();\n    })\n    .catch(err => {\n      this.setState({userAlert: err});\n    });\n}\n\n\nmodalConfirmSearchHandler = (event) => {\n\n  const userId = this.context.userId;\n  const token = this.context.token;\n  this.setState({ searching: false, userAlert: \"Now Searching Patients...\" });\n  let field = null;\n  const query = event.target.formBasicQuery.value;\n  if (event.target.formBasicFieldSelect.value === \"select\") {\n    field = event.target.formBasicField.value;\n  } else {\n    field = event.target.formBasicFieldSelect.value;\n  }\n  this.setState({\n    patientSearchField: field,\n    patientSearchQuery: query,\n  })\n  if (\n    field.trim().length === 0 ||\n    query.trim().length === 0\n  ) {\n    this.setState({ userAlert: \"blank fields detected!!!...Please try again...\"});\n    return;\n  }\n\n  const requestBody = {\n    query: `\n      query {\n        getPatientField(userId: \"${userId}\", field: \"${field}\", query: \"${query}\" )\n        {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n  }\n\n  fetch('http://localhost:10000/graphql', {\n    method: 'POST',\n    body: JSON.stringify(requestBody),\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: 'Bearer ' + token\n    }\n  })\n    .then(res => {\n      if (res.status !== 200 && res.status !== 201) {\n        throw new Error('Failed!');\n      }\n      return res.json();\n    })\n    .then(resData => {\n      const responseAlert = JSON.stringify(resData.data).slice(2,15);\n      const searchPatients = resData.data.getPatientField;\n      this.setState({ searchPatients: searchPatients, userAlert: responseAlert})\n      // this.fetchPatients();\n    })\n    .catch(err => {\n      this.setState({userAlert: err});\n    });\n}\n\nmodalConfirmSearchIdHandler = (event) => {\n\n  const userId = this.context.userId;\n  this.setState({ searching: false, userAlert: \"Searching Patients by Id...\" });\n  const patientId = event.target.formBasicId.value;\n\n  const requestBody = {\n    query: `\n      query {getPatientId(userId:\"${userId}\",patientId:\"${patientId}\")\n      {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `}\n\n  const token = this.context.token;\n\n  fetch('http://localhost:10000/graphql', {\n    method: 'POST',\n    body: JSON.stringify(requestBody),\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: 'Bearer ' + token\n    }\n  })\n    .then(res => {\n      if (res.status !== 200 && res.status !== 201) {\n        throw new Error('Failed!');\n      }\n      return res.json();\n    })\n    .then(resData => {\n      const responseAlert = JSON.stringify(resData.data).slice(2,25);\n      const searchPatients = resData.data.getPatientId;\n      this.setState({ searchPatients: [searchPatients], userAlert: responseAlert})\n      console.log(\"state.searchPatients:  \", this.state.searchPatients);\n      // this.fetchUsers();\n    })\n    .catch(err => {\n      this.setState({userAlert: err});\n    });\n}\n\nmodalConfirmSearchNameHandler = (event) => {\n\n  this.setState({ searching: false, userAlert: \"Searching Patients by Name...\" });\n  const patients = this.state.patients;\n  const regex = new RegExp(event.target.formBasicName.value,\"i\");\n    let result = patients.filter(patient => patient.name.match(regex));\n    this.setState({ searchPatients: result})\n}\n\ngetPatientVisit = (event) => {\n\n    const selectedPatient = this.state.selectedPatient;\n    event.preventDefault();\n    let visitDate = new Date(event.target.formBasicVisitDate.value).toISOString().substring(0, 10);\n    let visitSurveys = selectedPatient.surveys.filter(x=> new Date(x.date.substr(0,10)*1000).toISOString().substring(0, 10) === visitDate);\n    let visitConsultants = selectedPatient.consultant.filter(x=> new Date(x.date.substr(0,10)*1000).toISOString().substring(0, 10) === visitDate);\n    let visitComplaints = selectedPatient.complaints.filter(x=> new Date(x.date.substr(0,10)*1000).toISOString().substring(0, 10) === visitDate);\n    // let visitSurveys = selectedPatient.surveys.filter(x=> new Date(x.date.substr(0,10)*1000).toISOString() === visitDate);\n    let visitSystematicInquiry = selectedPatient.systematicInquiry.filter(x=> new Date(x.date.substr(0,10)*1000).toISOString().substring(0, 10) === visitDate);\n    let visitVitals = selectedPatient.vitals.filter(x=> new Date(x.date.substr(0,10)*1000).toISOString().substring(0, 10) === visitDate);\n    let visitExaminations = selectedPatient.examination.filter(x=> new Date(x.date.substr(0,10)*1000).toISOString().substring(0, 10) === visitDate);\n    let visitHistory = selectedPatient.history.filter(x=> new Date(x.date.substr(0,10)*1000).toISOString().substring(0, 10) === visitDate);\n    let visitInvestigations = selectedPatient.investigation.filter(x=> new Date(x.date.substr(0,10)*1000).toISOString().substring(0, 10) === visitDate);\n    let visitDiagnosis = selectedPatient.diagnosis.filter(x=> new Date(x.date.substr(0,10)*1000).toISOString().substring(0, 10) === visitDate);\n    let visitTreatments = selectedPatient.treatment.filter(x=> new Date(x.date.substr(0,10)*1000).toISOString().substring(0, 10) === visitDate);\n    let visitBilling = selectedPatient.billing.filter(x=> new Date(x.date.substr(0,10)*1000).toISOString().substring(0, 10) === visitDate);\n    let visitVigilance = selectedPatient.vigilance.filter(x=> new Date(x.date.substr(0,10)*1000).toISOString().substring(0, 10) === visitDate);\n\n      const visit = {\n        date: visitDate,\n        patientName: this.context.selectedPatient.name,\n        consultant: visitConsultants,\n        complaint: visitComplaints,\n        examination: visitExaminations,\n        survey: visitSurveys,\n        systematicInquiry: visitSystematicInquiry,\n        vitals: visitVitals,\n        history: visitHistory,\n        investigation: visitInvestigations,\n        diagnosis: visitDiagnosis,\n        treatment: visitTreatments,\n        billing: visitBilling,\n        vigilance: visitVigilance,\n      };\n\n        // this.context.visit = visit;\n        this.setState({visit: visit});\n  }\n\n  getVisitList = () => {\n\n    const selectedPatient = this.state.selectedPatient;\n    const patientName = this.state.selectedPatient.name;\n    let selectedPatientAppointmentDateArray = [];\n    let selectedPatientAppointmentVisitArray = [];\n    let selectedPatientAppointments = this.state.selectedPatient.appointments.map(appointments => {\n      selectedPatientAppointmentDateArray.push(new Date(appointments.date.substr(0,10)*1000).toISOString().substring(0, 10))\n    })\n\n      selectedPatientAppointmentDateArray.map(appointmentDate => {\n          thisGetVisit(appointmentDate, patientName)\n      })\n\n      function thisGetVisit (argsDate, argsPatientName) {\n\n        let visitDate = argsDate\n        let visitSurveys = selectedPatient.surveys.filter(x=> new Date(x.date.substr(0,10)*1000).toISOString().substring(0, 10) === visitDate);\n        let visitConsultants = selectedPatient.consultant.filter(x=> new Date(x.date.substr(0,10)*1000).toISOString().substring(0, 10) === visitDate);\n        let visitComplaints = selectedPatient.complaints.filter(x=> new Date(x.date.substr(0,10)*1000).toISOString().substring(0, 10) === visitDate);\n        // let visitSurveys = selectedPatient.surveys.filter(x=> new Date(x.date.substr(0,10)*1000).toISOString() === visitDate);\n        let visitVitals = selectedPatient.vitals.filter(x=> new Date(x.date.substr(0,10)*1000).toISOString().substring(0, 10) === visitDate);\n        let visitSystematicInquiry = selectedPatient.systematicInquiry.filter(x=> new Date(x.date.substr(0,10)*1000).toISOString().substring(0, 10) === visitDate);\n        let visitExaminations = selectedPatient.examination.filter(x=> new Date(x.date.substr(0,10)*1000).toISOString().substring(0, 10) === visitDate);\n        let visitHistory = selectedPatient.history.filter(x=> new Date(x.date.substr(0,10)*1000).toISOString().substring(0, 10) === visitDate);\n        let visitInvestigations = selectedPatient.investigation.filter(x=> new Date(x.date.substr(0,10)*1000).toISOString().substring(0, 10) === visitDate);\n        let visitDiagnosis = selectedPatient.diagnosis.filter(x=> new Date(x.date.substr(0,10)*1000).toISOString().substring(0, 10) === visitDate);\n        let visitTreatments = selectedPatient.treatment.filter(x=> new Date(x.date.substr(0,10)*1000).toISOString().substring(0, 10) === visitDate);\n        let visitBilling = selectedPatient.billing.filter(x=> new Date(x.date.substr(0,10)*1000).toISOString().substring(0, 10) === visitDate);\n        let visitVigilance = selectedPatient.vigilance.filter(x=> new Date(x.date.substr(0,10)*1000).toISOString().substring(0, 10) === visitDate);\n\n        const visit = {\n          date: visitDate,\n          patientName: argsPatientName,\n          consultant: visitConsultants,\n          complaint: visitComplaints,\n          examination: visitExaminations,\n          survey: visitSurveys,\n          systematicInquiry: visitSystematicInquiry,\n          vitals: visitVitals,\n          history: visitHistory,\n          investigation: visitInvestigations,\n          diagnosis: visitDiagnosis,\n          treatment: visitTreatments,\n          billing: visitBilling,\n          vigilance: visitVigilance,\n        };\n\n        selectedPatientAppointmentVisitArray.push(visit)\n      }\n      this.setState({ visitList: selectedPatientAppointmentVisitArray})\n\n  }\n\n\n  getVisitListAsc = () => {\n\n      let list = this.state.visitList;\n\n      list.sort((a, b) => {\n        if (a.date < b.date) return -1\n        return a.date > b.date ? 1 : 0\n      })\n\n      this.setState({visitList: list})\n  }\n\n  getVisitListDesc = () => {\n\n      let list = this.state.visitList;\n\n      list.sort((a, b) => {\n        if (a.date < b.date) return 1\n        return a.date > b.date ? -1 : 0\n      })\n\n      this.setState({visitList: list})\n  }\n\n\n  modalCancelHandler = () => {\n    this.setState({ creating: false, updating: false, searching: false, selectedPatient: null });\n  };\n\n\n  fetchPatients() {\n\n    const userId = this.context.userId;\n    const token = this.context.token;\n\n    this.setState({ isLoading: true, userAlert: \"Fetching Patient Master List...\" });\n    const requestBody = {\n      query: `\n          query {patients(userId:\"${userId}\")\n          {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n        `\n    };\n\n    fetch('http://localhost:10000/graphql', {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + token\n      }\n    })\n      .then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n        return res.json();\n      })\n      .then(resData => {\n        const patients = resData.data.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2,25);\n        this.setState({userAlert: responseAlert});\n        this.context.patients = this.state.patients;\n        if (this.isActive) {\n          this.setState({\n            patients: patients,\n            isLoading: false,\n\n          });\n        }\n      })\n      .catch(err => {\n        this.setState({userAlert: err});\n        if (this.isActive) {\n          this.setState({ isLoading: false });\n        }\n      });\n  }\n\n  fetchPatientsAsc = () => {\n    const userId = this.context.userId;\n    const token = this.context.token;\n\n    // this.setState({ isLoading: true });\n    const requestBody = {\n      query: `\n          query {patientsNameAsc(userId:\"${userId}\")\n          {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n        `\n    };\n\n    fetch('http://localhost:10000/graphql', {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + token\n      }\n    })\n      .then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n        return res.json();\n      })\n      .then(resData => {\n        const patients = resData.data.patientsNameAsc;\n        const responseAlert = JSON.stringify(resData.data).slice(2,25);\n        this.setState({userAlert: responseAlert});\n        this.context.patients = patients;\n        this.setState({ patients: patients});\n        // if (this.isActive) {\n        //   this.setState({ patients: patients, isLoading: false });\n        // }\n\n      })\n      .catch(err => {\n        this.setState({userAlert: err});\n        // if (this.isActive) {\n        //   this.setState({ isLoading: false });\n        // }\n      });\n  }\n\n  fetchPatientsDesc = () => {\n    const userId = this.context.userId;\n    const token = this.context.token;\n    // this.setState({ isLoading: true });\n    const requestBody = {\n      query: `\n          query {patientsNameDesc(userId:\"${userId}\")\n          {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n        `\n    };\n\n    fetch('http://localhost:10000/graphql', {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + token\n      }\n    })\n      .then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n        return res.json();\n      })\n      .then(resData => {\n        const patients = resData.data.patientsNameDesc;\n        const responseAlert = JSON.stringify(resData.data).slice(2,25);\n        this.setState({userAlert: responseAlert});\n        this.context.patients = patients\n        // if (this.isActive) {\n        //   this.setState({ patients: patients, isLoading: false });\n        // }\n        this.setState({ patients: patients});\n\n      })\n      .catch(err => {\n        this.setState({userAlert: err});\n        // if (this.isActive) {\n        //   this.setState({ isLoading: false });\n        // }\n      });\n  }\n\n\n  modalDeleteHandler = () => {\n\n    const selectedPatientId = this.context.selectedPatient._id;\n    const userId = this.context.selectedUser._id;\n    if(this.context.user.role !== 'admin') {\n      this.setState({ userAlert: \"Not the Admin! No edit permission!!\"});\n    }\n\n    this.setState({deleting: true, userAlert: \"Deleting selected Patient...\"});\n\n    const requestBody = {\n      query: `\n          mutation {deletePatient(userId:\"${userId}\",patientId:\"${selectedPatientId}\")\n          {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n        `\n    };\n\n    fetch('http://localhost:10000/graphql', {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + this.context.token\n      }\n    })\n      .then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n        return res.json();\n      })\n      .then(resData => {\n        let deletedPatient = resData.data.deletePatient;\n        const responseAlert = JSON.stringify(resData.data).slice(2,25);\n        this.setState({userAlert: responseAlert});\n        let deletedPatientId = deletedPatient._id;\n        deletedPatient = this.state.patients.find(e => e._id === deletedPatientId);\n        const deletedPatientPos = this.state.patients.indexOf(deletedPatient);\n        const slicedArray = this.state.patients.splice(deletedPatientPos, 1);\n        this.setState({ deleting: false });\n        this.fetchPatients();\n      })\n      .catch(err => {\n        this.setState({userAlert: err});\n        if (this.isActive) {\n          this.setState({ deleting: false });\n        }\n      });\n  }\n\n\n  deletePatientInsuranceItem = (props) => {\n\n    const token = this.context.token;\n    const userId = this.context.userId;\n    const patientId = this.state.selectedPatient._id;\n\n      const requestBody = {\n        query: `\n         mutation {deletePatientInsurance (userId:\"${userId}\", patientId:\"${patientId}\",insuranceCompany:\"${props.company}\",insuranceNumber:\"${props.number}\")\n         {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n      `};\n\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      })\n        .then(res => {\n          if (res.status !== 200 && res.status !== 201) {\n            throw new Error('Failed!');\n          }\n          return res.json();\n        })\n        .then(resData => {\n          let deletedPatient = resData.data.deletePatientInsurance;\n          const updatedPatientId = resData.data.deletePatientInsurance._id;\n          const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n          const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n          const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n          this.state.patients.push(resData.data.deletePatientInsurance);\n          this.context.patients = this.state.patients;\n          const responseAlert = JSON.stringify(resData.data).slice(2,25);\n          this.setState({ userAlert: responseAlert})\n          this.fetchPatients();\n        })\n        .catch(err => {\n          this.setState({ userAlert: err});\n        });\n  }\n\n  deletePatientAppointmentItem = (props) => {\n\n    const token = this.context.token;\n    const userId = this.context.userId;\n    const patientId = this.state.selectedPatient._id;\n    const date = new Date(props.date.substr(0,10)*1000).toISOString().slice(0,10);\n      const requestBody = {\n        query: `\n         mutation {deletePatientAppointment (userId:\"${userId}\", patientId:\"${patientId}\",appointmentId:\"${props._id}\",appointmentDate:\"${date}\")\n         {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n      `};\n\n          fetch('http://localhost:10000/graphql', {\n            method: 'POST',\n            body: JSON.stringify(requestBody),\n            headers: {\n              'Content-Type': 'application/json',\n              Authorization: 'Bearer ' + token\n            }\n          })\n            .then(res => {\n              if (res.status !== 200 && res.status !== 201) {\n                throw new Error('Failed!');\n              }\n              return res.json();\n            })\n            .then(resData => {\n              let deletedPatient = resData.data.deletePatientAppointment;\n              const updatedPatientId = resData.data.deletePatientAppointment._id;\n              const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n              const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n              const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n              this.state.patients.push(resData.data.deletePatientAppointment);\n              this.context.patients = this.state.patients;\n              const responseAlert = JSON.stringify(resData.data).slice(2,25);\n              this.setState({ userAlert: responseAlert})\n              this.fetchPatients();\n            })\n            .catch(err => {\n              this.setState({ userAlert: err});\n            });\n}\n\n  deletePatientConsultantItem = (props) => {\n\n    const token = this.context.token;\n    const userId = this.context.userId;\n    const patientId = this.state.selectedPatient._id;\n    const date = new Date(props.date.substr(0,10)*1000).toISOString().slice(0,10);\n      const requestBody = {\n        query: `\n         mutation {deletePatientConsultant (userId:\"${userId}\", patientId:\"${patientId}\",consultantId:\"${props.reference.id}\",consultantDate:\"${date}\")\n         {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n      `};\n\n          fetch('http://localhost:10000/graphql', {\n            method: 'POST',\n            body: JSON.stringify(requestBody),\n            headers: {\n              'Content-Type': 'application/json',\n              Authorization: 'Bearer ' + token\n            }\n          })\n            .then(res => {\n              if (res.status !== 200 && res.status !== 201) {\n                throw new Error('Failed!');\n              }\n              return res.json();\n            })\n            .then(resData => {\n              let deletedPatient = resData.data.deletePatientConsultant;\n              const updatedPatientId = resData.data.deletePatientConsultant._id;\n              const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n              const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n              const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n              this.state.patients.push(resData.data.deletePatientConsultant);\n              this.context.patients = this.state.patients;\n              const responseAlert = JSON.stringify(resData.data).slice(2,25);\n              this.setState({ userAlert: responseAlert})\n              this.fetchPatients();\n            })\n            .catch(err => {\n              this.setState({ userAlert: err});\n            });\n}\n\ndeletePatientNextOfKinItem = (props) => {\n\n  let token = this.context.token;\n  let userId = this.context.userId;\n  let patientId = this.state.selectedPatient._id;\n\n  console.log(`\n    delete patient nextOfKin item:\n    props: ${JSON.stringify(props)},\n    token: ${token},\n    userId: ${userId},\n    patientId: ${patientId},\n    `);\n\n    const requestBody = {\n      query: `\n       mutation {deletePatientNextOfKin (userId:\"${userId}\", patientId:\"${patientId}\",nextOfKinName:\"${props.name}\")\n       {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `};\n\n        fetch('http://localhost:10000/graphql', {\n          method: 'POST',\n          body: JSON.stringify(requestBody),\n          headers: {\n            'Content-Type': 'application/json',\n            Authorization: 'Bearer ' + token\n          }\n        })\n          .then(res => {\n            if (res.status !== 200 && res.status !== 201) {\n              throw new Error('Failed!');\n            }\n            return res.json();\n          })\n          .then(resData => {\n            let deletedPatient = resData.data.deletePatientNextOfKin;\n            console.log(deletedPatient);\n\n            const updatedPatientId = resData.data.deletePatientNextOfKin._id;\n            const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n            const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n            const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n            console.log(\"updatedPatient:  \", JSON.stringify(updatedPatient),\"  updatedPatientPos:  \", updatedPatientPos, \"  slicedArray:  \", slicedArray);\n\n            this.state.patients.push(resData.data.deletePatientNextOfKin);\n            this.context.patients = this.state.patients;\n            const responseAlert = JSON.stringify(resData.data).slice(2,25);\n            this.setState({ userAlert: responseAlert})\n            this.fetchPatients();\n\n          })\n          .catch(err => {\n            console.log(err);\n          });\n}\n\ndeletePatientComplaintItem = (props) => {\n\n  let token = this.context.token;\n  let userId = this.context.userId;\n  let patientId = this.state.selectedPatient._id;\n  let date = new Date(props.date.substr(0,10)*1000).toISOString().slice(0,10);\n\n  console.log(`\n    delete patient Complaint item:\n    props: ${JSON.stringify(props)},\n    token: ${token},\n    userId: ${userId},\n    patientId: ${patientId},\n    complaint date: ${date},\n    `);\n\n    const requestBody = {\n      query: `\n       mutation {deletePatientComplaint (userId:\"${userId}\", patientId:\"${patientId}\",complaintTitle:\"${props.title}\",complaintDate:\"${date}\")\n       {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `};\n\n        fetch('http://localhost:10000/graphql', {\n          method: 'POST',\n          body: JSON.stringify(requestBody),\n          headers: {\n            'Content-Type': 'application/json',\n            Authorization: 'Bearer ' + token\n          }\n        })\n          .then(res => {\n            if (res.status !== 200 && res.status !== 201) {\n              throw new Error('Failed!');\n            }\n            return res.json();\n          })\n          .then(resData => {\n            let deletedPatient = resData.data.deletePatientComplaint;\n            console.log(deletedPatient);\n\n            const updatedPatientId = resData.data.deletePatientComplaint._id;\n            const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n            const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n            const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n            console.log(\"updatedPatient:  \", JSON.stringify(updatedPatient),\"  updatedPatientPos:  \", updatedPatientPos, \"  slicedArray:  \", slicedArray);\n\n            this.state.patients.push(resData.data.deletePatientComplaint);\n            this.context.patients = this.state.patients;\n            const responseAlert = JSON.stringify(resData.data).slice(2,25);\n            this.setState({ userAlert: responseAlert})\n            this.fetchPatients();\n\n          })\n          .catch(err => {\n            console.log(err);\n          });\n}\n\ndeletePatientSurveyItem = (props) => {\n\n  let token = this.context.token;\n  let userId = this.context.userId;\n  let patientId = this.state.selectedPatient._id;\n  let date = new Date(props.date.substr(0,10)*1000).toISOString().slice(0,10);\n\n  console.log(`\n    delete patient Survey item:\n    props: ${JSON.stringify(props)},\n    token: ${token},\n    userId: ${userId},\n    patientId: ${patientId},\n    survey date: ${date}\n    `);\n\n    const requestBody = {\n      query: `\n       mutation {deletePatientSurvey (userId:\"${userId}\", patientId:\"${patientId}\",surveyTitle:\"${props.title}\",surveyDate:\"${date}\")\n       {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `};\n\n        fetch('http://localhost:10000/graphql', {\n          method: 'POST',\n          body: JSON.stringify(requestBody),\n          headers: {\n            'Content-Type': 'application/json',\n            Authorization: 'Bearer ' + token\n          }\n        })\n          .then(res => {\n            if (res.status !== 200 && res.status !== 201) {\n              throw new Error('Failed!');\n            }\n            return res.json();\n          })\n          .then(resData => {\n            let deletedPatient = resData.data.deletePatientSurvey;\n            console.log(deletedPatient);\n\n            const updatedPatientId = resData.data.deletePatientSurvey._id;\n            const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n            const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n            const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n            console.log(\"updatedPatient:  \", JSON.stringify(updatedPatient),\"  updatedPatientPos:  \", updatedPatientPos, \"  slicedArray:  \", slicedArray);\n\n            this.state.patients.push(resData.data.deletePatientSurvey);\n            this.context.patients = this.state.patients;\n            const responseAlert = JSON.stringify(resData.data).slice(2,25);\n            this.setState({ userAlert: responseAlert})\n            this.fetchPatients();\n\n          })\n          .catch(err => {\n            console.log(err);\n          });\n}\n\ndeletePatientSystematicInquiryItem = (props) => {\n\n  let token = this.context.token;\n  let userId = this.context.userId;\n  let patientId = this.state.selectedPatient._id;\n  let date = new Date(props.date.substr(0,10)*1000).toISOString().slice(0,10);\n\n  console.log(`\n    delete patient SystematicInquiry item:\n    props: ${JSON.stringify(props)},\n    token: ${token},\n    userId: ${userId},\n    patientId: ${patientId},\n    systematicInquiry date: ${date}\n    `);\n\n    const requestBody = {\n      query: `\n       mutation {deletePatientSystematicInquiry (userId:\"${userId}\", patientId:\"${patientId}\",systematicInquiryTitle:\"${props.title}\",systematicInquiryDate:\"${date}\")\n       {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `};\n\n        fetch('http://localhost:10000/graphql', {\n          method: 'POST',\n          body: JSON.stringify(requestBody),\n          headers: {\n            'Content-Type': 'application/json',\n            Authorization: 'Bearer ' + token\n          }\n        })\n          .then(res => {\n            if (res.status !== 200 && res.status !== 201) {\n              throw new Error('Failed!');\n            }\n            return res.json();\n          })\n          .then(resData => {\n            let deletedPatient = resData.data.deletePatientSystematicInquiry;\n            console.log(deletedPatient);\n\n            const updatedPatientId = resData.data.deletePatientSystematicInquiry._id;\n            const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n            const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n            const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n            console.log(\"updatedPatient:  \", JSON.stringify(updatedPatient),\"  updatedPatientPos:  \", updatedPatientPos, \"  slicedArray:  \", slicedArray);\n\n            this.state.patients.push(resData.data.deletePatientSystematicInquiry);\n            this.context.patients = this.state.patients;\n            const responseAlert = JSON.stringify(resData.data).slice(2,25);\n            this.setState({ userAlert: responseAlert})\n            this.fetchPatients();\n\n          })\n          .catch(err => {\n            console.log(err);\n          });\n}\n\ndeletePatientVitalsItem = (props) => {\n\n  let token = this.context.token;\n  let userId = this.context.userId;\n  let patientId = this.state.selectedPatient._id;\n  let date = new Date(props.date.substr(0,10)*1000).toISOString().slice(0,10);\n\n  console.log(`\n    delete patient Vitals item:\n    props: ${JSON.stringify(props)},\n    token: ${token},\n    userId: ${userId},\n    patientId: ${patientId},\n    vitals date: ${date},\n    `);\n\n    const requestBody = {\n      query: `\n       mutation {deletePatientVitals (userId:\"${userId}\", patientId:\"${patientId}\",vitalsDate:\"${date}\")\n       {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `};\n\n        fetch('http://localhost:10000/graphql', {\n          method: 'POST',\n          body: JSON.stringify(requestBody),\n          headers: {\n            'Content-Type': 'application/json',\n            Authorization: 'Bearer ' + token\n          }\n        })\n          .then(res => {\n            if (res.status !== 200 && res.status !== 201) {\n              throw new Error('Failed!');\n            }\n            return res.json();\n          })\n          .then(resData => {\n            let deletedPatient = resData.data.deletePatientVitals;\n            console.log(deletedPatient);\n\n            const updatedPatientId = resData.data.deletePatientVitals._id;\n            const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n            const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n            const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n            console.log(\"updatedPatient:  \", JSON.stringify(updatedPatient),\"  updatedPatientPos:  \", updatedPatientPos, \"  slicedArray:  \", slicedArray);\n\n            this.state.patients.push(resData.data.deletePatientVitals);\n            this.context.patients = this.state.patients;\n            const responseAlert = JSON.stringify(resData.data).slice(2,25);\n            this.setState({ userAlert: responseAlert})\n            this.fetchPatients();\n\n          })\n          .catch(err => {\n            console.log(err);\n          });\n}\n\ndeletePatientExaminationItem = (props) => {\n\n  let token = this.context.token;\n  let userId = this.context.userId;\n  let patientId = this.state.selectedPatient._id;\n  let date = new Date(props.date.substr(0,10)*1000).toISOString().slice(0,10);\n\n  console.log(`\n    delete patient Examination item:\n    props: ${JSON.stringify(props)},\n    token: ${token},\n    userId: ${userId},\n    patientId: ${patientId},\n    examination date: ${date},\n    `);\n\n    const requestBody = {\n      query: `\n       mutation {deletePatientExamination (userId:\"${userId}\", patientId:\"${patientId}\",examinationType:\"${props.type}\",examinationDate:\"${date}\")\n       {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `};\n\n        fetch('http://localhost:10000/graphql', {\n          method: 'POST',\n          body: JSON.stringify(requestBody),\n          headers: {\n            'Content-Type': 'application/json',\n            Authorization: 'Bearer ' + token\n          }\n        })\n          .then(res => {\n            if (res.status !== 200 && res.status !== 201) {\n              throw new Error('Failed!');\n            }\n            return res.json();\n          })\n          .then(resData => {\n            let deletedPatient = resData.data.deletePatientExamination;\n            console.log(deletedPatient);\n\n            const updatedPatientId = resData.data.deletePatientExamination._id;\n            const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n            const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n            const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n            console.log(\"updatedPatient:  \", JSON.stringify(updatedPatient),\"  updatedPatientPos:  \", updatedPatientPos, \"  slicedArray:  \", slicedArray);\n\n            this.state.patients.push(resData.data.deletePatientExamination);\n            this.context.patients = this.state.patients;\n            const responseAlert = JSON.stringify(resData.data).slice(2,25);\n            this.setState({ userAlert: responseAlert})\n            this.fetchPatients();\n\n          })\n          .catch(err => {\n            console.log(err);\n          });\n}\n\ndeletePatientHistoryItem = (props) => {\n\n  let token = this.context.token;\n  let userId = this.context.userId;\n  let patientId = this.state.selectedPatient._id;\n  let date = new Date(props.date.substr(0,10)*1000).toISOString().slice(0,10);\n\n  console.log(`\n    delete patient History item:\n    props: ${JSON.stringify(props)},\n    token: ${token},\n    userId: ${userId},\n    patientId: ${patientId},\n    history date: ${date},\n    `);\n\n    const requestBody = {\n      query: `\n       mutation {deletePatientHistory (userId:\"${userId}\", patientId:\"${patientId}\",historyTitle:\"${props.title}\",historyDate:\"${date}\")\n       {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `};\n\n        fetch('http://localhost:10000/graphql', {\n          method: 'POST',\n          body: JSON.stringify(requestBody),\n          headers: {\n            'Content-Type': 'application/json',\n            Authorization: 'Bearer ' + token\n          }\n        })\n          .then(res => {\n            if (res.status !== 200 && res.status !== 201) {\n              throw new Error('Failed!');\n            }\n            return res.json();\n          })\n          .then(resData => {\n            let deletedPatient = resData.data.deletePatientHistory;\n            console.log(deletedPatient);\n\n            const updatedPatientId = resData.data.deletePatientHistory._id;\n            const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n            const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n            const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n            console.log(\"updatedPatient:  \", JSON.stringify(updatedPatient),\"  updatedPatientPos:  \", updatedPatientPos, \"  slicedArray:  \", slicedArray);\n\n            this.state.patients.push(resData.data.deletePatientHistory);\n            this.context.patients = this.state.patients;\n            const responseAlert = JSON.stringify(resData.data).slice(2,25);\n            this.setState({ userAlert: responseAlert})\n            this.fetchPatients();\n\n          })\n          .catch(err => {\n            console.log(err);\n          });\n}\n\ndeletePatientAllergiesItem = (props) => {\n\n  let token = this.context.token;\n  let userId = this.context.userId;\n  let patientId = this.state.selectedPatient._id;\n\n  console.log(`\n    delete patient Allergies item:\n    props: ${JSON.stringify(props)},\n    token: ${token},\n    userId: ${userId},\n    patientId: ${patientId},\n    `);\n\n    const requestBody = {\n      query: `\n       mutation {deletePatientAllergies (userId:\"${userId}\", patientId:\"${patientId}\",allergiesTitle:\"${props.title}\",allergiesType:\"${props.type}\")\n       {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `};\n\n        fetch('http://localhost:10000/graphql', {\n          method: 'POST',\n          body: JSON.stringify(requestBody),\n          headers: {\n            'Content-Type': 'application/json',\n            Authorization: 'Bearer ' + token\n          }\n        })\n          .then(res => {\n            if (res.status !== 200 && res.status !== 201) {\n              throw new Error('Failed!');\n            }\n            return res.json();\n          })\n          .then(resData => {\n            let deletedPatient = resData.data.deletePatientAllergies;\n            console.log(deletedPatient);\n\n            const updatedPatientId = resData.data.deletePatientAllergies._id;\n            const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n            const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n            const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n            console.log(\"updatedPatient:  \", JSON.stringify(updatedPatient),\"  updatedPatientPos:  \", updatedPatientPos, \"  slicedArray:  \", slicedArray);\n\n            this.state.patients.push(resData.data.deletePatientAllergies);\n            this.context.patients = this.state.patients;\n            const responseAlert = JSON.stringify(resData.data).slice(2,25);\n            this.setState({ userAlert: responseAlert})\n            this.fetchPatients();\n\n          })\n          .catch(err => {\n            console.log(err);\n          });\n}\n\ndeletePatientMedicationItem = (props) => {\n\n  let token = this.context.token;\n  let userId = this.context.userId;\n  let patientId = this.state.selectedPatient._id;\n\n  console.log(`\n    delete patient Medication item:\n    props: ${JSON.stringify(props)},\n    token: ${token},\n    userId: ${userId},\n    patientId: ${patientId},\n    `);\n\n    const requestBody = {\n      query: `\n       mutation {deletePatientMedication (userId:\"${userId}\", patientId:\"${patientId}\",medicationTitle:\"${props.title}\",medicationType:\"${props.type}\")\n       {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `};\n\n        fetch('http://localhost:10000/graphql', {\n          method: 'POST',\n          body: JSON.stringify(requestBody),\n          headers: {\n            'Content-Type': 'application/json',\n            Authorization: 'Bearer ' + token\n          }\n        })\n          .then(res => {\n            if (res.status !== 200 && res.status !== 201) {\n              throw new Error('Failed!');\n            }\n            return res.json();\n          })\n          .then(resData => {\n            let deletedPatient = resData.data.deletePatientMedication;\n            console.log(deletedPatient);\n\n            const updatedPatientId = resData.data.deletePatientMedication._id;\n            const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n            const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n            const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n            console.log(\"updatedPatient:  \", JSON.stringify(updatedPatient),\"  updatedPatientPos:  \", updatedPatientPos, \"  slicedArray:  \", slicedArray);\n\n            this.state.patients.push(resData.data.deletePatientMedication);\n            this.context.patients = this.state.patients;\n            const responseAlert = JSON.stringify(resData.data).slice(2,25);\n            this.setState({ userAlert: responseAlert});\n            this.fetchPatients();\n\n          })\n          .catch(err => {\n            console.log(err);\n          });\n}\n\ndeletePatientInvestigationItem = (props) => {\n\n  let token = this.context.token;\n  let userId = this.context.userId;\n  let patientId = this.state.selectedPatient._id;\n  let date = new Date(props.date.substr(0,10)*1000).toISOString().slice(0,10);\n\n  console.log(`\n    delete patient Investigation item:\n    props: ${JSON.stringify(props)},\n    token: ${token},\n    userId: ${userId},\n    patientId: ${patientId},\n    investigation date: ${date},\n    `);\n\n    const requestBody = {\n      query: `\n       mutation {deletePatientInvestigation (userId:\"${userId}\", patientId:\"${patientId}\",investigationDate:\"${date}\",investigationTitle:\"${props.title}\")\n       {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `};\n\n        fetch('http://localhost:10000/graphql', {\n          method: 'POST',\n          body: JSON.stringify(requestBody),\n          headers: {\n            'Content-Type': 'application/json',\n            Authorization: 'Bearer ' + token\n          }\n        })\n          .then(res => {\n            if (res.status !== 200 && res.status !== 201) {\n              throw new Error('Failed!');\n            }\n            return res.json();\n          })\n          .then(resData => {\n            let deletedPatient = resData.data.deletePatientInvestigation;\n            console.log(deletedPatient);\n\n            const updatedPatientId = resData.data.deletePatientInvestigation._id;\n            const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n            const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n            const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n            console.log(\"updatedPatient:  \", JSON.stringify(updatedPatient),\"  updatedPatientPos:  \", updatedPatientPos, \"  slicedArray:  \", slicedArray);\n\n            this.state.patients.push(resData.data.deletePatientInvestigation);\n            this.context.patients = this.state.patients;\n            const responseAlert = JSON.stringify(resData.data).slice(2,25);\n            this.setState({ userAlert: responseAlert})\n            this.fetchPatients();\n\n          })\n          .catch(err => {\n            console.log(err);\n          });\n}\n\ndeletePatientDiagnosisItem = (props) => {\n\n  let token = this.context.token;\n  let userId = this.context.userId;\n  let patientId = this.state.selectedPatient._id;\n  let date = new Date(props.date.substr(0,10)*1000).toISOString().slice(0,10);\n\n  console.log(`\n    delete patient Diagnosis item:\n    props: ${JSON.stringify(props)},\n    token: ${token},\n    userId: ${userId},\n    patientId: ${patientId},\n    diagnosis date: ${date}\n    `);\n\n    const requestBody = {\n      query: `\n       mutation {deletePatientDiagnosis (userId:\"${userId}\",patientId:\"${patientId}\",diagnosisDate:\"${date}\",diagnosisTitle:\"${props.title}\")\n       {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `};\n\n        fetch('http://localhost:10000/graphql', {\n          method: 'POST',\n          body: JSON.stringify(requestBody),\n          headers: {\n            'Content-Type': 'application/json',\n            Authorization: 'Bearer ' + token\n          }\n        })\n          .then(res => {\n            if (res.status !== 200 && res.status !== 201) {\n              throw new Error('Failed!');\n            }\n            return res.json();\n          })\n          .then(resData => {\n            let deletedPatient = resData.data.deletePatientDiagnosis;\n            console.log(deletedPatient);\n\n            const updatedPatientId = resData.data.deletePatientDiagnosis._id;\n            const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n            const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n            const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n            console.log(\"updatedPatient:  \", JSON.stringify(updatedPatient),\"  updatedPatientPos:  \", updatedPatientPos, \"  slicedArray:  \", slicedArray);\n\n            this.state.patients.push(resData.data.deletePatientDiagnosis);\n            this.context.patients = this.state.patients;\n            const responseAlert = JSON.stringify(resData.data).slice(2,25);\n            this.setState({ userAlert: responseAlert});\n            this.fetchPatients();\n\n          })\n          .catch(err => {\n            console.log(err);\n          });\n}\n\ndeletePatientTreatmentItem = (props) => {\n\n  let token = this.context.token;\n  let userId = this.context.userId;\n  let patientId = this.state.selectedPatient._id;\n  let date = new Date(props.date.substr(0,10)*1000).toISOString().slice(0,10);\n\n  console.log(`\n    delete patient Treatment item:\n    props: ${JSON.stringify(props)},\n    token: ${token},\n    userId: ${userId},\n    patientId: ${patientId},\n    treatment date: ${date},\n    `);\n\n    const requestBody = {\n      query: `\n       mutation {deletePatientTreatment (userId:\"${userId}\", patientId:\"${patientId}\",treatmentDate:\"${date}\",treatmentTitle:\"${props.title}\")\n       {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `};\n\n        fetch('http://localhost:10000/graphql', {\n          method: 'POST',\n          body: JSON.stringify(requestBody),\n          headers: {\n            'Content-Type': 'application/json',\n            Authorization: 'Bearer ' + token\n          }\n        })\n          .then(res => {\n            if (res.status !== 200 && res.status !== 201) {\n              throw new Error('Failed!');\n            }\n            return res.json();\n          })\n          .then(resData => {\n            let deletedPatient = resData.data.deletePatientTreatment;\n            console.log(deletedPatient);\n\n            const updatedPatientId = resData.data.deletePatientTreatment._id;\n            const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n            const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n            const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n            console.log(\"updatedPatient:  \", JSON.stringify(updatedPatient),\"  updatedPatientPos:  \", updatedPatientPos, \"  slicedArray:  \", slicedArray);\n\n            this.state.patients.push(resData.data.deletePatientTreatment);\n            this.context.patients = this.state.patients;\n            const responseAlert = JSON.stringify(resData.data).slice(2,25);\n            this.setState({ userAlert: responseAlert});\n            this.fetchPatients();\n\n          })\n          .catch(err => {\n            console.log(err);\n          });\n}\n\ndeletePatientBillingItem = (props) => {\n\n  let token = this.context.token;\n  let userId = this.context.userId;\n  let patientId = this.state.selectedPatient._id;\n  let date = new Date(props.date.substr(0,10)*1000).toISOString().slice(0,10);\n\n  console.log(`\n    delete patient Billing item:\n    props: ${JSON.stringify(props)},\n    token: ${token},\n    userId: ${userId},\n    patientId: ${patientId},\n    billing date: ${date},\n    `);\n\n    const requestBody = {\n      query:`\n       mutation {deletePatientBilling (userId:\"${userId}\", patientId:\"${patientId}\",billingDate:\"${date}\",billingTitle:\"${props.title}\")\n       {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `};\n\n        fetch('http://localhost:10000/graphql', {\n          method: 'POST',\n          body: JSON.stringify(requestBody),\n          headers: {\n            'Content-Type': 'application/json',\n            Authorization: 'Bearer ' + token\n          }\n        })\n          .then(res => {\n            if (res.status !== 200 && res.status !== 201) {\n              throw new Error('Failed!');\n            }\n            return res.json();\n          })\n          .then(resData => {\n            let deletedPatient = resData.data.deletePatientBilling;\n            console.log(deletedPatient);\n\n            const updatedPatientId = resData.data.deletePatientBilling._id;\n            const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n            const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n            const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n            console.log(\"updatedPatient:  \", JSON.stringify(updatedPatient),\"  updatedPatientPos:  \", updatedPatientPos, \"  slicedArray:  \", slicedArray);\n\n            this.state.patients.push(resData.data.deletePatientBilling);\n            this.context.patients = this.state.patients;\n            const responseAlert = JSON.stringify(resData.data).slice(2,25);\n            this.setState({ userAlert: responseAlert});\n            this.fetchPatients();\n\n          })\n          .catch(err => {\n            console.log(err);\n          });\n}\n\ndeletePatientVigilanceItem = (props) => {\n\n  let token = this.context.token;\n  let userId = this.context.userId;\n  let patientId = this.state.selectedPatient._id;\n  let date = new Date(props.date.substr(0,10)*1000).toISOString().slice(0,10);\n\n  console.log(`\n    delete patient Vigilance item:\n    props: ${JSON.stringify(props)},\n    token: ${token},\n    userId: ${userId},\n    patientId: ${patientId},\n    vigilance date: ${date},\n    `);\n\n    const requestBody = {\n      query:`\n       mutation {deletePatientVigilance (userId:\"${userId}\", patientId:\"${patientId}\",vigilanceDate:\"${date}\")\n       {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `};\n\n        fetch('http://localhost:10000/graphql', {\n          method: 'POST',\n          body: JSON.stringify(requestBody),\n          headers: {\n            'Content-Type': 'application/json',\n            Authorization: 'Bearer ' + token\n          }\n        })\n          .then(res => {\n            if (res.status !== 200 && res.status !== 201) {\n              throw new Error('Failed!');\n            }\n            return res.json();\n          })\n          .then(resData => {\n            let deletedPatient = resData.data.deletePatientVigilance;\n            console.log(deletedPatient);\n\n            const updatedPatientId = resData.data.deletePatientVigilance._id;\n            const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n            const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n            const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n            console.log(\"updatedPatient:  \", JSON.stringify(updatedPatient),\"  updatedPatientPos:  \", updatedPatientPos, \"  slicedArray:  \", slicedArray);\n\n            this.state.patients.push(resData.data.deletePatientVigilance);\n            this.context.patients = this.state.patients;\n            const responseAlert = JSON.stringify(resData.data).slice(2,25);\n            this.setState({ userAlert: responseAlert});\n            this.fetchPatients();\n\n          })\n          .catch(err => {\n            console.log(err);\n          });\n}\n\ndeletePatientAttachmentItem = (props) => {\n\n  let token = this.context.token;\n  let userId = this.context.userId;\n  let patientId = this.state.selectedPatient._id;\n\n  // console.log(`\n  //   deleting from s3...\n  //   file.name: ${props.name},\n  //   `);\n  //\n  //   const config = {\n  //     bucketName: this.context.creds.s3.bucketName,\n  //     dirName: props.path,\n  //     region: this.context.creds.s3.region,\n  //     accessKeyId: this.context.creds.s3.accessKeyId,\n  //     secretAccessKey: this.context.creds.s3.secretAccessKey,\n  //   }\n  // const ReactS3Client = new S3(config);\n  // const filename = props.name;\n  // // const attachmentName = newFileName;\n  // //\n  // S3FileUpload\n  // .deleteFile(filename, config)\n  // .then(response => console.log(response))\n  // .catch(err => console.error(err))\n\n  console.log(`\n    delete patient Attachment item:\n    props: ${JSON.stringify(props)},\n    token: ${token},\n    userId: ${userId},\n    patientId: ${patientId},\n    `);\n\n    const requestBody = {\n      query:`\n       mutation {deletePatientAttachment (userId:\"${userId}\", patientId:\"${patientId}\",attachmentName:\"${props.name}\")\n       {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `};\n\n        fetch('http://localhost:10000/graphql', {\n          method: 'POST',\n          body: JSON.stringify(requestBody),\n          headers: {\n            'Content-Type': 'application/json',\n            Authorization: 'Bearer ' + token\n          }\n        })\n          .then(res => {\n            if (res.status !== 200 && res.status !== 201) {\n              throw new Error('Failed!');\n            }\n            return res.json();\n          })\n          .then(resData => {\n            let deletedPatient = resData.data.deletePatientAttachment;\n            console.log(deletedPatient);\n\n            const updatedPatientId = resData.data.deletePatientAttachment._id;\n            const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n            const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n            const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n            console.log(\"updatedPatient:  \", JSON.stringify(updatedPatient),\"  updatedPatientPos:  \", updatedPatientPos, \"  slicedArray:  \", slicedArray);\n\n            this.state.patients.push(resData.data.deletePatientAttachment);\n            this.context.patients = this.state.patients;\n            const responseAlert = JSON.stringify(resData.data).slice(2,25);\n            this.setState({ userAlert: responseAlert});\n            this.fetchPatients();\n\n          })\n          .catch(err => {\n            console.log(err);\n          });\n}\n\ndeletePatientNoteItem = (props) => {\n\n  let token = this.context.token;\n  let userId = this.context.userId;\n  let patientId = this.state.selectedPatient._id;\n\n  console.log(`\n    delete patient Note item:\n    props: ${JSON.stringify(props)},\n    token: ${token},\n    userId: ${userId},\n    patientId: ${patientId},\n    `);\n\n    const requestBody = {\n      query:`\n      mutation {deletePatientNote (userId:\"${userId}\", patientId:\"${patientId}\",note:\"${props}\")\n      {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `};\n\n        fetch('http://localhost:10000/graphql', {\n          method: 'POST',\n          body: JSON.stringify(requestBody),\n          headers: {\n            'Content-Type': 'application/json',\n            Authorization: 'Bearer ' + token\n          }\n        })\n          .then(res => {\n            if (res.status !== 200 && res.status !== 201) {\n              throw new Error('Failed!');\n            }\n            return res.json();\n          })\n          .then(resData => {\n            let deletedPatient = resData.data.deletePatientNote;\n            console.log(deletedPatient);\n\n            const updatedPatientId = resData.data.deletePatientNote._id;\n            const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n            const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n            const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n            console.log(\"updatedPatient:  \", JSON.stringify(updatedPatient),\"  updatedPatientPos:  \", updatedPatientPos, \"  slicedArray:  \", slicedArray);\n\n            this.state.patients.push(resData.data.deletePatientNote);\n            this.context.patients = this.state.patients;\n            const responseAlert = JSON.stringify(resData.data).slice(2,25);\n            this.setState({ userAlert: responseAlert});\n            this.fetchPatients();\n\n          })\n          .catch(err => {\n            console.log(err);\n          });\n}\n\ndeletePatientTagItem = (props) => {\n\n  let token = this.context.token;\n  let userId = this.context.userId;\n  let patientId = this.state.selectedPatient._id;\n\n  console.log(`\n    delete patient Tag item:\n    props: ${JSON.stringify(props)},\n    token: ${token},\n    userId: ${userId},\n    patientId: ${patientId},\n    `);\n\n    const requestBody = {\n      query:`\n      mutation {deletePatientTag (userId:\"${userId}\", patientId:\"${patientId}\",tag:\"${props}\")\n      {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `};\n\n        fetch('http://localhost:10000/graphql', {\n          method: 'POST',\n          body: JSON.stringify(requestBody),\n          headers: {\n            'Content-Type': 'application/json',\n            Authorization: 'Bearer ' + token\n          }\n        })\n          .then(res => {\n            if (res.status !== 200 && res.status !== 201) {\n              throw new Error('Failed!');\n            }\n            return res.json();\n          })\n          .then(resData => {\n            let deletedPatient = resData.data.deletePatientTag;\n            console.log(deletedPatient);\n\n            const updatedPatientId = resData.data.deletePatientTag._id;\n            const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n            const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n            const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n            console.log(\"updatedPatient:  \", JSON.stringify(updatedPatient),\"  updatedPatientPos:  \", updatedPatientPos, \"  slicedArray:  \", slicedArray);\n\n            this.state.patients.push(resData.data.deletePatientTag);\n            this.context.patients = this.state.patients;\n            const responseAlert = JSON.stringify(resData.data).slice(2,25);\n            this.setState({ userAlert: responseAlert});\n            this.fetchPatients();\n\n          })\n          .catch(err => {\n            console.log(err);\n            this.setState({ userAlert: err})\n          });\n}\n\n\n  updatePatientSpecial (event) {\n\n    console.log(\"special field to update:  \", event.target.value);\n    const field = event.target.value;\n    this.setState({ patientUpdateField: field});\n\n  }\n\n  onViewAttachment = (attachment) => {\n    console.log(`\n      setting up attachment viewer...\n      attachment: ${JSON.stringify(attachment)}\n      `);\n      this.setState({showAttachment: true})\n\n      const file = \"https://ent-emr-bucket.s3-us-east-2.amazonaws.com/\"+attachment.path+\"/\"+attachment.name;\n      const type = attachment.format;\n\n      this.setState({showThisAttachmentFile: file, showThisAttachmentType: type})\n  }\n\n  closeAttachmentView = () => {\n    console.log(`\n      closing attachment viewer...\n      `);\n      this.setState({showAttachment: false})\n  }\n\n  createPdf = (patient) => {\n    console.log(`\n        creating pdf...\n        user: ${JSON.stringify(patient)}\n      `);\n\n      const pdfData = {\n        title: \"This pdf is supplied with Patient data...\",\n        patient: {\n          _id: patient._id,\n          title: patient.title,\n          name: patient.name,\n          dob: patient.dob,\n          age: patient.age,\n          gender: patient.gender,\n          address:{\n            number: patient.number,\n            street: patient.street,\n            town: patient.town,\n            parish: patient.parish,\n            postOffice: patient.postOffice\n          },\n          registrationDate: patient.registrationDate,\n          referralDate: patient.referralDate,\n          expirationDate: patient.expirationDate,\n          attendingPhysician:{\n            name: patient.attendingPhysician.name,\n            email: patient.attendingPhysician.email,\n            phone: patient.attendingPhysician.phone\n          },\n          referringDoctor: {\n            name: patient.referringDoctor.name,\n            email: patient.referringDoctor.email,\n            phone: patient.referringDoctor.phone\n          },\n          contact: {\n            phone: patient.contact.phone,\n            email: patient.contact.email\n          },\n          occupation:{\n            role: patient.occupation.role,\n            employer: patient.occupation.employer,\n            contact:{\n              phone: patient.occupation.contact.phone,\n              email: patient.occupation.contact.email\n            }},\n            appointments: patient.appointments,\n            consultant: patient.consultant,\n            insurance: patient.insurance,\n            nextOfKin: patient.nextOfKin,\n            complaints: patient.complaints,\n            surveys: patient.surveys,\n            systematicInquiry: patient.systematicInquiry,\n            vitals: patient.vitals,\n            examination: patient.examination,\n            history: patient.history,\n            allergies: patient.allergies,\n            medication: patient.medication,\n            investigation: patient.investigation,\n            diagnosis: patient.diagnosis,\n            treatment: patient.treatment,\n            billing: patient.billing,\n            vigilance: patient.vigilance,\n            attachments: patient.attachments,\n            notes: patient.notes,\n            tags: patient.tags\n          }\n        }\n\n    this.setState({createPdf: true, pdfData: pdfData})\n  }\n\n  closePdfCreator = () => {\n    console.log(`\n      closing pdf creator...\n      `);\n      this.setState({createPdf: false, pdfData: null} )\n  }\n\n\n  showDetailHandler = patientId => {\n\n    this.setState({ visitList: [] })\n\n    this.setState(prevState => {\n      const selectedPatient = prevState.patients.find(e => e._id === patientId);\n      this.context.selectedPatient = selectedPatient;\n      this.context.selectedPatientId = selectedPatient._id;\n      console.log(\"selectedPatient:  \", selectedPatient);\n      return { selectedPatient: selectedPatient };\n    });\n  };\n\n  selectVisit = (props) => {\n    console.log(`\n      changing selected visit ...\n      event: ${JSON.stringify(props)},\n      `);\n      this.setState({ selectedVisit: props })\n\n  }\n\n  closeVisit = () => {\n    console.log(`\n      clearing selected visits...\n      `);\n\n    this.setState({\n      visit: null,\n      selectedVisit: null,\n    })\n  }\n\n  createVisitChecklistUpdate = (props) => {\n    console.log(`\n      updating create-visit checklist...\n      props: ${props},\n      `);\n      this.setState({ userAlert: `creating visit: ${props} addedd...`})\n\n      let newState = Object.assign({}, this.state);\n      newState.createVisitChecklist[props] = true;\n      this.setState(newState);\n\n  }\n\n  newVisitComplete = () => {\n    console.log(`\n      finished adding new visit...\n      `);\n      this.setState({\n          newVisit: false,\n          createVisitChecklist: {\n            consultant: true,\n            complaint: true,\n            diagnosis: true,\n            examination: true,\n            investigation: true,\n            survey: true,\n            systematicInquiry: true,\n            treatment: true,\n            vitals: true,\n            billing: true,\n            vigilance: true\n          }\n      })\n  }\n\n\n  componentWillUnmount() {\n    this.isActive = false;\n  }\n\n  render() {\n    return (\n\n    <React.Fragment>\n    {this.state.showAttachment === true && (\n      <AttachmentViewer\n        onCloseAttachmentView={this.closeAttachmentView}\n        attachmentFile={this.state.showThisAttachmentFile}\n        attachmentType={this.state.showThisAttachmentType}\n      />\n    )}\n\n    {this.state.createPdf === true && (\n        <PdfCreator\n          pdfData={this.state.pdfData}\n          onClosePdfCreator={this.closePdfCreator}\n        />\n    )}\n\n    <Accordion>\n\n    <Row>\n    <Col md={3} className=\"MasterCol1\">\n\n    <AlertBox\n          authUserId={this.context.userId}\n          alert={this.state.userAlert}\n        />\n      <SidebarPage/>\n    </Col>\n\n    <Col md={9} className=\"MasterCol2\">\n    <Container className=\"containerCombinedDetail\">\n\n    <Tab.Container id=\"left-tabs-example\" defaultActiveKey=\"patientDetail\">\n      <Row>\n        <Col sm={2}>\n          <Nav variant=\"pills\" className=\"flex-column\">\n            <Nav.Item>\n              <Nav.Link eventKey=\"MasterList\">MASTER LIST</Nav.Link>\n            </Nav.Item>\n            <Nav.Item>\n              <Nav.Link eventKey=\"patientDetail\">Selected</Nav.Link>\n            </Nav.Item>\n            <Nav.Item>\n              <Nav.Link eventKey=\"patientCreate\">Create New</Nav.Link>\n            </Nav.Item>\n            <Nav.Item>\n              <Nav.Link eventKey=\"disabled\" disabled>Edit:</Nav.Link>\n            </Nav.Item>\n            <Nav.Item>\n              <Nav.Link eventKey=\"patientEditDemographics\">Demographics</Nav.Link>\n            </Nav.Item>\n            <Nav.Item>\n              <Nav.Link eventKey=\"patientEditField\">Single Field</Nav.Link>\n            </Nav.Item>\n            <Nav.Item>\n              <Nav.Link eventKey=\"disabled\" disabled>Add:</Nav.Link>\n            </Nav.Item>\n            <Nav.Item>\n              <Nav.Link eventKey=\"patientAddVisit\">Visit</Nav.Link>\n            </Nav.Item>\n            <Nav.Item>\n              <Nav.Link eventKey=\"patientEditConsultant\">Consultant</Nav.Link>\n            </Nav.Item>\n            <Nav.Item>\n              <Nav.Link eventKey=\"patientEditInsurance\">Insurance</Nav.Link>\n            </Nav.Item>\n            <Nav.Item>\n              <Nav.Link eventKey=\"patientEditNextOfKin\">Next of Kin</Nav.Link>\n            </Nav.Item>\n            <Nav.Item>\n              <Nav.Link eventKey=\"patientEditComplaint\">History</Nav.Link>\n            </Nav.Item>\n            <Nav.Item>\n              <Nav.Link eventKey=\"patientEditSurvey\">Survey</Nav.Link>\n            </Nav.Item>\n            <Nav.Item>\n              <Nav.Link eventKey=\"patientEditSystematicInquiry\">Systematic Inquiry</Nav.Link>\n            </Nav.Item>\n            <Nav.Item>\n              <Nav.Link eventKey=\"patientEditVitals\">Vitals</Nav.Link>\n            </Nav.Item>\n            <Nav.Item>\n              <Nav.Link eventKey=\"patientEditExamination\">Examination</Nav.Link>\n            </Nav.Item>\n            <Nav.Item>\n              <Nav.Link eventKey=\"patientEditHistory\">Past History</Nav.Link>\n            </Nav.Item>\n            <Nav.Item>\n              <Nav.Link eventKey=\"patientEditAllergies\">Allergies</Nav.Link>\n            </Nav.Item>\n            <Nav.Item>\n              <Nav.Link eventKey=\"patientEditMedication\">Medication</Nav.Link>\n            </Nav.Item>\n            <Nav.Item>\n              <Nav.Link eventKey=\"patientEditInvestigation\">Investigation</Nav.Link>\n            </Nav.Item>\n            <Nav.Item>\n              <Nav.Link eventKey=\"patientEditDiagnosis\">Diagnosis</Nav.Link>\n            </Nav.Item>\n            <Nav.Item>\n              <Nav.Link eventKey=\"patientEditTreatment\">Treatment</Nav.Link>\n            </Nav.Item>\n            <Nav.Item>\n              <Nav.Link eventKey=\"patientEditBilling\">Billing</Nav.Link>\n            </Nav.Item>\n            <Nav.Item>\n              <Nav.Link eventKey=\"patientEditVigilance\">Vigilance</Nav.Link>\n            </Nav.Item>\n            <Nav.Item>\n              <Nav.Link eventKey=\"patientEditAttachment\">Attachment</Nav.Link>\n            </Nav.Item>\n            <Nav.Item>\n              <Nav.Link eventKey=\"patientEditNote\">Note</Nav.Link>\n            </Nav.Item>\n            <Nav.Item>\n              <Nav.Link eventKey=\"patientEditTag\">Tag</Nav.Link>\n            </Nav.Item>\n\n            <Nav.Item>\n              <Nav.Link eventKey=\"disabled\" disabled>Search:</Nav.Link>\n            </Nav.Item>\n            <Nav.Item>\n              <Nav.Link eventKey=\"SearchInput\">Input</Nav.Link>\n            </Nav.Item>\n            <Nav.Item>\n              <Nav.Link eventKey=\"SearchResult\">Search</Nav.Link>\n            </Nav.Item>\n          </Nav>\n        </Col>\n        <Col sm={10}>\n          <Tab.Content>\n            <Tab.Pane eventKey=\"patientDetail\">\n              {this.state.selectedPatient === null &&\n                 (\n                <Button variant=\"outline-warning\" size=\"lg\" className=\"confirmEditButton\">\n                  Select a Patient from the Master List\n                </Button>\n              )}\n              {this.state.selectedPatient === null &&\n                 (\n                <Button variant=\"outline-danger\" size=\"lg\" className=\"confirmEditButton\">\n                  Don't forget to select someone from the Staff page before editing Patient Consultant information !!!\n                </Button>\n              )}\n              {this.state.isLoading === false &&\n                this.state.selectedPatient !== null &&\n                (<PatientDetail\n                  authUserId={this.context.userId}\n                  token={this.context.token}\n                  patient={this.state.selectedPatient}\n                  onEdit={this.startUpdatePatientHandler}\n                  canDelete={this.state.canDelete}\n                  onDelete={this.modalDeleteHandler}\n                  onGetVisit={this.getPatientVisit}\n                  visit={this.state.visit}\n                  selectedVisit={this.state.selectedVisit}\n                  fetchUsers={this.fetchUsers}\n                  appointmentDelete={this.deletePatientAppointmentItem}\n                  consultantDelete={this.deletePatientConsultantItem}\n                  insuranceDelete={this.deletePatientInsuranceItem}\n                  nextOfKinDelete={this.deletePatientNextOfKinItem}\n                  complaintDelete={this.deletePatientComplaintItem}\n                  surveyDelete={this.deletePatientSurveyItem}\n                  systematicInquiryDelete={this.deletePatientSystematicInquiryItem}\n                  vitalsDelete={this.deletePatientVitalsItem}\n                  examinationDelete={this.deletePatientExaminationItem}\n                  historyDelete={this.deletePatientHistoryItem}\n                  allergiesDelete={this.deletePatientAllergiesItem}\n                  medicationDelete={this.deletePatientMedicationItem}\n                  investigationDelete={this.deletePatientInvestigationItem}\n                  diagnosisDelete={this.deletePatientDiagnosisItem}\n                  treatmentDelete={this.deletePatientTreatmentItem}\n                  billingDelete={this.deletePatientBillingItem}\n                  vigilanceDelete={this.deletePatientVigilanceItem}\n                  attachmentDelete={this.deletePatientAttachmentItem}\n                  noteDelete={this.deletePatientNoteItem}\n                  tagDelete={this.deletePatientTagItem}\n                  onViewAttachment={this.onViewAttachment}\n                  onCreatePdf={this.createPdf}\n                  onGetVisitList={this.getVisitList}\n                  visitList={this.state.visitList}\n                  onSelectVisit={this.selectVisit}\n                  onCloseVisit={this.closeVisit}\n                  onSortVisitListAsc={this.getVisitListAsc}\n                  onSortVisitListDesc={this.getVisitListDesc}\n                  />\n              )}\n            </Tab.Pane>\n\n            <Tab.Pane eventKey=\"patientCreate\">\n              <Button variant=\"outline-primary\" size=\"lg\" className=\"confirmEditButton\" onClick={this.startCreatePatientHandler} >Create NEW Patient Profile</Button>\n              {\n                this.state.creating && (\n                  <CreatePatientForm\n                  canCancel\n                    canConfirm\n                    onCancel={this.modalCancelHandler}\n                    onConfirm={this.modalConfirmHandler}\n                    confirmText=\"Confirm\"\n                  />\n              )}\n            </Tab.Pane>\n\n            <Tab.Pane eventKey=\"patientAddVisit\">\n            {this.state.selectedPatient === null && (\n              <Button variant=\"outline-warning\" size=\"lg\" className=\"confirmEditButton\">\n                Select a Patient from the Master List\n              </Button>\n            )}\n              { this.state.selectedPatient !== null &&\n                this.state.newVisit !== true &&\n              (<Button variant=\"outline-primary\" size=\"lg\" className=\"confirmEditButton\" onClick={this.startCreateVisitHandler} >Add NEW Visit</Button>\n              )}\n              {this.state.selectedPatient !== null &&\n                this.state.newVisit === true && (\n\n                  <Accordion defaultActiveKey=\"0\">\n                    <Card>\n                      <Card.Header>\n                        <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"0\">\n                          Guide:\n                        </Accordion.Toggle>\n                      </Card.Header>\n                      <Accordion.Collapse eventKey=\"0\">\n                        <Card.Body>\n                        <Card.Text>\n                          To create a NEW Patient Visit, fill in the forms below.\n                        </Card.Text>\n\n                        <Card.Text>\n                          Everytime you submit a form with new info, a new item is added to the current Patient visit.\n                        </Card.Text>\n\n                        <Card.Text>\n                          When you are done with a section click the GREEN Done adding Complaints, Vitals etc and continue to the next form.\n                        </Card.Text>\n\n                        <Card.Text>\n                          Once you have submitted all the information required scroll to the bottom and click the green button.\n                        </Card.Text>\n                        </Card.Body>\n                      </Accordion.Collapse>\n                    </Card>\n                    <Card>\n                      <Card.Header>\n                        <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"1\">\n                          Consultant\n                        </Accordion.Toggle>\n                      </Card.Header>\n                      <Accordion.Collapse eventKey=\"1\">\n                        <Card.Body>\n                        Add Consultant form:\n                        {this.state.createVisitChecklist.consultant === true &&\n                        (\n                          <Button variant=\"warning\" size=\"lg\" className=\"formButton\">\n                          Consultant for this Visit has already been added!!\n                          </Button>\n                        )}\n\n                        {this.state.createVisitChecklist.consultant === false &&\n                        this.context.selectedUser === null && (\n                          <Button variant=\"outline-warning\" size=\"lg\" className=\"confirmEditButton\">\n                            Select someone from the Staff page\n                          </Button>\n                        )}\n                        {this.state.createVisitChecklist.consultant === false &&\n                        this.context.selectedUser !== null && (\n                          <Row>\n                          <Card.Text>Add Consultant: {this.context.selectedUser.name}  ...</Card.Text>\n                          <Card.Text> To Paitient: {this.state.selectedPatient.name} ??</Card.Text>\n\n                          </Row>\n                        )}\n                        {this.state.createVisitChecklist.consultant === false &&\n                        this.context.selectedUser !== null && (\n                          <UpdatePatientConsultantForm\n                          authUserId={this.context.userId}\n                            canConfirm\n                            onCancel={this.modalCancelHandler}\n                            onConfirm={this.updatePatientConsultantHandler}\n                            confirmText=\"Confirm\"\n                            consultant={this.context.selectedUser}\n                            visit\n                            onCreateVisitChecklistUpdate={this.createVisitChecklistUpdate}\n                          />\n                        )}\n                        </Card.Body>\n                      </Accordion.Collapse>\n                    </Card>\n                    <Card>\n                      <Card.Header>\n                        <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"2\">\n                          Complaint\n                        </Accordion.Toggle>\n                      </Card.Header>\n                      <Accordion.Collapse eventKey=\"2\">\n                        <Card.Body>\n                        Add Complaint form:\n                        {this.state.createVisitChecklist.complaint === true &&\n                        (\n                          <Button variant=\"warning\" size=\"lg\" className=\"formButton\">\n                          Complaint for this Visit has already been added!!\n                          </Button>\n                        )}\n                        {this.state.createVisitChecklist.complaint === false &&\n                        (<UpdatePatientComplaintForm\n                              authUserId={this.context.userId}\n                                canConfirm\n                                onCancel={this.modalCancelHandler}\n                                onConfirm={this.updatePatientComplaintHandler}\n                                confirmText=\"Confirm\"\n                                patient={this.state.selectedPatient}\n                                visit\n                                onCreateVisitChecklistUpdate={this.createVisitChecklistUpdate}\n                              />\n                            )}\n                        </Card.Body>\n                      </Accordion.Collapse>\n                    </Card>\n                    <Card>\n                      <Card.Header>\n                        <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"3\">\n                          Vitals\n                        </Accordion.Toggle>\n                      </Card.Header>\n                      <Accordion.Collapse eventKey=\"3\">\n                        <Card.Body>\n                        Add Vitals form:\n                        {this.state.createVisitChecklist.vitals === true &&\n                        (\n                          <Button variant=\"warning\" size=\"lg\" className=\"formButton\">\n                          Vitals for this Visit have already been added!!\n                          </Button>\n                        )}\n                        {this.state.createVisitChecklist.vitals === false && (\n                          <UpdatePatientVitalsForm\n                                authUserId={this.context.userId}\n                                  canConfirm\n                                  onCancel={this.modalCancelHandler}\n                                  onConfirm={this.updatePatientVitalsHandler}\n                                  confirmText=\"Confirm\"\n                                  patient={this.state.selectedPatient}\n                                  visit\n                                  onCreateVisitChecklistUpdate={this.createVisitChecklistUpdate}\n                                />\n                        )}\n                        </Card.Body>\n                      </Accordion.Collapse>\n                    </Card>\n                    <Card>\n                      <Card.Header>\n                        <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"4\">\n                          Examination\n                        </Accordion.Toggle>\n                      </Card.Header>\n                      <Accordion.Collapse eventKey=\"4\">\n                        <Card.Body>\n                        Add Examination form:\n                        {this.state.createVisitChecklist.examination === true &&\n                        (\n                          <Button variant=\"warning\" size=\"lg\" className=\"formButton\">\n                          Examination for this Visit has already been added!!\n                          </Button>\n                        )}\n                        {this.state.createVisitChecklist.examination === false && (\n                          <UpdatePatientExaminationForm\n                                authUserId={this.context.userId}\n                                  canConfirm\n                                  onCancel={this.modalCancelHandler}\n                                  onConfirm={this.updatePatientExaminationHandler}\n                                  confirmText=\"Confirm\"\n                                  patient={this.state.selectedPatient}\n                                  visit\n                                  onCreateVisitChecklistUpdate={this.createVisitChecklistUpdate}\n                                />\n                        )}\n                        </Card.Body>\n                      </Accordion.Collapse>\n                    </Card>\n                    <Card>\n                      <Card.Header>\n                        <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"5\">\n                          Survey\n                        </Accordion.Toggle>\n                      </Card.Header>\n                      <Accordion.Collapse eventKey=\"5\">\n                        <Card.Body>\n                        Add Survey form:\n                        {this.state.createVisitChecklist.survey === true && (\n                          <Button variant=\"warning\" size=\"lg\" className=\"formButton\">\n                          Survey for this Visit has already been added!!\n                          </Button>\n                        )}\n                        {this.state.createVisitChecklist.survey === false && (\n                          <UpdatePatientSurveyForm\n                            authUserId={this.context.userId}\n                            canConfirm\n                            onCancel={this.modalCancelHandler}\n                            onConfirm={this.updatePatientSurveyHandler}\n                            confirmText=\"Confirm\"\n                            patient={this.state.selectedPatient}\n                            visit\n                            onCreateVisitChecklistUpdate={this.createVisitChecklistUpdate}\n                          />\n                        )}\n                        </Card.Body>\n                      </Accordion.Collapse>\n                    </Card>\n                    <Card>\n                      <Card.Header>\n                        <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"22\">\n                          SystematicInquiry\n                        </Accordion.Toggle>\n                      </Card.Header>\n                      <Accordion.Collapse eventKey=\"22\">\n                        <Card.Body>\n                        Add Systematic Inquiry form:\n                        {this.state.createVisitChecklist.systematicInquiry === true && (\n                          <Button variant=\"warning\" size=\"lg\" className=\"formButton\">\n                          Systematic Inquiry for this Visit has already been added!!\n                          </Button>\n                        )}\n                        {this.state.createVisitChecklist.systematicInquiry === false && (\n                          <UpdatePatientSystematicInquiryForm\n                            authUserId={this.context.userId}\n                            canConfirm\n                            onCancel={this.modalCancelHandler}\n                            onConfirm={this.updatePatientSystematicInquiryHandler}\n                            confirmText=\"Confirm\"\n                            patient={this.state.selectedPatient}\n                            visit\n                            onCreateVisitChecklistUpdate={this.createVisitChecklistUpdate}\n                          />\n                        )}\n                        </Card.Body>\n                      </Accordion.Collapse>\n                    </Card>\n                    <Card>\n                      <Card.Header>\n                        <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"6\">\n                          Investigation\n                        </Accordion.Toggle>\n                      </Card.Header>\n                      <Accordion.Collapse eventKey=\"6\">\n                        <Card.Body>\n                        Add Investigation form:\n                        {this.state.createVisitChecklist.investigation === true && (\n                          <Button variant=\"warning\" size=\"lg\" className=\"formButton\">\n                          Investigation for this Visit has already been added!!\n                          </Button>\n                        )}\n                        {this.state.createVisitChecklist.investigation === false && (\n                          <UpdatePatientInvestigationForm\n                                authUserId={this.context.userId}\n                                  canConfirm\n                                  onCancel={this.modalCancelHandler}\n                                  onConfirm={this.updatePatientInvestigationHandler}\n                                  confirmText=\"Confirm\"\n                                  patient={this.state.selectedPatient}\n                                  visit\n                                  onCreateVisitChecklistUpdate={this.createVisitChecklistUpdate}\n                                />\n                        )}\n                        </Card.Body>\n                      </Accordion.Collapse>\n                    </Card>\n                    <Card>\n                      <Card.Header>\n                        <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"7\">\n                          Diagnosis\n                        </Accordion.Toggle>\n                      </Card.Header>\n                      <Accordion.Collapse eventKey=\"7\">\n                        <Card.Body>\n                        Add Diagnosis form:\n                        {this.state.createVisitChecklist.diagnosis === true && (\n                          <Button variant=\"warning\" size=\"lg\" className=\"formButton\">\n                          Diagnosis for this Visit has already been added!!\n                          </Button>\n                        )}\n                        {this.state.createVisitChecklist.diagnosis === false && (\n                          <UpdatePatientDiagnosisForm\n                              authUserId={this.context.userId}\n                              canConfirm\n                              onCancel={this.modalCancelHandler}\n                              onConfirm={this.updatePatientDiagnosisHandler}\n                              confirmText=\"Confirm\"\n                              patient={this.state.selectedPatient}\n                              visit\n                              onCreateVisitChecklistUpdate={this.createVisitChecklistUpdate}\n                            />\n                        )}\n                        </Card.Body>\n                      </Accordion.Collapse>\n                    </Card>\n                    <Card>\n                      <Card.Header>\n                        <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"8\">\n                          Treatment\n                        </Accordion.Toggle>\n                      </Card.Header>\n                      <Accordion.Collapse eventKey=\"8\">\n                        <Card.Body>\n                        Add Treatment form:\n                        {this.state.createVisitChecklist.treatment === true && (\n                          <Button variant=\"warning\" size=\"lg\" className=\"formButton\">\n                          Treatment for this Visit has already been added!!\n                          </Button>\n                        )}\n                        {this.state.createVisitChecklist.treatment === false && (\n                          <UpdatePatientTreatmentForm\n                              authUserId={this.context.userId}\n                              canCancel\n                              canConfirm\n                              onCancel={this.modalCancelHandler}\n                              onConfirm={this.updatePatientTreatmentHandler}\n                              confirmText=\"Confirm\"\n                              patient={this.state.selectedPatient}\n                              visit\n                              onCreateVisitChecklistUpdate={this.createVisitChecklistUpdate}\n                            />\n                        )}\n                        </Card.Body>\n                      </Accordion.Collapse>\n                    </Card>\n                    <Card>\n                      <Card.Header>\n                        <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"9\">\n                          Billing\n                        </Accordion.Toggle>\n                      </Card.Header>\n                      <Accordion.Collapse eventKey=\"9\">\n                        <Card.Body>\n                        Add Billing form:\n                        {this.state.createVisitChecklist.billing === true &&\n                        (\n                          <Button variant=\"warning\" size=\"lg\" className=\"formButton\">\n                          Billing for this Visit has already been added!!\n                          </Button>\n                        )}\n                        {this.state.createVisitChecklist.billing === false && (\n                          <UpdatePatientBillingForm\n                              authUserId={this.context.userId}\n                              canConfirm\n                              onCancel={this.modalCancelHandler}\n                              onConfirm={this.updatePatientBillingHandler}\n                              confirmText=\"Confirm\"\n                              patient={this.state.selectedPatient}\n                              visit\n                              onCreateVisitChecklistUpdate={this.createVisitChecklistUpdate}\n                            />\n                        )}\n                        </Card.Body>\n                      </Accordion.Collapse>\n                    </Card>\n                    <Card>\n                      <Card.Header>\n                        <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"23\">\n                          Vigilance\n                        </Accordion.Toggle>\n                      </Card.Header>\n                      <Accordion.Collapse eventKey=\"23\">\n                        <Card.Body>\n                        Add Vigilance form:\n                        {this.state.createVisitChecklist.vigilance === true &&\n                        (\n                          <Button variant=\"warning\" size=\"lg\" className=\"formButton\">\n                          Vigilance for this Visit has already been added!!\n                          </Button>\n                        )}\n                        {this.state.createVisitChecklist.vigilance === false && (\n                          <UpdatePatientVigilanceForm\n                              authUserId={this.context.userId}\n                              canConfirm\n                              onCancel={this.modalCancelHandler}\n                              onConfirm={this.updatePatientVigilanceHandler}\n                              confirmText=\"Confirm\"\n                              patient={this.state.selectedPatient}\n                              visit\n                              onCreateVisitChecklistUpdate={this.createVisitChecklistUpdate}\n                            />\n                        )}\n                        </Card.Body>\n                      </Accordion.Collapse>\n                    </Card>\n                    <Card>\n                      <Card.Header>\n                        <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"10\">\n                          Finished ?\n                        </Accordion.Toggle>\n                      </Card.Header>\n                      <Accordion.Collapse eventKey=\"10\">\n                        <Card.Body>\n                        <Button variant=\"success\" className=\"formButton\" onClick={this.newVisitComplete}>\n                        Done creating Visit\n                        </Button>\n                        </Card.Body>\n                      </Accordion.Collapse>\n                    </Card>\n                  </Accordion>\n              )}\n            </Tab.Pane>\n\n            <Tab.Pane eventKey=\"patientEditDemographics\">\n              {this.state.selectedPatient === null && (\n                <Button variant=\"outline-warning\" size=\"lg\" className=\"confirmEditButton\">\n                  Select a Patient from the Master List\n                </Button>\n              )}\n              {this.state.selectedPatient !== null && (\n                <Button variant=\"outline-primary\" size=\"lg\" className=\"confirmEditButton\" onClick={this.startUpdatePatientHandler}>Edit Demographics</Button>\n              )}\n              {this.state.updating &&\n                this.state.selectedPatient !== null\n                && (\n                <UpdatePatientForm\n                authUserId={this.context.userId}\n                canCancel\n                  canConfirm\n                  onCancel={this.modalCancelHandler}\n                  onConfirm={this.modalConfirmUpdateHandler}\n                  confirmText=\"Confirm\"\n                  patient={this.state.selectedPatient}\n                />\n              )}\n            </Tab.Pane>\n\n            <Tab.Pane eventKey=\"patientEditField\">\n              {this.state.selectedPatient === null && (\n                <Button variant=\"outline-warning\" size=\"lg\" className=\"confirmEditButton\">\n                  Select a Patient from the Master List\n                </Button>\n              )}\n              {this.state.selectedPatient !== null && (\n                <Button variant=\"outline-primary\" size=\"lg\" className=\"confirmEditButton\" onClick={this.startUpdatePatientHandler}>Edit a Single Field</Button>\n              )}\n              {this.state.updating &&\n                this.state.selectedPatient !== null\n                && (\n                  <UpdatePatientFieldForm\n                    authUserId={this.context.userId}\n                    canCancel\n                    canConfirm\n                    onCancel={this.modalCancelHandler}\n                    onConfirm={this.modalConfirmUpdateFieldHandler}\n                    confirmText=\"Confirm\"\n                    patient={this.state.selectedPatient}\n                  />\n              )}\n            </Tab.Pane>\n\n            <Tab.Pane eventKey=\"patientEditConsultant\">\n              {this.state.selectedPatient === null && (\n                <Button variant=\"outline-warning\" size=\"lg\" className=\"confirmEditButton\">\n                  Select a Patient from the Master List\n                </Button>\n              )}\n              {this.state.selectedPatient !== null && (\n                <Button variant=\"outline-primary\" value='consultant' size=\"lg\" className=\"confirmEditButton\" onClick={this.updatePatientSpecial.bind(this)}>Add a Consultant</Button>\n              )}\n              {this.state.patientUpdateField === 'consultant' &&\n              this.state.selectedPatient !== null &&\n              this.context.selectedUser === null &&\n              (\n                <Row>\n                <Button variant=\"outline-warning\" size=\"lg\" className=\"confirmEditButton\">\n                  Select someone from the Staff page\n                </Button>\n                </Row>\n              )}\n              {this.state.patientUpdateField === 'consultant' &&\n              this.state.selectedPatient !== null &&\n              (\n                <Row>\n                <p>Add Consultant: {this.context.selectedUser.name}  ...</p>\n                <p> To Paitient: {this.state.selectedPatient.name} ??</p>\n\n                </Row>\n              )}\n              {this.state.patientUpdateField === 'consultant' &&\n              this.state.selectedPatient !== null\n              && (\n                <UpdatePatientConsultantForm\n                authUserId={this.context.userId}\n                canCancel\n                  canConfirm\n                  onCancel={this.modalCancelHandler}\n                  onConfirm={this.updatePatientConsultantHandler}\n                  confirmText=\"Confirm\"\n                  consultant={this.context.selectedUser}\n                />\n              )}\n            </Tab.Pane>\n\n            <Tab.Pane eventKey=\"patientEditInsurance\">\n              {this.state.selectedPatient === null && (\n                <Button variant=\"outline-warning\" size=\"lg\" className=\"confirmEditButton\">\n                  Select a Patient from the Master List\n                </Button>\n              )}\n              {this.state.selectedPatient !== null && (\n                <Button variant=\"outline-primary\" value='insurance' size=\"lg\" className=\"confirmEditButton\" onClick={this.updatePatientSpecial.bind(this)}>Add Insurance</Button>\n              )}\n              {this.state.patientUpdateField === 'insurance' &&\n              this.state.selectedPatient !== null\n              && (\n                <UpdatePatientInsuranceForm\n                authUserId={this.context.userId}\n                canCancel\n                  canConfirm\n                  onCancel={this.modalCancelHandler}\n                  onConfirm={this.updatePatientInsuranceHandler}\n                  confirmText=\"Confirm\"\n                  patient={this.state.selectedPatient}\n                />\n              )}\n            </Tab.Pane>\n\n            <Tab.Pane eventKey=\"patientEditNextOfKin\">\n              {this.state.selectedPatient === null && (\n                <Button variant=\"outline-warning\" size=\"lg\">\n                  Select a Patient from the Master List\n                </Button>\n              )}\n              {this.state.selectedPatient !== null && (\n                <Button variant=\"outline-primary\" value='nextOfKin' size=\"lg\" className=\"confirmEditButton\" onClick={this.updatePatientSpecial.bind(this)}>Add NextOfKin</Button>\n              )}\n              {this.state.patientUpdateField === 'nextOfKin' &&\n              this.state.selectedPatient !== null\n              && (\n                <UpdatePatientNextOfKinForm\n                      authUserId={this.context.userId}\n                      canCancel\n                        canConfirm\n                        onCancel={this.modalCancelHandler}\n                        onConfirm={this.updatePatientNextOfKinHandler}\n                        confirmText=\"Confirm\"\n                        patient={this.state.selectedPatient}\n                      />\n              )}\n            </Tab.Pane>\n\n            <Tab.Pane eventKey=\"patientEditComplaint\">\n              {this.state.selectedPatient === null && (\n                <Button variant=\"outline-warning\" size=\"lg\" className=\"confirmEditButton\">\n                  Select a Patient from the Master List\n                </Button>\n              )}\n              {this.state.selectedPatient !== null && (\n                <Button variant=\"outline-primary\" value='complaint' size=\"lg\" className=\"confirmEditButton\" onClick={this.updatePatientSpecial.bind(this)}>Add History</Button>\n              )}\n              {this.state.patientUpdateField === 'complaint' &&\n              this.state.selectedPatient !== null\n              && (\n                <UpdatePatientComplaintForm\n                      authUserId={this.context.userId}\n                      canCancel\n                        canConfirm\n                        onCancel={this.modalCancelHandler}\n                        onConfirm={this.updatePatientComplaintHandler}\n                        confirmText=\"Confirm\"\n                        patient={this.state.selectedPatient}\n                      />\n              )}\n            </Tab.Pane>\n\n            <Tab.Pane eventKey=\"patientEditSurvey\">\n              {this.state.selectedPatient === null && (\n                <Button variant=\"outline-warning\" size=\"lg\" className=\"confirmEditButton\">\n                  Select a Patient from the Master List\n                </Button>\n              )}\n              {this.state.selectedPatient !== null && (\n                <Button variant=\"outline-primary\" value='survey' size=\"lg\" className=\"confirmEditButton\" onClick={this.updatePatientSpecial.bind(this)}>Add Survey</Button>\n              )}\n              {this.state.patientUpdateField === 'survey' &&\n              this.state.selectedPatient !== null\n              && (\n                <UpdatePatientSurveyForm\n                      authUserId={this.context.userId}\n                      canCancel\n                        canConfirm\n                        onCancel={this.modalCancelHandler}\n                        onConfirm={this.updatePatientSurveyHandler}\n                        confirmText=\"Confirm\"\n                        patient={this.state.selectedPatient}\n                      />\n              )}\n            </Tab.Pane>\n\n            <Tab.Pane eventKey=\"patientEditSystematicInquiry\">\n              {this.state.selectedPatient === null && (\n                <Button variant=\"outline-warning\" size=\"lg\" className=\"confirmEditButton\">\n                  Select a Patient from the Master List\n                </Button>\n              )}\n              {this.state.selectedPatient !== null && (\n                <Button variant=\"outline-primary\" value='systematicInquiry' size=\"lg\" className=\"confirmEditButton\" onClick={this.updatePatientSpecial.bind(this)}>Add Systematic Inquiry</Button>\n              )}\n              {this.state.patientUpdateField === 'systematicInquiry' &&\n              this.state.selectedPatient !== null\n              && (\n                <UpdatePatientSystematicInquiryForm\n                      authUserId={this.context.userId}\n                      canCancel\n                        canConfirm\n                        onCancel={this.modalCancelHandler}\n                        onConfirm={this.updatePatientSystematicInquiryHandler}\n                        confirmText=\"Confirm\"\n                        patient={this.state.selectedPatient}\n                      />\n              )}\n            </Tab.Pane>\n\n            <Tab.Pane eventKey=\"patientEditVitals\">\n              {this.state.selectedPatient === null && (\n                <Button variant=\"outline-warning\" size=\"lg\">\n                  Select a Patient from the Master List\n                </Button>\n              )}\n              {this.state.selectedPatient !== null && (\n                <Button variant=\"outline-primary\" value='vitals' size=\"lg\" className=\"confirmEditButton\" onClick={this.updatePatientSpecial.bind(this)}>Add Vitals</Button>\n              )}\n              {this.state.patientUpdateField === 'vitals' &&\n              this.state.selectedPatient !== null\n              && (\n                <UpdatePatientVitalsForm\n                      authUserId={this.context.userId}\n                      canCancel\n                        canConfirm\n                        onCancel={this.modalCancelHandler}\n                        onConfirm={this.updatePatientVitalsHandler}\n                        confirmText=\"Confirm\"\n                        patient={this.state.selectedPatient}\n                      />\n              )}\n            </Tab.Pane>\n\n            <Tab.Pane eventKey=\"patientEditExamination\">\n              {this.state.selectedPatient === null && (\n                <Button variant=\"outline-warning\" size=\"lg\">\n                  Select a Patient from the Master List\n                </Button>\n              )}\n              {this.state.selectedPatient !== null && (\n                <Button variant=\"outline-primary\" value='examintion' size=\"lg\" className=\"confirmEditButton\" onClick={this.updatePatientSpecial.bind(this)}>Add Examination</Button>\n              )}\n              {this.state.patientUpdateField === 'examintion' &&\n              this.state.selectedPatient !== null\n              && (\n                <UpdatePatientExaminationForm\n                      authUserId={this.context.userId}\n                      canCancel\n                        canConfirm\n                        onCancel={this.modalCancelHandler}\n                        onConfirm={this.updatePatientExaminationHandler}\n                        confirmText=\"Confirm\"\n                        patient={this.state.selectedPatient}\n                      />\n              )}\n            </Tab.Pane>\n\n            <Tab.Pane eventKey=\"patientEditHistory\">\n              {this.state.selectedPatient === null && (\n                <Button variant=\"outline-warning\" size=\"lg\">\n                  Select a Patient from the Master List\n                </Button>\n              )}\n              {this.state.selectedPatient !== null && (\n                <Button variant=\"outline-primary\" value='history' size=\"lg\" className=\"confirmEditButton\" onClick={this.updatePatientSpecial.bind(this)}>Add Past History</Button>\n              )}\n              {this.state.patientUpdateField === 'history' &&\n              this.state.selectedPatient !== null\n              && (\n                <UpdatePatientHistoryForm\n                authUserId={this.context.userId}\n                canCancel\n                  canConfirm\n                  onCancel={this.modalCancelHandler}\n                  onConfirm={this.updatePatientHistoryHandler}\n                  confirmText=\"Confirm\"\n                  patient={this.state.selectedPatient}\n                />\n              )}\n            </Tab.Pane>\n\n            <Tab.Pane eventKey=\"patientEditAllergies\">\n              {this.state.selectedPatient === null && (\n                <Button variant=\"outline-warning\" size=\"lg\">\n                  Select a Patient from the Master List\n                </Button>\n              )}\n              {this.state.selectedPatient !== null && (\n                <Button variant=\"outline-primary\" value='allergies' size=\"lg\" className=\"confirmEditButton\" onClick={this.updatePatientSpecial.bind(this)}>Add Allergies</Button>\n              )}\n              {this.state.patientUpdateField === 'allergies' &&\n              this.state.selectedPatient !== null\n              && (\n                <UpdatePatientAllergiesForm\n                      authUserId={this.context.userId}\n                      canCancel\n                        canConfirm\n                        onCancel={this.modalCancelHandler}\n                        onConfirm={this.updatePatientAllergiesHandler}\n                        confirmText=\"Confirm\"\n                        patient={this.state.selectedPatient}\n                      />\n              )}\n            </Tab.Pane>\n\n            <Tab.Pane eventKey=\"patientEditMedication\">\n              {this.state.selectedPatient === null && (\n                <Button variant=\"outline-warning\" size=\"lg\">\n                  Select a Patient from the Master List\n                </Button>\n              )}\n              {this.state.selectedPatient !== null && (\n                <Button variant=\"outline-primary\" value='medication' size=\"lg\" className=\"confirmEditButton\" onClick={this.updatePatientSpecial.bind(this)}>Add Medication</Button>\n              )}\n              {this.state.patientUpdateField === 'medication' &&\n              this.state.selectedPatient !== null\n              && (\n                <UpdatePatientMedicationForm\n                authUserId={this.context.userId}\n                canCancel\n                  canConfirm\n                  onCancel={this.modalCancelHandler}\n                  onConfirm={this.updatePatientMedicationHandler}\n                  confirmText=\"Confirm\"\n                  patient={this.state.selectedPatient}\n                />\n              )}\n            </Tab.Pane>\n\n            <Tab.Pane eventKey=\"patientEditInvestigation\">\n              {this.state.selectedPatient === null && (\n                <Button variant=\"outline-warning\" size=\"lg\" className=\"confirmEditButton\">\n                  Select a Patient from the Master List\n                </Button>\n              )}\n              {this.state.selectedPatient !== null && (\n                <Button variant=\"outline-primary\" value='investigation' size=\"lg\" className=\"confirmEditButton\" onClick={this.updatePatientSpecial.bind(this)}>Add Investigation</Button>\n              )}\n              {this.state.patientUpdateField === 'investigation' &&\n              this.state.selectedPatient !== null\n              && (\n                <UpdatePatientInvestigationForm\n                      authUserId={this.context.userId}\n                      canCancel\n                        canConfirm\n                        onCancel={this.modalCancelHandler}\n                        onConfirm={this.updatePatientInvestigationHandler}\n                        confirmText=\"Confirm\"\n                        patient={this.state.selectedPatient}\n                      />\n              )}\n            </Tab.Pane>\n\n            <Tab.Pane eventKey=\"patientEditDiagnosis\">\n              {this.state.selectedPatient === null && (\n                <Button variant=\"outline-warning\" size=\"lg\" className=\"confirmEditButton\">\n                  Select a Patient from the Master List\n                </Button>\n              )}\n              {this.state.selectedPatient !== null && (\n                <Button variant=\"outline-primary\" value='diagnosis' size=\"lg\" className=\"confirmEditButton\" onClick={this.updatePatientSpecial.bind(this)}>Add Diagnosis</Button>\n              )}\n              {this.state.patientUpdateField === 'diagnosis' &&\n              this.state.selectedPatient !== null\n              && (\n                <UpdatePatientDiagnosisForm\n                      authUserId={this.context.userId}\n                      canCancel\n                        canConfirm\n                        onCancel={this.modalCancelHandler}\n                        onConfirm={this.updatePatientDiagnosisHandler}\n                        confirmText=\"Confirm\"\n                        patient={this.state.selectedPatient}\n                      />\n              )}\n            </Tab.Pane>\n\n            <Tab.Pane eventKey=\"patientEditTreatment\">\n              {this.state.selectedPatient === null && (\n                <Button variant=\"outline-warning\" size=\"lg\">\n                  Select a Patient from the Master List\n                </Button>\n              )}\n              {this.state.selectedPatient !== null && (\n                <Button variant=\"outline-primary\" value='treatment' size=\"lg\" className=\"confirmEditButton\" onClick={this.updatePatientSpecial.bind(this)}>Add Treatment</Button>\n              )}\n              {this.state.patientUpdateField === 'treatment' &&\n              this.state.selectedPatient !== null\n              && (\n                <UpdatePatientTreatmentForm\n                      authUserId={this.context.userId}\n                      canCancel\n                        canConfirm\n                        onCancel={this.modalCancelHandler}\n                        onConfirm={this.updatePatientTreatmentHandler}\n                        confirmText=\"Confirm\"\n                        patient={this.state.selectedPatient}\n                      />\n              )}\n            </Tab.Pane>\n\n            <Tab.Pane eventKey=\"patientEditBilling\">\n              {this.state.selectedPatient === null && (\n                <Button variant=\"outline-warning\" size=\"lg\">\n                  Select a Patient from the Master List\n                </Button>\n              )}\n              {this.state.selectedPatient !== null && (\n                <Button variant=\"outline-primary\" value='billing' size=\"lg\" className=\"confirmEditButton\" onClick={this.updatePatientSpecial.bind(this)}>Add Billing</Button>\n              )}\n              {this.state.patientUpdateField === 'billing' &&\n              this.state.selectedPatient !== null\n              && (\n                <UpdatePatientBillingForm\n                      authUserId={this.context.userId}\n                      canCancel\n                        canConfirm\n                        onCancel={this.modalCancelHandler}\n                        onConfirm={this.updatePatientBillingHandler}\n                        confirmText=\"Confirm\"\n                        patient={this.state.selectedPatient}\n                      />\n              )}\n            </Tab.Pane>\n\n            <Tab.Pane eventKey=\"patientEditVigilance\">\n              {this.state.selectedPatient === null && (\n                <Button variant=\"outline-warning\" size=\"lg\">\n                  Select a Patient from the Master List\n                </Button>\n              )}\n              {this.state.selectedPatient !== null && (\n                <Button variant=\"outline-primary\" value='vigilance' size=\"lg\" className=\"confirmEditButton\" onClick={this.updatePatientSpecial.bind(this)}>Add Vigilance</Button>\n              )}\n              {this.state.patientUpdateField === 'vigilance' &&\n              this.state.selectedPatient !== null\n              && (\n                <UpdatePatientVigilanceForm\n                      authUserId={this.context.userId}\n                      canCancel\n                        canConfirm\n                        onCancel={this.modalCancelHandler}\n                        onConfirm={this.updatePatientVigilanceHandler}\n                        confirmText=\"Confirm\"\n                        patient={this.state.selectedPatient}\n                      />\n              )}\n            </Tab.Pane>\n\n            <Tab.Pane eventKey=\"patientEditAttachment\">\n              {this.state.selectedPatient === null && (\n                <Button variant=\"outline-warning\" size=\"lg\" className=\"confirmEditButton\">\n                  Select a Patient from the Master List\n                </Button>\n              )}\n              {this.state.selectedPatient !== null && (\n                <Button variant=\"outline-primary\" value='attachment' size=\"lg\" className=\"confirmEditButton\" onClick={this.updatePatientSpecial.bind(this)}>Add Attachment</Button>\n              )}\n              {this.state.patientUpdateField === 'attachment' &&\n              this.state.selectedPatient !== null\n              && (\n                <UpdatePatientAttachmentForm\n                      authUserId={this.context.userId}\n                      canCancel\n                        canConfirm\n                        onCancel={this.modalCancelHandler}\n                        onConfirm={this.updatePatientAttachmentHandler}\n                        confirmText=\"Confirm\"\n                        patient={this.state.selectedPatient}\n                      />\n                    )}\n            </Tab.Pane>\n\n            <Tab.Pane eventKey=\"patientEditNote\">\n              {this.state.selectedPatient === null && (\n                <Button variant=\"outline-warning\" size=\"lg\" className=\"confirmEditButton\">\n                  Select a Patient from the Master List\n                </Button>\n              )}\n              {this.state.selectedPatient !== null && (\n                <Button variant=\"outline-primary\" value='notes' size=\"lg\" className=\"confirmEditButton\" onClick={this.updatePatientSpecial.bind(this)}>Add Note</Button>\n              )}\n              {this.state.patientUpdateField === 'notes' &&\n              this.state.selectedPatient !== null\n              && (\n                <UpdatePatientNoteForm\n                      authUserId={this.context.userId}\n                      canCancel\n                        canConfirm\n                        onCancel={this.modalCancelHandler}\n                        onConfirm={this.updatePatientNoteHandler}\n                        confirmText=\"Confirm\"\n                        patient={this.state.selectedPatient}\n                      />\n                    )}\n            </Tab.Pane>\n\n            <Tab.Pane eventKey=\"patientEditTag\">\n              {this.state.selectedPatient === null && (\n                <Button variant=\"outline-warning\" size=\"lg\" className=\"confirmEditButton\">\n                  Select a Patient from the Master List\n                </Button>\n              )}\n              {this.state.selectedPatient !== null && (\n                <Button variant=\"outline-primary\" value='tags' size=\"lg\" className=\"confirmEditButton\" onClick={this.updatePatientSpecial.bind(this)}>Add Tag</Button>\n              )}\n              {this.state.patientUpdateField === 'tags' &&\n              this.state.selectedPatient !== null\n              && (\n                <UpdatePatientTagForm\n                      authUserId={this.context.userId}\n                      canCancel\n                        canConfirm\n                        onCancel={this.modalCancelHandler}\n                        onConfirm={this.updatePatientTagHandler}\n                        confirmText=\"Confirm\"\n                        patient={this.state.selectedPatient}\n                      />\n                    )}\n            </Tab.Pane>\n\n            <Tab.Pane eventKey=\"MasterList\">\n              <Container className=\"containerUserMasterList\">\n              <Row className=\"searchListRow\">\n              <Button variant=\"primary\" size=\"sm\" onClick={this.fetchPatientsAsc}>\n                 Sort Asc\n               </Button>\n              <Button variant=\"info\" size=\"sm\" onClick={this.fetchPatientsDesc}>\n                 Sort Desc\n               </Button>\n              {this.state.isLoading ? (\n                <Spinner />\n              ) : (\n                <PatientList\n                  patients={this.state.patients}\n                  authUserId={this.context.userId}\n                  onViewDetail={this.showDetailHandler}\n                />\n              )}\n              </Row>\n              </Container>\n            </Tab.Pane>\n\n            <Tab.Pane eventKey=\"SearchInput\">\n              <Container className=\"containerSearchUserInput\">\n                {this.context.token && (\n                <Row className=\"searchUserRowAdd\">\n                <Button variant=\"primary\" onClick={this.startSearchPatientHandler}>Search</Button>\n                </Row>\n              )}\n\n              <Row className=\"searchUserRowForm\">\n              <Col md={10} className=\"searchUserColForm\">\n              <Tabs defaultActiveKey=\"Field\" id=\"uncontrolled-tab-example\">\n              <Tab eventKey=\"Search\" title=\"Search:\" disabled>\n              </Tab>\n              <Tab eventKey=\"Field\" title=\"Search by Field:\">\n              {this.state.searching !== true && (\n                <Button variant=\"outline-warning\" className=\"confirmEditButton\" size=\"lg\">\n                  Click the 'Search' Button start\n                </Button>\n              )}\n              {this.state.searching === true && (\n                <SearchPatientForm\n                authUserId={this.context.userId}\n                canCancel\n                  canConfirm\n                  onCancel={this.modalCancelHandler}\n                  onConfirm={this.modalConfirmSearchHandler}\n                  confirmText=\"Search\"\n                  patient={this.context.selectedPatient}\n                />\n              )}\n              </Tab>\n              <Tab eventKey=\"Id\" title=\"Search by ID:\">\n              {this.state.searching !== true && (\n                <Button variant=\"outline-warning\" className=\"confirmEditButton\" size=\"lg\">\n                  Click the 'Search' Button start\n                </Button>\n              )}\n              {this.state.searching === true && (\n                <SearchPatientIdForm\n                authUserId={this.context.userId}\n                canCancel\n                  canConfirm\n                  onCancel={this.modalCancelHandler}\n                  onConfirm={this.modalConfirmSearchIdHandler}\n                  confirmText=\"Search\"\n                  patient={this.context.selectedPatient}\n                />\n              )}\n              </Tab>\n\n              <Tab eventKey=\"Name\" title=\"Search by Name:\">\n              {this.state.searching !== true && (\n                <Button variant=\"outline-warning\" className=\"confirmEditButton\" size=\"lg\">\n                  Click the 'Search' Button start\n                </Button>\n              )}\n              {this.state.searching === true && (\n                <SearchPatientNameForm\n                authUserId={this.context.userId}\n                canCancel\n                  canConfirm\n                  onCancel={this.modalCancelHandler}\n                  onConfirm={this.modalConfirmSearchNameHandler}\n                  confirmText=\"Search\"\n                  patient={this.context.selectedPatient}\n                />\n              )}\n              </Tab>\n              </Tabs>\n              </Col>\n              </Row>\n              </Container>\n            </Tab.Pane>\n\n            <Tab.Pane eventKey=\"SearchResult\">\n              <Container className=\"containerSearchUserResults\">\n              <Row>\n                <Card className=\"searchCard\">\n                  <Card.Body className=\"searchCardBody\">\n                    <Card.Title>Your Search</Card.Title>\n                    <Card.Text>\n                      Field: {this.state.patientSearchField}\n                    </Card.Text>\n                    <Card.Text>\n                      Query: {this.state.patientSearchQuery}\n                    </Card.Text>\n                  </Card.Body>\n                </Card>\n              </Row>\n              <Row className=\"searchListRow\">\n              {\n                this.state.searchPatients !== [] &&\n                <SearchPatientList\n                  searchPatients={this.state.searchPatients}\n                  authUserId={this.context.userId}\n                  onCancel={this.modalCancelHandler}\n                    onViewDetail={this.showDetailHandler}\n                />\n              }\n              </Row>\n              </Container>\n            </Tab.Pane>\n          </Tab.Content>\n        </Col>\n      </Row>\n    </Tab.Container>\n\n\n\n    </Container>\n\n\n\n\n\n    </Col>\n\n    <Col md={3} className=\"MasterCol3\">\n\n\n    </Col>\n    </Row>\n\n</Accordion>\n\n      </React.Fragment>\n    );\n  }\n}\n\nexport default PatientsPage;\n"]},"metadata":{},"sourceType":"module"}