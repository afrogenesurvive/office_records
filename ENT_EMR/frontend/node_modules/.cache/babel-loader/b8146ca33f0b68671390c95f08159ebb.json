{"ast":null,"code":"import _toConsumableArray from\"/Users/pedrojacob/Downloads/AMR/websites/office_records/ENT_EMR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/Users/pedrojacob/Downloads/AMR/websites/office_records/ENT_EMR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/pedrojacob/Downloads/AMR/websites/office_records/ENT_EMR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/pedrojacob/Downloads/AMR/websites/office_records/ENT_EMR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/pedrojacob/Downloads/AMR/websites/office_records/ENT_EMR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/pedrojacob/Downloads/AMR/websites/office_records/ENT_EMR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from'react';import Container from'react-bootstrap/Container';import Row from'react-bootstrap/Row';import Col from'react-bootstrap/Col';// import Form from 'react-bootstrap/Form';\nimport Button from'react-bootstrap/Button';import Accordion from'react-bootstrap/Accordion';import Tabs from'react-bootstrap/Tabs';import Tab from'react-bootstrap/Tab';import Card from'react-bootstrap/Card';// import Modal from '../components/Modal/Modal';\n// import Backdrop from '../components/Backdrop/Backdrop';\nimport UserList from'../components/Users/UserList/UserList';import SearchUserList from'../components/Users/UserList/SearchUserList';import UserDetail from'../components/Users/UserDetail';import Spinner from'../components/Spinner/Spinner';import AuthContext from'../context/auth-context';import SidebarPage from'./Sidebar';import AlertBox from'../components/AlertBox';import CreateUserForm from'../components/Forms/CreateUserForm';import UpdateUserForm from'../components/Forms/UpdateUserForm';import UpdateUserFieldForm from'../components/Forms/UpdateUserFieldForm';import UpdateUserAttendanceForm from'../components/Forms/UpdateUserAttendanceForm';import UpdateUserAttachmentForm from'../components/Forms/UpdateUserAttachmentForm';import UpdateUserLeaveForm from'../components/Forms/UpdateUserLeaveForm';import SearchUserForm from'../components/Forms/SearchUserForm';import SearchUserIdForm from'../components/Forms/SearchUserIdForm';import SearchUserNameForm from'../components/Forms/SearchUserNameForm';import SearchUserAttendanceDateForm from'../components/Forms/SearchUserAttendanceDateForm';import SearchUserLeaveDateRangeForm from'../components/Forms/SearchUserLeaveDateRangeForm';import'./Users.css';var UsersPage=/*#__PURE__*/function(_Component){_inherits(UsersPage,_Component);function UsersPage(){var _getPrototypeOf2;var _this;_classCallCheck(this,UsersPage);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(UsersPage)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={creating:false,updating:false,deleting:false,searching:false,users:[],searchUsers:[],isLoading:false,isSorting:false,selectedUser:null,userUpdateField:null,userSearchField:null,userSearchQuery:null,canDelete:null,userAlert:null};_this.isActive=true;_this.startCreateUserHandler=function(){_this.setState({creating:true});console.log(\"CreateUserForm...\");};_this.startUpdateUserHandler=function(){_this.setState({updating:true});console.log(\"UpdateUserForm...\");};_this.startSearchUserHandler=function(){_this.setState({searching:true});console.log(\"SearchUserForm...\");};_this.modalConfirmHandler=function(event){console.log(\"\\n      event: \".concat(JSON.stringify(event),\",\\n      \"));console.log(\"CreateUserFormData:  \",event.target.formGridEmail.value);_this.setState({creating:false});var email=event.target.formGridEmail.value;var password=event.target.formGridPassword.value;var name=event.target.formGridName.value;var role=event.target.formGridRole.value;var dob=event.target.formGridDob.value;var phone=event.target.formGridPhone.value;var addressNumber=event.target.formGridAddressNumber.value;var addressStreet=event.target.formGridAddressStreet.value;var addressTown=event.target.formGridAddressTown.value;var addressParish=event.target.formGridAddressParish.value;var addressPostOffice=event.target.formGridAddressPostOffice.value;var employmentDate=event.target.formGridEmploymentDate.value;var terminationDate=event.target.formGridTerminationDate.value;if(email.trim().length===0||password.trim().length===0||name.trim().length===0||role.trim().length===0||dob.trim().length===0||phone.trim().length===0||addressNumber.trim().length===0||addressStreet.trim().length===0||addressTown.trim().length===0||addressParish.trim().length===0||addressPostOffice.trim().length===0||employmentDate.trim().length===0||terminationDate.trim().length===0){console.log(\"blank fields detected!!!...Please try again...\");_this.setState({userAlert:\"blank fields detected!!!...Please try again...\"});return;}var token=_this.context.token;var userId=_this.context.userId;var user={email:email,password:password,name:name,role:role,dob:dob,phone:phone,addressNumber:addressNumber,addressStreet:addressStreet,addressTown:addressTown,addressParish:addressParish,addressPostOffice:addressPostOffice,employmentDate:employmentDate,terminationDate:terminationDate};console.log(\"\\n      creating user...\\n      userId: \".concat(userId,\"\\n      email: \").concat(email,\",\\n      password: \").concat(password,\",\\n      name: \").concat(name,\",\\n      role: \").concat(role,\",\\n      dob: \").concat(dob,\",\\n      phone: \").concat(phone,\",\\n      addressNumber: \").concat(addressNumber,\",\\n      addressStreet: \").concat(addressStreet,\",\\n      addressTown: \").concat(addressTown,\",\\n      addressParish: \").concat(addressParish,\",\\n      addressPostOffice: \").concat(addressPostOffice,\",\\n      employmentDate: \").concat(employmentDate,\",\\n      terminationDate: \").concat(terminationDate,\",\\n      \"));var requestBody={query:\"\\n          mutation {\\n            createUser(userInput: {email:\\\"\".concat(email,\"\\\",password:\\\"\").concat(password,\"\\\",name:\\\"\").concat(name,\"\\\",role:\\\"\").concat(role,\"\\\",dob:\\\"\").concat(dob,\"\\\",addressNumber:\").concat(addressNumber,\",addressStreet:\\\"\").concat(addressStreet,\"\\\",addressTown:\\\"\").concat(addressTown,\"\\\",addressParish:\\\"\").concat(addressParish,\"\\\",addressPostOffice:\\\"\").concat(addressPostOffice,\"\\\",phone:\\\"\").concat(phone,\"\\\",employmentDate:\\\"\").concat(employmentDate,\"\\\",terminationDate:\\\"\").concat(terminationDate,\"\\\"})\\n            {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}\\n          }\\n        \")};fetch('http://localhost:10000/graphql',{method:'POST',body:JSON.stringify(requestBody),headers:{'Content-Type':'application/json',Authorization:'Bearer '+token}}).then(function(res){if(res.status!==200&&res.status!==201){throw new Error('Failed!');}return res.json();}).then(function(resData){console.log(\"create user response data... \"+JSON.stringify(resData.data.createUser));var responseAlert=JSON.stringify(resData.data).slice(0,8);_this.setState({userAlert:responseAlert});_this.setState(function(prevState){var updatedUsers=_toConsumableArray(prevState.users);updatedUsers.push(resData.data.createUser);return{users:updatedUsers};});_this.context.users=_this.state.users;}).catch(function(err){console.log(err);_this.setState({userAlert:err});});};_this.modalConfirmUpdateHandler=function(event){var token=_this.context.token;var userId=_this.context.userId;var selectedUserId=_this.context.selectedUser._id;if(userId!==selectedUserId&&_this.context.user.role!=='admin'){console.log(\"Not the creator or Admin! No edit permission!!\");_this.setState({userAlert:\"Not the creator or Admin! No edit permission!!\"});selectedUserId=null;}console.log(\"UpdateUserFormData:  \",event.target.formGridEmail.value);_this.setState({updating:false});var email=event.target.formGridEmail.value;var password=event.target.formGridPassword.value;var name=event.target.formGridName.value;var role=_this.context.selectedUser.role;var dob=event.target.formGridDob.value;var phone=event.target.formGridPhone.value;var addressNumber=event.target.formGridAddressNumber.value;var addressStreet=event.target.formGridAddressStreet.value;var addressTown=event.target.formGridAddressTown.value;var addressParish=event.target.formGridAddressParish.value;var addressPostOffice=event.target.formGridAddressPostOffice.value;var employmentDate=event.target.formGridEmploymentDate.value;var terminationDate=event.target.formGridTerminationDate.value;if(email.trim().length===0){console.log(\"blank fields detected!!!...filling w/ previous data...\");email=_this.context.selectedUser.email;}if(password.trim().length===0){console.log(\"blank fields detected!!!...filling w/ previous data...\");password=_this.context.selectedUser.password;}if(name.trim().length===0){console.log(\"blank fields detected!!!...filling w/ previous data...\");name=_this.context.selectedUser.name;}// if (role.trim().length === 0) {\n//   console.log(\"blank fields detected!!!...filling w/ previous data...\");\n//   role = this.state.selectedUser.role;\n// }\nif(dob.trim().length===0){console.log(\"blank fields detected!!!...filling w/ previous data...\");dob=_this.context.selectedUser.dob;}if(phone.trim().length===0){console.log(\"blank fields detected!!!...filling w/ previous data...\");phone=_this.context.selectedUser.phone;}if(addressNumber.trim().length===0){console.log(\"blank fields detected!!!...filling w/ previous data...\");addressNumber=_this.context.selectedUser.address.number;}if(addressStreet.trim().length===0){console.log(\"blank fields detected!!!...filling w/ previous data...\");addressStreet=_this.context.selectedUser.address.street;}if(addressTown.trim().length===0){console.log(\"blank fields detected!!!...filling w/ previous data...\");addressTown=_this.context.selectedUser.address.town;}if(addressParish.trim().length===0){console.log(\"blank fields detected!!!...filling w/ previous data...\");addressParish=_this.context.selectedUser.address.parish;}if(addressPostOffice.trim().length===0){console.log(\"blank fields detected!!!...filling w/ previous data...\");addressPostOffice=_this.context.selectedUser.address.postOffice;}if(employmentDate.trim().length===0){console.log(\"blank fields detected!!!...filling w/ previous data...\");employmentDate=_this.context.selectedUser.employmentDate;}if(terminationDate.trim().length===0){console.log(\"blank fields detected!!!...filling w/ previous data...\");terminationDate=_this.context.selectedUser.terminationDate;}var user={email:email,password:password,name:name,role:role,dob:dob,phone:phone,addressNumber:addressNumber,addressStreet:addressStreet,addressTown:addressTown,addressParish:addressParish,addressPostOffice:addressPostOffice,employmentDate:employmentDate,terminationDate:terminationDate};console.log(\"\\n      updating user profile...\\n      userId: \".concat(userId,\"\\n      email: \").concat(email,\",\\n      password: \").concat(password,\",\\n      name: \").concat(name,\",\\n      role: \").concat(role,\",\\n      dob: \").concat(dob,\",\\n      phone: \").concat(phone,\",\\n      addressNumber: \").concat(addressNumber,\",\\n      addressStreet: \").concat(addressStreet,\",\\n      addressTown: \").concat(addressTown,\",\\n      addressParish: \").concat(addressParish,\",\\n      addressPostOffice: \").concat(addressPostOffice,\",\\n      employmentDate: \").concat(employmentDate,\",\\n      terminationDate: \").concat(terminationDate,\",\\n      \"));_this.setState({userAlert:\"updating user profile...\"});var requestBody={query:\"\\n      mutation {updateUser(userId:\\\"\".concat(userId,\"\\\",selectedUserId:\\\"\").concat(selectedUserId,\"\\\",userInput: {email:\\\"\").concat(email,\"\\\",password:\\\"\").concat(password,\"\\\",name:\\\"\").concat(name,\"\\\",dob:\\\"\").concat(dob,\"\\\",addressNumber:\").concat(addressNumber,\",addressStreet:\\\"\").concat(addressStreet,\"\\\",addressTown:\\\"\").concat(addressTown,\"\\\",addressParish:\\\"\").concat(addressParish,\"\\\", addressPostOffice:\\\"\").concat(addressPostOffice,\"\\\",phone:\\\"\").concat(phone,\"\\\",role:\\\"\").concat(role,\"\\\",employmentDate:\\\"\").concat(employmentDate,\"\\\",terminationDate:\\\"\").concat(terminationDate,\"\\\"})\\n      {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\\n        \")};fetch('http://localhost:10000/graphql',{method:'POST',body:JSON.stringify(requestBody),headers:{'Content-Type':'application/json',Authorization:'Bearer '+token}}).then(function(res){if(res.status!==200&&res.status!==201){throw new Error('Failed!');}return res.json();}).then(function(resData){console.log(\"response data... \"+JSON.stringify(resData));var updatedUser=resData.data.updateUser;console.log(\"updatedUser:  \",JSON.stringify(updatedUser));_this.setState({user:updatedUser});_this.state.users.push(resData.data.updateUser);_this.context.users=_this.state.users;var responseAlert=JSON.stringify(resData.data).slice(2,25);_this.setState({userAlert:responseAlert,selectedUser:resData.data.updateUser});_this.fetchUsers();}).catch(function(err){console.log(err);_this.setState({userAlert:err});});};_this.modalConfirmUpdateFieldHandler=function(event){var token=_this.context.token;var userId=_this.context.userId;var selectedUserId=_this.context.selectedUser._id;// if(userId !== selectedUserId && this.context.user.role !== 'admin') {\n//   console.log(\"Not the creator or Admin! No edit permission!!\");\n//   selectedUserId = null;\n// }\nconsole.log(\"UpdateUserFieldFormData:  \",event.target.formGridField.value,event.target.formGridFieldSelect.value);_this.setState({updating:false});var field=null;var query=event.target.formGridQuery.value;if(event.target.formGridFieldSelect.value===\"select\"){field=event.target.formGridField.value;}else{field=event.target.formGridFieldSelect.value;}console.log(\"\\n          field: \".concat(field,\",\\n          query: \").concat(query,\",\\n        \"));_this.setState({userAlert:\"updating user field...\"});var requestBody={query:\"\\n          mutation{updateUserField(userId:\\\"\".concat(userId,\"\\\",selectedUserId:\\\"\").concat(selectedUserId,\"\\\",field:\\\"\").concat(field,\"\\\",query:\\\"\").concat(query,\"\\\")\\n          {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}\\n        }\\n        \")};fetch('http://localhost:10000/graphql',{method:'POST',body:JSON.stringify(requestBody),headers:{'Content-Type':'application/json',Authorization:'Bearer '+token}}).then(function(res){if(res.status!==200&&res.status!==201){throw new Error('Failed!');}return res.json();}).then(function(resData){console.log(\"response data... \"+JSON.stringify(resData.data.updateUserField));var updatedUserId=resData.data.updateUserField._id;var updatedUser=_this.state.users.find(function(e){return e._id===updatedUserId;});var updatedUserPos=_this.state.users.indexOf(updatedUser);var slicedArray=_this.state.users.splice(updatedUserPos,1);console.log(\"updatedUser:  \",JSON.stringify(updatedUser),\"  updatedUserPos:  \",updatedUserPos,\"  slicedArray:  \",slicedArray);_this.state.users.push(resData.data.updateUserField);_this.context.users=_this.state.users;var responseAlert=JSON.stringify(resData.data).slice(2,25);_this.setState({userAlert:responseAlert,selectedUser:resData.data.updateUserField});_this.fetchUsers();}).catch(function(err){console.log(err);_this.setState({userAlert:err});});};_this.updateUserAttendanceHandler=function(event){var token=_this.context.token;var userId=_this.context.userId;var selectedUserId=_this.context.selectedUser._id;// if(userId !== selectedUserId && this.context.user.role !== 'admin') {\n//   console.log(\"Not the creator or Admin! No edit permission!!\");\n//   selectedUserId = null;\n// }\nif(userId!==selectedUserId&&_this.context.user.role!==\"admin\"){console.log(\"Not the creator or Admin! No edit permission!!\");_this.setState({userAlert:\"Not the creator or Admin! No edit permission!!\"});selectedUserId=null;}console.log(\"UpdateUserAttendanceFormData:  \",event.target.formGridAttendanceDate.value);_this.setState({updating:false,userUpdateField:null});var attendanceDate=event.target.formGridAttendanceDate.value;var attendanceStatus=event.target.formGridAttendanceStatus.value;var attendanceDescription=event.target.formGridAttendanceDescription.value;if(attendanceDate.trim().length===0){console.log(\"blank fields detected!!!...filling w/ previous data...\");attendanceDate=_this.context.selectedUser.attendanceDate;}if(attendanceStatus.trim().length===0){console.log(\"blank fields detected!!!...filling w/ previous data...\");attendanceStatus=_this.context.selectedUser.attendanceStatus;}if(attendanceDescription.trim().length===0){console.log(\"blank fields detected!!!...filling w/ previous data...\");attendanceDescription=_this.context.selectedUser.attendanceDescription;}var userAttendance={attendanceDate:attendanceDate,attendanceStatus:attendanceStatus,attendanceDescription:attendanceDescription};console.log(\"\\n      adding user attendance item...\\n      userId: \".concat(userId,\",\\n      selectedUserId: \").concat(selectedUserId,\"\\n      attendanceDate: \").concat(attendanceDate,\",\\n      attendanceStatus: \").concat(attendanceStatus,\",\\n      attendanceDescription: \").concat(attendanceDescription,\"\\n      \"));_this.setState({userAlert:\"adding user attendance item...\"});var requestBody={query:\"\\n          mutation {updateUserAttendance(userId:\\\"\".concat(userId,\"\\\", selectedUserId:\\\"\").concat(selectedUserId,\"\\\",userInput:{attendanceDate:\\\"\").concat(attendanceDate,\"\\\",attendanceStatus:\\\"\").concat(attendanceStatus,\"\\\",attendanceDescription:\\\"\").concat(attendanceDescription,\"\\\"})\\n          {_id,name,email,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description}}}\\n        \")};fetch('http://localhost:10000/graphql',{method:'POST',body:JSON.stringify(requestBody),headers:{'Content-Type':'application/json',Authorization:'Bearer '+token}}).then(function(res){if(res.status!==200&&res.status!==201){throw new Error('Failed!');}return res.json();}).then(function(resData){console.log(\"response data... \"+JSON.stringify(resData.data.updateUserAttendance));var updatedUserId=resData.data.updateUserAttendance._id;var updatedUser=_this.state.users.find(function(e){return e._id===updatedUserId;});var updatedUserPos=_this.state.users.indexOf(updatedUser);var slicedArray=_this.state.users.splice(updatedUserPos,1);console.log(\"updatedUser:  \",JSON.stringify(updatedUser),\"  updatedUserPos:  \",updatedUserPos,\"  slicedArray:  \",slicedArray);_this.state.users.push(resData.data.updateUserAttendance);_this.context.users=_this.state.users;var responseAlert=JSON.stringify(resData.data).slice(2,25);_this.setState({userAlert:responseAlert,selectedUser:resData.data.updateUserAttendance});_this.fetchUsers();}).catch(function(err){console.log(err);_this.setState({userAlert:err});});};_this.updateUserAttachmentHandler=function(event){var token=_this.context.token;var userId=_this.context.userId;var selectedUserId=_this.context.selectedUser._id;// if(userId !== selectedUserId && this.context.user.role !== 'admin') {\n//   console.log(\"Not the creator or Admin! No edit permission!!\");\n//   selectedUserId = null;\n// }\nif(userId!==selectedUserId&&_this.context.user.role!==\"admin\"){console.log(\"Not the creator or Admin! No edit permission!!\");_this.setState({userAlert:\"Not the creator or Admin! No edit permission!!\"});selectedUserId=null;}console.log(\"UpdateUserAttachmentFormData:  \",event.target.formGridAttachmentName.value);_this.setState({updating:false,userUpdateField:null});var attachmentName=event.target.formGridAttachmentName.value;var attachmentFormat=event.target.formGridAttachmentFormat.value;var attachmentPath=event.target.formGridAttachmentPath.value;if(attachmentName.trim().length===0||attachmentFormat.trim().length===0||attachmentPath.trim().length===0){console.log(\"blank fields detected!!! try again\");return;}var userAttachment={attachmentName:attachmentName,attachmentFormat:attachmentFormat,attachmentPath:attachmentPath};console.log(\"\\n      adding user attendance item...\\n      userId: \".concat(userId,\",\\n      selectedUserId: \").concat(selectedUserId,\"\\n      attachmentName: \").concat(attachmentName,\",\\n      attachmentFormat: \").concat(attachmentFormat,\",\\n      attachmentPath: \").concat(attachmentPath,\"\\n      \"));_this.setState({userAlert:\"adding user attendance item...\"});var requestBody={query:\"\\n          mutation{updateUserAttachment(userId:\\\"\".concat(userId,\"\\\",selectedUserId:\\\"\").concat(selectedUserId,\"\\\",userInput:{attachmentName:\\\"\").concat(attachmentName,\"\\\",attachmentFormat:\\\"\").concat(attachmentFormat,\"\\\",attachmentPath:\\\"\").concat(attachmentPath,\"\\\"})\\n          {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\\n        \")};fetch('http://localhost:10000/graphql',{method:'POST',body:JSON.stringify(requestBody),headers:{'Content-Type':'application/json',Authorization:'Bearer '+token}}).then(function(res){if(res.status!==200&&res.status!==201){throw new Error('Failed!');}return res.json();}).then(function(resData){console.log(\"response data... \"+JSON.stringify(resData.data.updateUserAttachment));var updatedUserId=resData.data.updateUserAttachment._id;var updatedUser=_this.state.users.find(function(e){return e._id===updatedUserId;});var updatedUserPos=_this.state.users.indexOf(updatedUser);var slicedArray=_this.state.users.splice(updatedUserPos,1);console.log(\"updatedUser:  \",JSON.stringify(updatedUser),\"  updatedUserPos:  \",updatedUserPos,\"  slicedArray:  \",slicedArray);_this.state.users.push(resData.data.updateUserAttachment);_this.context.users=_this.state.users;var responseAlert=JSON.stringify(resData.data).slice(2,25);_this.setState({userAlert:responseAlert,selectedUser:resData.data.updateUserAttachment});_this.fetchUsers();}).catch(function(err){console.log(err);_this.setState({userAlert:err});});};_this.updateUserLeaveHandler=function(event){var token=_this.context.token;var userId=_this.context.userId;var selectedUserId=_this.context.selectedUser._id;// if(userId !== selectedUserId && this.context.user.role !== 'admin') {\n//   console.log(\"Not the creator or Admin! No edit permission!!\");\n//   selectedUserId = null;\n// }\nif(userId!==selectedUserId&&_this.context.user.role!==\"admin\"){console.log(\"Not the creator or Admin! No edit permission!!\");_this.setState({userAlert:\"Not the creator or Admin! No edit permission!!\"});selectedUserId=null;}console.log(\"UpdateUserLeaveFormData:  \",event.target.formGridLeaveType.value);_this.setState({updating:false,userUpdateField:null});var leaveType=event.target.formGridLeaveType.value;var leaveTitle=event.target.formGridLeaveTitle.value;var leaveStartDate=event.target.formGridLeaveStartDate.value;var leaveEndDate=event.target.formGridLeaveEndDate.value;if(leaveType.trim().length===0||leaveTitle.trim().length===0||leaveStartDate.trim().length===0||leaveEndDate.trim().length===0){console.log(\"blank fields detected!!!...try again\");_this.setState({userAlert:\"blank fields detected!!!...try again\"});return;}var userLeave={leaveType:leaveType,leaveTitle:leaveTitle,leaveStartDate:leaveStartDate,leaveEndDate:leaveEndDate};console.log(\"\\n      adding user leave item...\\n      userId: \".concat(userId,\",\\n      selectedUserId: \").concat(selectedUserId,\"\\n      leave: {\\n        type: \").concat(leaveType,\",\\n        title: \").concat(leaveTitle,\",\\n        startDate: \").concat(leaveStartDate,\",\\n        endDate: \").concat(leaveEndDate,\"\\n      }\\n      \"));_this.setState({userAlert:\"adding user leave item...\"});var requestBody={query:\"\\n          mutation{updateUserLeave(userId:\\\"\".concat(userId,\"\\\",selectedUserId:\\\"\").concat(selectedUserId,\"\\\",userInput:{leaveType:\\\"\").concat(leaveType,\"\\\",leaveTitle:\\\"\").concat(leaveTitle,\"\\\",leaveStartDate:\\\"\").concat(leaveStartDate,\"\\\",leaveEndDate:\\\"\").concat(leaveEndDate,\"\\\"})\\n          {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\\n        \")};fetch('http://localhost:10000/graphql',{method:'POST',body:JSON.stringify(requestBody),headers:{'Content-Type':'application/json',Authorization:'Bearer '+token}}).then(function(res){if(res.status!==200&&res.status!==201){throw new Error('Failed!');}return res.json();}).then(function(resData){console.log(\"response data... \"+JSON.stringify(resData.data));var updatedUserId=resData.data.updateUserLeave._id;var updatedUser=_this.state.users.find(function(e){return e._id===updatedUserId;});var updatedUserPos=_this.state.users.indexOf(updatedUser);var slicedArray=_this.state.users.splice(updatedUserPos,1);console.log(\"updatedUser:  \",JSON.stringify(updatedUser),\"  updatedUserPos:  \",updatedUserPos,\"  slicedArray:  \",slicedArray);_this.state.users.push(resData.data.updateUserLeave);_this.context.users=_this.state.users;var responseAlert=JSON.stringify(resData.data).slice(2,25);_this.setState({userAlert:responseAlert,selectedUser:resData.data.updateUserLeave});_this.fetchUsers();}).catch(function(err){console.log(err);_this.setState({userAlert:err});});};_this.modalConfirmSearchHandler=function(event){console.log(\"SearchUserForm:  \");var userId=_this.context.userId;console.log(\"SearchUserFormData:  \",event.target.formBasicField.value);_this.setState({searching:false});var field=null;var query=event.target.formBasicQuery.value;if(event.target.formBasicFieldSelect.value===\"select\"){field=event.target.formBasicField.value;}else{field=event.target.formBasicFieldSelect.value;}_this.setState({userSearchField:field,userSearchQuery:query});if(field.trim().length===0||query.trim().length===0){console.log(\"blank fields detected!!!...Please try again...\");_this.setState({userAlert:\"blank fields detected!!!...Please try again...\"});return;}var search={field:field,query:query};console.log(\"Searching for User:  \",JSON.stringify(search));_this.setState({userAlert:\"Searching for User...\"});var requestBody={query:\"\\n          query {getUserField(userId:\\\"\".concat(userId,\"\\\",field:\\\"\").concat(field,\"\\\",query:\\\"\").concat(query,\"\\\")\\n          {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\\n        \")};var token=_this.context.token;fetch('http://localhost:10000/graphql',{method:'POST',body:JSON.stringify(requestBody),headers:{'Content-Type':'application/json',Authorization:'Bearer '+token}}).then(function(res){if(res.status!==200&&res.status!==201){throw new Error('Failed!');}return res.json();}).then(function(resData){console.log(\"response data... \"+JSON.stringify(resData));var responseAlert=JSON.stringify(resData.data).slice(0,8);_this.setState({userAlert:responseAlert});var searchUsers=resData.data.getUserField;_this.setState({searchUsers:searchUsers});console.log(\"state.searchUsers:  \",_this.state.searchUsers);// this.fetchUsers();\n}).catch(function(err){console.log(err);_this.setState({userAlert:err});});};_this.modalConfirmSearchIdHandler=function(event){var userId=_this.context.userId;_this.setState({searching:false});console.log(\"SearchUserIdFormData:\",event.target.formBasicId.value);var selectedUserId=event.target.formBasicId.value;var requestBody={query:\"\\n        query {getUserId(userId:\\\"\".concat(userId,\"\\\",selectedUserId:\\\"\").concat(selectedUserId,\"\\\")\\n        {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\\n      \")};var token=_this.context.token;fetch('http://localhost:10000/graphql',{method:'POST',body:JSON.stringify(requestBody),headers:{'Content-Type':'application/json',Authorization:'Bearer '+token}}).then(function(res){if(res.status!==200&&res.status!==201){throw new Error('Failed!');}return res.json();}).then(function(resData){console.log(\"response data... \"+JSON.stringify(resData));var responseAlert=JSON.stringify(resData.data).slice(2,25);_this.setState({userAlert:responseAlert});var searchUsers=resData.data.getUserId;_this.setState({searchUsers:[searchUsers]});console.log(\"state.searchUsers:  \",_this.state.searchUsers);// this.fetchUsers();\n}).catch(function(err){console.log(err);_this.setState({userAlert:err});});};_this.modalConfirmSearchAttendanceDateHandler=function(event){var userId=_this.context.userId;_this.setState({searching:false});console.log(\"SearchUserAttendanceDateFormData:\");var attendanceDate=event.target.formBasicDate.value;var requestBody={query:\"\\n        query {getUserAttendanceDate(userId:\\\"\".concat(userId,\"\\\",attendanceDate:\\\"\").concat(attendanceDate,\"\\\")\\n        {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\\n      \")};var token=_this.context.token;fetch('http://localhost:10000/graphql',{method:'POST',body:JSON.stringify(requestBody),headers:{'Content-Type':'application/json',Authorization:'Bearer '+token}}).then(function(res){if(res.status!==200&&res.status!==201){throw new Error('Failed!');}return res.json();}).then(function(resData){console.log(\"response data... \"+JSON.stringify(resData));var responseAlert=JSON.stringify(resData.data).slice(0,8);_this.setState({userAlert:responseAlert});var searchUsers=resData.data.getUserAttendanceDate;_this.setState({searchUsers:searchUsers});console.log(\"state.searchUsers:  \",_this.state.searchUsers);// this.fetchUsers();\n}).catch(function(err){console.log(err);_this.setState({userAlert:err});});};_this.modalConfirmSearchLeaveDateRangeHandler=function(event){var userId=_this.context.userId;_this.setState({searching:false});console.log(\"SearchUserLeaveDateRangeFormData:\");var startDate=event.target.formBasicStartDate.value;var endDate=event.target.formBasicEndDate.value;var requestBody={query:\"\\n        query{getUserLeaveDateRange(userId:\\\"\".concat(userId,\"\\\",startDate:\\\"\").concat(startDate,\"\\\",endDate:\\\"\").concat(endDate,\"\\\")\\n        {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\\n      \")};var token=_this.context.token;fetch('http://localhost:10000/graphql',{method:'POST',body:JSON.stringify(requestBody),headers:{'Content-Type':'application/json',Authorization:'Bearer '+token}}).then(function(res){if(res.status!==200&&res.status!==201){throw new Error('Failed!');}return res.json();}).then(function(resData){console.log(\"response data... \"+JSON.stringify(resData));var responseAlert=JSON.stringify(resData.data).slice(0,8);_this.setState({userAlert:responseAlert});var searchUsers=resData.data.getUserLeaveDateRange;_this.setState({searchUsers:searchUsers});console.log(\"state.searchUsers:  \",_this.state.searchUsers);// this.fetchUsers();\n}).catch(function(err){console.log(err);_this.setState({userAlert:err});});};_this.modalConfirmSearchNameHandler=function(event){console.log(\"SearchUserNameFormData:\",event.target.formBasicName.value);var userId=_this.context.userId;_this.setState({searching:false});var users=_this.state.users;var regex=new RegExp(event.target.formBasicName.value,\"i\");console.log(\"\\n      regex: \".concat(regex,\",\\n      \"));var result=users.filter(function(user){return user.name.match(regex);});console.log(\"\\n        result: \".concat(JSON.stringify(result),\"\\n        \"));_this.setState({searchUsers:result});};_this.modalCancelHandler=function(){_this.setState({creating:false,updating:false,deleting:false,searching:false});};_this.fetchUsersAsc=function(){console.log(\"'fetch usersAsc function' context object... \"+JSON.stringify(_this.context));var userId=_this.context.userId;// this.setState({ isSorting: true });\nvar requestBody={query:\"\\n          query {usersNameAsc (userId:\\\"\".concat(userId,\"\\\")\\n          {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\\n        \")};fetch('http://localhost:10000/graphql',{method:'POST',body:JSON.stringify(requestBody),headers:{'Content-Type':'application/json',Authorization:'Bearer '+_this.context.token}}).then(function(res){if(res.status!==200&&res.status!==201){_this.context.userAlert='Failed!';throw new Error('Failed!');}return res.json();}).then(function(resData){var users=resData.data.usersNameAsc;console.log(\"resData:  \",resData);console.log(users);var responseAlert=JSON.stringify(resData.data).slice(0,8);_this.setState({userAlert:responseAlert});_this.setState({users:users});// if (this.isActive) {\n//   this.setState({ users: users, isLoading: false });\n// }\n_this.context.users=_this.state.users;}).catch(function(err){console.log(err);_this.setState({userAlert:err});// if (this.isActive) {\n//   this.setState({ isLoading: false });\n// }\n});};_this.fetchUsersDesc=function(){console.log(\"'fetch usersDesc function' context object... \"+JSON.stringify(_this.context));var userId=_this.context.userId;// this.setState({ isLoading: true });\nvar requestBody={query:\"\\n          query {usersNameDesc (userId:\\\"\".concat(userId,\"\\\")\\n          {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\\n        \")};fetch('http://localhost:10000/graphql',{method:'POST',body:JSON.stringify(requestBody),headers:{'Content-Type':'application/json',Authorization:'Bearer '+_this.context.token}}).then(function(res){if(res.status!==200&&res.status!==201){_this.context.userAlert='Failed!';throw new Error('Failed!');}return res.json();}).then(function(resData){var users=resData.data.usersNameDesc;console.log(\"resData:  \",resData);console.log(users);var responseAlert=JSON.stringify(resData.data).slice(0,8);_this.setState({userAlert:responseAlert});// if (this.isActive) {\n//   this.setState({ users: users, isLoading: false });\n// }\n_this.setState({users:users});_this.context.users=_this.state.users;}).catch(function(err){console.log(err);_this.setState({userAlert:err});// if (this.isActive) {\n//   this.setState({ isLoading: false });\n// }\n});};_this.modalDeleteHandler=function(){console.log(\"deleting user...selectedUser:  \",_this.context.selectedUser);var userId=_this.context.userId;var selectedUserId=_this.context.selectedUser._id;if(_this.context.user.role!=='admin'){console.log(\"Not the Admin! No edit permission!!\");_this.setState({userAlert:\"Not the Admin! No edit permission!!\"});}_this.setState({deleting:true,userAlert:\"deleting user..\"});var requestBody={query:\"\\n        mutation {\\n          deleteUser(userId: \".concat(userId,\", selectedUserId: \").concat(selectedUserId,\")\\n          {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}\\n        }\\n      \")};fetch('http://localhost:10000/graphql',{method:'POST',body:JSON.stringify(requestBody),headers:{'Content-Type':'application/json',Authorization:'Bearer '+_this.context.token}}).then(function(res){if(res.status!==200&&res.status!==201){throw new Error('Failed!');}return res.json();}).then(function(resData){var responseAlert=JSON.stringify(resData.data).slice(0,8);_this.setState({userAlert:responseAlert});var deletedUser=resData.data.deleteUser;console.log(deletedUser);var deletedUserId=deletedUser._id;deletedUser=_this.state.users.find(function(e){return e._id===deletedUserId;});var deletedUserPos=_this.state.users.indexOf(deletedUser);var slicedArray=_this.state.users.splice(deletedUserPos,1);console.log(\"deletedUser:  \",JSON.stringify(deletedUser),\"  deletedUserPos:  \",deletedUserPos,\"  slicedArray:  \",slicedArray);_this.setState({deleting:false,selectedUser:null});_this.context.selectedUser=null;_this.fetchUsers();}).catch(function(err){console.log(err);_this.setState({userAlert:err});if(_this.isActive){_this.setState({deleting:false});}});};_this.deleteUserAttendanceItem=function(props){var token=_this.context.token;var userId=_this.context.userId;var selectedUserId=_this.state.selectedUser._id;var date=new Date(props.date.substr(0,10)*1000).toISOString().slice(0,10);console.log(\"\\n    delete user Attendance item:\\n    props: \".concat(JSON.stringify(props),\",\\n    token: \").concat(token,\",\\n    userId: \").concat(userId,\",\\n    selectedUserId: \").concat(selectedUserId,\",\\n    attandance date: \").concat(date,\",\\n    \"));var requestBody={query:\"\\n       mutation{deleteUserAttendance(userId:\\\"\".concat(userId,\"\\\",selectedUserId:\\\"\").concat(selectedUserId,\"\\\",attendanceDate:\\\"\").concat(date,\"\\\")\\n       {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\\n    \")};fetch('http://localhost:10000/graphql',{method:'POST',body:JSON.stringify(requestBody),headers:{'Content-Type':'application/json',Authorization:'Bearer '+token}}).then(function(res){if(res.status!==200&&res.status!==201){throw new Error('Failed!');}return res.json();}).then(function(resData){var deletedUser=resData.data.deleteUserAttendance;console.log(\"resData.data:  \",resData.data.deleteUserAttendance);var updatedUserId=resData.data.deleteUserAttendance._id;var updatedUser=_this.state.users.find(function(e){return e._id===updatedUserId;});var updatedUserPos=_this.state.users.indexOf(updatedUser);var slicedArray=_this.state.users.splice(updatedUserPos,1);console.log(\"updatedUser:  \",JSON.stringify(updatedUser),\"  updatedUserPos:  \",updatedUserPos,\"  slicedArray:  \",slicedArray);_this.state.users.push(resData.data.deleteUserAttendance);_this.context.users=_this.state.users;var responseAlert=JSON.stringify(resData.data).slice(2,25);_this.setState({userAlert:responseAlert});// this.setState({ userAlert: responseAlert, selectedUser: resData.data.deleteUserAttendance})\n_this.fetchUsers();}).catch(function(err){console.log(err);});};_this.deleteUserLeaveItem=function(props){var token=_this.context.token;var userId=_this.context.userId;var selectedUserId=_this.state.selectedUser._id;console.log(\"\\n    delete user Leave item:\\n    props: \".concat(JSON.stringify(props),\",\\n    token: \").concat(token,\",\\n    userId: \").concat(userId,\",\\n    selectedUserId: \").concat(selectedUserId,\",\\n    \"));var requestBody={query:\"\\n       mutation{deleteUserLeave(userId:\\\"\".concat(userId,\"\\\",selectedUserId:\\\"\").concat(selectedUserId,\"\\\",leaveTitle:\\\"\").concat(props.title,\"\\\")\\n       {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\\n    \")};fetch('http://localhost:10000/graphql',{method:'POST',body:JSON.stringify(requestBody),headers:{'Content-Type':'application/json',Authorization:'Bearer '+token}}).then(function(res){if(res.status!==200&&res.status!==201){throw new Error('Failed!');}return res.json();}).then(function(resData){var deletedUser=resData.data.deleteUserLeave;console.log(deletedUser);var updatedUserId=resData.data.deleteUserLeave._id;var updatedUser=_this.state.users.find(function(e){return e._id===updatedUserId;});var updatedUserPos=_this.state.users.indexOf(updatedUser);var slicedArray=_this.state.users.splice(updatedUserPos,1);console.log(\"updatedUser:  \",JSON.stringify(updatedUser),\"  updatedUserPos:  \",updatedUserPos,\"  slicedArray:  \",slicedArray);_this.state.users.push(resData.data.deleteUserLeave);_this.context.users=_this.state.users;var responseAlert=JSON.stringify(resData.data).slice(2,25);_this.setState({userAlert:responseAlert});// this.setState({ userAlert: responseAlert, selectedUser: resData.data.deleteUserLeave})\n_this.fetchUsers();}).catch(function(err){console.log(err);});};_this.deleteUserAttachmentItem=function(props){var token=_this.context.token;var userId=_this.context.userId;var selectedUserId=_this.state.selectedUser._id;console.log(\"\\n    delete user Attachment item:\\n    props: \".concat(JSON.stringify(props),\",\\n    token: \").concat(token,\",\\n    userId: \").concat(userId,\",\\n    selectedUserId: \").concat(selectedUserId,\",\\n    \"));var requestBody={query:\"\\n       mutation{deleteUserAttachment(userId:\\\"\".concat(userId,\"\\\",selectedUserId:\\\"\").concat(selectedUserId,\"\\\",attachmentName:\\\"\").concat(props.name,\"\\\")\\n       {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\\n    \")};fetch('http://localhost:10000/graphql',{method:'POST',body:JSON.stringify(requestBody),headers:{'Content-Type':'application/json',Authorization:'Bearer '+token}}).then(function(res){if(res.status!==200&&res.status!==201){throw new Error('Failed!');}return res.json();}).then(function(resData){var deletedUser=resData.data.deleteUserAttachment;console.log(deletedUser);var updatedUserId=resData.data.deleteUserAttachment._id;var updatedUser=_this.state.users.find(function(e){return e._id===updatedUserId;});var updatedUserPos=_this.state.users.indexOf(updatedUser);var slicedArray=_this.state.users.splice(updatedUserPos,1);console.log(\"updatedUser:  \",JSON.stringify(updatedUser),\"  updatedUserPos:  \",updatedUserPos,\"  slicedArray:  \",slicedArray);_this.state.users.push(resData.data.deleteUserAttachment);_this.context.users=_this.state.users;var responseAlert=JSON.stringify(resData.data).slice(2,25);_this.setState({userAlert:responseAlert});// this.setState({ userAlert: responseAlert, selectedUser: resData.data.deleteUserAttachment})\n_this.fetchUsers();}).catch(function(err){console.log(err);});};_this.showDetailHandler=function(userId){_this.setState(function(prevState){var selectedUser=prevState.users.find(function(e){return e._id===userId;});_this.context.selectedUser=selectedUser;_this.setState({selectedUser:selectedUser});console.log(\"User selected  :  \",selectedUser);return{selectedUser:selectedUser};});};return _this;}_createClass(UsersPage,[{key:\"componentDidMount\",// constructor(props) {\n//   super(props);\n// }\nvalue:function componentDidMount(){this.fetchUsers();if(this.context.user.name==='admin579'){this.setState({canDelete:true});}}},{key:\"fetchUsers\",value:function fetchUsers(){var _this2=this;console.log(\"fetch users:\");// console.log(\"'fetch users function' context object... \" + JSON.stringify(this.context));\nvar userId=this.context.userId;this.setState({isLoading:true});var requestBody={query:\"\\n          query {users (userId:\\\"\".concat(userId,\"\\\")\\n          {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\\n        \")};fetch('http://localhost:10000/graphql',{method:'POST',body:JSON.stringify(requestBody),headers:{'Content-Type':'application/json',Authorization:'Bearer '+this.context.token}}).then(function(res){if(res.status!==200&&res.status!==201){_this2.context.userAlert='Failed!';throw new Error('Failed!');}return res.json();}).then(function(resData){var responseAlert=JSON.stringify(resData.data).slice(0,8);_this2.setState({userAlert:responseAlert});var users=resData.data.users;console.log(\"resData:  \",resData);console.log(users);if(_this2.isActive){_this2.setState({users:users,isLoading:false});}_this2.context.users=_this2.state.users;}).catch(function(err){console.log(err);_this2.setState({userAlert:err});if(_this2.isActive){_this2.setState({isLoading:false});}});}},{key:\"updateUserSpecial\",value:function updateUserSpecial(event){console.log(\"special field to update:  \",event.target.value);var field=event.target.value;this.setState({userUpdateField:field});}},{key:\"userSearchClearlHandler\",value:function userSearchClearlHandler(){console.log(\"clearing user search results\");this.setState({searchUsers:[],userAlert:\"clearing user search results\"});}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.isActive=false;}},{key:\"render\",value:function render(){return React.createElement(React.Fragment,null,React.createElement(Accordion,null,React.createElement(Row,null,React.createElement(Col,{md:3,className:\"MasterCol1\"},React.createElement(AlertBox,{authUserId:this.context.userId,alert:this.state.userAlert}),React.createElement(SidebarPage,null)),React.createElement(Col,{md:9,className:\"MasterCol2\"},React.createElement(Container,{className:\"containerCombinedDetail\"},React.createElement(Tabs,{defaultActiveKey:\"userDetail\",id:\"uncontrolled-tab-example\"},React.createElement(Tab,{eventKey:\"Edit\",title:\"Edit:\",disabled:true}),React.createElement(Tab,{eventKey:\"userDetail\",title:\"Details\"},this.state.selectedUser===null&&React.createElement(Button,{variant:\"outline-warning\",size:\"lg\"},\"Select a Staff member from the Master List below\"),this.state.isLoading===false&&this.state.selectedUser!==null&&React.createElement(UserDetail,{authUserId:this.context.userId,AuthContext:this.context,user:this.state.selectedUser,onEdit:this.startUpdateUserHandler,canDelete:this.state.canDelete,onDelete:this.modalDeleteHandler,attendanceDelete:this.deleteUserAttendanceItem,leaveDelete:this.deleteUserLeaveItem,attachmentDelete:this.deleteUserAttachmentItem})),this.context.user.role===\"admin\"&&React.createElement(Tab,{eventKey:\"userCreate\",title:\"New\"},React.createElement(Button,{variant:\"outline-primary\",onClick:this.startCreateUserHandler},\"Create\"),this.state.creating&&React.createElement(CreateUserForm,{authUserId:this.context.userId,canCancel:true,canConfirm:true,onCancel:this.modalCancelHandler,onConfirm:this.modalConfirmHandler,onSubmit:this.modalConfirmHandler,confirmText:\"Confirm\"})),React.createElement(Tab,{eventKey:\"userEditDemographics\",title:\"Demographics\"},this.state.selectedUser===null&&React.createElement(Button,{variant:\"outline-warning\",size:\"lg\"},\"Select a Staff member from the Master List below\"),this.state.selectedUser!==null&&this.context.user.role===\"admin\"&&React.createElement(Button,{variant:\"outline-primary\",onClick:this.startUpdateUserHandler},\"Edit Demographics as Admin\"),this.state.selectedUser!==null&&this.state.selectedUser._id===this.context.user._id&&React.createElement(Button,{variant:\"outline-primary\",onClick:this.startUpdateUserHandler},\"Edit Demographics (your profile)\"),this.state.selectedUser!==null&&this.state.selectedUser._id===this.context.user._id&&React.createElement(Button,{variant:\"outline-danger\",size:\"lg\"},\"Your Profile\"),this.state.selectedUser!==null&&this.state.selectedUser._id!==this.context.user._id&&React.createElement(Button,{variant:\"outline-danger\",size:\"lg\"},\"Not my profile\"),this.state.updating&&this.state.selectedUser!==null&&React.createElement(UpdateUserForm,{authUserId:this.context.userId,canCancel:true,canConfirm:true,onCancel:this.modalCancelHandler,onConfirm:this.modalConfirmUpdateHandler,confirmText:\"Confirm\",user:this.context.selectedUser})),React.createElement(Tab,{eventKey:\"userEditField\",title:\"Single Field\"},this.state.selectedUser===null&&React.createElement(Button,{variant:\"outline-warning\",size:\"lg\"},\"Select a Staff member from the Master List below\"),this.state.selectedUser!==null&&this.context.user.role===\"admin\"&&React.createElement(Button,{variant:\"outline-primary\",onClick:this.startUpdateUserHandler},\"Edit Field as Admin\"),this.state.selectedUser!==null&&this.state.selectedUser._id===this.context.user._id&&React.createElement(Button,{variant:\"outline-primary\",onClick:this.startUpdateUserHandler},\"Edit Field (your profile)\"),this.state.selectedUser!==null&&this.state.selectedUser._id===this.context.user._id&&React.createElement(Button,{variant:\"outline-danger\",size:\"lg\"},\"Your Profile\"),this.state.selectedUser!==null&&this.state.selectedUser._id!==this.context.user._id&&React.createElement(Button,{variant:\"outline-danger\",size:\"lg\"},\"Not my profile\"),this.state.updating&&this.state.selectedUser!==null&&React.createElement(UpdateUserFieldForm,{authUserId:this.context.userId,canCancel:true,canConfirm:true,onCancel:this.modalCancelHandler,onConfirm:this.modalConfirmUpdateFieldHandler,confirmText:\"Confirm\",user:this.state.selectedUser})),React.createElement(Tab,{eventKey:\"userEditAttendance\",title:\"Attendance\"},this.state.selectedUser===null&&React.createElement(Button,{variant:\"outline-warning\",size:\"lg\"},\"Select a Staff member from the Master List below\"),this.state.selectedUser!==null&&this.context.user.role===\"admin\"&&React.createElement(Button,{variant:\"outline-primary\",value:\"attendance\",onClick:this.updateUserSpecial.bind(this)},\"Add Attendance as Admin\"),this.state.selectedUser!==null&&this.state.selectedUser._id===this.context.user._id&&React.createElement(Button,{variant:\"outline-primary\",value:\"attendance\",onClick:this.updateUserSpecial.bind(this)},\"Add Attendance (your profile)\"),this.state.selectedUser!==null&&this.state.selectedUser._id===this.context.user._id&&React.createElement(Button,{variant:\"outline-danger\",size:\"lg\"},\"Your Profile\"),this.state.selectedUser!==null&&this.state.selectedUser._id!==this.context.user._id&&React.createElement(Button,{variant:\"outline-danger\",size:\"lg\"},\"Not my profile\"),this.state.userUpdateField==='attendance'&&this.state.selectedUser!==null&&React.createElement(UpdateUserAttendanceForm,{authUserId:this.context.userId,canCancel:true,canConfirm:true,onCancel:this.modalCancelHandler,onConfirm:this.updateUserAttendanceHandler,confirmText:\"Confirm\",user:this.state.selectedUser})),React.createElement(Tab,{eventKey:\"userEditLeave\",title:\"Leave\"},this.state.selectedUser===null&&React.createElement(Button,{variant:\"outline-warning\",size:\"lg\"},\"Select a Staff member from the Master List below\"),this.state.selectedUser!==null&&this.context.user.role===\"admin\"&&React.createElement(Button,{variant:\"outline-primary\",value:\"leave\",onClick:this.updateUserSpecial.bind(this)},\"Add Leave as Admin\"),this.state.selectedUser!==null&&this.state.selectedUser._id===this.context.user._id&&React.createElement(Button,{variant:\"outline-primary\",value:\"leave\",onClick:this.updateUserSpecial.bind(this)},\"Add Leave (your profile)\"),this.state.selectedUser!==null&&this.state.selectedUser._id===this.context.user._id&&React.createElement(Button,{variant:\"outline-danger\",size:\"lg\"},\"Your Profile\"),this.state.selectedUser!==null&&this.state.selectedUser._id!==this.context.user._id&&React.createElement(Button,{variant:\"outline-danger\",size:\"lg\"},\"Not my profile\"),this.state.userUpdateField==='leave'&&this.state.selectedUser!==null&&React.createElement(UpdateUserLeaveForm,{authUserId:this.context.userId,canCancel:true,canConfirm:true,onCancel:this.modalCancelHandler,onConfirm:this.updateUserLeaveHandler,confirmText:\"Confirm\",user:this.state.selectedUser})),React.createElement(Tab,{eventKey:\"userEditAttachment\",title:\"Attachment\"},this.state.selectedUser===null&&React.createElement(Button,{variant:\"outline-warning\",size:\"lg\"},\"Select a Staff member from the Master List below\"),this.state.selectedUser!==null&&this.context.user.role===\"admin\"&&React.createElement(Button,{variant:\"outline-primary\",value:\"attachments\",onClick:this.updateUserSpecial.bind(this)},\"Add Attachment as Admin\"),this.state.selectedUser!==null&&this.state.selectedUser._id===this.context.user._id&&React.createElement(Button,{variant:\"outline-primary\",value:\"attachments\",onClick:this.updateUserSpecial.bind(this)},\"Add Attachment (your profile)\"),this.state.selectedUser!==null&&this.state.selectedUser._id===this.context.user._id&&React.createElement(Button,{variant:\"outline-danger\",size:\"lg\"},\"Your Profile\"),this.state.selectedUser!==null&&this.state.selectedUser._id!==this.context.user._id&&React.createElement(Button,{variant:\"outline-danger\",size:\"lg\"},\"Not my profile\"),this.state.userUpdateField==='attachments'&&this.state.selectedUser!==null&&React.createElement(UpdateUserAttachmentForm,{authUserId:this.context.userId,canCancel:true,canConfirm:true,onCancel:this.modalCancelHandler,onConfirm:this.updateUserAttachmentHandler,confirmText:\"Confirm\",user:this.state.selectedUser})),React.createElement(Tab,{eventKey:\"MasterList\",title:\"Master List\"},React.createElement(Container,{className:\"containerUserMasterList\"},React.createElement(Row,{className:\"searchListRow\"},React.createElement(Button,{variant:\"primary\",size:\"sm\",onClick:this.fetchUsersAsc},\"Sort Asc\"),React.createElement(Button,{variant:\"info\",size:\"sm\",onClick:this.fetchUsersDesc},\"Sort Desc\"),this.state.isLoading?React.createElement(Spinner,null):React.createElement(UserList,{users:this.state.users,authUserId:this.context.userId,onViewDetail:this.showDetailHandler})))),React.createElement(Tab,{eventKey:\"SearchInput\",title:\"Search\"},React.createElement(Container,{className:\"containerSearchUserInput\"},React.createElement(Row,{className:\"searchUserRowAdd\"},React.createElement(Button,{variant:\"primary\",onClick:this.startSearchUserHandler},\"Search\")),React.createElement(Row,{className:\"searchUserRowForm\"},React.createElement(Col,{md:10,className:\"searchUserColForm\"},React.createElement(Tabs,{defaultActiveKey:\"Field\",id:\"uncontrolled-tab-example\"},React.createElement(Tab,{eventKey:\"Search\",title:\"Search:\",disabled:true}),React.createElement(Tab,{eventKey:\"Field\",title:\"Field:\"},this.state.searching===true&&React.createElement(SearchUserForm,{authUserId:this.context.userId,canCancel:true,canConfirm:true,onCancel:this.modalCancelHandler,onConfirm:this.modalConfirmSearchHandler,confirmText:\"Search\",user:this.context.selectedUser})),React.createElement(Tab,{eventKey:\"Id\",title:\"Id:\"},this.state.searching===true&&React.createElement(SearchUserIdForm,{authUserId:this.context.userId,canCancel:true,canConfirm:true,onCancel:this.modalCancelHandler,onConfirm:this.modalConfirmSearchIdHandler,confirmText:\"Search\",user:this.context.selectedUser})),React.createElement(Tab,{eventKey:\"Attendance\",title:\"Attendance:\"},this.state.searching===true&&React.createElement(SearchUserAttendanceDateForm,{authUserId:this.context.userId,canCancel:true,canConfirm:true,onCancel:this.modalCancelHandler,onConfirm:this.modalConfirmSearchAttendanceDateHandler,confirmText:\"Search\",user:this.context.selectedUser})),React.createElement(Tab,{eventKey:\"Leave\",title:\"Leave:\"},this.state.searching===true&&React.createElement(SearchUserLeaveDateRangeForm,{authUserId:this.context.userId,canCancel:true,canConfirm:true,onCancel:this.modalCancelHandler,onConfirm:this.modalConfirmSearchLeaveDateRangeHandler,confirmText:\"Search\",user:this.context.selectedUser})),React.createElement(Tab,{eventKey:\"Name\",title:\"Name:\"},this.state.searching===true&&React.createElement(SearchUserNameForm,{authUserId:this.context.userId,canCancel:true,canConfirm:true,onCancel:this.modalCancelHandler,onConfirm:this.modalConfirmSearchNameHandler,confirmText:\"Search\",user:this.context.selectedUser})))),React.createElement(Col,{md:10})))),React.createElement(Tab,{eventKey:\"SearchResult\",title:\"Search Results\"},React.createElement(Container,{className:\"containerSearchUserResults\"},React.createElement(Row,null,React.createElement(Card,{className:\"searchCard\"},React.createElement(Card.Body,{className:\"searchCardBody\"},React.createElement(Card.Title,null,\"Your Search\"),React.createElement(Card.Text,null,\"Field: \",this.state.userSearchField),React.createElement(Card.Text,null,\"Query: \",this.state.userSearchQuery)))),React.createElement(Row,{className:\"searchListRow\"},this.state.searchUsers!==[]&&React.createElement(SearchUserList,{searchUsers:this.state.searchUsers,authUserId:this.context.userId,onViewDetail:this.showDetailHandler}))))))))));}}]);return UsersPage;}(Component);UsersPage.contextType=AuthContext;export default UsersPage;","map":{"version":3,"sources":["/Users/pedrojacob/Downloads/AMR/websites/office_records/ENT_EMR/frontend/src/pages/Users.js"],"names":["React","Component","Container","Row","Col","Button","Accordion","Tabs","Tab","Card","UserList","SearchUserList","UserDetail","Spinner","AuthContext","SidebarPage","AlertBox","CreateUserForm","UpdateUserForm","UpdateUserFieldForm","UpdateUserAttendanceForm","UpdateUserAttachmentForm","UpdateUserLeaveForm","SearchUserForm","SearchUserIdForm","SearchUserNameForm","SearchUserAttendanceDateForm","SearchUserLeaveDateRangeForm","UsersPage","state","creating","updating","deleting","searching","users","searchUsers","isLoading","isSorting","selectedUser","userUpdateField","userSearchField","userSearchQuery","canDelete","userAlert","isActive","startCreateUserHandler","setState","console","log","startUpdateUserHandler","startSearchUserHandler","modalConfirmHandler","event","JSON","stringify","target","formGridEmail","value","email","password","formGridPassword","name","formGridName","role","formGridRole","dob","formGridDob","phone","formGridPhone","addressNumber","formGridAddressNumber","addressStreet","formGridAddressStreet","addressTown","formGridAddressTown","addressParish","formGridAddressParish","addressPostOffice","formGridAddressPostOffice","employmentDate","formGridEmploymentDate","terminationDate","formGridTerminationDate","trim","length","token","context","userId","user","requestBody","query","fetch","method","body","headers","Authorization","then","res","status","Error","json","resData","data","createUser","responseAlert","slice","prevState","updatedUsers","push","catch","err","modalConfirmUpdateHandler","selectedUserId","_id","address","number","street","town","parish","postOffice","updatedUser","updateUser","fetchUsers","modalConfirmUpdateFieldHandler","formGridField","formGridFieldSelect","field","formGridQuery","updateUserField","updatedUserId","find","e","updatedUserPos","indexOf","slicedArray","splice","updateUserAttendanceHandler","formGridAttendanceDate","attendanceDate","attendanceStatus","formGridAttendanceStatus","attendanceDescription","formGridAttendanceDescription","userAttendance","updateUserAttendance","updateUserAttachmentHandler","formGridAttachmentName","attachmentName","attachmentFormat","formGridAttachmentFormat","attachmentPath","formGridAttachmentPath","userAttachment","updateUserAttachment","updateUserLeaveHandler","formGridLeaveType","leaveType","leaveTitle","formGridLeaveTitle","leaveStartDate","formGridLeaveStartDate","leaveEndDate","formGridLeaveEndDate","userLeave","updateUserLeave","modalConfirmSearchHandler","formBasicField","formBasicQuery","formBasicFieldSelect","search","getUserField","modalConfirmSearchIdHandler","formBasicId","getUserId","modalConfirmSearchAttendanceDateHandler","formBasicDate","getUserAttendanceDate","modalConfirmSearchLeaveDateRangeHandler","startDate","formBasicStartDate","endDate","formBasicEndDate","getUserLeaveDateRange","modalConfirmSearchNameHandler","formBasicName","regex","RegExp","result","filter","match","modalCancelHandler","fetchUsersAsc","usersNameAsc","fetchUsersDesc","usersNameDesc","modalDeleteHandler","deletedUser","deleteUser","deletedUserId","deletedUserPos","deleteUserAttendanceItem","props","date","Date","substr","toISOString","deleteUserAttendance","deleteUserLeaveItem","title","deleteUserLeave","deleteUserAttachmentItem","deleteUserAttachment","showDetailHandler","updateUserSpecial","bind","contextType"],"mappings":"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","sourcesContent":["\n\nimport React, { Component } from 'react';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\n// import Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport Accordion from 'react-bootstrap/Accordion';\nimport Tabs from 'react-bootstrap/Tabs';\nimport Tab from 'react-bootstrap/Tab';\nimport Card from 'react-bootstrap/Card';\n\n// import Modal from '../components/Modal/Modal';\n// import Backdrop from '../components/Backdrop/Backdrop';\nimport UserList from '../components/Users/UserList/UserList';\nimport SearchUserList from '../components/Users/UserList/SearchUserList';\nimport UserDetail from '../components/Users/UserDetail';\nimport Spinner from '../components/Spinner/Spinner';\nimport AuthContext from '../context/auth-context';\n\nimport SidebarPage from './Sidebar';\nimport AlertBox from '../components/AlertBox';\n\nimport CreateUserForm from '../components/Forms/CreateUserForm';\nimport UpdateUserForm from '../components/Forms/UpdateUserForm';\nimport UpdateUserFieldForm from '../components/Forms/UpdateUserFieldForm';\nimport UpdateUserAttendanceForm from '../components/Forms/UpdateUserAttendanceForm';\nimport UpdateUserAttachmentForm from '../components/Forms/UpdateUserAttachmentForm';\nimport UpdateUserLeaveForm from '../components/Forms/UpdateUserLeaveForm';\nimport SearchUserForm from '../components/Forms/SearchUserForm';\nimport SearchUserIdForm from '../components/Forms/SearchUserIdForm';\nimport SearchUserNameForm from '../components/Forms/SearchUserNameForm';\nimport SearchUserAttendanceDateForm from '../components/Forms/SearchUserAttendanceDateForm';\nimport SearchUserLeaveDateRangeForm from '../components/Forms/SearchUserLeaveDateRangeForm';\nimport './Users.css';\n\nclass UsersPage extends Component {\n  state = {\n    creating: false,\n    updating: false,\n    deleting: false,\n    searching: false,\n    users: [],\n    searchUsers: [],\n    isLoading: false,\n    isSorting: false,\n    selectedUser: null,\n    userUpdateField: null,\n    userSearchField: null,\n    userSearchQuery: null,\n    canDelete: null,\n    userAlert: null,\n  };\n  isActive = true;\n\n  static contextType = AuthContext;\n\n  // constructor(props) {\n  //   super(props);\n  // }\n\n  componentDidMount() {\n    this.fetchUsers();\n    if (this.context.user.name === 'admin579'){\n      this.setState({canDelete: true})\n    }\n  }\n\n\n  startCreateUserHandler = () => {\n    this.setState({ creating: true });\n    console.log(\"CreateUserForm...\");\n  };\n  startUpdateUserHandler = () => {\n    this.setState({ updating: true });\n    console.log(\"UpdateUserForm...\");\n  };\n\n  startSearchUserHandler = () => {\n    this.setState({ searching: true });\n    console.log(\"SearchUserForm...\");\n  };\n\n  modalConfirmHandler = (event) => {\n    console.log(`\n      event: ${JSON.stringify(event)},\n      `);\n\n    console.log(\"CreateUserFormData:  \", event.target.formGridEmail.value);\n\n    this.setState({ creating: false });\n    const email = event.target.formGridEmail.value;\n    const password = event.target.formGridPassword.value;\n    const name = event.target.formGridName.value;\n    const role = event.target.formGridRole.value;\n    let dob = event.target.formGridDob.value;\n    let phone = event.target.formGridPhone.value;\n    let addressNumber = event.target.formGridAddressNumber.value;\n    let addressStreet = event.target.formGridAddressStreet.value;\n    let addressTown = event.target.formGridAddressTown.value;\n    let addressParish = event.target.formGridAddressParish.value;\n    let addressPostOffice = event.target.formGridAddressPostOffice.value;\n    let employmentDate = event.target.formGridEmploymentDate.value;\n    let terminationDate = event.target.formGridTerminationDate.value;\n\n    if (\n      email.trim().length === 0 ||\n      password.trim().length === 0 ||\n      name.trim().length === 0 ||\n      role.trim().length === 0 ||\n      dob.trim().length === 0 ||\n      phone.trim().length === 0 ||\n      addressNumber.trim().length === 0 ||\n      addressStreet.trim().length === 0 ||\n      addressTown.trim().length === 0 ||\n      addressParish.trim().length === 0 ||\n      addressPostOffice.trim().length === 0 ||\n      employmentDate.trim().length === 0 ||\n      terminationDate.trim().length === 0\n    ) {\n      console.log(\"blank fields detected!!!...Please try again...\");\n      this.setState({userAlert: \"blank fields detected!!!...Please try again...\"});\n      return;\n    }\n\n    const token = this.context.token;\n    const userId = this.context.userId;\n    const user = { email, password, name, role, dob, phone, addressNumber, addressStreet, addressTown, addressParish, addressPostOffice, employmentDate, terminationDate };\n\n    console.log(`\n      creating user...\n      userId: ${userId}\n      email: ${email},\n      password: ${password},\n      name: ${name},\n      role: ${role},\n      dob: ${dob},\n      phone: ${phone},\n      addressNumber: ${addressNumber},\n      addressStreet: ${addressStreet},\n      addressTown: ${addressTown},\n      addressParish: ${addressParish},\n      addressPostOffice: ${addressPostOffice},\n      employmentDate: ${employmentDate},\n      terminationDate: ${terminationDate},\n      `);\n\n    const requestBody = {\n      query: `\n          mutation {\n            createUser(userInput: {email:\"${email}\",password:\"${password}\",name:\"${name}\",role:\"${role}\",dob:\"${dob}\",addressNumber:${addressNumber},addressStreet:\"${addressStreet}\",addressTown:\"${addressTown}\",addressParish:\"${addressParish}\",addressPostOffice:\"${addressPostOffice}\",phone:\"${phone}\",employmentDate:\"${employmentDate}\",terminationDate:\"${terminationDate}\"})\n            {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}\n          }\n        `\n    };\n\n    fetch('http://localhost:10000/graphql', {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + token\n      }\n    })\n      .then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n        return res.json();\n      })\n      .then(resData => {\n        console.log(\"create user response data... \" + JSON.stringify(resData.data.createUser));\n        const responseAlert = JSON.stringify(resData.data).slice(0,8);\n        this.setState({userAlert: responseAlert});\n\n        this.setState(prevState => {\n          const updatedUsers = [...prevState.users];\n          updatedUsers.push(resData.data.createUser);\n\n          return { users: updatedUsers };\n        });\n        this.context.users = this.state.users;\n      })\n      .catch(err => {\n        console.log(err);\n        this.setState({userAlert: err});\n      });\n  };\n\n\n  modalConfirmUpdateHandler = (event) => {\n\n    const token = this.context.token;\n    const userId = this.context.userId;\n    let selectedUserId = this.context.selectedUser._id;\n    if(userId !== selectedUserId && this.context.user.role !== 'admin') {\n      console.log(\"Not the creator or Admin! No edit permission!!\");\n      this.setState({userAlert: \"Not the creator or Admin! No edit permission!!\"});\n      selectedUserId = null;\n    }\n\n    console.log(\"UpdateUserFormData:  \", event.target.formGridEmail.value);\n\n    this.setState({ updating: false });\n\n    let email = event.target.formGridEmail.value;\n    let password = event.target.formGridPassword.value;\n    let name = event.target.formGridName.value;\n    let role = this.context.selectedUser.role;\n    let dob = event.target.formGridDob.value;\n    let phone = event.target.formGridPhone.value;\n    let addressNumber = event.target.formGridAddressNumber.value;\n    let addressStreet = event.target.formGridAddressStreet.value;\n    let addressTown = event.target.formGridAddressTown.value;\n    let addressParish = event.target.formGridAddressParish.value;\n    let addressPostOffice = event.target.formGridAddressPostOffice.value;\n    let employmentDate = event.target.formGridEmploymentDate.value;\n    let terminationDate = event.target.formGridTerminationDate.value;\n\n    if (email.trim().length === 0 ) {\n      console.log(\"blank fields detected!!!...filling w/ previous data...\");\n      email = this.context.selectedUser.email;\n    }\n    if (password.trim().length === 0) {\n      console.log(\"blank fields detected!!!...filling w/ previous data...\");\n      password = this.context.selectedUser.password;\n    }\n    if (name.trim().length === 0) {\n      console.log(\"blank fields detected!!!...filling w/ previous data...\");\n      name = this.context.selectedUser.name;\n    }\n    // if (role.trim().length === 0) {\n    //   console.log(\"blank fields detected!!!...filling w/ previous data...\");\n    //   role = this.state.selectedUser.role;\n    // }\n    if (dob.trim().length === 0) {\n      console.log(\"blank fields detected!!!...filling w/ previous data...\");\n      dob = this.context.selectedUser.dob;\n    }\n    if (phone.trim().length === 0) {\n      console.log(\"blank fields detected!!!...filling w/ previous data...\");\n      phone = this.context.selectedUser.phone;\n    }\n    if (addressNumber.trim().length === 0) {\n      console.log(\"blank fields detected!!!...filling w/ previous data...\");\n      addressNumber = this.context.selectedUser.address.number;\n    }\n    if (addressStreet.trim().length === 0) {\n      console.log(\"blank fields detected!!!...filling w/ previous data...\");\n      addressStreet = this.context.selectedUser.address.street;\n    }\n    if (addressTown.trim().length === 0) {\n      console.log(\"blank fields detected!!!...filling w/ previous data...\");\n      addressTown = this.context.selectedUser.address.town;\n    }\n    if (addressParish.trim().length === 0) {\n      console.log(\"blank fields detected!!!...filling w/ previous data...\");\n      addressParish = this.context.selectedUser.address.parish;\n    }\n    if (addressPostOffice.trim().length === 0) {\n      console.log(\"blank fields detected!!!...filling w/ previous data...\");\n      addressPostOffice = this.context.selectedUser.address.postOffice;\n    }\n    if (employmentDate.trim().length === 0) {\n      console.log(\"blank fields detected!!!...filling w/ previous data...\");\n      employmentDate = this.context.selectedUser.employmentDate;\n    }\n    if (terminationDate.trim().length === 0) {\n      console.log(\"blank fields detected!!!...filling w/ previous data...\");\n      terminationDate = this.context.selectedUser.terminationDate;\n    }\n\n    const user = { email, password, name, role, dob, phone, addressNumber, addressStreet, addressTown, addressParish, addressPostOffice, employmentDate, terminationDate };\n    console.log(`\n      updating user profile...\n      userId: ${userId}\n      email: ${email},\n      password: ${password},\n      name: ${name},\n      role: ${role},\n      dob: ${dob},\n      phone: ${phone},\n      addressNumber: ${addressNumber},\n      addressStreet: ${addressStreet},\n      addressTown: ${addressTown},\n      addressParish: ${addressParish},\n      addressPostOffice: ${addressPostOffice},\n      employmentDate: ${employmentDate},\n      terminationDate: ${terminationDate},\n      `);\n      this.setState({userAlert: \"updating user profile...\"});\n\n    const requestBody = {\n      query: `\n      mutation {updateUser(userId:\\\"${userId}\\\",selectedUserId:\\\"${selectedUserId}\\\",userInput: {email:\\\"${email}\\\",password:\\\"${password}\\\",name:\\\"${name}\\\",dob:\\\"${dob}\\\",addressNumber:${addressNumber},addressStreet:\\\"${addressStreet}\\\",addressTown:\\\"${addressTown}\\\",addressParish:\\\"${addressParish}\\\", addressPostOffice:\\\"${addressPostOffice}\\\",phone:\\\"${phone}\\\",role:\\\"${role}\\\",employmentDate:\\\"${employmentDate}\\\",terminationDate:\\\"${terminationDate}\\\"})\n      {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\n        `};\n\n    fetch('http://localhost:10000/graphql', {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + token\n      }})\n      .then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n        return res.json();\n      })\n      .then(resData => {\n        console.log(\"response data... \" + JSON.stringify(resData));\n        const updatedUser = resData.data.updateUser;\n        console.log(\"updatedUser:  \", JSON.stringify(updatedUser));\n        this.setState({user: updatedUser})\n        this.state.users.push(resData.data.updateUser);\n        this.context.users = this.state.users;\n\n        const responseAlert = JSON.stringify(resData.data).slice(2,25);\n        this.setState({ userAlert: responseAlert, selectedUser: resData.data.updateUser})\n        this.fetchUsers();\n      })\n      .catch(err => {\n        console.log(err);\n        this.setState({userAlert: err});\n      });\n  };\n\n\n  modalConfirmUpdateFieldHandler = (event) => {\n\n    const token = this.context.token;\n    const userId = this.context.userId;\n    let selectedUserId = this.context.selectedUser._id;\n    // if(userId !== selectedUserId && this.context.user.role !== 'admin') {\n    //   console.log(\"Not the creator or Admin! No edit permission!!\");\n    //   selectedUserId = null;\n    // }\n\n\n      console.log(\"UpdateUserFieldFormData:  \", event.target.formGridField.value, event.target.formGridFieldSelect.value);\n      this.setState({ updating: false });\n\n      let field = null;\n      let query = event.target.formGridQuery.value;\n      if (event.target.formGridFieldSelect.value === \"select\") {\n        field = event.target.formGridField.value;\n      } else {\n        field = event.target.formGridFieldSelect.value;\n      }\n      console.log(`\n          field: ${field},\n          query: ${query},\n        `);\n\n        this.setState({ userAlert: \"updating user field...\"})\n\n      const requestBody = {\n        query:`\n          mutation{updateUserField(userId:\"${userId}\",selectedUserId:\"${selectedUserId}\",field:\"${field}\",query:\"${query}\")\n          {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}\n        }\n        `};\n\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      })\n        .then(res => {\n          if (res.status !== 200 && res.status !== 201) {\n            throw new Error('Failed!');\n          }\n          return res.json();\n        })\n        .then(resData => {\n          console.log(\"response data... \" + JSON.stringify(resData.data.updateUserField));\n\n          const updatedUserId = resData.data.updateUserField._id;\n          const updatedUser = this.state.users.find(e => e._id === updatedUserId);\n          const updatedUserPos = this.state.users.indexOf(updatedUser);\n          const slicedArray = this.state.users.splice(updatedUserPos, 1);\n          console.log(\"updatedUser:  \", JSON.stringify(updatedUser),\"  updatedUserPos:  \", updatedUserPos, \"  slicedArray:  \", slicedArray);\n\n          this.state.users.push(resData.data.updateUserField);\n          this.context.users = this.state.users;\n          const responseAlert = JSON.stringify(resData.data).slice(2,25);\n          this.setState({ userAlert: responseAlert, selectedUser: resData.data.updateUserField})\n          this.fetchUsers();\n        })\n        .catch(err => {\n          console.log(err);\n          this.setState({userAlert: err});\n        });\n\n  }\n\n  updateUserAttendanceHandler = (event) => {\n    const token = this.context.token;\n    const userId = this.context.userId;\n    let selectedUserId = this.context.selectedUser._id;\n    // if(userId !== selectedUserId && this.context.user.role !== 'admin') {\n    //   console.log(\"Not the creator or Admin! No edit permission!!\");\n    //   selectedUserId = null;\n    // }\n    if (userId !== selectedUserId && this.context.user.role !== \"admin\" ) {\n      console.log(\"Not the creator or Admin! No edit permission!!\");\n      this.setState({ userAlert: \"Not the creator or Admin! No edit permission!!\"});\n        selectedUserId = null;\n    }\n\n    console.log(\"UpdateUserAttendanceFormData:  \", event.target.formGridAttendanceDate.value);\n\n    this.setState({ updating: false , userUpdateField: null });\n\n    let attendanceDate = event.target.formGridAttendanceDate.value;\n    let attendanceStatus = event.target.formGridAttendanceStatus.value;\n    let attendanceDescription = event.target.formGridAttendanceDescription.value;\n\n    if (attendanceDate.trim().length === 0) {\n      console.log(\"blank fields detected!!!...filling w/ previous data...\");\n      attendanceDate = this.context.selectedUser.attendanceDate;\n    }\n    if (attendanceStatus.trim().length === 0) {\n      console.log(\"blank fields detected!!!...filling w/ previous data...\");\n      attendanceStatus = this.context.selectedUser.attendanceStatus;\n    }\n    if (attendanceDescription.trim().length === 0) {\n      console.log(\"blank fields detected!!!...filling w/ previous data...\");\n      attendanceDescription = this.context.selectedUser.attendanceDescription;\n    }\n\n    const userAttendance = { attendanceDate, attendanceStatus, attendanceDescription }\n    console.log(`\n      adding user attendance item...\n      userId: ${userId},\n      selectedUserId: ${selectedUserId}\n      attendanceDate: ${attendanceDate},\n      attendanceStatus: ${attendanceStatus},\n      attendanceDescription: ${attendanceDescription}\n      `);\n\n      this.setState({ userAlert: \"adding user attendance item...\"});\n\n      const requestBody = {\n        query:`\n          mutation {updateUserAttendance(userId:\"${userId}\", selectedUserId:\"${selectedUserId}\",userInput:{attendanceDate:\"${attendanceDate}\",attendanceStatus:\"${attendanceStatus}\",attendanceDescription:\"${attendanceDescription}\"})\n          {_id,name,email,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description}}}\n        `};\n\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      })\n        .then(res => {\n          if (res.status !== 200 && res.status !== 201) {\n            throw new Error('Failed!');\n          }\n          return res.json();\n        })\n        .then(resData => {\n          console.log(\"response data... \" + JSON.stringify(resData.data.updateUserAttendance));\n\n          const updatedUserId = resData.data.updateUserAttendance._id;\n          const updatedUser = this.state.users.find(e => e._id === updatedUserId);\n          const updatedUserPos = this.state.users.indexOf(updatedUser);\n          const slicedArray = this.state.users.splice(updatedUserPos, 1);\n          console.log(\"updatedUser:  \", JSON.stringify(updatedUser),\"  updatedUserPos:  \", updatedUserPos, \"  slicedArray:  \", slicedArray);\n\n          this.state.users.push(resData.data.updateUserAttendance);\n          this.context.users = this.state.users;\n          const responseAlert = JSON.stringify(resData.data).slice(2,25);\n          this.setState({ userAlert: responseAlert, selectedUser: resData.data.updateUserAttendance})\n          this.fetchUsers();\n        })\n        .catch(err => {\n          console.log(err);\n          this.setState({userAlert: err});\n        });\n\n\n  }\n\n    updateUserAttachmentHandler = (event) => {\n\n    const token = this.context.token;\n    const userId = this.context.userId;\n    let selectedUserId = this.context.selectedUser._id;\n    // if(userId !== selectedUserId && this.context.user.role !== 'admin') {\n    //   console.log(\"Not the creator or Admin! No edit permission!!\");\n    //   selectedUserId = null;\n    // }\n    if (userId !== selectedUserId && this.context.user.role !== \"admin\" ) {\n      console.log(\"Not the creator or Admin! No edit permission!!\");\n      this.setState({userAlert: \"Not the creator or Admin! No edit permission!!\"})\n        selectedUserId = null;\n    }\n\n    console.log(\"UpdateUserAttachmentFormData:  \", event.target.formGridAttachmentName.value);\n\n    this.setState({ updating: false , userUpdateField: null });\n\n    let attachmentName = event.target.formGridAttachmentName.value;\n    let attachmentFormat = event.target.formGridAttachmentFormat.value;\n    let attachmentPath = event.target.formGridAttachmentPath.value;\n\n\n    if (\n      attachmentName.trim().length === 0 ||\n      attachmentFormat.trim().length === 0 ||\n      attachmentPath.trim().length === 0\n  ) {\n      console.log(\"blank fields detected!!! try again\");\n      return\n    }\n\n    const userAttachment = { attachmentName, attachmentFormat, attachmentPath }\n    console.log(`\n      adding user attendance item...\n      userId: ${userId},\n      selectedUserId: ${selectedUserId}\n      attachmentName: ${attachmentName},\n      attachmentFormat: ${attachmentFormat},\n      attachmentPath: ${attachmentPath}\n      `);\n      this.setState({userAlert: \"adding user attendance item...\"})\n\n      const requestBody = {\n        query:`\n          mutation{updateUserAttachment(userId:\\\"${userId}\\\",selectedUserId:\\\"${selectedUserId}\\\",userInput:{attachmentName:\\\"${attachmentName}\\\",attachmentFormat:\\\"${attachmentFormat}\\\",attachmentPath:\\\"${attachmentPath}\\\"})\n          {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\n        `};\n\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      })\n        .then(res => {\n          if (res.status !== 200 && res.status !== 201) {\n            throw new Error('Failed!');\n          }\n          return res.json();\n        })\n        .then(resData => {\n          console.log(\"response data... \" + JSON.stringify(resData.data.updateUserAttachment));\n\n          const updatedUserId = resData.data.updateUserAttachment._id;\n          const updatedUser = this.state.users.find(e => e._id === updatedUserId);\n          const updatedUserPos = this.state.users.indexOf(updatedUser);\n          const slicedArray = this.state.users.splice(updatedUserPos, 1);\n          console.log(\"updatedUser:  \", JSON.stringify(updatedUser),\"  updatedUserPos:  \", updatedUserPos, \"  slicedArray:  \", slicedArray);\n\n          this.state.users.push(resData.data.updateUserAttachment);\n          this.context.users = this.state.users;\n          const responseAlert = JSON.stringify(resData.data).slice(2,25);\n          this.setState({ userAlert: responseAlert, selectedUser: resData.data.updateUserAttachment})\n          this.fetchUsers();\n        })\n        .catch(err => {\n          console.log(err);\n          this.setState({userAlert: err});\n        });\n\n\n  }\n\n\n  updateUserLeaveHandler = (event) => {\n\n    const token = this.context.token;\n    const userId = this.context.userId;\n    let selectedUserId = this.context.selectedUser._id;\n    // if(userId !== selectedUserId && this.context.user.role !== 'admin') {\n    //   console.log(\"Not the creator or Admin! No edit permission!!\");\n    //   selectedUserId = null;\n    // }\n    if (userId !== selectedUserId && this.context.user.role !== \"admin\" ) {\n      console.log(\"Not the creator or Admin! No edit permission!!\");\n      this.setState({userAlert: \"Not the creator or Admin! No edit permission!!\"})\n        selectedUserId = null;\n    }\n\n    console.log(\"UpdateUserLeaveFormData:  \", event.target.formGridLeaveType.value);\n\n    this.setState({ updating: false , userUpdateField: null });\n\n    let leaveType = event.target.formGridLeaveType.value;\n    let leaveTitle = event.target.formGridLeaveTitle.value;\n    let leaveStartDate = event.target.formGridLeaveStartDate.value;\n    let leaveEndDate = event.target.formGridLeaveEndDate.value;\n\n    if (\n      leaveType.trim().length === 0 ||\n      leaveTitle.trim().length === 0 ||\n      leaveStartDate.trim().length === 0 ||\n      leaveEndDate.trim().length === 0\n    ) {\n      console.log(\"blank fields detected!!!...try again\");\n      this.setState({userAlert: \"blank fields detected!!!...try again\"});\n      return\n    }\n\n    const userLeave = { leaveType, leaveTitle, leaveStartDate, leaveEndDate }\n    console.log(`\n      adding user leave item...\n      userId: ${userId},\n      selectedUserId: ${selectedUserId}\n      leave: {\n        type: ${leaveType},\n        title: ${leaveTitle},\n        startDate: ${leaveStartDate},\n        endDate: ${leaveEndDate}\n      }\n      `);\n      this.setState({userAlert: \"adding user leave item...\"})\n\n      const requestBody = {\n        query:`\n          mutation{updateUserLeave(userId:\\\"${userId}\\\",selectedUserId:\\\"${selectedUserId}\\\",userInput:{leaveType:\\\"${leaveType}\\\",leaveTitle:\\\"${leaveTitle}\\\",leaveStartDate:\\\"${leaveStartDate}\\\",leaveEndDate:\\\"${leaveEndDate}\\\"})\n          {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\n        `};\n\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      })\n        .then(res => {\n          if (res.status !== 200 && res.status !== 201) {\n            throw new Error('Failed!');\n          }\n          return res.json();\n        })\n        .then(resData => {\n          console.log(\"response data... \" + JSON.stringify(resData.data));\n\n          const updatedUserId = resData.data.updateUserLeave._id;\n          const updatedUser = this.state.users.find(e => e._id === updatedUserId);\n          const updatedUserPos = this.state.users.indexOf(updatedUser);\n          const slicedArray = this.state.users.splice(updatedUserPos, 1);\n          console.log(\"updatedUser:  \", JSON.stringify(updatedUser),\"  updatedUserPos:  \", updatedUserPos, \"  slicedArray:  \", slicedArray);\n\n          this.state.users.push(resData.data.updateUserLeave);\n          this.context.users = this.state.users;\n          const responseAlert = JSON.stringify(resData.data).slice(2,25);\n          this.setState({ userAlert: responseAlert, selectedUser: resData.data.updateUserLeave})\n          this.fetchUsers();\n        })\n        .catch(err => {\n          console.log(err);\n          this.setState({userAlert: err});\n        });\n\n  }\n\n\n  modalConfirmSearchHandler = (event) => {\n    console.log(\"SearchUserForm:  \");\n\n\n    let userId = this.context.userId;\n\n      console.log(\"SearchUserFormData:  \", event.target.formBasicField.value);\n      this.setState({ searching: false });\n\n      let field = null;\n      let query = event.target.formBasicQuery.value;\n      if (event.target.formBasicFieldSelect.value === \"select\") {\n        field = event.target.formBasicField.value;\n      } else {\n        field = event.target.formBasicFieldSelect.value;\n      }\n\n      this.setState({\n        userSearchField: field,\n        userSearchQuery: query,\n      })\n\n      if (\n        field.trim().length === 0 ||\n        query.trim().length === 0\n      ) {\n        console.log(\"blank fields detected!!!...Please try again...\");\n        this.setState({userAlert: \"blank fields detected!!!...Please try again...\"})\n        return;\n      }\n\n      const search = { field, query }\n      console.log(\"Searching for User:  \", JSON.stringify(search));\n      this.setState({userAlert: \"Searching for User...\"})\n\n      const requestBody = {\n        query: `\n          query {getUserField(userId:\"${userId}\",field:\"${field}\",query:\"${query}\")\n          {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\n        `}\n\n      const token = this.context.token;\n\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      })\n        .then(res => {\n          if (res.status !== 200 && res.status !== 201) {\n            throw new Error('Failed!');\n          }\n          return res.json();\n        })\n        .then(resData => {\n          console.log(\"response data... \" + JSON.stringify(resData));\n\n          const responseAlert = JSON.stringify(resData.data).slice(0,8);\n          this.setState({userAlert: responseAlert});\n\n          const searchUsers = resData.data.getUserField;\n\n          this.setState({ searchUsers: searchUsers})\n          console.log(\"state.searchUsers:  \", this.state.searchUsers);\n          // this.fetchUsers();\n        })\n        .catch(err => {\n          console.log(err);\n          this.setState({userAlert: err});\n        });\n  }\n\n  modalConfirmSearchIdHandler = (event) => {\n\n    let userId = this.context.userId;\n    this.setState({ searching: false });\n\n    console.log(\"SearchUserIdFormData:\", event.target.formBasicId.value);\n    let selectedUserId = event.target.formBasicId.value;\n\n    const requestBody = {\n      query: `\n        query {getUserId(userId:\"${userId}\",selectedUserId:\"${selectedUserId}\")\n        {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\n      `}\n\n    const token = this.context.token;\n\n    fetch('http://localhost:10000/graphql', {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + token\n      }\n    })\n      .then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n        return res.json();\n      })\n      .then(resData => {\n        console.log(\"response data... \" + JSON.stringify(resData));\n\n        const responseAlert = JSON.stringify(resData.data).slice(2,25);\n        this.setState({userAlert: responseAlert});\n\n        const searchUsers = resData.data.getUserId;\n\n        this.setState({ searchUsers: [searchUsers] });\n        console.log(\"state.searchUsers:  \", this.state.searchUsers);\n        // this.fetchUsers();\n      })\n      .catch(err => {\n        console.log(err);\n        this.setState({userAlert: err});\n      });\n\n  }\n  modalConfirmSearchAttendanceDateHandler = (event) => {\n\n    let userId = this.context.userId;\n    this.setState({ searching: false });\n\n    console.log(\"SearchUserAttendanceDateFormData:\");\n\n    const attendanceDate = event.target.formBasicDate.value;\n\n    const requestBody = {\n      query: `\n        query {getUserAttendanceDate(userId:\"${userId}\",attendanceDate:\"${attendanceDate}\")\n        {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\n      `}\n\n    const token = this.context.token;\n\n    fetch('http://localhost:10000/graphql', {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + token\n      }\n    })\n      .then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n        return res.json();\n      })\n      .then(resData => {\n        console.log(\"response data... \" + JSON.stringify(resData));\n\n        const responseAlert = JSON.stringify(resData.data).slice(0,8);\n        this.setState({userAlert: responseAlert});\n\n        const searchUsers = resData.data.getUserAttendanceDate;\n\n        this.setState({ searchUsers: searchUsers})\n        console.log(\"state.searchUsers:  \", this.state.searchUsers);\n        // this.fetchUsers();\n      })\n      .catch(err => {\n        console.log(err);\n        this.setState({userAlert: err});\n      });\n\n  }\n  modalConfirmSearchLeaveDateRangeHandler = (event) => {\n\n    let userId = this.context.userId;\n    this.setState({ searching: false });\n\n    console.log(\"SearchUserLeaveDateRangeFormData:\");\n\n    const startDate = event.target.formBasicStartDate.value;\n    const endDate = event.target.formBasicEndDate.value;\n\n    const requestBody = {\n      query: `\n        query{getUserLeaveDateRange(userId:\"${userId}\",startDate:\"${startDate}\",endDate:\"${endDate}\")\n        {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\n      `}\n\n    const token = this.context.token;\n\n    fetch('http://localhost:10000/graphql', {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + token\n      }\n    })\n      .then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n        return res.json();\n      })\n      .then(resData => {\n        console.log(\"response data... \" + JSON.stringify(resData));\n\n        const responseAlert = JSON.stringify(resData.data).slice(0,8);\n        this.setState({userAlert: responseAlert});\n\n        const searchUsers = resData.data.getUserLeaveDateRange;\n\n        this.setState({ searchUsers: searchUsers})\n        console.log(\"state.searchUsers:  \", this.state.searchUsers);\n        // this.fetchUsers();\n      })\n      .catch(err => {\n        console.log(err);\n        this.setState({userAlert: err});\n      });\n\n  }\n\n  modalConfirmSearchNameHandler = (event) => {\n    console.log(\"SearchUserNameFormData:\", event.target.formBasicName.value);\n\n    let userId = this.context.userId;\n    this.setState({ searching: false });\n\n    let users = this.state.users;\n    const regex = new RegExp(event.target.formBasicName.value,\"i\");\n    console.log(`\n      regex: ${regex},\n      `);\n      let result = users.filter(user => user.name.match(regex))\n      console.log(`\n        result: ${JSON.stringify(result)}\n        `);\n\n        this.setState({ searchUsers: result})\n\n  }\n\n\n  modalCancelHandler = () => {\n    this.setState({ creating: false, updating: false, deleting: false, searching: false});\n  };\n\n  fetchUsers() {\n    console.log(\"fetch users:\");\n    // console.log(\"'fetch users function' context object... \" + JSON.stringify(this.context));\n    const userId = this.context.userId;\n\n    this.setState({ isLoading: true });\n    const requestBody = {\n      query: `\n          query {users (userId:\"${userId}\")\n          {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\n        `};\n\n    fetch('http://localhost:10000/graphql', {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + this.context.token\n      }\n    })\n      .then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          this.context.userAlert = 'Failed!';\n          throw new Error('Failed!');\n        }\n        return res.json();\n      })\n      .then(resData => {\n\n        const responseAlert = JSON.stringify(resData.data).slice(0,8);\n        this.setState({userAlert: responseAlert});\n\n        const users = resData.data.users;\n        console.log(\"resData:  \", resData);\n        console.log(users);\n\n        if (this.isActive) {\n          this.setState({ users: users, isLoading: false });\n        }\n        this.context.users = this.state.users;\n      })\n      .catch(err => {\n        console.log(err);\n        this.setState({userAlert: err});\n        if (this.isActive) {\n          this.setState({ isLoading: false });\n        }\n      });\n  }\n\n  fetchUsersAsc = () => {\n    console.log(\"'fetch usersAsc function' context object... \" + JSON.stringify(this.context));\n    const userId = this.context.userId;\n\n    // this.setState({ isSorting: true });\n    const requestBody = {\n      query: `\n          query {usersNameAsc (userId:\"${userId}\")\n          {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\n        `};\n\n    fetch('http://localhost:10000/graphql', {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + this.context.token\n      }\n    })\n      .then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          this.context.userAlert = 'Failed!';\n          throw new Error('Failed!');\n        }\n        return res.json();\n      })\n      .then(resData => {\n        const users = resData.data.usersNameAsc;\n        console.log(\"resData:  \", resData);\n        console.log(users);\n\n        const responseAlert = JSON.stringify(resData.data).slice(0,8);\n        this.setState({userAlert: responseAlert});\n\n        this.setState({users: users});\n        // if (this.isActive) {\n        //   this.setState({ users: users, isLoading: false });\n        // }\n        this.context.users = this.state.users;\n      })\n      .catch(err => {\n        console.log(err);\n        this.setState({userAlert: err});\n        // if (this.isActive) {\n        //   this.setState({ isLoading: false });\n        // }\n      });\n  }\n  fetchUsersDesc = () => {\n    console.log(\"'fetch usersDesc function' context object... \" + JSON.stringify(this.context));\n    const userId = this.context.userId;\n\n    // this.setState({ isLoading: true });\n    const requestBody = {\n      query: `\n          query {usersNameDesc (userId:\"${userId}\")\n          {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\n        `};\n\n    fetch('http://localhost:10000/graphql', {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + this.context.token\n      }\n    })\n      .then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          this.context.userAlert = 'Failed!';\n          throw new Error('Failed!');\n        }\n        return res.json();\n      })\n      .then(resData => {\n        const users = resData.data.usersNameDesc;\n        console.log(\"resData:  \", resData);\n        console.log(users);\n\n        const responseAlert = JSON.stringify(resData.data).slice(0,8);\n        this.setState({userAlert: responseAlert});\n\n        // if (this.isActive) {\n        //   this.setState({ users: users, isLoading: false });\n        // }\n        this.setState({users: users});\n        this.context.users = this.state.users;\n      })\n      .catch(err => {\n        console.log(err);\n        this.setState({userAlert: err});\n        // if (this.isActive) {\n        //   this.setState({ isLoading: false });\n        // }\n      });\n  }\n\nmodalDeleteHandler = () => {\n  console.log(\"deleting user...selectedUser:  \", this.context.selectedUser);\n\n  const userId = this.context.userId;\n  const selectedUserId = this.context.selectedUser._id;\n\n  if(this.context.user.role !== 'admin') {\n    console.log(\"Not the Admin! No edit permission!!\");\n    this.setState({userAlert: \"Not the Admin! No edit permission!!\"})\n  }\n\n  this.setState({deleting: true, userAlert: \"deleting user..\"});\n\n  const requestBody = {\n    query: `\n        mutation {\n          deleteUser(userId: ${userId}, selectedUserId: ${selectedUserId})\n          {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}\n        }\n      `};\n\n  fetch('http://localhost:10000/graphql', {\n    method: 'POST',\n    body: JSON.stringify(requestBody),\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: 'Bearer ' + this.context.token\n    }\n  })\n    .then(res => {\n      if (res.status !== 200 && res.status !== 201) {\n        throw new Error('Failed!');\n      }\n      return res.json();\n    })\n    .then(resData => {\n\n      const responseAlert = JSON.stringify(resData.data).slice(0,8);\n      this.setState({userAlert: responseAlert});\n\n      let deletedUser = resData.data.deleteUser;\n      console.log(deletedUser);\n\n      let deletedUserId = deletedUser._id;\n      deletedUser = this.state.users.find(e => e._id === deletedUserId);\n      const deletedUserPos = this.state.users.indexOf(deletedUser);\n      const slicedArray = this.state.users.splice(deletedUserPos, 1);\n      console.log(\"deletedUser:  \", JSON.stringify(deletedUser),\"  deletedUserPos:  \", deletedUserPos, \"  slicedArray:  \", slicedArray);\n\n      this.setState({ deleting: false, selectedUser: null });\n      this.context.selectedUser = null;\n\n      this.fetchUsers();\n\n    })\n    .catch(err => {\n      console.log(err);\n      this.setState({userAlert: err});\n      if (this.isActive) {\n        this.setState({ deleting: false });\n      }\n    });\n\n}\n\ndeleteUserAttendanceItem = (props) => {\n\n  let token = this.context.token;\n  let userId = this.context.userId;\n  let selectedUserId = this.state.selectedUser._id;\n  let date = new Date(props.date.substr(0,10)*1000).toISOString().slice(0,10);\n\n  console.log(`\n    delete user Attendance item:\n    props: ${JSON.stringify(props)},\n    token: ${token},\n    userId: ${userId},\n    selectedUserId: ${selectedUserId},\n    attandance date: ${date},\n    `);\n\n    const requestBody = {\n      query: `\n       mutation{deleteUserAttendance(userId:\\\"${userId}\\\",selectedUserId:\\\"${selectedUserId}\\\",attendanceDate:\\\"${date}\\\")\n       {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\n    `};\n\n        fetch('http://localhost:10000/graphql', {\n          method: 'POST',\n          body: JSON.stringify(requestBody),\n          headers: {\n            'Content-Type': 'application/json',\n            Authorization: 'Bearer ' + token\n          }\n        })\n          .then(res => {\n            if (res.status !== 200 && res.status !== 201) {\n              throw new Error('Failed!');\n            }\n            return res.json();\n          })\n          .then(resData => {\n            let deletedUser = resData.data.deleteUserAttendance;\n            console.log(\"resData.data:  \",resData.data.deleteUserAttendance);\n\n            const updatedUserId = resData.data.deleteUserAttendance._id;\n            const updatedUser = this.state.users.find(e => e._id === updatedUserId);\n            const updatedUserPos = this.state.users.indexOf(updatedUser);\n            const slicedArray = this.state.users.splice(updatedUserPos, 1);\n            console.log(\"updatedUser:  \", JSON.stringify(updatedUser),\"  updatedUserPos:  \", updatedUserPos, \"  slicedArray:  \", slicedArray);\n\n            this.state.users.push(resData.data.deleteUserAttendance);\n            this.context.users = this.state.users;\n            const responseAlert = JSON.stringify(resData.data).slice(2,25);\n            this.setState({ userAlert: responseAlert})\n            // this.setState({ userAlert: responseAlert, selectedUser: resData.data.deleteUserAttendance})\n            this.fetchUsers();\n\n          })\n          .catch(err => {\n            console.log(err);\n          });\n}\n\ndeleteUserLeaveItem = (props) => {\n\n  let token = this.context.token;\n  let userId = this.context.userId;\n  let selectedUserId = this.state.selectedUser._id;\n\n  console.log(`\n    delete user Leave item:\n    props: ${JSON.stringify(props)},\n    token: ${token},\n    userId: ${userId},\n    selectedUserId: ${selectedUserId},\n    `);\n\n    const requestBody = {\n      query: `\n       mutation{deleteUserLeave(userId:\\\"${userId}\\\",selectedUserId:\\\"${selectedUserId}\\\",leaveTitle:\\\"${props.title}\\\")\n       {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\n    `};\n\n        fetch('http://localhost:10000/graphql', {\n          method: 'POST',\n          body: JSON.stringify(requestBody),\n          headers: {\n            'Content-Type': 'application/json',\n            Authorization: 'Bearer ' + token\n          }\n        })\n          .then(res => {\n            if (res.status !== 200 && res.status !== 201) {\n              throw new Error('Failed!');\n            }\n            return res.json();\n          })\n          .then(resData => {\n            let deletedUser = resData.data.deleteUserLeave;\n            console.log(deletedUser);\n\n            const updatedUserId = resData.data.deleteUserLeave._id;\n            const updatedUser = this.state.users.find(e => e._id === updatedUserId);\n            const updatedUserPos = this.state.users.indexOf(updatedUser);\n            const slicedArray = this.state.users.splice(updatedUserPos, 1);\n            console.log(\"updatedUser:  \", JSON.stringify(updatedUser),\"  updatedUserPos:  \", updatedUserPos, \"  slicedArray:  \", slicedArray);\n\n            this.state.users.push(resData.data.deleteUserLeave);\n            this.context.users = this.state.users;\n            const responseAlert = JSON.stringify(resData.data).slice(2,25);\n            this.setState({ userAlert: responseAlert})\n            // this.setState({ userAlert: responseAlert, selectedUser: resData.data.deleteUserLeave})\n            this.fetchUsers();\n\n          })\n          .catch(err => {\n            console.log(err);\n          });\n}\n\ndeleteUserAttachmentItem = (props) => {\n\n  let token = this.context.token;\n  let userId = this.context.userId;\n  let selectedUserId = this.state.selectedUser._id;\n\n  console.log(`\n    delete user Attachment item:\n    props: ${JSON.stringify(props)},\n    token: ${token},\n    userId: ${userId},\n    selectedUserId: ${selectedUserId},\n    `);\n\n    const requestBody = {\n      query: `\n       mutation{deleteUserAttachment(userId:\\\"${userId}\\\",selectedUserId:\\\"${selectedUserId}\\\",attachmentName:\\\"${props.name}\\\")\n       {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\n    `};\n\n        fetch('http://localhost:10000/graphql', {\n          method: 'POST',\n          body: JSON.stringify(requestBody),\n          headers: {\n            'Content-Type': 'application/json',\n            Authorization: 'Bearer ' + token\n          }\n        })\n          .then(res => {\n            if (res.status !== 200 && res.status !== 201) {\n              throw new Error('Failed!');\n            }\n            return res.json();\n          })\n          .then(resData => {\n            let deletedUser = resData.data.deleteUserAttachment;\n            console.log(deletedUser);\n\n            const updatedUserId = resData.data.deleteUserAttachment._id;\n            const updatedUser = this.state.users.find(e => e._id === updatedUserId);\n            const updatedUserPos = this.state.users.indexOf(updatedUser);\n            const slicedArray = this.state.users.splice(updatedUserPos, 1);\n            console.log(\"updatedUser:  \", JSON.stringify(updatedUser),\"  updatedUserPos:  \", updatedUserPos, \"  slicedArray:  \", slicedArray);\n\n            this.state.users.push(resData.data.deleteUserAttachment);\n            this.context.users = this.state.users;\n            const responseAlert = JSON.stringify(resData.data).slice(2,25);\n            this.setState({ userAlert: responseAlert})\n            // this.setState({ userAlert: responseAlert, selectedUser: resData.data.deleteUserAttachment})\n            this.fetchUsers();\n\n          })\n          .catch(err => {\n            console.log(err);\n          });\n}\n\n\n\nupdateUserSpecial (event) {\n\n  console.log(\"special field to update:  \", event.target.value);\n  const field = event.target.value;\n  this.setState({ userUpdateField: field});\n\n}\n\n  showDetailHandler = userId => {\n\n    this.setState(prevState => {\n      const selectedUser = prevState.users.find(e => e._id === userId);\n      this.context.selectedUser = selectedUser;\n      this.setState({selectedUser: selectedUser});\n      console.log(\"User selected  :  \", selectedUser);\n      return { selectedUser: selectedUser };\n    });\n  };\n\n\n  userSearchClearlHandler () {\n    console.log(\"clearing user search results\");\n    this.setState({searchUsers: [], userAlert: \"clearing user search results\"});\n  }\n\n\n  componentWillUnmount() {\n    this.isActive = false;\n  }\n\n  render() {\n    return (\n\n    <React.Fragment>\n\n\n\n    <Accordion>\n\n    <Row>\n\n    <Col md={3} className=\"MasterCol1\">\n    <AlertBox\n      authUserId={this.context.userId}\n      alert={this.state.userAlert}\n    />\n    <SidebarPage/>\n\n    </Col>\n\n    <Col md={9} className=\"MasterCol2\">\n\n        <Container className=\"containerCombinedDetail\">\n          <Tabs defaultActiveKey=\"userDetail\" id=\"uncontrolled-tab-example\">\n          <Tab eventKey=\"Edit\" title=\"Edit:\" disabled>\n          </Tab>\n            <Tab eventKey=\"userDetail\" title=\"Details\">\n                  {this.state.selectedUser === null && (\n                    <Button variant=\"outline-warning\" size=\"lg\">\n                      Select a Staff member from the Master List below\n                    </Button>\n                  )}\n                  {this.state.isLoading === false &&\n                    this.state.selectedUser !== null\n                    && (\n                      <UserDetail\n                      authUserId={this.context.userId}\n                      AuthContext={this.context}\n                      user={this.state.selectedUser}\n                      onEdit={this.startUpdateUserHandler}\n                      canDelete={this.state.canDelete}\n                      onDelete={this.modalDeleteHandler}\n                      attendanceDelete={this.deleteUserAttendanceItem}\n                      leaveDelete={this.deleteUserLeaveItem}\n                      attachmentDelete={this.deleteUserAttachmentItem}\n                      />\n                    )}\n            </Tab>\n\n            { this.context.user.role === \"admin\" && (\n              <Tab eventKey=\"userCreate\" title=\"New\">\n              <Button variant=\"outline-primary\" onClick={this.startCreateUserHandler} >Create</Button>\n              {this.state.creating && (\n                <CreateUserForm\n                  authUserId={this.context.userId}\n                  canCancel\n                  canConfirm\n                  onCancel={this.modalCancelHandler}\n                  onConfirm={this.modalConfirmHandler}\n                  onSubmit={this.modalConfirmHandler}\n                  confirmText=\"Confirm\"\n                />\n              )}\n              </Tab>\n            )}\n\n            <Tab eventKey=\"userEditDemographics\" title=\"Demographics\">\n            {this.state.selectedUser === null && (\n              <Button variant=\"outline-warning\" size=\"lg\">\n                Select a Staff member from the Master List below\n              </Button>\n            )}\n            {this.state.selectedUser !== null &&\n              this.context.user.role === \"admin\"\n              && (\n              <Button variant=\"outline-primary\" onClick={this.startUpdateUserHandler}>Edit Demographics as Admin</Button>\n            )}\n            {this.state.selectedUser !== null &&\n              this.state.selectedUser._id === this.context.user._id\n              && (\n              <Button variant=\"outline-primary\" onClick={this.startUpdateUserHandler}>Edit Demographics (your profile)</Button>\n            )}\n            {this.state.selectedUser !== null &&\n              this.state.selectedUser._id === this.context.user._id && (\n              <Button variant=\"outline-danger\" size=\"lg\">\n                Your Profile\n              </Button>\n            )}\n            {this.state.selectedUser !== null &&\n              this.state.selectedUser._id !== this.context.user._id && (\n              <Button variant=\"outline-danger\" size=\"lg\">\n                Not my profile\n              </Button>\n            )}\n            {this.state.updating &&\n              this.state.selectedUser !== null\n              && (\n              <UpdateUserForm\n                authUserId={this.context.userId}\n                canCancel\n                canConfirm\n                onCancel={this.modalCancelHandler}\n                onConfirm={this.modalConfirmUpdateHandler}\n                confirmText=\"Confirm\"\n                user={this.context.selectedUser}\n              />\n            )}\n\n            </Tab>\n\n            <Tab eventKey=\"userEditField\" title=\"Single Field\">\n            {this.state.selectedUser === null && (\n              <Button variant=\"outline-warning\" size=\"lg\">\n                Select a Staff member from the Master List below\n              </Button>\n            )}\n\n            {this.state.selectedUser !== null &&\n              this.context.user.role === \"admin\"\n              && (\n              <Button variant=\"outline-primary\" onClick={this.startUpdateUserHandler}>Edit Field as Admin</Button>\n            )}\n            {this.state.selectedUser !== null &&\n              this.state.selectedUser._id === this.context.user._id\n              && (\n              <Button variant=\"outline-primary\" onClick={this.startUpdateUserHandler}>Edit Field (your profile)</Button>\n            )}\n            {this.state.selectedUser !== null &&\n              this.state.selectedUser._id === this.context.user._id && (\n              <Button variant=\"outline-danger\" size=\"lg\">\n                Your Profile\n              </Button>\n            )}\n            {this.state.selectedUser !== null &&\n              this.state.selectedUser._id !== this.context.user._id && (\n              <Button variant=\"outline-danger\" size=\"lg\">\n                Not my profile\n              </Button>\n            )}\n            {this.state.updating &&\n              this.state.selectedUser !== null\n              && (\n                <UpdateUserFieldForm\n                  authUserId={this.context.userId}\n                  canCancel\n                  canConfirm\n                  onCancel={this.modalCancelHandler}\n                  onConfirm={this.modalConfirmUpdateFieldHandler}\n                  confirmText=\"Confirm\"\n                  user={this.state.selectedUser}\n                />\n            )}\n            </Tab>\n\n            <Tab eventKey=\"userEditAttendance\" title=\"Attendance\">\n            {this.state.selectedUser === null && (\n              <Button variant=\"outline-warning\" size=\"lg\">\n                Select a Staff member from the Master List below\n              </Button>\n            )}\n\n            {this.state.selectedUser !== null &&\n              this.context.user.role === \"admin\"\n              && (\n              <Button variant=\"outline-primary\" value='attendance' onClick={this.updateUserSpecial.bind(this)}>Add Attendance as Admin</Button>\n            )}\n            {this.state.selectedUser !== null &&\n              this.state.selectedUser._id === this.context.user._id\n              && (\n              <Button variant=\"outline-primary\" value='attendance' onClick={this.updateUserSpecial.bind(this)}>Add Attendance (your profile)</Button>\n            )}\n            {this.state.selectedUser !== null &&\n              this.state.selectedUser._id === this.context.user._id && (\n              <Button variant=\"outline-danger\" size=\"lg\">\n                Your Profile\n              </Button>\n            )}\n            {this.state.selectedUser !== null &&\n              this.state.selectedUser._id !== this.context.user._id && (\n              <Button variant=\"outline-danger\" size=\"lg\">\n                Not my profile\n              </Button>\n            )}\n\n            {this.state.userUpdateField === 'attendance' &&\n            this.state.selectedUser !== null\n             && (\n               <UpdateUserAttendanceForm\n              authUserId={this.context.userId}\n              canCancel\n                canConfirm\n                onCancel={this.modalCancelHandler}\n                onConfirm={this.updateUserAttendanceHandler}\n                confirmText=\"Confirm\"\n                user={this.state.selectedUser}\n              />\n            )}\n            </Tab>\n\n            <Tab eventKey=\"userEditLeave\" title=\"Leave\">\n            {this.state.selectedUser === null && (\n              <Button variant=\"outline-warning\" size=\"lg\">\n                Select a Staff member from the Master List below\n              </Button>\n            )}\n\n            {this.state.selectedUser !== null &&\n              this.context.user.role === \"admin\"\n              && (\n              <Button variant=\"outline-primary\" value='leave' onClick={this.updateUserSpecial.bind(this)}>Add Leave as Admin</Button>\n            )}\n            {this.state.selectedUser !== null &&\n              this.state.selectedUser._id === this.context.user._id\n              && (\n              <Button variant=\"outline-primary\" value='leave' onClick={this.updateUserSpecial.bind(this)}>Add Leave (your profile)</Button>\n            )}\n            {this.state.selectedUser !== null &&\n              this.state.selectedUser._id === this.context.user._id && (\n              <Button variant=\"outline-danger\" size=\"lg\">\n                Your Profile\n              </Button>\n            )}\n            {this.state.selectedUser !== null &&\n              this.state.selectedUser._id !== this.context.user._id && (\n              <Button variant=\"outline-danger\" size=\"lg\">\n                Not my profile\n              </Button>\n            )}\n\n            {this.state.userUpdateField === 'leave' &&\n            this.state.selectedUser !== null\n            && (<UpdateUserLeaveForm\n              authUserId={this.context.userId}\n              canCancel\n                canConfirm\n                onCancel={this.modalCancelHandler}\n                onConfirm={this.updateUserLeaveHandler}\n                confirmText=\"Confirm\"\n                user={this.state.selectedUser}\n              />)}\n            </Tab>\n            <Tab eventKey=\"userEditAttachment\" title=\"Attachment\">\n            {this.state.selectedUser === null && (\n              <Button variant=\"outline-warning\" size=\"lg\">\n                Select a Staff member from the Master List below\n              </Button>\n            )}\n\n            {this.state.selectedUser !== null &&\n              this.context.user.role === \"admin\"\n              && (\n              <Button variant=\"outline-primary\" value='attachments' onClick={this.updateUserSpecial.bind(this)}>Add Attachment as Admin</Button>\n            )}\n            {this.state.selectedUser !== null &&\n              this.state.selectedUser._id === this.context.user._id\n              && (\n              <Button variant=\"outline-primary\" value='attachments' onClick={this.updateUserSpecial.bind(this)}>Add Attachment (your profile)</Button>\n            )}\n            {this.state.selectedUser !== null &&\n              this.state.selectedUser._id === this.context.user._id && (\n              <Button variant=\"outline-danger\" size=\"lg\">\n                Your Profile\n              </Button>\n            )}\n            {this.state.selectedUser !== null &&\n              this.state.selectedUser._id !== this.context.user._id && (\n              <Button variant=\"outline-danger\" size=\"lg\">\n                Not my profile\n              </Button>\n            )}\n\n            {this.state.userUpdateField === 'attachments' &&\n            this.state.selectedUser !== null\n            && (<UpdateUserAttachmentForm\n              authUserId={this.context.userId}\n              canCancel\n                canConfirm\n                onCancel={this.modalCancelHandler}\n                onConfirm={this.updateUserAttachmentHandler}\n                confirmText=\"Confirm\"\n                user={this.state.selectedUser}\n              />)}\n            </Tab>\n\n\n            <Tab eventKey=\"MasterList\" title=\"Master List\">\n            <Container className=\"containerUserMasterList\">\n            <Row className=\"searchListRow\">\n            <Button variant=\"primary\" size=\"sm\" onClick={this.fetchUsersAsc}>\n               Sort Asc\n             </Button>\n            <Button variant=\"info\" size=\"sm\" onClick={this.fetchUsersDesc}>\n               Sort Desc\n             </Button>\n             {this.state.isLoading ? (\n               <Spinner />\n             ) : (\n               <UserList\n                 users={this.state.users}\n                 authUserId={this.context.userId}\n                 onViewDetail={this.showDetailHandler}\n               />\n             )}\n            </Row>\n            </Container>\n\n            </Tab>\n\n            <Tab eventKey=\"SearchInput\" title=\"Search\">\n            <Container className=\"containerSearchUserInput\">\n\n            <Row className=\"searchUserRowAdd\">\n            <Button variant=\"primary\" onClick={this.startSearchUserHandler}>Search</Button>\n            </Row>\n\n            <Row className=\"searchUserRowForm\">\n            <Col md={10} className=\"searchUserColForm\">\n            <Tabs defaultActiveKey=\"Field\" id=\"uncontrolled-tab-example\">\n            <Tab eventKey=\"Search\" title=\"Search:\" disabled>\n            </Tab>\n            <Tab eventKey=\"Field\" title=\"Field:\">\n            {this.state.searching === true && (\n              <SearchUserForm\n              authUserId={this.context.userId}\n              canCancel\n                canConfirm\n                onCancel={this.modalCancelHandler}\n                onConfirm={this.modalConfirmSearchHandler}\n                confirmText=\"Search\"\n                user={this.context.selectedUser}\n              />)}\n            </Tab>\n            <Tab eventKey=\"Id\" title=\"Id:\">\n            {this.state.searching === true && (\n              <SearchUserIdForm\n              authUserId={this.context.userId}\n              canCancel\n                canConfirm\n                onCancel={this.modalCancelHandler}\n                onConfirm={this.modalConfirmSearchIdHandler}\n                confirmText=\"Search\"\n                user={this.context.selectedUser}\n              />\n              )}\n            </Tab>\n            <Tab eventKey=\"Attendance\" title=\"Attendance:\">\n            {this.state.searching === true && (\n              <SearchUserAttendanceDateForm\n              authUserId={this.context.userId}\n              canCancel\n                canConfirm\n                onCancel={this.modalCancelHandler}\n                onConfirm={this.modalConfirmSearchAttendanceDateHandler}\n                confirmText=\"Search\"\n                user={this.context.selectedUser}\n              />\n              )}\n            </Tab>\n            <Tab eventKey=\"Leave\" title=\"Leave:\">\n            {this.state.searching === true && (\n              <SearchUserLeaveDateRangeForm\n              authUserId={this.context.userId}\n              canCancel\n                canConfirm\n                onCancel={this.modalCancelHandler}\n                onConfirm={this.modalConfirmSearchLeaveDateRangeHandler}\n                confirmText=\"Search\"\n                user={this.context.selectedUser}\n              />\n              )}\n            </Tab>\n            <Tab eventKey=\"Name\" title=\"Name:\">\n            {this.state.searching === true && (\n              <SearchUserNameForm\n              authUserId={this.context.userId}\n              canCancel\n                canConfirm\n                onCancel={this.modalCancelHandler}\n                onConfirm={this.modalConfirmSearchNameHandler}\n                confirmText=\"Search\"\n                user={this.context.selectedUser}\n              />\n            )}\n            </Tab>\n            </Tabs>\n            </Col>\n            <Col md={10}>\n            </Col>\n            </Row>\n\n            </Container>\n            </Tab>\n\n            <Tab eventKey=\"SearchResult\" title=\"Search Results\">\n            <Container className=\"containerSearchUserResults\">\n            <Row>\n              <Card className=\"searchCard\">\n                <Card.Body className=\"searchCardBody\">\n                  <Card.Title>Your Search</Card.Title>\n                  <Card.Text>\n                    Field: {this.state.userSearchField}\n                  </Card.Text>\n                  <Card.Text>\n                    Query: {this.state.userSearchQuery}\n                  </Card.Text>\n                </Card.Body>\n              </Card>\n            </Row>\n            <Row className=\"searchListRow\">\n            {this.state.searchUsers !== [] && (\n              <SearchUserList\n                searchUsers={this.state.searchUsers}\n                authUserId={this.context.userId}\n                onViewDetail={this.showDetailHandler}\n              />\n            )}\n            </Row>\n            </Container>\n            </Tab>\n          </Tabs>\n        </Container>\n\n    </Col>\n\n  </Row>\n\n</Accordion>\n</React.Fragment>\n    );\n  }\n}\n\nexport default UsersPage;\n"]},"metadata":{},"sourceType":"module"}