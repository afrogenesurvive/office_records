{"ast":null,"code":"var _jsxFileName = \"/Users/pedrojacob/Downloads/AMR/websites/office_records/ENT_EMR/frontend/src/pages/Patients.js\";\nimport React, { Component } from 'react';\nimport S3 from 'react-aws-s3';\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Button from 'react-bootstrap/Button';\nimport Accordion from 'react-bootstrap/Accordion';\nimport Tabs from 'react-bootstrap/Tabs';\nimport Tab from 'react-bootstrap/Tab';\nimport Nav from 'react-bootstrap/Nav';\nimport Card from 'react-bootstrap/Card';\nimport PatientList from '../components/Patients/PatientList/PatientList';\nimport PatientDetail from '../components/Patients/PatientDetail';\nimport Spinner from '../components/Spinner/Spinner';\nimport AuthContext from '../context/auth-context';\nimport SearchPatientList from '../components/Patients/PatientList/SearchPatientList';\nimport SearchPatientForm from '../components/Forms/SearchPatientForm';\nimport SearchPatientIdForm from '../components/Forms/SearchPatientIdForm';\nimport SearchPatientNameForm from '../components/Forms/SearchPatientNameForm';\nimport AlertBox from '../components/AlertBox';\nimport AttachmentViewer from '../components/AttachmentViewer';\nimport PdfCreator from '../components/PdfCreator';\nimport LoadingOverlay from '../components/LoadingOverlay';\nimport SidebarPage from './Sidebar';\nimport SidebarControl from '../components/SidebarControl';\nimport CreatePatientForm from '../components/Forms/CreatePatientForm';\nimport UpdatePatientForm from '../components/Forms/UpdatePatientForm';\nimport UpdatePatientFieldForm from '../components/Forms/UpdatePatientFieldForm';\nimport UpdatePatientConsultantForm from '../components/Forms/UpdatePatientConsultantForm';\nimport UpdatePatientInsuranceForm from '../components/Forms/UpdatePatientInsuranceForm';\nimport UpdatePatientNextOfKinForm from '../components/Forms/UpdatePatientNextOfKinForm';\nimport UpdatePatientComplaintForm from '../components/Forms/UpdatePatientComplaintForm';\nimport UpdatePatientSurveyForm from '../components/Forms/UpdatePatientSurveyForm';\nimport UpdatePatientSystematicInquiryForm from '../components/Forms/UpdatePatientSystematicInquiryForm';\nimport UpdatePatientVitalsForm from '../components/Forms/UpdatePatientVitalsForm';\nimport UpdatePatientExaminationForm from '../components/Forms/UpdatePatientExaminationForm';\nimport UpdatePatientHistoryForm from '../components/Forms/UpdatePatientHistoryForm';\nimport UpdatePatientAllergiesForm from '../components/Forms/UpdatePatientAllergiesForm';\nimport UpdatePatientMedicationForm from '../components/Forms/UpdatePatientMedicationForm';\nimport UpdatePatientInvestigationForm from '../components/Forms/UpdatePatientInvestigationForm';\nimport UpdatePatientDiagnosisForm from '../components/Forms/UpdatePatientDiagnosisForm';\nimport UpdatePatientTreatmentForm from '../components/Forms/UpdatePatientTreatmentForm';\nimport UpdatePatientBillingForm from '../components/Forms/UpdatePatientBillingForm';\nimport UpdatePatientVigilanceForm from '../components/Forms/UpdatePatientVigilanceForm';\nimport UpdatePatientAttachmentForm from '../components/Forms/UpdatePatientAttachmentForm';\nimport UpdatePatientNoteForm from '../components/Forms/UpdatePatientNoteForm';\nimport UpdatePatientTagForm from '../components/Forms/UpdatePatientTagForm';\nimport './Users.css';\n\nclass PatientsPage extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      creating: false,\n      updating: false,\n      searching: false,\n      updatingArray: false,\n      deleting: false,\n      patients: [],\n      searchPatients: [],\n      isLoading: false,\n      selectedPatient: null,\n      selectedUser: null,\n      patientUpdateField: null,\n      patientSearchField: null,\n      patientSearchQuery: null,\n      canDelete: null,\n      visit: null,\n      visitList: [],\n      selectedVisit: null,\n      newVisit: false,\n      createVisitChecklist: {\n        consultant: false,\n        complaint: false,\n        diagnosis: false,\n        examination: false,\n        investigation: false,\n        survey: false,\n        systematicInquiry: false,\n        treatment: false,\n        vitals: false,\n        billing: false,\n        vigilance: false\n      },\n      newVisit: false,\n      userAlert: null,\n      overlay: false,\n      overlayStatus: \"test\",\n      showAttachment: false,\n      showThisAttachmentFile: null,\n      showThisAttachmentType: null,\n      creatingDocument: false,\n      createPdf: false,\n      pdfData: null,\n      pdfType: null,\n      sidebarShow: true,\n      mCol1Size: 3,\n      mCol2Size: 9,\n      creds: null\n    };\n    this.isActive = true;\n\n    this.startCreatePatientHandler = () => {\n      this.setState({\n        creating: true\n      });\n    };\n\n    this.startCreateVisitHandler = () => {\n      this.setState({\n        newVisit: true\n      });\n    };\n\n    this.startUpdatePatientHandler = () => {\n      this.setState({\n        updating: true,\n        updatingArray: true\n      });\n    };\n\n    this.startSearchPatientHandler = () => {\n      this.setState({\n        searching: true\n      });\n    };\n\n    this.modalConfirmHandler = event => {\n      this.setState({\n        creating: false,\n        userAlert: \"Creating New Patient ...\"\n      });\n      const userId = this.context.userId;\n      const token = this.context.token;\n      let title = event.target.formGridTitle.value;\n      let name = event.target.formGridName.value;\n      let dob = event.target.formGridDob.value;\n      let age = event.target.formGridAge.value;\n      let gender = event.target.formGridGender.value;\n      let addressNumber = event.target.formGridAddressNumber.value;\n      let addressStreet = event.target.formGridAddressStreet.value;\n      let addressTown = event.target.formGridAddressTown.value;\n      let addressParish = event.target.formGridAddressParish.value;\n      let addressPostOffice = event.target.formGridAddressPostOffice.value;\n      let contactPhone = event.target.formGridContactPhone.value;\n      let contactEmail = event.target.formGridContactEmail.value;\n      let registrationDate = event.target.formGridRegistrationDate.value;\n\n      if (event.target.formGridRegistrationDateTodayCheckbox.checked === true) {\n        registrationDate = new Date().toISOString().slice(0, 10);\n      }\n\n      if (event.target.patientCalendarRegistrationDate.value !== null && event.target.formGridRegistrationDateTodayCheckbox.checked !== true) {\n        console.log(\"fancyDate2\", new Date(event.target.patientCalendarRegistrationDate.value).toISOString().slice(0, 10));\n        registrationDate = new Date(event.target.patientCalendarRegistrationDate.value).toISOString().slice(0, 10);\n      }\n\n      let referralDate = event.target.formGridReferralDate.value;\n\n      if (event.target.formGridReferralDateTodayCheckbox.checked === true) {\n        referralDate = new Date().toISOString().slice(0, 10);\n      }\n\n      if (event.target.patientCalendarReferralDate.value !== null && event.target.formGridReferralDateTodayCheckbox.checked !== true) {\n        console.log(\"fancyDate2\", new Date(event.target.patientCalendarReferralDate.value).toISOString().slice(0, 10));\n        referralDate = new Date(event.target.patientCalendarReferralDate.value).toISOString().slice(0, 10);\n      }\n\n      let expirationDate = event.target.formGridExpirationDate.value;\n      let attendingPhysicianName = event.target.formGridAttendingPhysicianName.value;\n      let attendingPhysicianEmail = event.target.formGridAttendingPhysicianEmail.value;\n      let attendingPhysicianPhone = event.target.formGridAttendingPhysicianPhone.value;\n      let referringDoctorName = event.target.formGridReferringDoctorName.value;\n      let referringDoctorEmail = event.target.formGridReferringDoctorEmail.value;\n      let referringDoctorPhone = event.target.formGridReferringDoctorPhone.value;\n      let occupationRole = event.target.formGridOccupationRole.value;\n      let occupationEmployer = event.target.formGridOccupationEmployer.value;\n      let occupationEmployerContactPhone = event.target.formGridOccupationEmployerContactPhone.value;\n      let occupationEmployerContactEmail = event.target.formGridOccupationEmployerContactEmail.value;\n\n      if (name.trim().length === 0 || age.trim().length === 0 || addressNumber.trim().length === 0 || addressStreet.trim().length === 0 || contactPhone.trim().length === 0 || registrationDate.trim().length === 0) {\n        this.setState({\n          userAlert: \"patient must have at least: Name, Age, Contact Number, Street Name & Number and Registration Date!!!...Please try again...\"\n        });\n        return;\n      }\n\n      const requestBody = {\n        query: `\n        mutation {createPatient(userId:\"${userId}\", patientInput:{title:\"${title}\",name:\"${name}\",dob:\"${dob}\",age:${age},gender:\"${gender}\",addressNumber:${addressNumber},addressStreet:\"${addressStreet}\",addressTown:\"${addressTown}\",addressParish:\"${addressParish}\",addressPostOffice:\"${addressPostOffice}\",contactPhone:\"${contactPhone}\",contactEmail:\"${contactEmail}\",registrationDate:\"${registrationDate}\",referralDate:\"${referralDate}\",expirationDate:\"${expirationDate}\",referringDoctorName:\"${referringDoctorName}\",referringDoctorEmail:\"${referringDoctorEmail}\",referringDoctorPhone:\"${referringDoctorPhone}\",attendingPhysicianName:\"${attendingPhysicianName}\",attendingPhysicianEmail:\"${attendingPhysicianEmail}\",attendingPhysicianPhone:\"${attendingPhysicianPhone}\",occupationRole:\"${occupationRole}\",occupationEmployer:\"${occupationEmployer}\",occupationEmployerContactPhone:\"${occupationEmployerContactPhone}\",occupationEmployerContactEmail:\"${occupationEmployerContactEmail}\"})\n        {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n        `\n      }; // fetch('http://ec2-3-19-32-237.us-east-2.compute.amazonaws.com/graphql', {\n\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        const responseAlert = JSON.stringify(resData.data).slice(2, 15);\n        this.setState({\n          userAlert: responseAlert\n        });\n        const newPatient = resData.data.createPatient;\n        this.setState(prevState => {\n          const updatedPatients = [...prevState.patients];\n          updatedPatients.push(newPatient);\n          return {\n            patients: updatedPatients\n          };\n        });\n        this.setState({\n          selecteAppointment: resData.data.createPatient\n        });\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        });\n      });\n    };\n\n    this.modalCancelHandler = () => {\n      this.setState({\n        creating: false,\n        updating: false\n      });\n    };\n\n    this.modalConfirmUpdateHandler = event => {\n      const userId = this.context.userId;\n      const selectedPatientId = this.context.selectedPatient._id;\n      const token = this.context.token;\n      this.setState({\n        updating: false,\n        userAlert: \"Updating selected Patient...\"\n      });\n      let title = event.target.formGridTitle.value;\n      let name = event.target.formGridName.value;\n      let dob = event.target.formGridDob.value;\n      let age = event.target.formGridAge.value;\n      let gender = event.target.formGridGender.value;\n      let addressNumber = event.target.formGridAddressNumber.value;\n      let addressStreet = event.target.formGridAddressStreet.value;\n      let addressTown = event.target.formGridAddressTown.value;\n      let addressParish = event.target.formGridAddressParish.value;\n      let addressPostOffice = event.target.formGridAddressPostOffice.value;\n      let contactPhone = event.target.formGridContactPhone.value;\n      let contactEmail = event.target.formGridContactEmail.value;\n      let registrationDate = event.target.formGridRegistrationDate.value;\n\n      if (event.target.formGridRegistrationDateTodayCheckbox.checked === true) {\n        registrationDate = new Date().toISOString().slice(0, 10);\n      }\n\n      if (event.target.patientCalendarRegistrationDate.value !== null && event.target.formGridRegistrationDateTodayCheckbox.checked !== true) {\n        console.log(\"fancyDate2\", new Date(event.target.patientCalendarRegistrationDate.value).toISOString().slice(0, 10));\n        registrationDate = new Date(event.target.patientCalendarRegistrationDate.value).toISOString().slice(0, 10);\n      }\n\n      let referralDate = event.target.formGridReferralDate.value;\n\n      if (event.target.formGridReferralDateTodayCheckbox.checked === true) {\n        referralDate = new Date().toISOString().slice(0, 10);\n      }\n\n      if (event.target.patientCalendarReferralDate.value !== null && event.target.formGridReferralDateTodayCheckbox.checked !== true) {\n        console.log(\"fancyDate2\", new Date(event.target.patientCalendarReferralDate.value).toISOString().slice(0, 10));\n        referralDate = new Date(event.target.patientCalendarReferralDate.value).toISOString().slice(0, 10);\n      }\n\n      let expirationDate = event.target.formGridExpirationDate.value;\n\n      if (event.target.formGridExpirationDateTodayCheckbox.checked === true) {\n        expirationDate = new Date().toISOString().slice(0, 10);\n      }\n\n      if (event.target.patientCalendarExpirationDate.value !== null && event.target.formGridExpirationDateTodayCheckbox.checked !== true) {\n        console.log(\"fancyDate2\", new Date(event.target.patientCalendarExpirationDate.value).toISOString().slice(0, 10));\n        expirationDate = new Date(event.target.patientCalendarExpirationDate.value).toISOString().slice(0, 10);\n      }\n\n      let attendingPhysicianName = event.target.formGridAttendingPhysicianName.value;\n      let attendingPhysicianEmail = event.target.formGridAttendingPhysicianEmail.value;\n      let attendingPhysicianPhone = event.target.formGridAttendingPhysicianPhone.value;\n      let referringDoctorName = event.target.formGridReferringDoctorName.value;\n      let referringDoctorEmail = event.target.formGridReferringDoctorEmail.value;\n      let referringDoctorPhone = event.target.formGridReferringDoctorPhone.value;\n      let occupationRole = event.target.formGridOccupationRole.value;\n      let occupationEmployer = event.target.formGridOccupationEmployer.value;\n      let occupationEmployerContactPhone = event.target.formGridOccupationEmployerContactPhone.value;\n      let occupationEmployerContactEmail = event.target.formGridOccupationEmployerContactEmail.value;\n\n      if (title.trim().length === 0) {\n        this.setState({\n          userAlert: \"blank fields detected!!!...filling w/ previous data...\"\n        });\n        title = this.context.selectedPatient.title;\n      }\n\n      if (name.trim().length === 0) {\n        this.setState({\n          userAlert: \"blank fields detected!!!...filling w/ previous data...\"\n        });\n        name = this.context.selectedPatient.name;\n      }\n\n      if (dob.trim().length === 0) {\n        this.setState({\n          userAlert: \"blank fields detected!!!...filling w/ previous data...\"\n        });\n        dob = this.context.selectedPatient.dob;\n      }\n\n      if (gender.trim().length === 0) {\n        this.setState({\n          userAlert: \"blank fields detected!!!...filling w/ previous data...\"\n        });\n        gender = this.context.selectedPatient.gender;\n      }\n\n      if (age.trim().length === 0) {\n        this.setState({\n          userAlert: \"blank fields detected!!!...filling w/ previous data...\"\n        });\n        age = this.context.selectedPatient.age;\n      }\n\n      if (addressNumber.trim().length === 0) {\n        this.setState({\n          userAlert: \"blank fields detected!!!...filling w/ previous data...\"\n        });\n        addressNumber = this.context.selectedPatient.address.number;\n      }\n\n      if (addressStreet.trim().length === 0) {\n        this.setState({\n          userAlert: \"blank fields detected!!!...filling w/ previous data...\"\n        });\n        addressStreet = this.context.selectedPatient.address.street;\n      }\n\n      if (addressTown.trim().length === 0) {\n        this.setState({\n          userAlert: \"blank fields detected!!!...filling w/ previous data...\"\n        });\n        addressTown = this.context.selectedPatient.address.town;\n      }\n\n      if (addressParish.trim().length === 0) {\n        this.setState({\n          userAlert: \"blank fields detected!!!...filling w/ previous data...\"\n        });\n        addressParish = this.context.selectedPatient.address.parish;\n      }\n\n      if (addressPostOffice.trim().length === 0) {\n        this.setState({\n          userAlert: \"blank fields detected!!!...filling w/ previous data...\"\n        });\n        addressPostOffice = this.context.selectedPatient.address.postOffice;\n      }\n\n      if (contactPhone.trim().length === 0) {\n        this.setState({\n          userAlert: \"blank fields detected!!!...filling w/ previous data...\"\n        });\n        contactPhone = this.context.selectedPatient.contact.phone;\n      }\n\n      if (contactEmail.trim().length === 0) {\n        this.setState({\n          userAlert: \"blank fields detected!!!...filling w/ previous data...\"\n        });\n        contactEmail = this.context.selectedPatient.contact.email;\n      }\n\n      if (registrationDate.trim().length === 0) {\n        this.setState({\n          userAlert: \"blank fields detected!!!...filling w/ previous data...\"\n        });\n        registrationDate = this.context.selectedPatient.registrationDate;\n      }\n\n      if (attendingPhysicianName.trim().length === 0) {\n        this.setState({\n          userAlert: \"blank fields detected!!!...filling w/ previous data...\"\n        });\n        attendingPhysicianName = this.context.selectedPatient.attendingPhysician.name;\n      }\n\n      if (attendingPhysicianEmail.trim().length === 0) {\n        this.setState({\n          userAlert: \"blank fields detected!!!...filling w/ previous data...\"\n        });\n        attendingPhysicianEmail = this.context.selectedPatient.attendingPhysician.email;\n      }\n\n      if (attendingPhysicianPhone.trim().length === 0) {\n        this.setState({\n          userAlert: \"blank fields detected!!!...filling w/ previous data...\"\n        });\n        attendingPhysicianPhone = this.context.selectedPatient.attendingPhysician.phone;\n      }\n\n      if (referringDoctorName.trim().length === 0) {\n        this.setState({\n          userAlert: \"blank fields detected!!!...filling w/ previous data...\"\n        });\n        referringDoctorName = this.context.selectedPatient.referringDoctor.name;\n      }\n\n      if (referringDoctorEmail.trim().length === 0) {\n        this.setState({\n          userAlert: \"blank fields detected!!!...filling w/ previous data...\"\n        });\n        referringDoctorEmail = this.context.selectedPatient.referringDoctor.email;\n      }\n\n      if (referringDoctorPhone.trim().length === 0) {\n        this.setState({\n          userAlert: \"blank fields detected!!!...filling w/ previous data...\"\n        });\n        referringDoctorPhone = this.context.selectedPatient.referringDoctor.phone;\n      }\n\n      if (occupationRole.trim().length === 0) {\n        this.setState({\n          userAlert: \"blank fields detected!!!...filling w/ previous data...\"\n        });\n        occupationRole = this.context.selectedPatient.occupation.role;\n      }\n\n      if (occupationEmployer.trim().length === 0) {\n        this.setState({\n          userAlert: \"blank fields detected!!!...filling w/ previous data...\"\n        });\n        occupationEmployer = this.context.selectedPatient.occupation.employer;\n      }\n\n      if (occupationEmployerContactEmail.trim().length === 0) {\n        this.setState({\n          userAlert: \"blank fields detected!!!...filling w/ previous data...\"\n        });\n        occupationEmployerContactEmail = this.context.selectedPatient.occupation.contact.email;\n      }\n\n      if (occupationEmployerContactPhone.trim().length === 0) {\n        this.setState({\n          userAlert: \"blank fields detected!!!...filling w/ previous data...\"\n        });\n        occupationEmployerContactPhone = this.context.selectedPatient.occupation.contact.phone;\n      }\n\n      const requestBody = {\n        query: `\n          mutation {updatePatient(userId:\"${userId}\",patientId:\"${selectedPatientId}\", patientInput:{title:\"${title}\",name:\"${name}\",dob:\"${dob}\",age:${age},gender:\"${gender}\",addressNumber:${addressNumber},addressStreet:\"${addressStreet}\",addressTown:\"${addressTown}\",addressParish:\"${addressParish}\",addressPostOffice:\"${addressPostOffice}\",contactPhone:\"${contactPhone}\",contactEmail:\"${contactEmail}\",registrationDate:\"${registrationDate}\",referralDate:\"${referralDate}\",expirationDate:\"${expirationDate}\",referringDoctorName:\"${referringDoctorName}\",referringDoctorEmail:\"${referringDoctorEmail}\",referringDoctorPhone:\"${referringDoctorPhone}\",attendingPhysicianName:\"${attendingPhysicianName}\",attendingPhysicianEmail:\"${attendingPhysicianEmail}\",attendingPhysicianPhone:\"${attendingPhysicianPhone}\",occupationRole:\"${occupationRole}\",occupationEmployer:\"${occupationEmployer}\",occupationEmployerContactPhone:\"${occupationEmployerContactPhone}\",occupationEmployerContactEmail:\"${occupationEmployerContactPhone}\"})\n          {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n        `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        const updatedPatientId = resData.data.updatePatient._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.updatePatient);\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.fetchPatients();\n        this.setState({\n          userAlert: responseAlert,\n          selectedPatient: resData.data.updatePatient\n        });\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        });\n      });\n    };\n\n    this.modalConfirmUpdateFieldHandler = event => {\n      const token = this.context.token;\n      const userId = this.context.userId;\n      let selectedPatientId = this.context.selectedPatient._id;\n      this.setState({\n        updating: false,\n        userAlert: \"Updating selected Patient by Field...\"\n      });\n      let field = null;\n      let query = event.target.formGridQuery.value;\n\n      if (event.target.formGridFieldSelect.value === \"select\") {\n        field = event.target.formGridField.value;\n      } else {\n        field = event.target.formGridFieldSelect.value;\n      }\n\n      const requestBody = {\n        query: `\n        mutation {updatePatientField(userId:\"${userId}\",patientId:\"${selectedPatientId}\",field:\"${field}\",query:\"${query}\")\n        {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n      `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        const updatedPatientId = resData.data.updatePatientField._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.updatePatientField);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.fetchPatients();\n        this.setState({\n          userAlert: responseAlert,\n          selectedPatient: resData.data.updatePatientField\n        });\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        });\n      });\n    };\n\n    this.updatePatientConsultantHandler = event => {\n      event.preventDefault();\n      let token = this.context.token;\n      const userId = this.context.userId;\n      let selectedPatientId = this.context.selectedPatient._id;\n      const patientConsultantReference = this.context.selectedUser._id;\n\n      if (patientConsultantReference === undefined) {\n        this.setState({\n          userAlert: \"select a Staff member before adding a Patient Consultant!!...\"\n        });\n        token = null;\n      }\n\n      this.setState({\n        updating: false,\n        patientUpdateField: null,\n        userAlert: \"Adding selected Patient Consultant...\"\n      });\n      let consultantDate = null;\n\n      if (event.target.formGridConsultantDate) {\n        consultantDate = event.target.formGridConsultantDate.value;\n      }\n\n      if (event.target.formGridConsultantDateTodayCheckbox.checked === true) {\n        consultantDate = new Date().toISOString().slice(0, 10);\n      }\n\n      if (event.target.patientConsultantCalendarDate.value !== null && event.target.formGridConsultantDateTodayCheckbox.checked !== true) {\n        console.log(\"fancyDate2\", new Date(event.target.patientConsultantCalendarDate.value).toISOString().slice(0, 10));\n        consultantDate = new Date(event.target.patientConsultantCalendarDate.value).toISOString().slice(0, 10);\n      }\n\n      const requestBody = {\n        query: `\n      mutation {updatePatientConsultant(userId:\"${userId}\", patientId:\"${selectedPatientId}\",patientInput:{consultantDate:\" ${consultantDate}\",consultantReference: \"${patientConsultantReference}\"})\n      {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        const updatedPatientId = resData.data.updatePatientConsultant._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.updatePatientConsultant);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.fetchPatients();\n        this.setState({\n          userAlert: responseAlert,\n          selectedPatient: resData.data.updatePatientConsultant\n        });\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        });\n      });\n    };\n\n    this.updatePatientInsuranceHandler = event => {\n      const token = this.context.token;\n      const userId = this.context.userId;\n      let selectedPatientId = this.context.selectedPatient._id;\n      this.setState({\n        updating: false,\n        patientUpdateField: null,\n        userAlert: \"Adding selected Patient Insurance...\"\n      });\n      let insuranceCompany = event.target.formGridInsuranceCompany.value;\n      let insuranceNumber = event.target.formGridInsuranceNumber.value;\n      let insuranceExpiry = event.target.patientCalendarInsuranceExpiryDate.value; // if (event.target.patientCalendarInsuranceExpiryDate.value !== null &&\n      //   event.target.formGridInsuranceExpiry.value === null\n      //   ) {\n      //   console.log(`patientCalendarInsuranceExpiryDate: ${new Date(event.target.patientCalendarInsuranceExpiryDate.value).toISOString().slice(0,10)} `);\n      //   insuranceExpiry = new Date(event.target.patientCalendarInsuranceExpiryDate.value).toISOString().slice(0,10);\n      // }\n\n      let insuranceDescription = event.target.formGridInsuranceDescription.value;\n      let insuranceSubscriberCompany = event.target.formGridInsuranceSubscriberCompany.value;\n      let insuranceSubscriberDescription = event.target.formGridInsuranceSubscriberDescription.value;\n      const requestBody = {\n        query: `\n        mutation {updatePatientInsurance(userId:\"${userId}\", patientId:\"${selectedPatientId}\",patientInput:{insuranceCompany:\"${insuranceCompany}\",insuranceNumber:\"${insuranceNumber}\",insuranceDescription:\"${insuranceDescription}\",insuranceExpiry:\"${insuranceExpiry}\",insuranceSubscriberCompany:\"${insuranceSubscriberCompany}\",insuranceSubscriberDescription:\"${insuranceSubscriberDescription}\"})\n        {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n      `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        const updatedPatientId = resData.data.updatePatientInsurance._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.updatePatientInsurance);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.fetchPatients();\n        this.setState({\n          userAlert: responseAlert,\n          selectedPatient: resData.data.updatePatientInsurance\n        });\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        });\n      });\n    };\n\n    this.updatePatientNextOfKinHandler = event => {\n      const token = this.context.token;\n      const userId = this.context.userId;\n      let selectedPatientId = this.context.selectedPatient._id;\n      this.setState({\n        updating: false,\n        patientUpdateField: null,\n        userAlert: \"Adding selected Patient Next of Kin...\"\n      });\n      let nextOfKinName = event.target.formGridNextOfKinName.value;\n      let nextOfKinPhone = event.target.formGridNextOfKinPhone.value;\n      let nextOfKinEmail = event.target.formGridNextOfKinEmail.value;\n      const requestBody = {\n        query: `\n        mutation {updatePatientNextOfKin(userId:\"${userId}\", patientId:\"${selectedPatientId}\",patientInput:{nextOfKinName:\"${nextOfKinName}\",nextOfKinEmail:\"${nextOfKinEmail}\",nextOfKinPhone:\"${nextOfKinPhone}\"})\n        {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n      `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        const updatedPatientId = resData.data.updatePatientNextOfKin._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.updatePatientNextOfKin);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.fetchPatients();\n        this.setState({\n          userAlert: responseAlert,\n          selectedPatient: resData.data.updatePatientNextOfKin\n        });\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        });\n      });\n    };\n\n    this.updatePatientComplaintHandler = event => {\n      event.preventDefault(); // this.getCreds();\n\n      console.log(`\n    event.target.fileInput.value: ${event.target.fileInput.value},\n    `);\n      const token = this.context.token;\n      const userId = this.context.userId;\n      let selectedPatientId = this.context.selectedPatient._id;\n      this.setState({\n        updating: false,\n        patientUpdateField: null,\n        userAlert: \"Adding selected Patient Complaint...\"\n      });\n      let complaintTitle = event.target.formGridComplaintTitle.value;\n      let complaintDate = null;\n\n      if (event.target.formGridComplaintDate) {\n        complaintDate = event.target.formGridComplaintDate.value;\n      }\n\n      if (event.target.formGridComplaintDateTodayCheckbox.checked === true) {\n        complaintDate = new Date().toISOString().slice(0, 10);\n      }\n\n      if (event.target.patientComplaintCalendarDate.value !== null && event.target.formGridComplaintDateTodayCheckbox.checked !== true) {\n        console.log(\"fancyDate2\", new Date(event.target.patientComplaintCalendarDate.value).toISOString().slice(0, 10));\n        complaintDate = new Date(event.target.patientComplaintCalendarDate.value).toISOString().slice(0, 10);\n      }\n\n      let complaintDescription = event.target.formGridComplaintDescription.value;\n      let complaintAnamnesis = event.target.formGridComplaintAnamnesis.value;\n      let complaintAttachmentFormat = event.target.formGridComplaintAttachmentFormat.value;\n      let complaintAttachmentPath = \"uploads/patients/\" + selectedPatientId + \"/complaints\";\n      let complaintAttachmentName = null;\n\n      if (event.target.fileInput.value !== \"\") {\n        const file = AuthContext._currentValue.file;\n        const config = {\n          bucketName: this.state.creds.s3.bucketName,\n          dirName: complaintAttachmentPath,\n          region: this.state.creds.s3.region,\n          accessKeyId: this.state.creds.s3.accessKeyId,\n          secretAccessKey: this.state.creds.s3.secretAccessKey\n        };\n        const ReactS3Client = new S3(config);\n        const newFileName = file.name;\n        const complaintAttachmentName = newFileName;\n        this.setState({\n          userAlert: \"uploading attachment ...\"\n        });\n        ReactS3Client.uploadFile(file, newFileName).then(data => {\n          console.log(data);\n          this.setState({\n            userAlert: \"attachment upload success!\"\n          });\n        }).catch(err => {\n          console.error(err);\n          this.setState({\n            userAlert: \"upload error:  \" + err\n          });\n        });\n      }\n\n      const requestBody = {\n        query: `\n      mutation {updatePatientComplaint(userId:\"${userId}\", patientId:\"${selectedPatientId}\",patientInput:{complaintDate:\"${complaintDate}\",complaintTitle:\"${complaintTitle}\",complaintDescription:\"${complaintDescription}\",complaintAnamnesis:\"${complaintAnamnesis}\",complaintAttachmentName:\"${complaintAttachmentName}\",complaintAttachmentFormat:\"${complaintAttachmentFormat}\",complaintAttachmentPath:\"${complaintAttachmentPath}\"})\n      {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        const updatedPatientId = resData.data.updatePatientComplaint._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.updatePatientComplaint);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.fetchPatients();\n        this.setState({\n          userAlert: responseAlert,\n          selectedPatient: resData.data.updatePatientComplaint\n        });\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        });\n      });\n    };\n\n    this.updatePatientSurveyHandler = event => {\n      event.preventDefault();\n      const token = this.context.token;\n      const userId = this.context.userId;\n      let selectedPatientId = this.context.selectedPatient._id;\n      this.setState({\n        updating: false,\n        patientUpdateField: null,\n        userAlert: \"Adding selected Patient Survey...\"\n      });\n      let surveyDate = null;\n\n      if (event.target.formGridSurveyDate) {\n        surveyDate = event.target.formGridSurveyDate.value;\n      }\n\n      if (event.target.formGridSurveyDateTodayCheckbox.checked === true) {\n        surveyDate = new Date().toISOString().slice(0, 10);\n      }\n\n      if (event.target.patientSurveyCalendarDate.value !== null && event.target.formGridSurveyDateTodayCheckbox.checked !== true) {\n        console.log(\"fancyDate2\", new Date(event.target.patientSurveyCalendarDate.value).toISOString().slice(0, 10));\n        surveyDate = new Date(event.target.patientSurveyCalendarDate.value).toISOString().slice(0, 10);\n      }\n\n      let surveyTitle = event.target.formGridSurveyTitle.value;\n      let surveyDescription = event.target.formGridSurveyDescription.value;\n      let surveyAttachmentFormat = event.target.formGridSurveyAttachmentFormat.value;\n      let surveyAttachmentPath = \"uploads/patients/\" + selectedPatientId + \"/surveys\";\n      let surveyAttachmentName = null;\n\n      if (event.target.fileInput.value !== null || event.target.fileInput.value !== \"\") {\n        const file = AuthContext._currentValue.file;\n        const config = {\n          bucketName: this.context.creds.s3.bucketName,\n          dirName: surveyAttachmentPath,\n          region: this.context.creds.s3.region,\n          accessKeyId: this.context.creds.s3.accessKeyId,\n          secretAccessKey: this.context.creds.s3.secretAccessKey\n        };\n        const ReactS3Client = new S3(config);\n        const newFileName = file.name;\n        const surveyAttachmentName = newFileName;\n        this.setState({\n          userAlert: \"uploading attachment ...\"\n        });\n        ReactS3Client.uploadFile(file, newFileName).then(data => {\n          console.log(data);\n          this.setState({\n            userAlert: \"attachment upload success!\"\n          });\n        }).catch(err => {\n          console.error(err);\n          this.setState({\n            userAlert: \"upload error:  \" + err\n          });\n        });\n      }\n\n      const requestBody = {\n        query: `\n      mutation {updatePatientSurvey(userId:\"${userId}\",patientId:\"${selectedPatientId}\",patientInput:{surveyDate:\"${surveyDate}\",surveyTitle:\"${surveyTitle}\",surveyDescription:\"${surveyDescription}\",surveyAttachmentName:\"${surveyAttachmentName}\",surveyAttachmentFormat:\"${surveyAttachmentFormat}\",surveyAttachmentPath:\"${surveyAttachmentPath}\"})\n      {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        const updatedPatientId = resData.data.updatePatientSurvey._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.updatePatientSurvey);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.fetchPatients();\n        this.setState({\n          userAlert: responseAlert,\n          selectedPatient: resData.data.updatePatientSurvey\n        });\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        });\n      });\n    };\n\n    this.updatePatientSystematicInquiryHandler = event => {\n      event.preventDefault();\n      const token = this.context.token;\n      const userId = this.context.userId;\n      let selectedPatientId = this.context.selectedPatient._id;\n      this.setState({\n        updating: false,\n        patientUpdateField: null,\n        userAlert: \"Adding selected Patient Systematic Inquiry...\"\n      });\n      let systematicInquiryDate = null;\n\n      if (event.target.formGridSystematicInquiryDate) {\n        systematicInquiryDate = event.target.formGridSystematicInquiryDate.value;\n      }\n\n      if (event.target.formGridSystematicInquiryDateTodayCheckbox.checked === true) {\n        systematicInquiryDate = new Date().toISOString().slice(0, 10);\n      }\n\n      if (event.target.patientSystematicInquiryCalendarDate.value !== null && event.target.formGridSystematicInquiryDateTodayCheckbox.checked !== true) {\n        console.log(\"fancyDate2\", new Date(event.target.patientSystematicInquiryCalendarDate.value).toISOString().slice(0, 10));\n        systematicInquiryDate = new Date(event.target.patientSystematicInquiryCalendarDate.value).toISOString().slice(0, 10);\n      }\n\n      let systematicInquiryTitle = event.target.formGridSystematicInquiryTitle.value;\n      let systematicInquiryDescription = event.target.formGridSystematicInquiryDescription.value;\n      let systematicInquiryAttachmentFormat = event.target.formGridSystematicInquiryAttachmentFormat.value;\n      let systematicInquiryAttachmentPath = \"uploads/patients/\" + selectedPatientId + \"/systematicInquirys\";\n      let systematicInquiryAttachmentName = null;\n\n      if (event.target.fileInput.value !== null || event.target.fileInput.value !== \"\") {\n        const file = AuthContext._currentValue.file;\n        const config = {\n          bucketName: this.context.creds.s3.bucketName,\n          dirName: systematicInquiryAttachmentPath,\n          region: this.context.creds.s3.region,\n          accessKeyId: this.context.creds.s3.accessKeyId,\n          secretAccessKey: this.context.creds.s3.secretAccessKey\n        };\n        const ReactS3Client = new S3(config);\n        const newFileName = file.name;\n        const systematicInquiryAttachmentName = newFileName;\n        this.setState({\n          userAlert: \"uploading attachment ...\"\n        }); // ReactS3Client\n        //     .uploadFile(file, newFileName)\n        //     .then(data => {console.log(data);this.setState({userAlert: \"attachment upload success!\"});})\n        //     .catch(err => {console.error(err);this.setState({userAlert: \"upload error:  \"+err});})\n      }\n\n      const requestBody = {\n        query: `\n      mutation {updatePatientSystematicInquiry(userId:\"${userId}\",patientId:\"${selectedPatientId}\",patientInput:{systematicInquiryDate:\"${systematicInquiryDate}\",systematicInquiryTitle:\"${systematicInquiryTitle}\",systematicInquiryDescription:\"${systematicInquiryDescription}\",systematicInquiryAttachmentName:\"${systematicInquiryAttachmentName}\",systematicInquiryAttachmentFormat:\"${systematicInquiryAttachmentFormat}\",systematicInquiryAttachmentPath:\"${systematicInquiryAttachmentPath}\"})\n      {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        const updatedPatientId = resData.data.updatePatientSystematicInquiry._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.updatePatientSystematicInquiry);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.fetchPatients();\n        this.setState({\n          userAlert: responseAlert,\n          selectedPatient: resData.data.updatePatientSystematicInquiry\n        });\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        });\n      });\n    };\n\n    this.updatePatientVitalsHandler = event => {\n      event.preventDefault();\n      const token = this.context.token;\n      const userId = this.context.userId;\n      const selectedPatientId = this.context.selectedPatient._id;\n      this.setState({\n        updating: false,\n        patientUpdateField: null,\n        userAlert: \"Adding selected Patient Vitals...\"\n      });\n      let vitalsDate = null;\n\n      if (event.target.formGridVitalsDate) {\n        vitalsDate = event.target.formGridVitalsDate.value;\n      }\n\n      if (event.target.formGridVitalsDateTodayCheckbox.checked === true) {\n        vitalsDate = new Date().toISOString().slice(0, 10);\n      }\n\n      if (event.target.patientVitalsCalendarDate.value !== null && event.target.formGridVitalsDateTodayCheckbox.checked !== true) {\n        console.log(\"fancyDate2\", new Date(event.target.patientVitalsCalendarDate.value).toISOString().slice(0, 10));\n        vitalsDate = new Date(event.target.patientVitalsCalendarDate.value).toISOString().slice(0, 10);\n      }\n\n      const vitalsPr = event.target.formGridVitalsPr.value;\n      const vitalsBp1 = event.target.formGridVitalsBp1.value;\n      const vitalsBp2 = event.target.formGridVitalsBp2.value;\n      const vitalsRr = event.target.formGridVitalsRr.value;\n      const vitalsTemp = event.target.formGridVitalsTemp.value;\n      const vitalsPs02 = event.target.formGridVitalsPs02.value;\n      const vitalsHeight = event.target.formGridVitalsHeight.value;\n      const vitalsWeight = event.target.formGridVitalsWeight.value;\n      const vitalsBmi = event.target.formGridVitalsBmi.value;\n      const vitalsUrineType = event.target.formGridVitalsUrineType.value;\n      const vitalsUrineValue = event.target.formGridVitalsUrineValue.value;\n      const requestBody = {\n        query: `\n      mutation {updatePatientVitals(userId:\"${userId}\",patientId:\"${selectedPatientId}\",patientInput:{vitalsDate:\"${vitalsDate}\",vitalsPr:${vitalsPr},vitalsBp1:${vitalsBp1},vitalsBp2:${vitalsBp2},vitalsRr:${vitalsRr},vitalsTemp:${vitalsTemp},vitalsPs02:${vitalsPs02},vitalsHeight:${vitalsHeight},vitalsWeight:${vitalsWeight},vitalsBmi:${vitalsBmi},vitalsUrineType:\"${vitalsUrineType}\",vitalsUrineValue:\"${vitalsUrineValue}\"})\n      {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        const updatedPatientId = resData.data.updatePatientVitals._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.updatePatientVitals);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.fetchPatients();\n        this.setState({\n          userAlert: responseAlert,\n          selectedPatient: resData.data.updatePatientVitals\n        });\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        });\n      });\n    };\n\n    this.updatePatientExaminationHandler = event => {\n      event.preventDefault();\n      const token = this.context.token;\n      const userId = this.context.userId;\n      const selectedPatientId = this.context.selectedPatient._id;\n      this.setState({\n        updating: false,\n        patientUpdateField: null,\n        userAlert: \"Adding selected Patient Examination...\"\n      });\n      let examinationDate = null;\n\n      if (event.target.formGridExaminationDate) {\n        examinationDate = event.target.formGridExaminationDate.value;\n      }\n\n      if (event.target.formGridExaminationDateTodayCheckbox.checked === true) {\n        examinationDate = new Date().toISOString().slice(0, 10);\n      }\n\n      if (event.target.patientExaminationCalendarDate.value !== null && event.target.formGridExaminationDateTodayCheckbox.checked !== true) {\n        console.log(\"fancyDate2\", new Date(event.target.patientExaminationCalendarDate.value).toISOString().slice(0, 10));\n        examinationDate = new Date(event.target.patientExaminationCalendarDate.value).toISOString().slice(0, 10);\n      }\n\n      const examinationGeneral = event.target.formGridExaminationGeneral.value;\n      let examinationArea = undefined;\n\n      if (event.target.formGridExaminationAreaSelect.value === \"select\") {\n        examinationArea = event.target.formGridExaminationArea.value;\n      } else {\n        examinationArea = event.target.formGridExaminationAreaSelect.value;\n      }\n\n      const examinationType = event.target.formGridExaminationType.value;\n      const examinationMeasure = event.target.formGridExaminationMeasure.value;\n      const examinationValue = event.target.formGridExaminationValue.value;\n      const examinationDescription = event.target.formGridExaminationDescription.value;\n      const examinationFollowUp = event.target.formGridExaminationFollowUp.value;\n      const examinationAttachmentFormat = event.target.formGridExaminationAttachmentFormat.value;\n      const examinationAttachmentPath = \"uploads/patients/\" + selectedPatientId + \"/examinations\";\n      let examinationAttachmentName = null;\n\n      if (event.target.fileInput.value !== null || event.target.fileInput.value !== \"\") {\n        const file = AuthContext._currentValue.file;\n        const config = {\n          bucketName: this.context.creds.s3.bucketName,\n          dirName: examinationAttachmentPath,\n          region: this.context.creds.s3.region,\n          accessKeyId: this.context.creds.s3.accessKeyId,\n          secretAccessKey: this.context.creds.s3.secretAccessKey\n        };\n        const ReactS3Client = new S3(config);\n        const newFileName = file.name;\n        const examinationAttachmentName = newFileName;\n        this.setState({\n          userAlert: \"uploading attachment ...\"\n        });\n        ReactS3Client.uploadFile(file, newFileName).then(data => {\n          console.log(data);\n          this.setState({\n            userAlert: \"attachment upload success!\"\n          });\n        }).catch(err => {\n          console.error(err);\n          this.setState({\n            userAlert: \"upload error:  \" + err\n          });\n        });\n      }\n\n      const requestBody = {\n        query: `\n      mutation {updatePatientExamination(userId:\"${userId}\",patientId:\"${selectedPatientId}\",patientInput:{examinationDate:\"${examinationDate}\",examinationGeneral:\"${examinationGeneral}\",examinationArea:\"${examinationArea}\",examinationType:\"${examinationType}\",examinationMeasure:\"${examinationMeasure}\",examinationValue:\"${examinationValue}\",examinationDescription:\"${examinationDescription}\",examinationFollowUp:${examinationFollowUp},examinationAttachmentName:\"${examinationAttachmentName}\",examinationAttachmentFormat:\"${examinationAttachmentFormat}\",examinationAttachmentPath:\"${examinationAttachmentPath}\"})\n      {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        const updatedPatientId = resData.data.updatePatientExamination._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.updatePatientExamination);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.fetchPatients();\n        this.setState({\n          userAlert: responseAlert,\n          selectedPatient: resData.data.updatePatientExamination\n        });\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        });\n      });\n    };\n\n    this.updatePatientHistoryHandler = event => {\n      event.preventDefault();\n      const token = this.context.token;\n      const userId = this.context.userId;\n      const selectedPatientId = this.context.selectedPatient._id;\n      this.setState({\n        updating: false,\n        patientUpdateField: null,\n        userAlert: \"Adding selected Patient History...\"\n      });\n      const historyType = event.target.formGridHistoryType.value;\n      let historyDate = event.target.formGridHistoryDate.value;\n\n      if (event.target.formGridHistoryDateTodayCheckbox.checked === true) {\n        historyDate = new Date().toISOString().slice(0, 10);\n      }\n\n      if (event.target.patientHistoryCalendarDate.value !== null && event.target.formGridHistoryDateTodayCheckbox.checked !== true) {\n        console.log(\"fancyDate2\", new Date(event.target.patientHistoryCalendarDate.value).toISOString().slice(0, 10));\n        historyDate = new Date(event.target.patientHistoryCalendarDate.value).toISOString().slice(0, 10);\n      }\n\n      const historyTitle = event.target.formGridHistoryTitle.value;\n      const historyDescription = event.target.formGridHistoryDescription.value;\n      const historyAttachmentFormat = event.target.formGridHistoryAttachmentFormat.value;\n      const historyAttachmentPath = \"uploads/patients/\" + selectedPatientId + \"/history\";\n      let historyAttachmentName = null;\n\n      if (event.target.fileInput.value !== null || event.target.fileInput.value !== \"\") {\n        const file = AuthContext._currentValue.file;\n        const config = {\n          bucketName: this.context.creds.s3.bucketName,\n          dirName: historyAttachmentPath,\n          region: this.context.creds.s3.region,\n          accessKeyId: this.context.creds.s3.accessKeyId,\n          secretAccessKey: this.context.creds.s3.secretAccessKey\n        };\n        const ReactS3Client = new S3(config);\n        const newFileName = file.name;\n        const historyAttachmentName = newFileName;\n        this.setState({\n          userAlert: \"uploading attachment ...\"\n        });\n        ReactS3Client.uploadFile(file, newFileName).then(data => {\n          console.log(data);\n          this.setState({\n            userAlert: \"attachment upload success!\"\n          });\n        }).catch(err => {\n          console.error(err);\n          this.setState({\n            userAlert: \"upload error:  \" + err\n          });\n        });\n      }\n\n      const requestBody = {\n        query: `\n      mutation {updatePatientHistory(userId:\"${userId}\", patientId:\"${selectedPatientId}\",patientInput:{historyTitle:\"${historyTitle}\",historyType:\"${historyType}\",historyDate:\"${historyDate}\",historyDescription:\"${historyDescription}\",historyAttachmentName:\"${historyAttachmentName}\",historyAttachmentFormat:\"${historyAttachmentFormat}\",historyAttachmentPath:\"${historyAttachmentPath}\"})\n      {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        const updatedPatientId = resData.data.updatePatientHistory._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.updatePatientHistory);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.fetchPatients();\n        this.setState({\n          userAlert: responseAlert,\n          selectedPatient: resData.data.updatePatientHistory\n        });\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        });\n      });\n    };\n\n    this.updatePatientAllergiesHandler = event => {\n      event.preventDefault();\n      const token = this.context.token;\n      const userId = this.context.userId;\n      const selectedPatientId = this.context.selectedPatient._id;\n      this.setState({\n        updating: false,\n        patientUpdateField: null,\n        userAlert: \"Adding selected Patient Allergies...\"\n      });\n      const allergiesTitle = event.target.formGridAllergiesTitle.value;\n      let allergiesType = undefined;\n\n      if (event.target.formGridAllergiesTypeSelect === \"select\") {\n        allergiesType = event.target.formGridAllergiesType.value;\n      } else {\n        allergiesType = event.target.formGridAllergiesTypeSelect.value;\n      }\n\n      const allergiesDescription = event.target.formGridAllergiesDescription.value;\n      const allergiesAttachmentFormat = event.target.formGridAllergiesAttachmentFormat.value;\n      const allergiesAttachmentPath = \"uploads/patients/\" + selectedPatientId + \"/allergies\";\n      let allergiesAttachmentName = null;\n\n      if (event.target.fileInput.value !== null || event.target.fileInput.value !== \"\") {\n        const file = AuthContext._currentValue.file;\n        const config = {\n          bucketName: this.context.creds.s3.bucketName,\n          dirName: allergiesAttachmentPath,\n          region: this.context.creds.s3.region,\n          accessKeyId: this.context.creds.s3.accessKeyId,\n          secretAccessKey: this.context.creds.s3.secretAccessKey\n        };\n        const ReactS3Client = new S3(config);\n        const newFileName = file.name;\n        const allergiesAttachmentName = newFileName;\n        this.setState({\n          userAlert: \"uploading attachment ...\"\n        });\n        ReactS3Client.uploadFile(file, newFileName).then(data => {\n          console.log(data);\n          this.setState({\n            userAlert: \"attachment upload success!\"\n          });\n        }).catch(err => {\n          console.error(err);\n          this.setState({\n            userAlert: \"upload error:  \" + err\n          });\n        });\n      }\n\n      const requestBody = {\n        query: `\n      mutation {updatePatientAllergies(userId:\"${userId}\", patientId:\"${selectedPatientId}\",patientInput:{allergiesTitle:\"${allergiesTitle}\",allergiesType:\"${allergiesType}\", allergiesDescription:\"${allergiesDescription}\",allergiesAttachmentName:\"${allergiesAttachmentName}\",allergiesAttachmentFormat:\"${allergiesAttachmentFormat}\",allergiesAttachmentPath:\"${allergiesAttachmentPath}\"})\n      {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        const updatedPatientId = resData.data.updatePatientAllergies._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.updatePatientAllergies);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.fetchPatients();\n        this.setState({\n          userAlert: responseAlert,\n          selectedPatient: resData.data.updatePatientAllergies\n        });\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        });\n      });\n    };\n\n    this.updatePatientMedicationHandler = event => {\n      const token = this.context.token;\n      const userId = this.context.userId;\n      const selectedPatientId = this.context.selectedPatient._id;\n      this.setState({\n        updating: false,\n        patientUpdateField: null,\n        userAlert: \"Adding selected Patient Medication...\"\n      });\n      const medicationTitle = event.target.formGridMedicationTitle.value;\n      const medicationType = event.target.formGridMedicationType.value;\n      const medicationDescription = event.target.formGridMedicationDescription.value;\n      const medicationAttachmentFormat = event.target.formGridMedicationAttachmentFormat.value;\n      const medicationAttachmentPath = \"uploads/patients/\" + selectedPatientId + \"/medication\";\n      let medicationAttachmentName = null;\n\n      if (event.target.fileInput.value !== null || event.target.fileInput.value !== \"\") {\n        const file = AuthContext._currentValue.file;\n        const config = {\n          bucketName: this.context.creds.s3.bucketName,\n          dirName: medicationAttachmentPath,\n          region: this.context.creds.s3.region,\n          accessKeyId: this.context.creds.s3.accessKeyId,\n          secretAccessKey: this.context.creds.s3.secretAccessKey\n        };\n        const ReactS3Client = new S3(config);\n        const newFileName = file.name;\n        const medicationAttachmentName = newFileName;\n        this.setState({\n          userAlert: \"uploading attachment ...\"\n        });\n        ReactS3Client.uploadFile(file, newFileName).then(data => {\n          console.log(data);\n          this.setState({\n            userAlert: \"attachment upload success!\"\n          });\n        }).catch(err => {\n          console.error(err);\n          this.setState({\n            userAlert: \"upload error:  \" + err\n          });\n        });\n      }\n\n      const requestBody = {\n        query: `\n    mutation {updatePatientMedication(userId:\"${userId}\", patientId:\"${selectedPatientId}\",patientInput:{medicationTitle:\"${medicationTitle}\",medicationType:\"${medicationType}\" medicationDescription:\"${medicationDescription}\",medicationAttachmentName:\"${medicationAttachmentName}\",medicationAttachmentFormat:\"${medicationAttachmentFormat}\",medicationAttachmentPath:\"${medicationAttachmentPath}\"})\n    {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        const updatedPatientId = resData.data.updatePatientMedication._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.updatePatientMedication);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.fetchPatients();\n        this.setState({\n          userAlert: responseAlert,\n          selectedPatient: resData.data.updatePatientMedication\n        });\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        });\n      });\n    };\n\n    this.updatePatientInvestigationHandler = event => {\n      event.preventDefault();\n      const token = this.context.token;\n      const userId = this.context.userId;\n      const selectedPatientId = this.context.selectedPatient._id;\n      this.setState({\n        updating: false,\n        patientUpdateField: null,\n        userAlert: \"Adding selected Patient Investigation...\"\n      });\n      let investigationDate = null;\n\n      if (event.target.formGridInvestigationDate) {\n        investigationDate = event.target.formGridInvestigationDate.value;\n      }\n\n      if (event.target.formGridInvestigationDateTodayCheckbox.checked === true) {\n        investigationDate = new Date().toISOString().slice(0, 10);\n      }\n\n      if (event.target.patientInvestigationCalendarDate.value !== null && event.target.formGridInvestigationDateTodayCheckbox.checked !== true) {\n        console.log(\"fancyDate2\", new Date(event.target.patientInvestigationCalendarDate.value).toISOString().slice(0, 10));\n        investigationDate = new Date(event.target.patientInvestigationCalendarDate.value).toISOString().slice(0, 10);\n      }\n\n      const investigationTitle = event.target.formGridInvestigationTitle.value;\n      let investigationType = undefined;\n\n      if (event.target.formGridInvestigationTypeSelect === \"select\") {\n        investigationType = event.target.formGridInvestigationType.value;\n      } else {\n        investigationType = event.target.formGridInvestigationTypeSelect.value;\n      }\n\n      const investigationDescription = event.target.formGridInvestigationDescription.value;\n      const investigationAttachmentFormat = event.target.formGridInvestigationAttachmentFormat.value;\n      const investigationAttachmentPath = \"uploads/patients/\" + selectedPatientId + \"/investigation\";\n      let investigationAttachmentName = null;\n\n      if (event.target.fileInput.value !== null || event.target.fileInput.value !== \"\") {\n        const file = AuthContext._currentValue.file;\n        const config = {\n          bucketName: this.context.creds.s3.bucketName,\n          dirName: investigationAttachmentPath,\n          region: this.context.creds.s3.region,\n          accessKeyId: this.context.creds.s3.accessKeyId,\n          secretAccessKey: this.context.creds.s3.secretAccessKey\n        };\n        const ReactS3Client = new S3(config);\n        const newFileName = file.name;\n        const investigationAttachmentName = newFileName;\n        this.setState({\n          userAlert: \"uploading attachment ...\"\n        });\n        ReactS3Client.uploadFile(file, newFileName).then(data => {\n          console.log(data);\n          this.setState({\n            userAlert: \"attachment upload success!\"\n          });\n        }).catch(err => {\n          console.error(err);\n          this.setState({\n            userAlert: \"upload error:  \" + err\n          });\n        });\n      }\n\n      const requestBody = {\n        query: `\n      mutation {updatePatientInvestigation(userId:\"${userId}\", patientId:\"${selectedPatientId}\",patientInput:{investigationDate:\"${investigationDate}\",investigationTitle:\"${investigationTitle}\",investigationType:\"${investigationType}\",investigationDescription:\"${investigationDescription}\",investigationAttachmentName:\"${investigationAttachmentName}\",investigationAttachmentFormat:\"${investigationAttachmentFormat}\",investigationAttachmentPath:\"${investigationAttachmentPath}\"})\n      {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        const updatedPatientId = resData.data.updatePatientInvestigation._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.updatePatientInvestigation);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.fetchPatients();\n        this.setState({\n          userAlert: responseAlert,\n          selectedPatient: resData.data.updatePatientInvestigation\n        });\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        });\n      });\n    };\n\n    this.updatePatientDiagnosisHandler = event => {\n      event.preventDefault();\n      const token = this.context.token;\n      const userId = this.context.userId;\n      const selectedPatientId = this.context.selectedPatient._id;\n      this.setState({\n        updating: false,\n        patientUpdateField: null,\n        userAlert: \"Adding selected Patient Diagnosis...\"\n      });\n      let diagnosisDate = null;\n\n      if (event.target.formGridDiagnosisDate) {\n        diagnosisDate = event.target.formGridDiagnosisDate.value;\n      }\n\n      if (event.target.formGridDiagnosisDateTodayCheckbox.checked === true) {\n        diagnosisDate = new Date().toISOString().slice(0, 10);\n      }\n\n      if (event.target.patientDiagnosisCalendarDate.value !== null && event.target.formGridDiagnosisDateTodayCheckbox.checked !== true) {\n        console.log(\"fancyDate2\", new Date(event.target.patientDiagnosisCalendarDate.value).toISOString().slice(0, 10));\n        diagnosisDate = new Date(event.target.patientDiagnosisCalendarDate.value).toISOString().slice(0, 10);\n      }\n\n      const diagnosisTitle = event.target.formGridDiagnosisTitle.value;\n      const diagnosisType = event.target.formGridDiagnosisType.value;\n      const diagnosisDescription = event.target.formGridDiagnosisDescription.value;\n      const diagnosisAttachmentFormat = event.target.formGridDiagnosisAttachmentFormat.value;\n      const diagnosisAttachmentPath = \"uploads/patients/\" + selectedPatientId + \"/diagnosis\";\n      let diagnosisAttachmentName = null;\n\n      if (event.target.fileInput.value !== null || event.target.fileInput.value !== \"\") {\n        const file = AuthContext._currentValue.file;\n        const config = {\n          bucketName: this.context.creds.s3.bucketName,\n          dirName: diagnosisAttachmentPath,\n          region: this.context.creds.s3.region,\n          accessKeyId: this.context.creds.s3.accessKeyId,\n          secretAccessKey: this.context.creds.s3.secretAccessKey\n        };\n        const ReactS3Client = new S3(config);\n        const newFileName = file.name;\n        const diagnosisAttachmentName = newFileName;\n        this.setState({\n          userAlert: \"uploading attachment ...\"\n        });\n        ReactS3Client.uploadFile(file, newFileName).then(data => {\n          console.log(data);\n          this.setState({\n            userAlert: \"attachment upload success!\"\n          });\n        }).catch(err => {\n          console.error(err);\n          this.setState({\n            userAlert: \"upload error:  \" + err\n          });\n        });\n      }\n\n      const requestBody = {\n        query: `\n      mutation {updatePatientDiagnosis(userId:\"${userId}\", patientId:\"${selectedPatientId}\",patientInput:{diagnosisDate:\"${diagnosisDate}\",diagnosisTitle:\"${diagnosisTitle}\",diagnosisType:\"${diagnosisType}\",diagnosisDescription:\"${diagnosisDescription}\",diagnosisAttachmentName:\"${diagnosisAttachmentName}\",diagnosisAttachmentFormat:\"${diagnosisAttachmentFormat}\",diagnosisAttachmentPath:\"${diagnosisAttachmentPath}\"})\n      {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        const updatedPatientId = resData.data.updatePatientDiagnosis._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.updatePatientDiagnosis);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.fetchPatients();\n        this.setState({\n          userAlert: responseAlert,\n          selectedPatient: resData.data.updatePatientDiagnosis\n        });\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        });\n      });\n    };\n\n    this.updatePatientTreatmentHandler = event => {\n      event.preventDefault();\n      const token = this.context.token;\n      const userId = this.context.userId;\n      const selectedPatientId = this.context.selectedPatient._id;\n      this.setState({\n        updating: false,\n        patientUpdateField: null,\n        userAlert: \"Adding selected Patient Treatment...\"\n      });\n      let treatmentDate = null;\n\n      if (event.target.formGridTreatmentDate) {\n        treatmentDate = event.target.formGridTreatmentDate.value;\n      }\n\n      if (event.target.formGridTreatmentDateTodayCheckbox.checked === true) {\n        treatmentDate = new Date().toISOString().slice(0, 10);\n      }\n\n      if (event.target.patientTreatmentCalendarDate.value !== null && event.target.formGridTreatmentDateTodayCheckbox.checked !== true) {\n        console.log(\"fancyDate2\", new Date(event.target.patientTreatmentCalendarDate.value).toISOString().slice(0, 10));\n        treatmentDate = new Date(event.target.patientTreatmentCalendarDate.value).toISOString().slice(0, 10);\n      }\n\n      const treatmentTitle = event.target.formGridTreatmentTitle.value;\n      const treatmentDescription = event.target.formGridTreatmentDescription.value;\n      const treatmentDose = event.target.formGridTreatmentDose.value;\n      const treatmentFrequency = event.target.formGridTreatmentFrequency.value;\n      let treatmentType = undefined;\n\n      if (event.target.formGridInvestigationTypeSelect === \"select\") {\n        treatmentType = event.target.formGridTreatmentType.value;\n      } else {\n        treatmentType = event.target.formGridTreatmentTypeSelect.value;\n      }\n\n      const treatmentAttachmentFormat = event.target.formGridTreatmentAttachmentFormat.value;\n      const treatmentAttachmentPath = \"uploads/patients/\" + selectedPatientId + \"/treatment\";\n      let treatmentAttachmentName = null;\n\n      if (event.target.fileInput.value !== null || event.target.fileInput.value !== \"\") {\n        const file = AuthContext._currentValue.file;\n        const config = {\n          bucketName: this.context.creds.s3.bucketName,\n          dirName: treatmentAttachmentPath,\n          region: this.context.creds.s3.region,\n          accessKeyId: this.context.creds.s3.accessKeyId,\n          secretAccessKey: this.context.creds.s3.secretAccessKey\n        };\n        const ReactS3Client = new S3(config);\n        const newFileName = file.name;\n        const treatmentAttachmentName = newFileName;\n        this.setState({\n          userAlert: \"uploading attachment ...\"\n        });\n        ReactS3Client.uploadFile(file, newFileName).then(data => {\n          console.log(data);\n          this.setState({\n            userAlert: \"attachment upload success!\"\n          });\n        }).catch(err => {\n          console.error(err);\n          this.setState({\n            userAlert: \"upload error:  \" + err\n          });\n        });\n      }\n\n      const requestBody = {\n        query: `\n      mutation {updatePatientTreatment(userId:\"${userId}\",patientId:\"${selectedPatientId}\",patientInput:{treatmentDate:\"${treatmentDate}\",treatmentTitle:\"${treatmentTitle}\",treatmentType:\"${treatmentType}\",treatmentDescription:\"${treatmentDescription}\",treatmentDose:\"${treatmentDose}\",treatmentFrequency:\"${treatmentFrequency}\",treatmentAttachmentName:\"${treatmentAttachmentName}\",treatmentAttachmentFormat:\"${treatmentAttachmentFormat}\",treatmentAttachmentPath:\"${treatmentAttachmentPath}\"})\n      {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        const updatedPatientId = resData.data.updatePatientTreatment._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.updatePatientTreatment);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.fetchPatients();\n        this.setState({\n          userAlert: responseAlert,\n          selectedPatient: resData.data.updatePatientTreatment\n        });\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        });\n      });\n    };\n\n    this.updatePatientBillingHandler = event => {\n      event.preventDefault();\n      const token = this.context.token;\n      const userId = this.context.userId;\n      const selectedPatientId = this.context.selectedPatient._id;\n      this.setState({\n        updating: false,\n        patientUpdateField: null,\n        userAlert: \"Adding selected Patient Billing...\"\n      });\n      let billingDate = null;\n\n      if (event.target.formGridBillingDate !== null) {\n        billingDate = event.target.formGridBillingDate.value;\n      }\n\n      if (event.target.formGridBillingDateTodayCheckbox.checked === true) {\n        billingDate = new Date().toISOString().slice(0, 10);\n      }\n\n      if (event.target.patientBillingCalendarDate.value !== null && event.target.formGridBillingDateTodayCheckbox.checked !== true) {\n        console.log(\"fancyDate2\", new Date(event.target.patientBillingCalendarDate.value).toISOString().slice(0, 10));\n        billingDate = new Date(event.target.patientBillingCalendarDate.value).toISOString().slice(0, 10);\n      }\n\n      const billingTitle = event.target.formGridBillingTitle.value;\n      const billingType = event.target.formGridBillingType.value;\n      const billingDescription = event.target.formGridBillingDescription.value;\n      const billingAmount = event.target.formGridBillingAmount.value;\n      const billingPaid = event.target.formGridBillingPaid.value;\n      const billingNotes = event.target.formGridBillingNotes.value;\n      const billingAttachmentFormat = event.target.formGridBillingAttachmentFormat.value;\n      const billingAttachmentPath = \"uploads/patients/\" + selectedPatientId + \"/billing\";\n      let billingAttachmentName = null;\n\n      if (event.target.fileInput.value !== null || event.target.fileInput.value !== \"\") {\n        const file = AuthContext._currentValue.file;\n        const config = {\n          bucketName: this.context.creds.s3.bucketName,\n          dirName: billingAttachmentPath,\n          region: this.context.creds.s3.region,\n          accessKeyId: this.context.creds.s3.accessKeyId,\n          secretAccessKey: this.context.creds.s3.secretAccessKey\n        };\n        const ReactS3Client = new S3(config);\n        const newFileName = file.name;\n        billingAttachmentName = newFileName;\n        this.setState({\n          userAlert: \"uploading attachment ...\"\n        });\n        ReactS3Client.uploadFile(file, newFileName).then(data => {\n          console.log(data);\n          this.setState({\n            userAlert: \"attachment upload success!\"\n          });\n        }).catch(err => {\n          console.error(err);\n          this.setState({\n            userAlert: \"upload error:  \" + err\n          });\n        });\n      }\n\n      const requestBody = {\n        query: `\n      mutation {updatePatientBilling(userId:\"${userId}\", patientId:\"${selectedPatientId}\",patientInput:{billingDate:\"${billingDate}\",billingTitle:\"${billingTitle}\",billingType:\"${billingType}\",billingDescription:\"${billingDescription}\",billingAmount:${billingAmount},billingPaid:${billingPaid},billingNotes:\"${billingNotes}\",billingAttachmentName:\"${billingAttachmentName}\",billingAttachmentFormat:\"${billingAttachmentFormat}\",billingAttachmentPath:\"${billingAttachmentPath}\"})\n      {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        const updatedPatientId = resData.data.updatePatientBilling._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.updatePatientBilling);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.fetchPatients();\n        this.setState({\n          userAlert: responseAlert,\n          selectedPatient: resData.data.updatePatientBilling\n        });\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        });\n      });\n    };\n\n    this.updatePatientVigilanceHandler = event => {\n      event.preventDefault();\n      const token = this.context.token;\n      const userId = this.context.userId;\n      const selectedPatientId = this.context.selectedPatient._id;\n      this.setState({\n        updating: false,\n        patientUpdateField: null,\n        userAlert: \"Adding selected Patient Vigilance...\"\n      });\n      let vigilanceDate = null;\n\n      if (event.target.formGridVigilanceDate) {\n        vigilanceDate = event.target.formGridVigilanceDate.value;\n      }\n\n      if (event.target.formGridVigilanceDateTodayCheckbox.checked === true) {\n        vigilanceDate = new Date().toISOString().slice(0, 10);\n      }\n\n      if (event.target.patientVigilanceCalendarDate.value !== null && event.target.formGridVigilanceDateTodayCheckbox.checked !== true) {\n        console.log(\"fancyDate2\", new Date(event.target.patientVigilanceCalendarDate.value).toISOString().slice(0, 10));\n        vigilanceDate = new Date(event.target.patientVigilanceCalendarDate.value).toISOString().slice(0, 10);\n      }\n\n      const vigilanceChronicIllnessDiabetesMedication = event.target.formGridVigilanceChronicIllnessDiabetesMedication.checked;\n      const vigilanceChronicIllnessDiabetesTesting = event.target.formGridVigilanceChronicIllnessDiabetesTesting.checked;\n      const vigilanceChronicIllnessDiabetesComment = event.target.formGridVigilanceChronicIllnessDiabetesComment.value;\n      const vigilanceChronicIllnessHbpMedication = event.target.formGridVigilanceChronicIllnessHbpMedication.checked;\n      const vigilanceChronicIllnessHbpTesting = event.target.formGridVigilanceChronicIllnessHbpTesting.checked;\n      const vigilanceChronicIllnessHbpComment = event.target.formGridVigilanceChronicIllnessHbpComment.value;\n      const vigilanceChronicIllnessDyslipidemiaMedication = event.target.formGridVigilanceChronicIllnessDyslipidemiaMedication.checked;\n      const vigilanceChronicIllnessDyslipidemiaTesting = event.target.formGridVigilanceChronicIllnessDyslipidemiaTesting.checked;\n      const vigilanceChronicIllnessDyslipidemiaComment = event.target.formGridVigilanceChronicIllnessDyslipidemiaComment.value;\n      const vigilanceChronicIllnessCadMedication = event.target.formGridVigilanceChronicIllnessCadMedication.checked;\n      const vigilanceChronicIllnessCadTesting = event.target.formGridVigilanceChronicIllnessCadTesting.checked;\n      const vigilanceChronicIllnessCadComment = event.target.formGridVigilanceChronicIllnessCadComment.value;\n      const vigilanceLifestyleWeightMedication = event.target.formGridVigilanceLifestyleWeightMedication.checked;\n      const vigilanceLifestyleWeightTesting = event.target.formGridVigilanceLifestyleWeightTesting.checked;\n      const vigilanceLifestyleWeightComment = event.target.formGridVigilanceLifestyleWeightComment.value;\n      const vigilanceLifestyleDietMedication = event.target.formGridVigilanceLifestyleDietMedication.checked;\n      const vigilanceLifestyleDietTesting = event.target.formGridVigilanceLifestyleDietTesting.checked;\n      const vigilanceLifestyleDietComment = event.target.formGridVigilanceLifestyleDietComment.value;\n      const vigilanceLifestyleSmokingMedication = event.target.formGridVigilanceLifestyleSmokingMedication.checked;\n      const vigilanceLifestyleSmokingTesting = event.target.formGridVigilanceLifestyleSmokingTesting.checked;\n      const vigilanceLifestyleSmokingComment = event.target.formGridVigilanceLifestyleSmokingComment.value;\n      const vigilanceLifestyleSubstanceAbuseMedication = event.target.formGridVigilanceLifestyleSubstanceAbuseMedication.checked;\n      const vigilanceLifestyleSubstanceAbuseTesting = event.target.formGridVigilanceLifestyleSubstanceAbuseTesting.checked;\n      const vigilanceLifestyleSubstanceAbuseComment = event.target.formGridVigilanceLifestyleSubstanceAbuseComment.value;\n      const vigilanceLifestyleExerciseMedication = event.target.formGridVigilanceLifestyleExerciseMedication.checked;\n      const vigilanceLifestyleExerciseTesting = event.target.formGridVigilanceLifestyleExerciseTesting.checked;\n      const vigilanceLifestyleExerciseComment = event.target.formGridVigilanceLifestyleExerciseComment.value;\n      const vigilanceLifestyleAllergiesMedication = event.target.formGridVigilanceLifestyleAllergiesMedication.checked;\n      const vigilanceLifestyleAllergiesTesting = event.target.formGridVigilanceLifestyleAllergiesTesting.checked;\n      const vigilanceLifestyleAllergiesComment = event.target.formGridVigilanceLifestyleAllergiesComment.value;\n      const vigilanceLifestyleAsthmaMedication = event.target.formGridVigilanceLifestyleAsthmaMedication.checked;\n      const vigilanceLifestyleAsthmaTesting = event.target.formGridVigilanceLifestyleAsthmaTesting.checked;\n      const vigilanceLifestyleAsthmaComment = event.target.formGridVigilanceLifestyleAsthmaComment.value;\n      const vigilanceScreeningBreastMedication = event.target.formGridVigilanceScreeningBreastMedication.checked;\n      const vigilanceScreeningBreastTesting = event.target.formGridVigilanceScreeningBreastTesting.checked;\n      const vigilanceScreeningBreastComment = event.target.formGridVigilanceScreeningBreastComment.value;\n      const vigilanceScreeningProstateMedication = event.target.formGridVigilanceScreeningProstateMedication.checked;\n      const vigilanceScreeningProstateTesting = event.target.formGridVigilanceScreeningProstateTesting.checked;\n      const vigilanceScreeningProstateComment = event.target.formGridVigilanceScreeningProstateComment.value;\n      const vigilanceScreeningCervixMedication = event.target.formGridVigilanceScreeningCervixMedication.checked;\n      const vigilanceScreeningCervixTesting = event.target.formGridVigilanceScreeningCervixTesting.checked;\n      const vigilanceScreeningCervixComment = event.target.formGridVigilanceScreeningCervixComment.value;\n      const vigilanceScreeningColonMedication = event.target.formGridVigilanceScreeningColonMedication.checked;\n      const vigilanceScreeningColonTesting = event.target.formGridVigilanceScreeningColonTesting.checked;\n      const vigilanceScreeningColonComment = event.target.formGridVigilanceScreeningColonComment.value;\n      const vigilanceScreeningDentalMedication = event.target.formGridVigilanceScreeningDentalMedication.checked;\n      const vigilanceScreeningDentalTesting = event.target.formGridVigilanceScreeningDentalTesting.checked;\n      const vigilanceScreeningDentalComment = event.target.formGridVigilanceScreeningDentalComment.value;\n      const vigilanceVaccinesInfluenzaMedication = event.target.formGridVigilanceVaccinesInfluenzaMedication.checked;\n      const vigilanceVaccinesInfluenzaTesting = event.target.formGridVigilanceVaccinesInfluenzaTesting.checked;\n      const vigilanceVaccinesInfluenzaComment = event.target.formGridVigilanceVaccinesInfluenzaComment.value;\n      const vigilanceVaccinesVaricellaMedication = event.target.formGridVigilanceVaccinesVaricellaMedication.checked;\n      const vigilanceVaccinesVaricellaTesting = event.target.formGridVigilanceVaccinesVaricellaTesting.checked;\n      const vigilanceVaccinesVaricellaComment = event.target.formGridVigilanceVaccinesVaricellaComment.value;\n      const vigilanceVaccinesHpvMedication = event.target.formGridVigilanceVaccinesHpvMedication.checked;\n      const vigilanceVaccinesHpvTesting = event.target.formGridVigilanceVaccinesHpvTesting.checked;\n      const vigilanceVaccinesHpvComment = event.target.formGridVigilanceVaccinesHpvComment.value;\n      const vigilanceVaccinesMmrMedication = event.target.formGridVigilanceVaccinesMmrMedication.checked;\n      const vigilanceVaccinesMmrTesting = event.target.formGridVigilanceVaccinesMmrTesting.checked;\n      const vigilanceVaccinesMmrComment = event.target.formGridVigilanceVaccinesMmrComment.value;\n      const vigilanceVaccinesTetanusMedication = event.target.formGridVigilanceVaccinesTetanusMedication.checked;\n      const vigilanceVaccinesTetanusTesting = event.target.formGridVigilanceVaccinesTetanusTesting.checked;\n      const vigilanceVaccinesTetanusComment = event.target.formGridVigilanceVaccinesTetanusComment.value;\n      const vigilanceVaccinesPneumovaxMedication = event.target.formGridVigilanceVaccinesPneumovaxMedication.checked;\n      const vigilanceVaccinesPneumovaxTesting = event.target.formGridVigilanceVaccinesPneumovaxTesting.checked;\n      const vigilanceVaccinesPneumovaxComment = event.target.formGridVigilanceVaccinesPneumovaxComment.value;\n      const vigilanceVaccinesOtherName = event.target.formGridVigilanceVaccinesOtherName.value;\n      const vigilanceVaccinesOtherMedication = event.target.formGridVigilanceVaccinesOtherMedication.checked;\n      const vigilanceVaccinesOtherTesting = event.target.formGridVigilanceVaccinesOtherTesting.checked;\n      const vigilanceVaccinesOtherComment = event.target.formGridVigilanceVaccinesOtherComment.value;\n      const requestBody = {\n        query: `\n      mutation {updatePatientVigilance(userId:\"${userId}\", patientId:\"${selectedPatientId}\",patientInput:{\n        vigilanceDate:\"${vigilanceDate}\",\n        vigilanceChronicIllnessDiabetesMedication: ${vigilanceChronicIllnessDiabetesMedication},\n        vigilanceChronicIllnessDiabetesTesting: ${vigilanceChronicIllnessDiabetesTesting},\n        vigilanceChronicIllnessDiabetesComment: \"${vigilanceChronicIllnessDiabetesComment}\",\n        vigilanceChronicIllnessHbpMedication: ${vigilanceChronicIllnessHbpMedication},\n        vigilanceChronicIllnessHbpTesting: ${vigilanceChronicIllnessHbpTesting},\n        vigilanceChronicIllnessHbpComment: \"${vigilanceChronicIllnessHbpComment}\",\n        vigilanceChronicIllnessDyslipidemiaMedication: ${vigilanceChronicIllnessDyslipidemiaMedication},\n        vigilanceChronicIllnessDyslipidemiaTesting: ${vigilanceChronicIllnessDyslipidemiaTesting},\n        vigilanceChronicIllnessDyslipidemiaComment: \"${vigilanceChronicIllnessDyslipidemiaComment}\",\n        vigilanceChronicIllnessCadMedication: ${vigilanceChronicIllnessCadMedication},\n        vigilanceChronicIllnessCadTesting: ${vigilanceChronicIllnessCadTesting},\n        vigilanceChronicIllnessCadComment: \"${vigilanceChronicIllnessCadComment}\",\n        vigilanceLifestyleWeightMedication: ${vigilanceLifestyleWeightMedication},\n        vigilanceLifestyleWeightTesting: ${vigilanceLifestyleWeightTesting},\n        vigilanceLifestyleWeightComment: \"${vigilanceLifestyleWeightComment}\",\n        vigilanceLifestyleDietMedication: ${vigilanceLifestyleDietMedication},\n        vigilanceLifestyleDietTesting: ${vigilanceLifestyleDietTesting},\n        vigilanceLifestyleDietComment: \"${vigilanceLifestyleDietComment}\",\n        vigilanceLifestyleSmokingMedication: ${vigilanceLifestyleSmokingMedication},\n        vigilanceLifestyleSmokingTesting: ${vigilanceLifestyleSmokingTesting},\n        vigilanceLifestyleSmokingComment: \"${vigilanceLifestyleSmokingComment}\",\n        vigilanceLifestyleSubstanceAbuseMedication: ${vigilanceLifestyleSubstanceAbuseMedication},\n        vigilanceLifestyleSubstanceAbuseTesting: ${vigilanceLifestyleSubstanceAbuseTesting},\n        vigilanceLifestyleSubstanceAbuseComment: \"${vigilanceLifestyleSubstanceAbuseComment}\",\n        vigilanceLifestyleExerciseMedication: ${vigilanceLifestyleExerciseMedication},\n        vigilanceLifestyleExerciseTesting: ${vigilanceLifestyleExerciseTesting},\n        vigilanceLifestyleExerciseComment: \"${vigilanceLifestyleExerciseComment}\",\n        vigilanceLifestyleAllergiesMedication: ${vigilanceLifestyleAllergiesMedication},\n        vigilanceLifestyleAllergiesTesting: ${vigilanceLifestyleAllergiesTesting},\n        vigilanceLifestyleAllergiesComment: \"${vigilanceLifestyleAllergiesComment}\",\n        vigilanceLifestyleAsthmaMedication: ${vigilanceLifestyleAsthmaMedication},\n        vigilanceLifestyleAsthmaTesting: ${vigilanceLifestyleAsthmaTesting},\n        vigilanceLifestyleAsthmaComment: \"${vigilanceLifestyleAsthmaComment}\",\n        vigilanceScreeningBreastMedication: ${vigilanceScreeningBreastMedication},\n        vigilanceScreeningBreastTesting: ${vigilanceScreeningBreastTesting},\n        vigilanceScreeningBreastComment: \"${vigilanceScreeningBreastComment}\",\n        vigilanceScreeningProstateMedication: ${vigilanceScreeningProstateMedication},\n        vigilanceScreeningProstateTesting: ${vigilanceScreeningProstateTesting},\n        vigilanceScreeningProstateComment: \"${vigilanceScreeningProstateComment}\",\n        vigilanceScreeningCervixMedication: ${vigilanceScreeningCervixMedication},\n        vigilanceScreeningCervixTesting: ${vigilanceScreeningCervixTesting},\n        vigilanceScreeningCervixComment: \"${vigilanceScreeningCervixComment}\",\n        vigilanceScreeningColonMedication: ${vigilanceScreeningColonMedication},\n        vigilanceScreeningColonTesting: ${vigilanceScreeningColonTesting},\n        vigilanceScreeningColonComment: \"${vigilanceScreeningColonComment}\",\n        vigilanceScreeningDentalMedication: ${vigilanceScreeningDentalMedication},\n        vigilanceScreeningDentalTesting: ${vigilanceScreeningDentalTesting},\n        vigilanceScreeningDentalComment: \"${vigilanceScreeningDentalComment}\",\n        vigilanceVaccinesInfluenzaMedication: ${vigilanceVaccinesInfluenzaMedication},\n        vigilanceVaccinesInfluenzaTesting: ${vigilanceVaccinesInfluenzaTesting},\n        vigilanceVaccinesInfluenzaComment: \"${vigilanceVaccinesInfluenzaComment}\",\n        vigilanceVaccinesVaricellaMedication: ${vigilanceVaccinesVaricellaMedication},\n        vigilanceVaccinesVaricellaTesting: ${vigilanceVaccinesVaricellaTesting},\n        vigilanceVaccinesVaricellaComment: \"${vigilanceVaccinesVaricellaComment}\",\n        vigilanceVaccinesHpvMedication: ${vigilanceVaccinesHpvMedication},\n        vigilanceVaccinesHpvTesting: ${vigilanceVaccinesHpvTesting},\n        vigilanceVaccinesHpvComment: \"${vigilanceVaccinesHpvComment}\",\n        vigilanceVaccinesMmrMedication: ${vigilanceVaccinesMmrMedication},\n        vigilanceVaccinesMmrTesting: ${vigilanceVaccinesMmrTesting},\n        vigilanceVaccinesMmrComment: \"${vigilanceVaccinesMmrComment}\",\n        vigilanceVaccinesTetanusMedication: ${vigilanceVaccinesTetanusMedication},\n        vigilanceVaccinesTetanusTesting: ${vigilanceVaccinesTetanusTesting},\n        vigilanceVaccinesTetanusComment: \"${vigilanceVaccinesTetanusComment}\",\n        vigilanceVaccinesPneumovaxMedication: ${vigilanceVaccinesPneumovaxMedication},\n        vigilanceVaccinesPneumovaxTesting: ${vigilanceVaccinesPneumovaxTesting},\n        vigilanceVaccinesPneumovaxComment: \"${vigilanceVaccinesPneumovaxComment}\",\n        vigilanceVaccinesOtherName: \"${vigilanceVaccinesOtherName}\",\n        vigilanceVaccinesOtherMedication: ${vigilanceVaccinesOtherMedication},\n        vigilanceVaccinesOtherTesting: ${vigilanceVaccinesOtherTesting},\n        vigilanceVaccinesOtherComment: \"${vigilanceVaccinesOtherComment}\"})\n        {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        const updatedPatientId = resData.data.updatePatientVigilance._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.updatePatientVigilance);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.fetchPatients();\n        this.setState({\n          userAlert: responseAlert,\n          selectedPatient: resData.data.updatePatientVigilance\n        });\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        });\n      });\n    };\n\n    this.updatePatientAttachmentHandler = event => {\n      const token = this.context.token;\n      const userId = this.context.userId;\n      const selectedPatientId = this.context.selectedPatient._id;\n      this.setState({\n        updating: false,\n        patientUpdateField: null,\n        userAlert: \"Adding selected Patient Attachment...\"\n      });\n      const attachmentFormat = event.target.formGridPatientAttachmentFormat.value;\n      const attachmentPath = \"uploads/patients/\" + selectedPatientId + \"/attachments\";\n      let attachmentName = null;\n\n      if (event.target.fileInput.value !== null || event.target.fileInput.value !== \"\") {\n        let file = AuthContext._currentValue.file;\n        const config = {\n          bucketName: this.context.creds.s3.bucketName,\n          dirName: attachmentPath,\n          region: this.context.creds.s3.region,\n          accessKeyId: this.context.creds.s3.accessKeyId,\n          secretAccessKey: this.context.creds.s3.secretAccessKey\n        };\n        const ReactS3Client = new S3(config);\n        const newFileName = file.name;\n        attachmentName = newFileName;\n        this.setState({\n          userAlert: \"uploading attachment ...\"\n        });\n        ReactS3Client.uploadFile(file, newFileName).then(data => {\n          console.log(data);\n          this.setState({\n            userAlert: \"attachment upload success!\"\n          });\n        }).catch(err => {\n          console.error(err);\n          this.setState({\n            userAlert: \"upload error:  \" + err\n          });\n        });\n      }\n\n      if (attachmentName.trim().length === 0 || attachmentFormat.trim().length === 0 || attachmentPath.trim().length === 0) {\n        this.setState({\n          userAlert: \"blank fields detected!!!...Please try again...\"\n        });\n        return;\n      }\n\n      const requestBody = {\n        query: `\n            mutation {updatePatientAttachment(userId:\"${userId}\",patientId:\"${selectedPatientId}\",patientInput:{attachmentName:\"${attachmentName}\",attachmentFormat:\"${attachmentFormat}\",attachmentPath:\"${attachmentPath}\"})\n            {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},attachments{name,format,path},notes,tags}}\n          `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        const updatedPatientId = resData.data.updatePatientAttachment._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.updatePatientAttachment);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.fetchPatients();\n        this.setState({\n          userAlert: responseAlert,\n          selectedPatient: resData.data.updatePatientAttachment\n        });\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        });\n      });\n    };\n\n    this.updatePatientNoteHandler = event => {\n      const token = this.context.token;\n      const userId = this.context.userId;\n      const selectedPatientId = this.context.selectedPatient._id;\n      this.setState({\n        updating: false,\n        patientUpdateField: null,\n        userAlert: \"Adding selected Patient Note ...\"\n      });\n      const note = event.target.formGridNote.value;\n\n      if (note.trim().length === 0) {\n        this.setState({\n          userAlert: \"Can't Submit a blank form!!!...Please try again...\"\n        });\n        return;\n      }\n\n      const requestBody = {\n        query: `\n          mutation {updatePatientNotes(userId:\"${userId}\",patientId:\"${selectedPatientId}\",patientInput:{notes:\"${note}\"})\n          {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n      `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        const updatedPatientId = resData.data.updatePatientNotes._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.updatePatientNotes);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.fetchPatients();\n        this.setState({\n          userAlert: responseAlert,\n          selectedPatient: resData.data.updatePatientNotes\n        });\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        });\n      });\n    };\n\n    this.updatePatientTagHandler = event => {\n      const token = this.context.token;\n      const userId = this.context.userId;\n      const selectedPatientId = this.context.selectedPatient._id;\n      this.setState({\n        updating: false,\n        patientUpdateField: null,\n        userAlert: \"Adding selected Patient Tag...\"\n      });\n      const tag = event.target.formGridTag.value;\n\n      if (tag.trim().length === 0) {\n        console.log(\"Can't Submit a blank form!!!...Please try again...\");\n        this.setState({\n          userAlert: \"Can't Submit a blank form!!!...Please try again...\"\n        });\n        return;\n      }\n\n      const requestBody = {\n        query: `\n          mutation {updatePatientTags(userId:\"${userId}\",patientId:\"${selectedPatientId}\",patientInput:{tag:\"${tag}\"})\n          {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n      `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        const updatedPatientId = resData.data.updatePatientTags._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.updatePatientTags);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.fetchPatients();\n        this.setState({\n          userAlert: responseAlert,\n          selectedPatient: resData.data.updatePatientTags\n        });\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        });\n      });\n    };\n\n    this.modalConfirmSearchHandler = event => {\n      const userId = this.context.userId;\n      const token = this.context.token;\n      this.setState({\n        searching: false,\n        userAlert: \"Now Searching Patients...\"\n      });\n      let field = null;\n      const query = event.target.formBasicQuery.value;\n\n      if (event.target.formBasicFieldSelect.value === \"select\") {\n        field = event.target.formBasicField.value;\n      } else {\n        field = event.target.formBasicFieldSelect.value;\n      }\n\n      this.setState({\n        patientSearchField: field,\n        patientSearchQuery: query\n      });\n\n      if (field.trim().length === 0 || query.trim().length === 0) {\n        this.setState({\n          userAlert: \"blank fields detected!!!...Please try again...\"\n        });\n        return;\n      }\n\n      const requestBody = {\n        query: `\n      query {\n        getPatientField(userId: \"${userId}\", field: \"${field}\", query: \"${query}\" )\n        {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        const responseAlert = JSON.stringify(resData.data).slice(2, 15);\n        const searchPatients = resData.data.getPatientField;\n        this.setState({\n          searchPatients: searchPatients,\n          userAlert: responseAlert\n        }); // this.fetchPatients();\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        });\n      });\n    };\n\n    this.modalConfirmSearchIdHandler = event => {\n      const userId = this.context.userId;\n      this.setState({\n        searching: false,\n        userAlert: \"Searching Patients by Id...\"\n      });\n      const patientId = event.target.formBasicId.value;\n      const requestBody = {\n        query: `\n      query {getPatientId(userId:\"${userId}\",patientId:\"${patientId}\")\n      {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n      };\n      const token = this.context.token;\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        const searchPatients = resData.data.getPatientId;\n        this.setState({\n          searchPatients: [searchPatients],\n          userAlert: responseAlert\n        });\n        console.log(\"state.searchPatients:  \", this.state.searchPatients); // this.fetchUsers();\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        });\n      });\n    };\n\n    this.modalConfirmSearchNameHandler = event => {\n      this.setState({\n        searching: false,\n        userAlert: \"Searching Patients by Name...\"\n      });\n      const patients = this.state.patients;\n      const regex = new RegExp(event.target.formBasicName.value, \"i\");\n      let result = patients.filter(patient => patient.name.match(regex));\n      this.setState({\n        searchPatients: result\n      });\n    };\n\n    this.getPatientVisit = event => {\n      const selectedPatient = this.state.selectedPatient;\n      event.preventDefault();\n      let visitDate = new Date(event.target.formBasicVisitDate.value).toISOString().substring(0, 10);\n      let visitSurveys = selectedPatient.surveys.filter(x => new Date(x.date.substr(0, 10) * 1000).toISOString().substring(0, 10) === visitDate);\n      let visitConsultants = selectedPatient.consultant.filter(x => new Date(x.date.substr(0, 10) * 1000).toISOString().substring(0, 10) === visitDate);\n      let visitComplaints = selectedPatient.complaints.filter(x => new Date(x.date.substr(0, 10) * 1000).toISOString().substring(0, 10) === visitDate); // let visitSurveys = selectedPatient.surveys.filter(x=> new Date(x.date.substr(0,10)*1000).toISOString() === visitDate);\n\n      let visitSystematicInquiry = selectedPatient.systematicInquiry.filter(x => new Date(x.date.substr(0, 10) * 1000).toISOString().substring(0, 10) === visitDate);\n      let visitVitals = selectedPatient.vitals.filter(x => new Date(x.date.substr(0, 10) * 1000).toISOString().substring(0, 10) === visitDate);\n      let visitExaminations = selectedPatient.examination.filter(x => new Date(x.date.substr(0, 10) * 1000).toISOString().substring(0, 10) === visitDate);\n      let visitHistory = selectedPatient.history.filter(x => new Date(x.date.substr(0, 10) * 1000).toISOString().substring(0, 10) === visitDate);\n      let visitInvestigations = selectedPatient.investigation.filter(x => new Date(x.date.substr(0, 10) * 1000).toISOString().substring(0, 10) === visitDate);\n      let visitDiagnosis = selectedPatient.diagnosis.filter(x => new Date(x.date.substr(0, 10) * 1000).toISOString().substring(0, 10) === visitDate);\n      let visitTreatments = selectedPatient.treatment.filter(x => new Date(x.date.substr(0, 10) * 1000).toISOString().substring(0, 10) === visitDate);\n      let visitBilling = selectedPatient.billing.filter(x => new Date(x.date.substr(0, 10) * 1000).toISOString().substring(0, 10) === visitDate);\n      let visitVigilance = selectedPatient.vigilance.filter(x => new Date(x.date.substr(0, 10) * 1000).toISOString().substring(0, 10) === visitDate);\n      const visit = {\n        date: visitDate,\n        patientName: this.context.selectedPatient.name,\n        consultant: visitConsultants,\n        complaint: visitComplaints,\n        examination: visitExaminations,\n        survey: visitSurveys,\n        systematicInquiry: visitSystematicInquiry,\n        vitals: visitVitals,\n        history: visitHistory,\n        investigation: visitInvestigations,\n        diagnosis: visitDiagnosis,\n        treatment: visitTreatments,\n        billing: visitBilling,\n        vigilance: visitVigilance\n      };\n      this.setState({\n        visit: visit\n      });\n    };\n\n    this.getVisitList = () => {\n      const selectedPatient = this.state.selectedPatient;\n      const patientName = this.state.selectedPatient.name;\n      let selectedPatientAppointmentDateArray = [];\n      let selectedPatientAppointmentVisitArray = [];\n      let selectedPatientAppointments = this.state.selectedPatient.appointments.map(appointments => {\n        selectedPatientAppointmentDateArray.push(new Date(appointments.date.substr(0, 10) * 1000).toISOString().substring(0, 10));\n      });\n      selectedPatientAppointmentDateArray.map(appointmentDate => {\n        thisGetVisit(appointmentDate, patientName);\n      });\n\n      function thisGetVisit(argsDate, argsPatientName) {\n        const visitDate = argsDate;\n        const visitSurveys = selectedPatient.surveys.filter(x => new Date(x.date.substr(0, 10) * 1000).toISOString().substring(0, 10) === visitDate);\n        const visitConsultants = selectedPatient.consultant.filter(x => new Date(x.date.substr(0, 10) * 1000).toISOString().substring(0, 10) === visitDate);\n        const visitComplaints = selectedPatient.complaints.filter(x => new Date(x.date.substr(0, 10) * 1000).toISOString().substring(0, 10) === visitDate); // let visitSurveys = selectedPatient.surveys.filter(x=> new Date(x.date.substr(0,10)*1000).toISOString() === visitDate);\n\n        const visitVitals = selectedPatient.vitals.filter(x => new Date(x.date.substr(0, 10) * 1000).toISOString().substring(0, 10) === visitDate);\n        const visitSystematicInquiry = selectedPatient.systematicInquiry.filter(x => new Date(x.date.substr(0, 10) * 1000).toISOString().substring(0, 10) === visitDate);\n        const visitExaminations = selectedPatient.examination.filter(x => new Date(x.date.substr(0, 10) * 1000).toISOString().substring(0, 10) === visitDate);\n        const visitHistory = selectedPatient.history.filter(x => new Date(x.date.substr(0, 10) * 1000).toISOString().substring(0, 10) === visitDate);\n        const visitInvestigations = selectedPatient.investigation.filter(x => new Date(x.date.substr(0, 10) * 1000).toISOString().substring(0, 10) === visitDate);\n        const visitDiagnosis = selectedPatient.diagnosis.filter(x => new Date(x.date.substr(0, 10) * 1000).toISOString().substring(0, 10) === visitDate);\n        const visitTreatments = selectedPatient.treatment.filter(x => new Date(x.date.substr(0, 10) * 1000).toISOString().substring(0, 10) === visitDate);\n        const visitBilling = selectedPatient.billing.filter(x => new Date(x.date.substr(0, 10) * 1000).toISOString().substring(0, 10) === visitDate);\n        const visitVigilance = selectedPatient.vigilance.filter(x => new Date(x.date.substr(0, 10) * 1000).toISOString().substring(0, 10) === visitDate);\n        const visit = {\n          date: visitDate,\n          patientName: argsPatientName,\n          consultant: visitConsultants,\n          complaint: visitComplaints,\n          examination: visitExaminations,\n          survey: visitSurveys,\n          systematicInquiry: visitSystematicInquiry,\n          vitals: visitVitals,\n          history: visitHistory,\n          investigation: visitInvestigations,\n          diagnosis: visitDiagnosis,\n          treatment: visitTreatments,\n          billing: visitBilling,\n          vigilance: visitVigilance\n        };\n        selectedPatientAppointmentVisitArray.push(visit);\n      }\n\n      this.setState({\n        visitList: selectedPatientAppointmentVisitArray\n      });\n    };\n\n    this.getVisitListAsc = () => {\n      let list = this.state.visitList;\n      list.sort((a, b) => {\n        if (a.date < b.date) return -1;\n        return a.date > b.date ? 1 : 0;\n      });\n      this.setState({\n        visitList: list\n      });\n    };\n\n    this.getVisitListDesc = () => {\n      let list = this.state.visitList;\n      list.sort((a, b) => {\n        if (a.date < b.date) return 1;\n        return a.date > b.date ? -1 : 0;\n      });\n      this.setState({\n        visitList: list\n      });\n    };\n\n    this.modalCancelHandler = () => {\n      this.setState({\n        creating: false,\n        updating: false,\n        searching: false,\n        selectedPatient: null\n      });\n    };\n\n    this.fetchPatientsAsc = () => {\n      const userId = this.context.userId;\n      const token = this.context.token; // this.setState({ isLoading: true });\n\n      const requestBody = {\n        query: `\n          query {patientsNameAsc(userId:\"${userId}\")\n          {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n        `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        const patients = resData.data.patientsNameAsc;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.setState({\n          userAlert: responseAlert\n        });\n        this.context.patients = patients;\n        this.setState({\n          patients: patients\n        }); // if (this.isActive) {\n        //   this.setState({ patients: patients, isLoading: false });\n        // }\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        }); // if (this.isActive) {\n        //   this.setState({ isLoading: false });\n        // }\n      });\n    };\n\n    this.fetchPatientsDesc = () => {\n      const userId = this.context.userId;\n      const token = this.context.token; // this.setState({ isLoading: true });\n\n      const requestBody = {\n        query: `\n          query {patientsNameDesc(userId:\"${userId}\")\n          {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n        `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        const patients = resData.data.patientsNameDesc;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.setState({\n          userAlert: responseAlert\n        });\n        this.context.patients = patients; // if (this.isActive) {\n        //   this.setState({ patients: patients, isLoading: false });\n        // }\n\n        this.setState({\n          patients: patients\n        });\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        }); // if (this.isActive) {\n        //   this.setState({ isLoading: false });\n        // }\n      });\n    };\n\n    this.modalDeleteHandler = () => {\n      const selectedPatientId = this.context.selectedPatient._id;\n      const userId = this.context.selectedUser._id;\n\n      if (this.context.user.role !== 'admin') {\n        this.setState({\n          userAlert: \"Not the Admin! No edit permission!!\"\n        });\n      }\n\n      this.setState({\n        deleting: true,\n        userAlert: \"Deleting selected Patient...\"\n      });\n      const requestBody = {\n        query: `\n          mutation {deletePatient(userId:\"${userId}\",patientId:\"${selectedPatientId}\")\n          {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n        `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + this.context.token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        let deletedPatient = resData.data.deletePatient;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.setState({\n          userAlert: responseAlert\n        });\n        let deletedPatientId = deletedPatient._id;\n        deletedPatient = this.state.patients.find(e => e._id === deletedPatientId);\n        const deletedPatientPos = this.state.patients.indexOf(deletedPatient);\n        const slicedArray = this.state.patients.splice(deletedPatientPos, 1);\n        this.setState({\n          deleting: false\n        });\n        this.fetchPatients();\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        });\n\n        if (this.isActive) {\n          this.setState({\n            deleting: false\n          });\n        }\n      });\n    };\n\n    this.deletePatientInsuranceItem = props => {\n      const token = this.context.token;\n      const userId = this.context.userId;\n      const patientId = this.state.selectedPatient._id;\n      const requestBody = {\n        query: `\n       mutation {deletePatientInsurance (userId:\"${userId}\", patientId:\"${patientId}\",insuranceCompany:\"${props.company}\",insuranceNumber:\"${props.number}\")\n       {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        let deletedPatient = resData.data.deletePatientInsurance;\n        const updatedPatientId = resData.data.deletePatientInsurance._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.deletePatientInsurance);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.setState({\n          userAlert: responseAlert\n        });\n        this.fetchPatients();\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        });\n      });\n    };\n\n    this.deletePatientAppointmentItem = props => {\n      const token = this.context.token;\n      const userId = this.context.userId;\n      const patientId = this.state.selectedPatient._id;\n      const date = new Date(props.date.substr(0, 10) * 1000).toISOString().slice(0, 10);\n      const requestBody = {\n        query: `\n         mutation {deletePatientAppointment (userId:\"${userId}\", patientId:\"${patientId}\",appointmentId:\"${props._id}\",appointmentDate:\"${date}\")\n         {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n      `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        let deletedPatient = resData.data.deletePatientAppointment;\n        const updatedPatientId = resData.data.deletePatientAppointment._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.deletePatientAppointment);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.setState({\n          userAlert: responseAlert\n        });\n        this.fetchPatients();\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        });\n      });\n    };\n\n    this.deletePatientConsultantItem = props => {\n      const token = this.context.token;\n      const userId = this.context.userId;\n      const patientId = this.state.selectedPatient._id;\n      const date = new Date(props.date.substr(0, 10) * 1000).toISOString().slice(0, 10);\n      const requestBody = {\n        query: `\n         mutation {deletePatientConsultant (userId:\"${userId}\", patientId:\"${patientId}\",consultantId:\"${props.reference.id}\",consultantDate:\"${date}\")\n         {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n      `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        const deletedPatient = resData.data.deletePatientConsultant;\n        const updatedPatientId = resData.data.deletePatientConsultant._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.deletePatientConsultant);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.setState({\n          userAlert: responseAlert\n        });\n        this.fetchPatients();\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        });\n      });\n    };\n\n    this.deletePatientNextOfKinItem = props => {\n      const token = this.context.token;\n      const userId = this.context.userId;\n      const patientId = this.state.selectedPatient._id;\n      const requestBody = {\n        query: `\n       mutation {deletePatientNextOfKin (userId:\"${userId}\", patientId:\"${patientId}\",nextOfKinName:\"${props.name}\")\n       {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        let deletedPatient = resData.data.deletePatientNextOfKin;\n        const updatedPatientId = resData.data.deletePatientNextOfKin._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.deletePatientNextOfKin);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.setState({\n          userAlert: responseAlert\n        });\n        this.fetchPatients();\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        });\n      });\n    };\n\n    this.deletePatientComplaintItem = props => {\n      const token = this.context.token;\n      const userId = this.context.userId;\n      const patientId = this.state.selectedPatient._id;\n      const date = new Date(props.date.substr(0, 10) * 1000).toISOString().slice(0, 10);\n      const requestBody = {\n        query: `\n       mutation {deletePatientComplaint (userId:\"${userId}\", patientId:\"${patientId}\",complaintTitle:\"${props.title}\",complaintDate:\"${date}\")\n       {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        const deletedPatient = resData.data.deletePatientComplaint;\n        const updatedPatientId = resData.data.deletePatientComplaint._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.deletePatientComplaint);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.setState({\n          userAlert: responseAlert\n        });\n        this.fetchPatients();\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        });\n      });\n    };\n\n    this.deletePatientSurveyItem = props => {\n      const token = this.context.token;\n      const userId = this.context.userId;\n      const patientId = this.state.selectedPatient._id;\n      const date = new Date(props.date.substr(0, 10) * 1000).toISOString().slice(0, 10);\n      const requestBody = {\n        query: `\n       mutation {deletePatientSurvey (userId:\"${userId}\", patientId:\"${patientId}\",surveyTitle:\"${props.title}\",surveyDate:\"${date}\")\n       {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        let deletedPatient = resData.data.deletePatientSurvey;\n        const updatedPatientId = resData.data.deletePatientSurvey._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.deletePatientSurvey);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.setState({\n          userAlert: responseAlert\n        });\n        this.fetchPatients();\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        });\n      });\n    };\n\n    this.deletePatientSystematicInquiryItem = props => {\n      const token = this.context.token;\n      const userId = this.context.userId;\n      const patientId = this.state.selectedPatient._id;\n      const date = new Date(props.date.substr(0, 10) * 1000).toISOString().slice(0, 10);\n      const requestBody = {\n        query: `\n       mutation {deletePatientSystematicInquiry (userId:\"${userId}\", patientId:\"${patientId}\",systematicInquiryTitle:\"${props.title}\",systematicInquiryDate:\"${date}\")\n       {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        let deletedPatient = resData.data.deletePatientSystematicInquiry;\n        const updatedPatientId = resData.data.deletePatientSystematicInquiry._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.deletePatientSystematicInquiry);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.setState({\n          userAlert: responseAlert\n        });\n        this.fetchPatients();\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        });\n      });\n    };\n\n    this.deletePatientVitalsItem = props => {\n      const token = this.context.token;\n      const userId = this.context.userId;\n      const patientId = this.state.selectedPatient._id;\n      const date = new Date(props.date.substr(0, 10) * 1000).toISOString().slice(0, 10);\n      const requestBody = {\n        query: `\n       mutation {deletePatientVitals (userId:\"${userId}\", patientId:\"${patientId}\",vitalsDate:\"${date}\")\n       {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        let deletedPatient = resData.data.deletePatientVitals;\n        const updatedPatientId = resData.data.deletePatientVitals._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.deletePatientVitals);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.setState({\n          userAlert: responseAlert\n        });\n        this.fetchPatients();\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        });\n      });\n    };\n\n    this.deletePatientExaminationItem = props => {\n      const token = this.context.token;\n      const userId = this.context.userId;\n      const patientId = this.state.selectedPatient._id;\n      const date = new Date(props.date.substr(0, 10) * 1000).toISOString().slice(0, 10);\n      const requestBody = {\n        query: `\n       mutation {deletePatientExamination (userId:\"${userId}\", patientId:\"${patientId}\",examinationType:\"${props.type}\",examinationDate:\"${date}\")\n       {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        let deletedPatient = resData.data.deletePatientExamination;\n        const updatedPatientId = resData.data.deletePatientExamination._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.deletePatientExamination);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.setState({\n          userAlert: responseAlert\n        });\n        this.fetchPatients();\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        });\n      });\n    };\n\n    this.deletePatientHistoryItem = props => {\n      const token = this.context.token;\n      const userId = this.context.userId;\n      const patientId = this.state.selectedPatient._id;\n      const date = new Date(props.date.substr(0, 10) * 1000).toISOString().slice(0, 10);\n      const requestBody = {\n        query: `\n       mutation {deletePatientHistory (userId:\"${userId}\", patientId:\"${patientId}\",historyTitle:\"${props.title}\",historyDate:\"${date}\")\n       {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        let deletedPatient = resData.data.deletePatientHistory;\n        const updatedPatientId = resData.data.deletePatientHistory._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.deletePatientHistory);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.setState({\n          userAlert: responseAlert\n        });\n        this.fetchPatients();\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        });\n      });\n    };\n\n    this.deletePatientAllergiesItem = props => {\n      const token = this.context.token;\n      const userId = this.context.userId;\n      const patientId = this.state.selectedPatient._id;\n      const requestBody = {\n        query: `\n       mutation {deletePatientAllergies (userId:\"${userId}\", patientId:\"${patientId}\",allergiesTitle:\"${props.title}\",allergiesType:\"${props.type}\")\n       {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        let deletedPatient = resData.data.deletePatientAllergies;\n        const updatedPatientId = resData.data.deletePatientAllergies._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.deletePatientAllergies);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.setState({\n          userAlert: responseAlert\n        });\n        this.fetchPatients();\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        });\n      });\n    };\n\n    this.deletePatientMedicationItem = props => {\n      const token = this.context.token;\n      const userId = this.context.userId;\n      const patientId = this.state.selectedPatient._id;\n      const requestBody = {\n        query: `\n       mutation {deletePatientMedication (userId:\"${userId}\", patientId:\"${patientId}\",medicationTitle:\"${props.title}\",medicationType:\"${props.type}\")\n       {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        let deletedPatient = resData.data.deletePatientMedication;\n        const updatedPatientId = resData.data.deletePatientMedication._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.deletePatientMedication);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.setState({\n          userAlert: responseAlert\n        });\n        this.fetchPatients();\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        });\n      });\n    };\n\n    this.deletePatientInvestigationItem = props => {\n      const token = this.context.token;\n      const userId = this.context.userId;\n      const patientId = this.state.selectedPatient._id;\n      const date = new Date(props.date.substr(0, 10) * 1000).toISOString().slice(0, 10);\n      const requestBody = {\n        query: `\n         mutation {deletePatientInvestigation (userId:\"${userId}\", patientId:\"${patientId}\",investigationDate:\"${date}\",investigationTitle:\"${props.title}\")\n         {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        const deletedPatient = resData.data.deletePatientInvestigation;\n        const updatedPatientId = resData.data.deletePatientInvestigation._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.deletePatientInvestigation);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.setState({\n          userAlert: responseAlert\n        });\n        this.fetchPatients();\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        });\n      });\n    };\n\n    this.deletePatientDiagnosisItem = props => {\n      const token = this.context.token;\n      const userId = this.context.userId;\n      const patientId = this.state.selectedPatient._id;\n      const date = new Date(props.date.substr(0, 10) * 1000).toISOString().slice(0, 10);\n      const requestBody = {\n        query: `\n       mutation {deletePatientDiagnosis (userId:\"${userId}\",patientId:\"${patientId}\",diagnosisDate:\"${date}\",diagnosisTitle:\"${props.title}\")\n       {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n       `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        const deletedPatient = resData.data.deletePatientDiagnosis;\n        const updatedPatientId = resData.data.deletePatientDiagnosis._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.deletePatientDiagnosis);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.setState({\n          userAlert: responseAlert\n        });\n        this.fetchPatients();\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        });\n      });\n    };\n\n    this.deletePatientTreatmentItem = props => {\n      const token = this.context.token;\n      const userId = this.context.userId;\n      const patientId = this.state.selectedPatient._id;\n      const date = new Date(props.date.substr(0, 10) * 1000).toISOString().slice(0, 10);\n      const requestBody = {\n        query: `\n     mutation {deletePatientTreatment (userId:\"${userId}\", patientId:\"${patientId}\",treatmentDate:\"${date}\",treatmentTitle:\"${props.title}\")\n     {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n  `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        const deletedPatient = resData.data.deletePatientTreatment;\n        const updatedPatientId = resData.data.deletePatientTreatment._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.deletePatientTreatment);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.setState({\n          userAlert: responseAlert\n        });\n        this.fetchPatients();\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        });\n      });\n    };\n\n    this.deletePatientBillingItem = props => {\n      const token = this.context.token;\n      const userId = this.context.userId;\n      const patientId = this.state.selectedPatient._id;\n      const date = new Date(props.date.substr(0, 10) * 1000).toISOString().slice(0, 10);\n      const requestBody = {\n        query: `\n       mutation {deletePatientBilling (userId:\"${userId}\", patientId:\"${patientId}\",billingDate:\"${date}\",billingTitle:\"${props.title}\")\n       {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        const deletedPatient = resData.data.deletePatientBilling;\n        const updatedPatientId = resData.data.deletePatientBilling._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.deletePatientBilling);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.setState({\n          userAlert: responseAlert\n        });\n        this.fetchPatients();\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        });\n      });\n    };\n\n    this.deletePatientVigilanceItem = props => {\n      const token = this.context.token;\n      const userId = this.context.userId;\n      const patientId = this.state.selectedPatient._id;\n      const date = new Date(props.date.substr(0, 10) * 1000).toISOString().slice(0, 10);\n      const requestBody = {\n        query: `\n       mutation {deletePatientVigilance (userId:\"${userId}\", patientId:\"${patientId}\",vigilanceDate:\"${date}\")\n       {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n     `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        const deletedPatient = resData.data.deletePatientVigilance;\n        const updatedPatientId = resData.data.deletePatientVigilance._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.deletePatientVigilance);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.setState({\n          userAlert: responseAlert\n        });\n        this.fetchPatients();\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        });\n      });\n    };\n\n    this.deletePatientAttachmentItem = props => {\n      const token = this.context.token;\n      const userId = this.context.userId;\n      const patientId = this.state.selectedPatient._id; //   const config = {\n      //     bucketName: this.context.creds.s3.bucketName,\n      //     dirName: props.path,\n      //     region: this.context.creds.s3.region,\n      //     accessKeyId: this.context.creds.s3.accessKeyId,\n      //     secretAccessKey: this.context.creds.s3.secretAccessKey,\n      //   }\n      // const ReactS3Client = new S3(config);\n      // const filename = props.name;\n      // // const attachmentName = newFileName;\n      // //\n      // S3FileUpload\n      // .deleteFile(filename, config)\n      // .then(response => console.log(response))\n      // .catch(err => console.error(err))\n\n      const requestBody = {\n        query: `\n       mutation {deletePatientAttachment (userId:\"${userId}\", patientId:\"${patientId}\",attachmentName:\"${props.name}\")\n       {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        const deletedPatient = resData.data.deletePatientAttachment;\n        const updatedPatientId = resData.data.deletePatientAttachment._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.deletePatientAttachment);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.setState({\n          userAlert: responseAlert\n        });\n        this.fetchPatients();\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        });\n      });\n    };\n\n    this.deletePatientNoteItem = props => {\n      const token = this.context.token;\n      const userId = this.context.userId;\n      const patientId = this.state.selectedPatient._id;\n      const requestBody = {\n        query: `\n    mutation {deletePatientNote (userId:\"${userId}\", patientId:\"${patientId}\",note:\"${props}\")\n    {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n  `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        let deletedPatient = resData.data.deletePatientNote;\n        const updatedPatientId = resData.data.deletePatientNote._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.deletePatientNote);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.setState({\n          userAlert: responseAlert\n        });\n        this.fetchPatients();\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        });\n      });\n    };\n\n    this.deletePatientTagItem = props => {\n      const token = this.context.token;\n      const userId = this.context.userId;\n      const patientId = this.state.selectedPatient._id;\n      const requestBody = {\n        query: `\n    mutation {deletePatientTag (userId:\"${userId}\", patientId:\"${patientId}\",tag:\"${props}\")\n    {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n  `\n      };\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      }).then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n\n        return res.json();\n      }).then(resData => {\n        let deletedPatient = resData.data.deletePatientTag;\n        const updatedPatientId = resData.data.deletePatientTag._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.deletePatientTag);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n        this.setState({\n          userAlert: responseAlert\n        });\n        this.fetchPatients();\n      }).catch(err => {\n        this.setState({\n          userAlert: err\n        });\n      });\n    };\n\n    this.onViewAttachment = attachment => {\n      this.setState({\n        showAttachment: true\n      });\n      const file = \"https://ent-emr-bucket.s3-us-east-2.amazonaws.com/\" + attachment.path + \"/\" + attachment.name;\n      const type = attachment.format;\n      this.setState({\n        showThisAttachmentFile: file,\n        showThisAttachmentType: type\n      });\n    };\n\n    this.closeAttachmentView = () => {\n      this.setState({\n        showAttachment: false\n      });\n    };\n\n    this.createPdfTest = event => {\n      event.preventDefault();\n      console.log(`\n      create pdf user otf input here...\n      ${event.target.formGridDocGenUserInput.value}\n      ${event.target.formGridDocGenVisitDate.value}\n    `);\n      const patient = this.state.selectedPatient;\n      const pdfData = {\n        title: \"This pdf is supplied with Patient data...\",\n        date: new Date(),\n        test: event.target.formGridDocGenUserInput.value,\n        patient: {\n          _id: patient._id,\n          title: patient.title,\n          name: patient.name,\n          dob: patient.dob,\n          age: patient.age,\n          gender: patient.gender,\n          address: {\n            number: patient.number,\n            street: patient.street,\n            town: patient.town,\n            parish: patient.parish,\n            postOffice: patient.postOffice\n          },\n          registrationDate: patient.registrationDate,\n          referralDate: patient.referralDate,\n          expirationDate: patient.expirationDate,\n          attendingPhysician: {\n            name: patient.attendingPhysician.name,\n            email: patient.attendingPhysician.email,\n            phone: patient.attendingPhysician.phone\n          },\n          referringDoctor: {\n            name: patient.referringDoctor.name,\n            email: patient.referringDoctor.email,\n            phone: patient.referringDoctor.phone\n          },\n          contact: {\n            phone: patient.contact.phone,\n            email: patient.contact.email\n          },\n          occupation: {\n            role: patient.occupation.role,\n            employer: patient.occupation.employer,\n            contact: {\n              phone: patient.occupation.contact.phone,\n              email: patient.occupation.contact.email\n            }\n          },\n          appointments: patient.appointments,\n          consultant: patient.consultant,\n          insurance: patient.insurance,\n          nextOfKin: patient.nextOfKin,\n          complaints: patient.complaints,\n          surveys: patient.surveys,\n          systematicInquiry: patient.systematicInquiry,\n          vitals: patient.vitals,\n          examination: patient.examination,\n          history: patient.history,\n          allergies: patient.allergies,\n          medication: patient.medication,\n          investigation: patient.investigation,\n          diagnosis: patient.diagnosis,\n          treatment: patient.treatment,\n          billing: patient.billing,\n          vigilance: patient.vigilance,\n          attachments: patient.attachments,\n          notes: patient.notes,\n          tags: patient.tags\n        }\n      };\n      this.setState({\n        creatingDocument: true,\n        pdfType: \"test\",\n        pdfData: pdfData\n      });\n    };\n\n    this.createReferralInput = event => {\n      event.preventDefault();\n\n      if (event.target.patientReferralCalendarVisitDate.value.trim().length === 0 || event.target.formGridDocGenReferralFindings.value.trim().length === 0 || event.target.formGridDocGenReferralRecommendation.value.trim().length === 0) {\n        this.setState({\n          userAlert: \"Blank fields detected... please check your info and try again\"\n        });\n        return;\n      }\n\n      const visitDate = new Date(event.target.patientReferralCalendarVisitDate.value).toISOString().substring(0, 10);\n      const patient = this.state.selectedPatient;\n      const visitDiagnosis = patient.diagnosis.filter(x => new Date(x.date.substr(0, 10) * 1000).toISOString().substring(0, 10) === visitDate);\n      const visitTreatment = patient.treatment.filter(x => new Date(x.date.substr(0, 10) * 1000).toISOString().substring(0, 10) === visitDate);\n      console.log(`\n        create referral user otf input here...\n        ${visitDate}\n        ${event.target.patientReferralCalendarVisitDate.value},\n        ${event.target.formGridDocGenReferralRecommendation.value},\n        ${event.target.formGridDocGenReferralFindings.value},\n        visitDiagnosis: ${JSON.stringify(visitDiagnosis)},\n      `);\n\n      if (JSON.stringify(visitTreatment) === \"[]\" || JSON.stringify(visitDiagnosis) === \"[]\") {\n        this.setState({\n          userAlert: `Incomplete or No Visit found for : ${visitDate}. Check your info and try again.`\n        });\n        return;\n      }\n\n      const pdfData = {\n        title: \"Referral\",\n        visitDate: visitDate,\n        findings: event.target.formGridDocGenReferralFindings.value,\n        recommendation: event.target.formGridDocGenReferralRecommendation.value,\n        patient: {\n          _id: patient._id,\n          title: patient.title,\n          name: patient.name,\n          dob: patient.dob,\n          age: patient.age,\n          gender: patient.gender,\n          address: {\n            number: patient.number,\n            street: patient.street,\n            town: patient.town,\n            parish: patient.parish,\n            postOffice: patient.postOffice\n          },\n          registrationDate: patient.registrationDate,\n          referralDate: patient.referralDate,\n          expirationDate: patient.expirationDate,\n          attendingPhysician: {\n            name: patient.attendingPhysician.name,\n            email: patient.attendingPhysician.email,\n            phone: patient.attendingPhysician.phone\n          },\n          referringDoctor: {\n            name: patient.referringDoctor.name,\n            email: patient.referringDoctor.email,\n            phone: patient.referringDoctor.phone\n          },\n          contact: {\n            phone: patient.contact.phone,\n            email: patient.contact.email\n          },\n          occupation: {\n            role: patient.occupation.role,\n            employer: patient.occupation.employer,\n            contact: {\n              phone: patient.occupation.contact.phone,\n              email: patient.occupation.contact.email\n            }\n          },\n          appointments: patient.appointments,\n          consultant: patient.consultant,\n          insurance: patient.insurance,\n          nextOfKin: patient.nextOfKin,\n          complaints: patient.complaints,\n          surveys: patient.surveys,\n          systematicInquiry: patient.systematicInquiry,\n          vitals: patient.vitals,\n          examination: patient.examination,\n          history: patient.history,\n          allergies: patient.allergies,\n          medication: patient.medication,\n          investigation: patient.investigation,\n          diagnosis: patient.diagnosis,\n          treatment: patient.treatment,\n          billing: patient.billing,\n          vigilance: patient.vigilance,\n          attachments: patient.attachments,\n          notes: patient.notes,\n          tags: patient.tags\n        },\n        date: new Date(),\n        referral: \"test referral... now w/ input\",\n        visitDiagnosis: visitDiagnosis,\n        visitTreatment: visitTreatment,\n        letterheadImage: \"https://photos.app.goo.gl/SrVuahmr14khGBoM9\"\n      };\n      this.setState({\n        creatingDocument: true,\n        pdfData: pdfData,\n        pdfType: \"patientReferral\"\n      });\n    };\n\n    this.createOperationReminderInput = event => {\n      event.preventDefault();\n\n      if (event.target.formGridDocGenOperationReminderName.value.trim().length === 0 || event.target.patientOperationReminderCalendarOperationDate.value.trim().length === 0 || event.target.formGridDocGenOperationReminderTime.value.trim().length === 0 || event.target.formGridDocGenOperationReminderHospitalName.value.trim().length === 0 || event.target.formGridDocGenOperationReminderHopsitalAddress.value.trim().length === 0 || event.target.patientOperationReminderCalendarFastDate.value.trim().length === 0 || event.target.formGridDocGenOperationReminderFastTime.value.trim().length === 0 || event.target.formGridDocGenOperationReminderEstimateCost.value.trim().length === 0) {\n        this.setState({\n          userAlert: \"Blank fields detected... please check your info and try again\"\n        });\n        return;\n      }\n\n      const date = new Date(event.target.patientOperationReminderCalendarOperationDate.value).toISOString().substring(0, 10);\n      const fastDate = new Date(event.target.patientOperationReminderCalendarFastDate.value).toISOString().substring(0, 10);\n      const patient = this.state.selectedPatient;\n      console.log(`\n        create operation reminder user otf input here...\n      `);\n      const pdfData = {\n        title: \"Operation Reminder\",\n        patient: {\n          _id: patient._id,\n          title: patient.title,\n          name: patient.name,\n          dob: patient.dob,\n          age: patient.age,\n          gender: patient.gender,\n          address: {\n            number: patient.address.number,\n            street: patient.address.street,\n            town: patient.address.town,\n            parish: patient.address.parish,\n            postOffice: patient.address.postOffice\n          },\n          registrationDate: patient.registrationDate,\n          referralDate: patient.referralDate,\n          expirationDate: patient.expirationDate,\n          attendingPhysician: {\n            name: patient.attendingPhysician.name,\n            email: patient.attendingPhysician.email,\n            phone: patient.attendingPhysician.phone\n          },\n          referringDoctor: {\n            name: patient.referringDoctor.name,\n            email: patient.referringDoctor.email,\n            phone: patient.referringDoctor.phone\n          },\n          contact: {\n            phone: patient.contact.phone,\n            email: patient.contact.email\n          },\n          occupation: {\n            role: patient.occupation.role,\n            employer: patient.occupation.employer,\n            contact: {\n              phone: patient.occupation.contact.phone,\n              email: patient.occupation.contact.email\n            }\n          },\n          appointments: patient.appointments,\n          consultant: patient.consultant,\n          insurance: patient.insurance,\n          nextOfKin: patient.nextOfKin,\n          complaints: patient.complaints,\n          surveys: patient.surveys,\n          systematicInquiry: patient.systematicInquiry,\n          vitals: patient.vitals,\n          examination: patient.examination,\n          history: patient.history,\n          allergies: patient.allergies,\n          medication: patient.medication,\n          investigation: patient.investigation,\n          diagnosis: patient.diagnosis,\n          treatment: patient.treatment,\n          billing: patient.billing,\n          vigilance: patient.vigilance,\n          attachments: patient.attachments,\n          notes: patient.notes,\n          tags: patient.tags\n        },\n        today: new Date(),\n        date: date,\n        name: event.target.formGridDocGenOperationReminderName.value,\n        time: event.target.formGridDocGenOperationReminderTime.value,\n        hospitalName: event.target.formGridDocGenOperationReminderHospitalName.value,\n        hospitalAddress: event.target.formGridDocGenOperationReminderHopsitalAddress.value,\n        fastDate: fastDate,\n        fastTime: event.target.formGridDocGenOperationReminderFastTime.value,\n        estimateCost: event.target.formGridDocGenOperationReminderEstimateCost.value,\n        letterheadImage: \"https://photos.app.goo.gl/SrVuahmr14khGBoM9\"\n      };\n      this.setState({\n        creatingDocument: true,\n        pdfData: pdfData,\n        pdfType: \"operationReminder\"\n      });\n    };\n\n    this.createMiscNoteInput = event => {\n      event.preventDefault();\n\n      if (event.target.formGridDocGenMiscNote1.value.trim().length === 0 || event.target.formGridDocGenMiscNote2.value.trim().length === 0) {\n        this.setState({\n          userAlert: \"Blank fields detected... please check your info and try again\"\n        });\n        return;\n      }\n\n      const patient = this.state.selectedPatient;\n      console.log(`\n        create misc note user otf input here...\n      `);\n      const pdfData = {\n        title: \"Miscellaneous Note\",\n        patient: {\n          _id: patient._id,\n          title: patient.title,\n          name: patient.name,\n          dob: patient.dob,\n          age: patient.age,\n          gender: patient.gender,\n          address: {\n            number: patient.address.number,\n            street: patient.address.street,\n            town: patient.address.town,\n            parish: patient.address.parish,\n            postOffice: patient.address.postOffice\n          },\n          registrationDate: patient.registrationDate,\n          referralDate: patient.referralDate,\n          expirationDate: patient.expirationDate,\n          attendingPhysician: {\n            name: patient.attendingPhysician.name,\n            email: patient.attendingPhysician.email,\n            phone: patient.attendingPhysician.phone\n          },\n          referringDoctor: {\n            name: patient.referringDoctor.name,\n            email: patient.referringDoctor.email,\n            phone: patient.referringDoctor.phone\n          },\n          contact: {\n            phone: patient.contact.phone,\n            email: patient.contact.email\n          },\n          occupation: {\n            role: patient.occupation.role,\n            employer: patient.occupation.employer,\n            contact: {\n              phone: patient.occupation.contact.phone,\n              email: patient.occupation.contact.email\n            }\n          },\n          appointments: patient.appointments,\n          consultant: patient.consultant,\n          insurance: patient.insurance,\n          nextOfKin: patient.nextOfKin,\n          complaints: patient.complaints,\n          surveys: patient.surveys,\n          systematicInquiry: patient.systematicInquiry,\n          vitals: patient.vitals,\n          examination: patient.examination,\n          history: patient.history,\n          allergies: patient.allergies,\n          medication: patient.medication,\n          investigation: patient.investigation,\n          diagnosis: patient.diagnosis,\n          treatment: patient.treatment,\n          billing: patient.billing,\n          vigilance: patient.vigilance,\n          attachments: patient.attachments,\n          notes: patient.notes,\n          tags: patient.tags\n        },\n        date: new Date(),\n        note1: event.target.formGridDocGenMiscNote1.value,\n        note2: event.target.formGridDocGenMiscNote2.value,\n        letterheadImage: \"https://photos.app.goo.gl/SrVuahmr14khGBoM9\"\n      };\n      this.setState({\n        creatingDocument: true,\n        pdfData: pdfData,\n        pdfType: \"miscNote\"\n      });\n    };\n\n    this.createSickNoteInput = event => {\n      event.preventDefault();\n\n      if (event.target.formGridDocGenSickNoteAddress.value.trim().length === 0 || event.target.formGridDocGenSickNoteDuration.value.trim().length === 0 || event.target.patientSickNoteCalendarStartDate.value.trim().length === 0) {\n        this.setState({\n          userAlert: \"Blank fields detected... please check your info and try again\"\n        });\n        return;\n      }\n\n      const date = new Date().toISOString().substring(0, 10);\n      const startDate = new Date(event.target.patientSickNoteCalendarStartDate.value).toISOString().substring(0, 10);\n      const patient = this.state.selectedPatient;\n      console.log(`\n        create Sick note user otf input here...\n      `);\n      const pdfData = {\n        title: \"Sick Note\",\n        patient: {\n          _id: patient._id,\n          title: patient.title,\n          name: patient.name,\n          dob: patient.dob,\n          age: patient.age,\n          gender: patient.gender,\n          address: {\n            number: patient.address.number,\n            street: patient.address.street,\n            town: patient.address.town,\n            parish: patient.address.parish,\n            postOffice: patient.address.postOffice\n          },\n          registrationDate: patient.registrationDate,\n          referralDate: patient.referralDate,\n          expirationDate: patient.expirationDate,\n          attendingPhysician: {\n            name: patient.attendingPhysician.name,\n            email: patient.attendingPhysician.email,\n            phone: patient.attendingPhysician.phone\n          },\n          referringDoctor: {\n            name: patient.referringDoctor.name,\n            email: patient.referringDoctor.email,\n            phone: patient.referringDoctor.phone\n          },\n          contact: {\n            phone: patient.contact.phone,\n            email: patient.contact.email\n          },\n          occupation: {\n            role: patient.occupation.role,\n            employer: patient.occupation.employer,\n            contact: {\n              phone: patient.occupation.contact.phone,\n              email: patient.occupation.contact.email\n            }\n          },\n          appointments: patient.appointments,\n          consultant: patient.consultant,\n          insurance: patient.insurance,\n          nextOfKin: patient.nextOfKin,\n          complaints: patient.complaints,\n          surveys: patient.surveys,\n          systematicInquiry: patient.systematicInquiry,\n          vitals: patient.vitals,\n          examination: patient.examination,\n          history: patient.history,\n          allergies: patient.allergies,\n          medication: patient.medication,\n          investigation: patient.investigation,\n          diagnosis: patient.diagnosis,\n          treatment: patient.treatment,\n          billing: patient.billing,\n          vigilance: patient.vigilance,\n          attachments: patient.attachments,\n          notes: patient.notes,\n          tags: patient.tags\n        },\n        receiverAddress: event.target.formGridDocGenSickNoteAddress.value,\n        date: date,\n        duration: event.target.formGridDocGenSickNoteDuration.value,\n        startDate: startDate,\n        letterheadImage: \"https://photos.app.goo.gl/SrVuahmr14khGBoM9\"\n      };\n      this.setState({\n        creatingDocument: true,\n        pdfData: pdfData,\n        pdfType: \"sickNote\"\n      });\n    };\n\n    this.createDiagTestInput = event => {\n      event.preventDefault();\n\n      if (event.target.patientDiagTestCalendarVisitDate.value.trim().length === 0 || event.target.formGridDocGenDiagTestReceiver.value.trim().length === 0 || event.target.formGridDocGenDiagTestRequired.value.trim().length === 0) {\n        this.setState({\n          userAlert: \"Blank fields detected... please check your info and try again\"\n        });\n        return;\n      }\n\n      const patient = this.state.selectedPatient;\n      const date = new Date().toISOString().substring(0, 10);\n      const visitDate = new Date(event.target.patientDiagTestCalendarVisitDate.value).toISOString().substring(0, 10);\n      const visitDiagnosis = patient.diagnosis.filter(x => new Date(x.date.substr(0, 10) * 1000).toISOString().substring(0, 10) === visitDate);\n      console.log(`\n        create tests & screening user otf input here...\n        ${visitDate}\n      `);\n\n      if (JSON.stringify(visitDiagnosis) === \"[]\") {\n        this.setState({\n          userAlert: `Incomplete or No Visit found for : ${visitDate}. Check your info and try again.`\n        });\n        return;\n      }\n\n      const pdfData = {\n        title: \"Tests & Screenings\",\n        patient: {\n          _id: patient._id,\n          title: patient.title,\n          name: patient.name,\n          dob: patient.dob,\n          age: patient.age,\n          gender: patient.gender,\n          address: {\n            number: patient.address.number,\n            street: patient.address.street,\n            town: patient.address.town,\n            parish: patient.address.parish,\n            postOffice: patient.address.postOffice\n          },\n          registrationDate: patient.registrationDate,\n          referralDate: patient.referralDate,\n          expirationDate: patient.expirationDate,\n          attendingPhysician: {\n            name: patient.attendingPhysician.name,\n            email: patient.attendingPhysician.email,\n            phone: patient.attendingPhysician.phone\n          },\n          referringDoctor: {\n            name: patient.referringDoctor.name,\n            email: patient.referringDoctor.email,\n            phone: patient.referringDoctor.phone\n          },\n          contact: {\n            phone: patient.contact.phone,\n            email: patient.contact.email\n          },\n          occupation: {\n            role: patient.occupation.role,\n            employer: patient.occupation.employer,\n            contact: {\n              phone: patient.occupation.contact.phone,\n              email: patient.occupation.contact.email\n            }\n          },\n          appointments: patient.appointments,\n          consultant: patient.consultant,\n          insurance: patient.insurance,\n          nextOfKin: patient.nextOfKin,\n          complaints: patient.complaints,\n          surveys: patient.surveys,\n          systematicInquiry: patient.systematicInquiry,\n          vitals: patient.vitals,\n          examination: patient.examination,\n          history: patient.history,\n          allergies: patient.allergies,\n          medication: patient.medication,\n          investigation: patient.investigation,\n          diagnosis: patient.diagnosis,\n          treatment: patient.treatment,\n          billing: patient.billing,\n          vigilance: patient.vigilance,\n          attachments: patient.attachments,\n          notes: patient.notes,\n          tags: patient.tags\n        },\n        visitDate: visitDate,\n        visitDiagnosis: visitDiagnosis,\n        receiver: event.target.formGridDocGenDiagTestReceiver.value,\n        requiredTests: event.target.formGridDocGenDiagTestReceiver.value,\n        date: date,\n        letterheadImage: \"https://photos.app.goo.gl/SrVuahmr14khGBoM9\"\n      };\n      this.setState({\n        creatingDocument: true,\n        pdfData: pdfData,\n        pdfType: \"DiagTest\"\n      });\n    };\n\n    this.createInsuranceNoteInput = event => {\n      event.preventDefault();\n\n      if (event.target.formGridDocGenInsuranceNotePolicyNumber.value.trim().length === 0 || event.target.formGridDocGenInsuranceNoteOperation.value.trim().length === 0 || event.target.patientInsuranceNoteCalendarOperationDate.value.trim().length === 0 || event.target.formGridDocGenInsuranceNoteSurgeonFee.value.trim().length === 0 || event.target.formGridDocGenInsuranceNoteAssistantSurgeonFee.value.trim().length === 0 || event.target.formGridDocGenInsuranceNoteAnesthetistFee.value.trim().length === 0) {\n        this.setState({\n          userAlert: \"Blank fields detected... please check your info and try again\"\n        });\n        return;\n      }\n\n      const date = new Date().toISOString().substring(0, 10);\n      const operationDate = new Date(event.target.patientInsuranceNoteCalendarOperationDate.value).toISOString().substring(0, 10);\n      const patient = this.state.selectedPatient;\n      const policyNumber = event.target.formGridDocGenInsuranceNotePolicyNumber.value;\n      const patientInsurance = patient.insurance.filter(x => x.number === policyNumber);\n      console.log(`\n        create Insurance note user otf input here...\n        ${JSON.stringify(patientInsurance)}\n      `);\n      const pdfData = {\n        title: \"Insurance Note\",\n        patient: {\n          _id: patient._id,\n          title: patient.title,\n          name: patient.name,\n          dob: patient.dob,\n          age: patient.age,\n          gender: patient.gender,\n          address: {\n            number: patient.address.number,\n            street: patient.address.street,\n            town: patient.address.town,\n            parish: patient.address.parish,\n            postOffice: patient.address.postOffice\n          },\n          registrationDate: patient.registrationDate,\n          referralDate: patient.referralDate,\n          expirationDate: patient.expirationDate,\n          attendingPhysician: {\n            name: patient.attendingPhysician.name,\n            email: patient.attendingPhysician.email,\n            phone: patient.attendingPhysician.phone\n          },\n          referringDoctor: {\n            name: patient.referringDoctor.name,\n            email: patient.referringDoctor.email,\n            phone: patient.referringDoctor.phone\n          },\n          contact: {\n            phone: patient.contact.phone,\n            email: patient.contact.email\n          },\n          occupation: {\n            role: patient.occupation.role,\n            employer: patient.occupation.employer,\n            contact: {\n              phone: patient.occupation.contact.phone,\n              email: patient.occupation.contact.email\n            }\n          },\n          appointments: patient.appointments,\n          consultant: patient.consultant,\n          insurance: patient.insurance,\n          nextOfKin: patient.nextOfKin,\n          complaints: patient.complaints,\n          surveys: patient.surveys,\n          systematicInquiry: patient.systematicInquiry,\n          vitals: patient.vitals,\n          examination: patient.examination,\n          history: patient.history,\n          allergies: patient.allergies,\n          medication: patient.medication,\n          investigation: patient.investigation,\n          diagnosis: patient.diagnosis,\n          treatment: patient.treatment,\n          billing: patient.billing,\n          vigilance: patient.vigilance,\n          attachments: patient.attachments,\n          notes: patient.notes,\n          tags: patient.tags\n        },\n        date: date,\n        patientInsurance: JSON.stringify(patientInsurance),\n        operation: event.target.formGridDocGenInsuranceNoteOperation.value,\n        operationDate: operationDate,\n        surgeonFee: event.target.formGridDocGenInsuranceNoteSurgeonFee.value,\n        assistantSurgeonFee: event.target.formGridDocGenInsuranceNoteAssistantSurgeonFee.value,\n        anesthetistsFee: event.target.formGridDocGenInsuranceNoteAnesthetistFee.value,\n        letterheadImage: \"https://photos.app.goo.gl/SrVuahmr14khGBoM9\"\n      };\n      this.setState({\n        creatingDocument: true,\n        pdfData: pdfData,\n        pdfType: \"insuranceNote\"\n      });\n    };\n\n    this.createPrescriptionInput = event => {\n      event.preventDefault();\n\n      if (event.target.formGridDocGenPrescriptionPescription.value.trim().length === 0 || event.target.formGridDocGenPrescriptionGeneric.value.trim().length === 0 || event.target.formGridDocGenPrescriptionRepeat.value.trim().length === 0) {\n        this.setState({\n          userAlert: \"Blank fields detected... please check your info and try again\"\n        });\n        return;\n      }\n\n      let generic = null;\n\n      if (event.target.formGridDocGenPrescriptionGeneric.checked === true) {\n        generic = \"yes\";\n      }\n\n      if (event.target.formGridDocGenPrescriptionGeneric.checked !== true) {\n        generic = \"no\";\n      }\n\n      const date = new Date().toISOString().substring(0, 10);\n      const patient = this.state.selectedPatient;\n      const pdfData = {\n        title: \"Prescription\",\n        patient: {\n          _id: patient._id,\n          title: patient.title,\n          name: patient.name,\n          dob: patient.dob,\n          age: patient.age,\n          gender: patient.gender,\n          address: {\n            number: patient.number,\n            street: patient.street,\n            town: patient.town,\n            parish: patient.parish,\n            postOffice: patient.postOffice\n          },\n          registrationDate: patient.registrationDate,\n          referralDate: patient.referralDate,\n          expirationDate: patient.expirationDate,\n          attendingPhysician: {\n            name: patient.attendingPhysician.name,\n            email: patient.attendingPhysician.email,\n            phone: patient.attendingPhysician.phone\n          },\n          referringDoctor: {\n            name: patient.referringDoctor.name,\n            email: patient.referringDoctor.email,\n            phone: patient.referringDoctor.phone\n          },\n          contact: {\n            phone: patient.contact.phone,\n            email: patient.contact.email\n          }\n        },\n        date: date,\n        prescription: event.target.formGridDocGenPrescriptionPescription.value,\n        generic: generic,\n        repeat: event.target.formGridDocGenPrescriptionRepeat.value,\n        consultantName: this.context.selectedUser.name,\n        letterheadImage: \"https://photos.app.goo.gl/SrVuahmr14khGBoM9\"\n      };\n      this.setState({\n        creatingDocument: true,\n        pdfData: pdfData,\n        pdfType: \"prescription\"\n      });\n    };\n\n    this.createProcedureConsentInput = event => {\n      event.preventDefault();\n\n      if (event.target.formGridDocGenProcedureConsentGiver.value.trim().length === 0 || event.target.formGridDocGenProcedureConsentGiverRelation.value.trim().length === 0 || event.target.formGridDocGenProcedureConsentProcedure.value.trim().length === 0) {\n        this.setState({\n          userAlert: \"Blank fields detected... please check your info and try again\"\n        });\n        return;\n      }\n\n      const date = new Date().toISOString().substring(0, 10);\n      const patient = this.state.selectedPatient;\n      const pdfData = {\n        title: \"Consent for Medical/Surgical Treatment\",\n        patient: {\n          _id: patient._id,\n          title: patient.title,\n          name: patient.name,\n          dob: patient.dob,\n          age: patient.age,\n          gender: patient.gender,\n          address: {\n            number: patient.number,\n            street: patient.street,\n            town: patient.town,\n            parish: patient.parish,\n            postOffice: patient.postOffice\n          },\n          registrationDate: patient.registrationDate,\n          referralDate: patient.referralDate,\n          expirationDate: patient.expirationDate,\n          attendingPhysician: {\n            name: patient.attendingPhysician.name,\n            email: patient.attendingPhysician.email,\n            phone: patient.attendingPhysician.phone\n          },\n          referringDoctor: {\n            name: patient.referringDoctor.name,\n            email: patient.referringDoctor.email,\n            phone: patient.referringDoctor.phone\n          },\n          contact: {\n            phone: patient.contact.phone,\n            email: patient.contact.email\n          }\n        },\n        date: date,\n        consentGiver: event.target.formGridDocGenProcedureConsentGiver.value,\n        consentGiverRelation: event.target.formGridDocGenProcedureConsentGiverRelation.value,\n        consentProcedure: event.target.formGridDocGenProcedureConsentProcedure.value,\n        referral: \"test procedure consent...\",\n        letterheadImage: \"https://photos.app.goo.gl/SrVuahmr14khGBoM9\"\n      };\n      this.setState({\n        creatingDocument: true,\n        pdfData: pdfData,\n        pdfType: \"procedureConsent\"\n      });\n    };\n\n    this.createFitToFlyInput = event => {\n      event.preventDefault();\n\n      if (event.target.formGridDocGenUnfitToFlyClinicalFeatures.value.trim().length === 0 || event.target.formGridDocGenUnfitToFlyProvisonalInvestigation.value.trim().length === 0 || event.target.formGridDocGenUnfitToFlyConclusion.value.trim().length === 0) {\n        this.setState({\n          userAlert: \"Blank fields detected... please check your info and try again\"\n        });\n        return;\n      }\n\n      const date = new Date().toISOString().substring(0, 10);\n      const patient = this.state.selectedPatient;\n      const pdfData = {\n        title: \"Unfit-to-Fly Authorization\",\n        patient: {\n          _id: patient._id,\n          title: patient.title,\n          name: patient.name,\n          dob: patient.dob,\n          age: patient.age,\n          gender: patient.gender,\n          address: {\n            number: patient.number,\n            street: patient.street,\n            town: patient.town,\n            parish: patient.parish,\n            postOffice: patient.postOffice\n          },\n          registrationDate: patient.registrationDate,\n          referralDate: patient.referralDate,\n          expirationDate: patient.expirationDate,\n          attendingPhysician: {\n            name: patient.attendingPhysician.name,\n            email: patient.attendingPhysician.email,\n            phone: patient.attendingPhysician.phone\n          },\n          referringDoctor: {\n            name: patient.referringDoctor.name,\n            email: patient.referringDoctor.email,\n            phone: patient.referringDoctor.phone\n          },\n          contact: {\n            phone: patient.contact.phone,\n            email: patient.contact.email\n          }\n        },\n        date: date,\n        clinicalFeatures: event.target.formGridDocGenUnfitToFlyClinicalFeatures.value,\n        provisionalInvestigation: event.target.formGridDocGenUnfitToFlyProvisonalInvestigation.value,\n        conclusion: event.target.formGridDocGenUnfitToFlyConclusion.value,\n        input: event.target.formGridDocGenProcedureConsent.value,\n        referral: \"test fit-to-fly authorization...\",\n        letterheadImage: \"https://photos.app.goo.gl/SrVuahmr14khGBoM9\"\n      };\n      this.setState({\n        creatingDocument: true,\n        pdfData: pdfData,\n        pdfType: \"fitToFlyAuthorization\"\n      });\n    };\n\n    this.createTreatmentInstructionInput = event => {\n      event.preventDefault();\n\n      if (event.target.formGridDocGenTreatmentInstruction.value.trim().length === 0) {\n        this.setState({\n          userAlert: \"Blank fields detected... please check your info and try again\"\n        });\n        return;\n      }\n\n      const date = new Date().toISOString().substring(0, 10);\n      const patient = this.state.selectedPatient;\n      const pdfData = {\n        title: \"Treatment Instructions\",\n        patient: {\n          _id: patient._id,\n          title: patient.title,\n          name: patient.name,\n          dob: patient.dob,\n          age: patient.age,\n          gender: patient.gender,\n          address: {\n            number: patient.number,\n            street: patient.street,\n            town: patient.town,\n            parish: patient.parish,\n            postOffice: patient.postOffice\n          },\n          registrationDate: patient.registrationDate,\n          referralDate: patient.referralDate,\n          expirationDate: patient.expirationDate,\n          attendingPhysician: {\n            name: patient.attendingPhysician.name,\n            email: patient.attendingPhysician.email,\n            phone: patient.attendingPhysician.phone\n          },\n          referringDoctor: {\n            name: patient.referringDoctor.name,\n            email: patient.referringDoctor.email,\n            phone: patient.referringDoctor.phone\n          },\n          contact: {\n            phone: patient.contact.phone,\n            email: patient.contact.email\n          }\n        },\n        date: date,\n        treatmentInstruction: event.target.formGridDocGenTreatmentInstruction.value,\n        referral: \"test Treatment Instruction...\",\n        letterheadImage: \"https://photos.app.goo.gl/SrVuahmr14khGBoM9\"\n      };\n      this.setState({\n        creatingDocument: true,\n        pdfData: pdfData,\n        pdfType: \"treatmentInstruction\"\n      });\n    };\n\n    this.closePdfCreator = () => {\n      this.setState({\n        creatingDocument: false,\n        pdfData: null,\n        pdfType: null\n      });\n    };\n\n    this.showDetailHandler = patientId => {\n      this.setState({\n        visitList: []\n      });\n      this.setState(prevState => {\n        const selectedPatient = prevState.patients.find(e => e._id === patientId);\n        this.context.selectedPatient = selectedPatient;\n        this.context.selectedPatientId = selectedPatient._id;\n        return {\n          selectedPatient: selectedPatient\n        };\n      });\n    };\n\n    this.selectVisit = props => {\n      this.setState({\n        selectedVisit: props\n      });\n    };\n\n    this.closeVisit = () => {\n      this.setState({\n        visit: null,\n        selectedVisit: null\n      });\n    };\n\n    this.createVisitChecklistUpdate = props => {\n      this.setState({\n        userAlert: `creating visit: ${props} addedd...`\n      });\n      let newState = Object.assign({}, this.state);\n      newState.createVisitChecklist[props] = true;\n      this.setState(newState);\n    };\n\n    this.newVisitComplete = () => {\n      this.setState({\n        userAlert: \"New Visit creation complete...\",\n        newVisit: false,\n        createVisitChecklist: {\n          consultant: true,\n          complaint: true,\n          diagnosis: true,\n          examination: true,\n          investigation: true,\n          survey: true,\n          systematicInquiry: true,\n          treatment: true,\n          vitals: true,\n          billing: true,\n          vigilance: true\n        }\n      });\n    };\n\n    this.showSidebar = () => {\n      console.log(`\n    showing sidebar...\n    `);\n      this.setState({\n        sidebarShow: true,\n        mCol2Size: 9\n      });\n    };\n\n    this.hideSidebar = () => {\n      console.log(`\n    hiding sidebar...\n    `);\n      this.setState({\n        sidebarShow: false,\n        mCol2Size: 11\n      });\n    };\n  }\n\n  componentDidMount() {\n    if (this.context.user.name === \"Lord-of-the-Manor\") {\n      this.setState({\n        canDelete: true\n      });\n    }\n\n    if (JSON.stringify(this.context.selectedPatient) !== \"{}\") {\n      this.setState({\n        selectedPatient: this.context.selectedPatient\n      });\n    }\n\n    console.log(`this.context.selectedUser, ${JSON.stringify(this.context.selectedUser)}`);\n    this.fetchPatients();\n  }\n\n  getCreds() {\n    console.log(\"get creds\"); // this.setState({ isLoading: true });\n\n    const requestBody = {\n      query: `\n      query {getCreds\n        {atlas{user,pw,db},s3{bucketName,region,accessKeyId,secretAccessKey},jwt{encode},gdrive{clientId,developerKey}}}\n        `\n    };\n    fetch('http://localhost:10000/graphql', {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + this.context.token\n      }\n    }).then(res => {\n      if (res.status !== 200 && res.status !== 201) {\n        throw new Error('Failed!');\n      }\n\n      return res.json();\n    }).then(resData => {\n      const creds = resData.data.getCreds;\n      this.setState({\n        creds: creds\n      }); // this.context.creds = creds;\n    }).catch(err => {\n      this.setState({\n        userAlert: err\n      });\n    });\n  }\n\n  fetchPatients() {\n    const userId = this.context.userId;\n    const token = this.context.token;\n    this.setState({\n      isLoading: true,\n      userAlert: \"Fetching Patient Master List...\"\n    });\n    const requestBody = {\n      query: `\n          query {patients(userId:\"${userId}\")\n          {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n        `\n    };\n    fetch('http://localhost:10000/graphql', {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + token\n      }\n    }).then(res => {\n      if (res.status !== 200 && res.status !== 201) {\n        throw new Error('Failed!');\n      }\n\n      return res.json();\n    }).then(resData => {\n      const patients = resData.data.patients;\n      const responseAlert = JSON.stringify(resData.data).slice(2, 25);\n      this.setState({\n        userAlert: responseAlert\n      });\n      this.context.patients = this.state.patients;\n\n      if (this.isActive) {\n        this.setState({\n          patients: patients,\n          isLoading: false\n        });\n      }\n    }).catch(err => {\n      this.setState({\n        userAlert: err\n      });\n\n      if (this.isActive) {\n        this.setState({\n          isLoading: false\n        });\n      }\n    });\n  }\n\n  updatePatientSpecial(event) {\n    const field = event.target.value;\n    this.setState({\n      patientUpdateField: field\n    });\n  }\n\n  componentWillUnmount() {\n    this.isActive = false;\n  }\n\n  render() {\n    return React.createElement(React.Fragment, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4477\n      },\n      __self: this\n    }, this.state.showAttachment === true && React.createElement(AttachmentViewer, {\n      onCloseAttachmentView: this.closeAttachmentView,\n      attachmentFile: this.state.showThisAttachmentFile,\n      attachmentType: this.state.showThisAttachmentType,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4479\n      },\n      __self: this\n    }), this.state.creatingDocument === true && React.createElement(PdfCreator, {\n      pdfType: this.state.pdfType,\n      pdfData: this.state.pdfData,\n      onClosePdfCreator: this.closePdfCreator,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4486\n      },\n      __self: this\n    }), React.createElement(AlertBox, {\n      authUserId: this.context.userId,\n      alert: this.state.userAlert,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4492\n      },\n      __self: this\n    }), React.createElement(SidebarControl, {\n      onShowSidebar: this.showSidebar,\n      onHideSidebar: this.hideSidebar,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4496\n      },\n      __self: this\n    }), React.createElement(Accordion, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4501\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4502\n      },\n      __self: this\n    }, this.state.sidebarShow === true && React.createElement(Col, {\n      md: 3,\n      className: \"MasterCol1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4505\n      },\n      __self: this\n    }, React.createElement(SidebarPage, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4506\n      },\n      __self: this\n    })), React.createElement(Col, {\n      md: this.state.mCol2Size,\n      className: \"MasterCol2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4510\n      },\n      __self: this\n    }, React.createElement(Container, {\n      className: \"containerCombinedDetail\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4511\n      },\n      __self: this\n    }, React.createElement(Tab.Container, {\n      id: \"left-tabs-example\",\n      defaultActiveKey: \"patientDetail\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4512\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4513\n      },\n      __self: this\n    }, React.createElement(Col, {\n      md: 2,\n      className: \"vertMenu\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4514\n      },\n      __self: this\n    }, React.createElement(Nav, {\n      variant: \"pills\",\n      className: \"flex-column\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4515\n      },\n      __self: this\n    }, React.createElement(Nav.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4516\n      },\n      __self: this\n    }, React.createElement(Nav.Link, {\n      eventKey: \"MasterList\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4517\n      },\n      __self: this\n    }, \"MASTER LIST\")), React.createElement(Nav.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4519\n      },\n      __self: this\n    }, React.createElement(Nav.Link, {\n      eventKey: \"disabled\",\n      disabled: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4520\n      },\n      __self: this\n    }, \"Search:\")), React.createElement(Nav.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4522\n      },\n      __self: this\n    }, React.createElement(Nav.Link, {\n      eventKey: \"SearchInput\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4523\n      },\n      __self: this\n    }, \"Input\")), React.createElement(Nav.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4525\n      },\n      __self: this\n    }, React.createElement(Nav.Link, {\n      eventKey: \"SearchResult\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4526\n      },\n      __self: this\n    }, \"Results\")), React.createElement(Nav.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4528\n      },\n      __self: this\n    }, React.createElement(Nav.Link, {\n      eventKey: \"patientDetail\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4529\n      },\n      __self: this\n    }, \"Selected\")), React.createElement(Nav.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4531\n      },\n      __self: this\n    }, React.createElement(Nav.Link, {\n      eventKey: \"patientCreate\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4532\n      },\n      __self: this\n    }, \"Create New\")), React.createElement(Nav.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4534\n      },\n      __self: this\n    }, React.createElement(Nav.Link, {\n      eventKey: \"disabled\",\n      disabled: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4535\n      },\n      __self: this\n    }, \"Edit:\")), React.createElement(Nav.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4537\n      },\n      __self: this\n    }, React.createElement(Nav.Link, {\n      eventKey: \"patientEditDemographics\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4538\n      },\n      __self: this\n    }, \"Demographics\")), React.createElement(Nav.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4540\n      },\n      __self: this\n    }, React.createElement(Nav.Link, {\n      eventKey: \"patientEditField\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4541\n      },\n      __self: this\n    }, \"Single Field\")), React.createElement(Nav.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4543\n      },\n      __self: this\n    }, React.createElement(Nav.Link, {\n      eventKey: \"disabled\",\n      disabled: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4544\n      },\n      __self: this\n    }, \"Add:\")), React.createElement(Nav.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4546\n      },\n      __self: this\n    }, React.createElement(Nav.Link, {\n      eventKey: \"patientAddVisit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4547\n      },\n      __self: this\n    }, \"Visit\")), React.createElement(Nav.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4549\n      },\n      __self: this\n    }, React.createElement(Nav.Link, {\n      eventKey: \"patientEditConsultant\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4550\n      },\n      __self: this\n    }, \"Consultant\")), React.createElement(Nav.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4552\n      },\n      __self: this\n    }, React.createElement(Nav.Link, {\n      eventKey: \"patientEditInsurance\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4553\n      },\n      __self: this\n    }, \"Insurance\")), React.createElement(Nav.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4555\n      },\n      __self: this\n    }, React.createElement(Nav.Link, {\n      eventKey: \"patientEditNextOfKin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4556\n      },\n      __self: this\n    }, \"Next of Kin\")), React.createElement(Nav.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4558\n      },\n      __self: this\n    }, React.createElement(Nav.Link, {\n      eventKey: \"patientEditComplaint\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4559\n      },\n      __self: this\n    }, \"History\")), React.createElement(Nav.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4561\n      },\n      __self: this\n    }, React.createElement(Nav.Link, {\n      eventKey: \"patientEditSurvey\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4562\n      },\n      __self: this\n    }, \"Survey\")), React.createElement(Nav.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4564\n      },\n      __self: this\n    }, React.createElement(Nav.Link, {\n      eventKey: \"patientEditSystematicInquiry\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4565\n      },\n      __self: this\n    }, \"Systematic Inquiry\")), React.createElement(Nav.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4567\n      },\n      __self: this\n    }, React.createElement(Nav.Link, {\n      eventKey: \"patientEditVitals\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4568\n      },\n      __self: this\n    }, \"Vitals\")), React.createElement(Nav.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4570\n      },\n      __self: this\n    }, React.createElement(Nav.Link, {\n      eventKey: \"patientEditExamination\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4571\n      },\n      __self: this\n    }, \"Examination\")), React.createElement(Nav.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4573\n      },\n      __self: this\n    }, React.createElement(Nav.Link, {\n      eventKey: \"patientEditHistory\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4574\n      },\n      __self: this\n    }, \"Past History\")), React.createElement(Nav.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4576\n      },\n      __self: this\n    }, React.createElement(Nav.Link, {\n      eventKey: \"patientEditAllergies\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4577\n      },\n      __self: this\n    }, \"Allergies\")), React.createElement(Nav.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4579\n      },\n      __self: this\n    }, React.createElement(Nav.Link, {\n      eventKey: \"patientEditMedication\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4580\n      },\n      __self: this\n    }, \"Medication\")), React.createElement(Nav.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4582\n      },\n      __self: this\n    }, React.createElement(Nav.Link, {\n      eventKey: \"patientEditInvestigation\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4583\n      },\n      __self: this\n    }, \"Investigation\")), React.createElement(Nav.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4585\n      },\n      __self: this\n    }, React.createElement(Nav.Link, {\n      eventKey: \"patientEditDiagnosis\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4586\n      },\n      __self: this\n    }, \"Diagnosis\")), React.createElement(Nav.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4588\n      },\n      __self: this\n    }, React.createElement(Nav.Link, {\n      eventKey: \"patientEditTreatment\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4589\n      },\n      __self: this\n    }, \"Treatment\")), React.createElement(Nav.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4591\n      },\n      __self: this\n    }, React.createElement(Nav.Link, {\n      eventKey: \"patientEditBilling\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4592\n      },\n      __self: this\n    }, \"Billing\")), React.createElement(Nav.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4594\n      },\n      __self: this\n    }, React.createElement(Nav.Link, {\n      eventKey: \"patientEditVigilance\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4595\n      },\n      __self: this\n    }, \"Vigilance\")), React.createElement(Nav.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4597\n      },\n      __self: this\n    }, React.createElement(Nav.Link, {\n      eventKey: \"patientEditAttachment\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4598\n      },\n      __self: this\n    }, \"Attachment\")), React.createElement(Nav.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4600\n      },\n      __self: this\n    }, React.createElement(Nav.Link, {\n      eventKey: \"patientEditNote\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4601\n      },\n      __self: this\n    }, \"Note\")), React.createElement(Nav.Item, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4603\n      },\n      __self: this\n    }, React.createElement(Nav.Link, {\n      eventKey: \"patientEditTag\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4604\n      },\n      __self: this\n    }, \"Tag\")))), React.createElement(Col, {\n      md: 10,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4610\n      },\n      __self: this\n    }, React.createElement(Tab.Content, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4611\n      },\n      __self: this\n    }, React.createElement(Tab.Pane, {\n      eventKey: \"patientDetail\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4612\n      },\n      __self: this\n    }, this.state.selectedPatient === null && React.createElement(Button, {\n      variant: \"outline-warning\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4614\n      },\n      __self: this\n    }, \"Select a Patient from the Master List\"), this.state.selectedPatient === null && React.createElement(Button, {\n      variant: \"outline-danger\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4619\n      },\n      __self: this\n    }, \"Don't forget to select someone from the Staff page before editing Patient Consultant information !!!\"), this.state.isLoading === false && this.state.selectedPatient !== null && React.createElement(PatientDetail, {\n      authUserId: this.context.userId,\n      token: this.context.token,\n      patient: this.state.selectedPatient,\n      users: this.context.users,\n      onEdit: this.startUpdatePatientHandler,\n      canDelete: this.state.canDelete,\n      onDelete: this.modalDeleteHandler,\n      onGetVisit: this.getPatientVisit,\n      visit: this.state.visit,\n      selectedVisit: this.state.selectedVisit,\n      fetchUsers: this.fetchUsers,\n      appointmentDelete: this.deletePatientAppointmentItem,\n      consultantDelete: this.deletePatientConsultantItem,\n      insuranceDelete: this.deletePatientInsuranceItem,\n      nextOfKinDelete: this.deletePatientNextOfKinItem,\n      complaintDelete: this.deletePatientComplaintItem,\n      surveyDelete: this.deletePatientSurveyItem,\n      systematicInquiryDelete: this.deletePatientSystematicInquiryItem,\n      vitalsDelete: this.deletePatientVitalsItem,\n      examinationDelete: this.deletePatientExaminationItem,\n      historyDelete: this.deletePatientHistoryItem,\n      allergiesDelete: this.deletePatientAllergiesItem,\n      medicationDelete: this.deletePatientMedicationItem,\n      investigationDelete: this.deletePatientInvestigationItem,\n      diagnosisDelete: this.deletePatientDiagnosisItem,\n      treatmentDelete: this.deletePatientTreatmentItem,\n      billingDelete: this.deletePatientBillingItem,\n      vigilanceDelete: this.deletePatientVigilanceItem,\n      attachmentDelete: this.deletePatientAttachmentItem,\n      noteDelete: this.deletePatientNoteItem,\n      tagDelete: this.deletePatientTagItem,\n      onViewAttachment: this.onViewAttachment,\n      onCreatePdfTest: this.createPdfTest,\n      onCreateReferralInput: this.createReferralInput,\n      onCreateOperationReminderInput: this.createOperationReminderInput,\n      onCreateMiscNoteInput: this.createMiscNoteInput,\n      onCreateSickNoteInput: this.createSickNoteInput,\n      onCreateDiagTestInput: this.createDiagTestInput,\n      onCreateInsuranceNoteInput: this.createInsuranceNoteInput,\n      onCreatePrescriptionInput: this.createPrescriptionInput,\n      onCreateProcedureConsentInput: this.createProcedureConsentInput,\n      onCreateFitToFlyInput: this.createFitToFlyInput,\n      onCreateTreatmentInstructionInput: this.createTreatmentInstructionInput,\n      onGetVisitList: this.getVisitList,\n      visitList: this.state.visitList,\n      onSelectVisit: this.selectVisit,\n      onCloseVisit: this.closeVisit,\n      onSortVisitListAsc: this.getVisitListAsc,\n      onSortVisitListDesc: this.getVisitListDesc,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4625\n      },\n      __self: this\n    })), React.createElement(Tab.Pane, {\n      eventKey: \"patientCreate\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4679\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"outline-primary\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      onClick: this.startCreatePatientHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4680\n      },\n      __self: this\n    }, \"Create NEW Patient Profile\"), this.state.creating && React.createElement(CreatePatientForm, {\n      canCancel: true,\n      canConfirm: true,\n      onCancel: this.modalCancelHandler,\n      onConfirm: this.modalConfirmHandler,\n      confirmText: \"Confirm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4682\n      },\n      __self: this\n    })), React.createElement(Tab.Pane, {\n      eventKey: \"patientAddVisit\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4692\n      },\n      __self: this\n    }, this.state.selectedPatient === null && React.createElement(Button, {\n      variant: \"outline-warning\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4694\n      },\n      __self: this\n    }, \"Select a Patient from the Master List\"), this.state.selectedPatient !== null && this.state.newVisit !== true && React.createElement(Button, {\n      variant: \"outline-primary\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      onClick: this.startCreateVisitHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4700\n      },\n      __self: this\n    }, \"Add NEW Visit\"), this.state.selectedPatient !== null && this.state.newVisit === true && React.createElement(Accordion, {\n      defaultActiveKey: \"0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4704\n      },\n      __self: this\n    }, React.createElement(Card, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4705\n      },\n      __self: this\n    }, React.createElement(Card.Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4706\n      },\n      __self: this\n    }, React.createElement(Accordion.Toggle, {\n      as: Button,\n      variant: \"link\",\n      eventKey: \"0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4707\n      },\n      __self: this\n    }, \"Guide:\")), React.createElement(Accordion.Collapse, {\n      eventKey: \"0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4711\n      },\n      __self: this\n    }, React.createElement(Card.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4712\n      },\n      __self: this\n    }, React.createElement(Card.Text, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4713\n      },\n      __self: this\n    }, \"To create a NEW Patient Visit, fill in the forms below.\"), React.createElement(Card.Text, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4716\n      },\n      __self: this\n    }, \"Everytime you submit a form with new info, a new item is added to the current Patient visit.\"), React.createElement(Card.Text, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4719\n      },\n      __self: this\n    }, \"When you are done with a section click the GREEN Done adding Complaints, Vitals etc and continue to the next form.\"), React.createElement(Card.Text, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4722\n      },\n      __self: this\n    }, \"Once you have submitted all the information required scroll to the bottom and click the green button.\")))), React.createElement(Card, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4728\n      },\n      __self: this\n    }, React.createElement(Card.Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4729\n      },\n      __self: this\n    }, React.createElement(Accordion.Toggle, {\n      as: Button,\n      variant: \"link\",\n      eventKey: \"1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4730\n      },\n      __self: this\n    }, \"Consultant\")), React.createElement(Accordion.Collapse, {\n      eventKey: \"1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4734\n      },\n      __self: this\n    }, React.createElement(Card.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4735\n      },\n      __self: this\n    }, \"Add Consultant form:\", this.state.createVisitChecklist.consultant === true && React.createElement(Button, {\n      variant: \"warning\",\n      size: \"lg\",\n      className: \"formButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4738\n      },\n      __self: this\n    }, \"Consultant for this Visit has already been added!!\"), this.state.createVisitChecklist.consultant === false && JSON.stringify(this.context.selectedUser) === \"{}\" && React.createElement(Button, {\n      variant: \"outline-warning\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4744\n      },\n      __self: this\n    }, \"Select someone from the Staff page\"), this.state.createVisitChecklist.consultant === false && this.context.selectedUser !== null && React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4750\n      },\n      __self: this\n    }, React.createElement(Card.Text, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4751\n      },\n      __self: this\n    }, \"Add Consultant: \", this.context.selectedUser.name, \"  ...\"), React.createElement(Card.Text, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4752\n      },\n      __self: this\n    }, \" To Paitient: \", this.state.selectedPatient.name, \" ??\")), this.state.createVisitChecklist.consultant === false && this.context.selectedUser !== null && React.createElement(UpdatePatientConsultantForm, {\n      authUserId: this.context.userId,\n      canConfirm: true,\n      onCancel: this.modalCancelHandler,\n      onConfirm: this.updatePatientConsultantHandler,\n      confirmText: \"Confirm\",\n      consultant: this.context.selectedUser,\n      visit: true,\n      onCreateVisitChecklistUpdate: this.createVisitChecklistUpdate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4757\n      },\n      __self: this\n    })))), React.createElement(Card, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4771\n      },\n      __self: this\n    }, React.createElement(Card.Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4772\n      },\n      __self: this\n    }, React.createElement(Accordion.Toggle, {\n      as: Button,\n      variant: \"link\",\n      eventKey: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4773\n      },\n      __self: this\n    }, \"Complaint\")), React.createElement(Accordion.Collapse, {\n      eventKey: \"2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4777\n      },\n      __self: this\n    }, React.createElement(Card.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4778\n      },\n      __self: this\n    }, \"Add Complaint form:\", this.state.createVisitChecklist.complaint === true && React.createElement(Button, {\n      variant: \"warning\",\n      size: \"lg\",\n      className: \"formButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4781\n      },\n      __self: this\n    }, \"Complaint for this Visit has already been added!!\"), this.state.createVisitChecklist.complaint === false && React.createElement(UpdatePatientComplaintForm, {\n      authUserId: this.context.userId,\n      canConfirm: true,\n      onCancel: this.modalCancelHandler,\n      onConfirm: this.updatePatientComplaintHandler,\n      confirmText: \"Confirm\",\n      patient: this.state.selectedPatient,\n      visit: true,\n      onCreateVisitChecklistUpdate: this.createVisitChecklistUpdate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4786\n      },\n      __self: this\n    })))), React.createElement(Card, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4800\n      },\n      __self: this\n    }, React.createElement(Card.Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4801\n      },\n      __self: this\n    }, React.createElement(Accordion.Toggle, {\n      as: Button,\n      variant: \"link\",\n      eventKey: \"3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4802\n      },\n      __self: this\n    }, \"Vitals\")), React.createElement(Accordion.Collapse, {\n      eventKey: \"3\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4806\n      },\n      __self: this\n    }, React.createElement(Card.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4807\n      },\n      __self: this\n    }, \"Add Vitals form:\", this.state.createVisitChecklist.vitals === true && React.createElement(Button, {\n      variant: \"warning\",\n      size: \"lg\",\n      className: \"formButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4810\n      },\n      __self: this\n    }, \"Vitals for this Visit have already been added!!\"), this.state.createVisitChecklist.vitals === false && React.createElement(UpdatePatientVitalsForm, {\n      authUserId: this.context.userId,\n      canConfirm: true,\n      onCancel: this.modalCancelHandler,\n      onConfirm: this.updatePatientVitalsHandler,\n      confirmText: \"Confirm\",\n      patient: this.state.selectedPatient,\n      visit: true,\n      onCreateVisitChecklistUpdate: this.createVisitChecklistUpdate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4815\n      },\n      __self: this\n    })))), React.createElement(Card, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4829\n      },\n      __self: this\n    }, React.createElement(Card.Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4830\n      },\n      __self: this\n    }, React.createElement(Accordion.Toggle, {\n      as: Button,\n      variant: \"link\",\n      eventKey: \"4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4831\n      },\n      __self: this\n    }, \"Examination\")), React.createElement(Accordion.Collapse, {\n      eventKey: \"4\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4835\n      },\n      __self: this\n    }, React.createElement(Card.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4836\n      },\n      __self: this\n    }, \"Add Examination form:\", this.state.createVisitChecklist.examination === true && React.createElement(Button, {\n      variant: \"warning\",\n      size: \"lg\",\n      className: \"formButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4839\n      },\n      __self: this\n    }, \"Examination for this Visit has already been added!!\"), this.state.createVisitChecklist.examination === false && React.createElement(UpdatePatientExaminationForm, {\n      authUserId: this.context.userId,\n      canConfirm: true,\n      onCancel: this.modalCancelHandler,\n      onConfirm: this.updatePatientExaminationHandler,\n      confirmText: \"Confirm\",\n      patient: this.state.selectedPatient,\n      visit: true,\n      onCreateVisitChecklistUpdate: this.createVisitChecklistUpdate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4844\n      },\n      __self: this\n    })))), React.createElement(Card, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4858\n      },\n      __self: this\n    }, React.createElement(Card.Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4859\n      },\n      __self: this\n    }, React.createElement(Accordion.Toggle, {\n      as: Button,\n      variant: \"link\",\n      eventKey: \"5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4860\n      },\n      __self: this\n    }, \"Survey\")), React.createElement(Accordion.Collapse, {\n      eventKey: \"5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4864\n      },\n      __self: this\n    }, React.createElement(Card.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4865\n      },\n      __self: this\n    }, \"Add Survey form:\", this.state.createVisitChecklist.survey === true && React.createElement(Button, {\n      variant: \"warning\",\n      size: \"lg\",\n      className: \"formButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4868\n      },\n      __self: this\n    }, \"Survey for this Visit has already been added!!\"), this.state.createVisitChecklist.survey === false && React.createElement(UpdatePatientSurveyForm, {\n      authUserId: this.context.userId,\n      canConfirm: true,\n      onCancel: this.modalCancelHandler,\n      onConfirm: this.updatePatientSurveyHandler,\n      confirmText: \"Confirm\",\n      patient: this.state.selectedPatient,\n      visit: true,\n      onCreateVisitChecklistUpdate: this.createVisitChecklistUpdate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4873\n      },\n      __self: this\n    })))), React.createElement(Card, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4887\n      },\n      __self: this\n    }, React.createElement(Card.Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4888\n      },\n      __self: this\n    }, React.createElement(Accordion.Toggle, {\n      as: Button,\n      variant: \"link\",\n      eventKey: \"22\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4889\n      },\n      __self: this\n    }, \"SystematicInquiry\")), React.createElement(Accordion.Collapse, {\n      eventKey: \"22\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4893\n      },\n      __self: this\n    }, React.createElement(Card.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4894\n      },\n      __self: this\n    }, \"Add Systematic Inquiry form:\", this.state.createVisitChecklist.systematicInquiry === true && React.createElement(Button, {\n      variant: \"warning\",\n      size: \"lg\",\n      className: \"formButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4897\n      },\n      __self: this\n    }, \"Systematic Inquiry for this Visit has already been added!!\"), this.state.createVisitChecklist.systematicInquiry === false && React.createElement(UpdatePatientSystematicInquiryForm, {\n      authUserId: this.context.userId,\n      canConfirm: true,\n      onCancel: this.modalCancelHandler,\n      onConfirm: this.updatePatientSystematicInquiryHandler,\n      confirmText: \"Confirm\",\n      patient: this.state.selectedPatient,\n      visit: true,\n      onCreateVisitChecklistUpdate: this.createVisitChecklistUpdate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4902\n      },\n      __self: this\n    })))), React.createElement(Card, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4916\n      },\n      __self: this\n    }, React.createElement(Card.Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4917\n      },\n      __self: this\n    }, React.createElement(Accordion.Toggle, {\n      as: Button,\n      variant: \"link\",\n      eventKey: \"6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4918\n      },\n      __self: this\n    }, \"Investigation\")), React.createElement(Accordion.Collapse, {\n      eventKey: \"6\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4922\n      },\n      __self: this\n    }, React.createElement(Card.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4923\n      },\n      __self: this\n    }, \"Add Investigation form:\", this.state.createVisitChecklist.investigation === true && React.createElement(Button, {\n      variant: \"warning\",\n      size: \"lg\",\n      className: \"formButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4926\n      },\n      __self: this\n    }, \"Investigation for this Visit has already been added!!\"), this.state.createVisitChecklist.investigation === false && React.createElement(UpdatePatientInvestigationForm, {\n      authUserId: this.context.userId,\n      canConfirm: true,\n      onCancel: this.modalCancelHandler,\n      onConfirm: this.updatePatientInvestigationHandler,\n      confirmText: \"Confirm\",\n      patient: this.state.selectedPatient,\n      visit: true,\n      onCreateVisitChecklistUpdate: this.createVisitChecklistUpdate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4931\n      },\n      __self: this\n    })))), React.createElement(Card, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4945\n      },\n      __self: this\n    }, React.createElement(Card.Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4946\n      },\n      __self: this\n    }, React.createElement(Accordion.Toggle, {\n      as: Button,\n      variant: \"link\",\n      eventKey: \"7\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4947\n      },\n      __self: this\n    }, \"Diagnosis\")), React.createElement(Accordion.Collapse, {\n      eventKey: \"7\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4951\n      },\n      __self: this\n    }, React.createElement(Card.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4952\n      },\n      __self: this\n    }, \"Add Diagnosis form:\", this.state.createVisitChecklist.diagnosis === true && React.createElement(Button, {\n      variant: \"warning\",\n      size: \"lg\",\n      className: \"formButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4955\n      },\n      __self: this\n    }, \"Diagnosis for this Visit has already been added!!\"), this.state.createVisitChecklist.diagnosis === false && React.createElement(UpdatePatientDiagnosisForm, {\n      authUserId: this.context.userId,\n      canConfirm: true,\n      onCancel: this.modalCancelHandler,\n      onConfirm: this.updatePatientDiagnosisHandler,\n      confirmText: \"Confirm\",\n      patient: this.state.selectedPatient,\n      visit: true,\n      onCreateVisitChecklistUpdate: this.createVisitChecklistUpdate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4960\n      },\n      __self: this\n    })))), React.createElement(Card, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4974\n      },\n      __self: this\n    }, React.createElement(Card.Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4975\n      },\n      __self: this\n    }, React.createElement(Accordion.Toggle, {\n      as: Button,\n      variant: \"link\",\n      eventKey: \"8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4976\n      },\n      __self: this\n    }, \"Treatment\")), React.createElement(Accordion.Collapse, {\n      eventKey: \"8\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4980\n      },\n      __self: this\n    }, React.createElement(Card.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4981\n      },\n      __self: this\n    }, \"Add Treatment form:\", this.state.createVisitChecklist.treatment === true && React.createElement(Button, {\n      variant: \"warning\",\n      size: \"lg\",\n      className: \"formButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4984\n      },\n      __self: this\n    }, \"Treatment for this Visit has already been added!!\"), this.state.createVisitChecklist.treatment === false && React.createElement(UpdatePatientTreatmentForm, {\n      authUserId: this.context.userId,\n      canCancel: true,\n      canConfirm: true,\n      onCancel: this.modalCancelHandler,\n      onConfirm: this.updatePatientTreatmentHandler,\n      confirmText: \"Confirm\",\n      patient: this.state.selectedPatient,\n      visit: true,\n      onCreateVisitChecklistUpdate: this.createVisitChecklistUpdate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 4989\n      },\n      __self: this\n    })))), React.createElement(Card, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5004\n      },\n      __self: this\n    }, React.createElement(Card.Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5005\n      },\n      __self: this\n    }, React.createElement(Accordion.Toggle, {\n      as: Button,\n      variant: \"link\",\n      eventKey: \"9\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5006\n      },\n      __self: this\n    }, \"Billing\")), React.createElement(Accordion.Collapse, {\n      eventKey: \"9\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5010\n      },\n      __self: this\n    }, React.createElement(Card.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5011\n      },\n      __self: this\n    }, \"Add Billing form:\", this.state.createVisitChecklist.billing === true && React.createElement(Button, {\n      variant: \"warning\",\n      size: \"lg\",\n      className: \"formButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5014\n      },\n      __self: this\n    }, \"Billing for this Visit has already been added!!\"), this.state.createVisitChecklist.billing === false && React.createElement(UpdatePatientBillingForm, {\n      authUserId: this.context.userId,\n      canConfirm: true,\n      onCancel: this.modalCancelHandler,\n      onConfirm: this.updatePatientBillingHandler,\n      confirmText: \"Confirm\",\n      patient: this.state.selectedPatient,\n      visit: true,\n      onCreateVisitChecklistUpdate: this.createVisitChecklistUpdate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5019\n      },\n      __self: this\n    })))), React.createElement(Card, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5033\n      },\n      __self: this\n    }, React.createElement(Card.Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5034\n      },\n      __self: this\n    }, React.createElement(Accordion.Toggle, {\n      as: Button,\n      variant: \"link\",\n      eventKey: \"23\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5035\n      },\n      __self: this\n    }, \"Vigilance\")), React.createElement(Accordion.Collapse, {\n      eventKey: \"23\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5039\n      },\n      __self: this\n    }, React.createElement(Card.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5040\n      },\n      __self: this\n    }, \"Add Vigilance form:\", this.state.createVisitChecklist.vigilance === true && React.createElement(Button, {\n      variant: \"warning\",\n      size: \"lg\",\n      className: \"formButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5043\n      },\n      __self: this\n    }, \"Vigilance for this Visit has already been added!!\"), this.state.createVisitChecklist.vigilance === false && React.createElement(UpdatePatientVigilanceForm, {\n      authUserId: this.context.userId,\n      canConfirm: true,\n      onCancel: this.modalCancelHandler,\n      onConfirm: this.updatePatientVigilanceHandler,\n      confirmText: \"Confirm\",\n      patient: this.state.selectedPatient,\n      visit: true,\n      onCreateVisitChecklistUpdate: this.createVisitChecklistUpdate,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5048\n      },\n      __self: this\n    })))), React.createElement(Card, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5062\n      },\n      __self: this\n    }, React.createElement(Card.Header, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5063\n      },\n      __self: this\n    }, React.createElement(Accordion.Toggle, {\n      as: Button,\n      variant: \"link\",\n      eventKey: \"10\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5064\n      },\n      __self: this\n    }, \"Finished ?\")), React.createElement(Accordion.Collapse, {\n      eventKey: \"10\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5068\n      },\n      __self: this\n    }, React.createElement(Card.Body, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5069\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"success\",\n      className: \"formButton\",\n      onClick: this.newVisitComplete,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5070\n      },\n      __self: this\n    }, \"Done creating Visit\")))))), React.createElement(Tab.Pane, {\n      eventKey: \"patientEditDemographics\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5080\n      },\n      __self: this\n    }, this.state.selectedPatient === null && React.createElement(Button, {\n      variant: \"outline-warning\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5082\n      },\n      __self: this\n    }, \"Select a Patient from the Master List\"), this.state.selectedPatient !== null && React.createElement(Button, {\n      variant: \"outline-primary\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      onClick: this.startUpdatePatientHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5087\n      },\n      __self: this\n    }, \"Edit Demographics\"), this.state.updating && this.state.selectedPatient !== null && React.createElement(UpdatePatientForm, {\n      authUserId: this.context.userId,\n      canCancel: true,\n      canConfirm: true,\n      onCancel: this.modalCancelHandler,\n      onConfirm: this.modalConfirmUpdateHandler,\n      confirmText: \"Confirm\",\n      patient: this.state.selectedPatient,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5091\n      },\n      __self: this\n    })), React.createElement(Tab.Pane, {\n      eventKey: \"patientEditField\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5103\n      },\n      __self: this\n    }, this.state.selectedPatient === null && React.createElement(Button, {\n      variant: \"outline-warning\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5105\n      },\n      __self: this\n    }, \"Select a Patient from the Master List\"), this.state.selectedPatient !== null && React.createElement(Button, {\n      variant: \"outline-primary\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      onClick: this.startUpdatePatientHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5110\n      },\n      __self: this\n    }, \"Edit a Single Field\"), this.state.updating && this.state.selectedPatient !== null && React.createElement(UpdatePatientFieldForm, {\n      authUserId: this.context.userId,\n      canCancel: true,\n      canConfirm: true,\n      onCancel: this.modalCancelHandler,\n      onConfirm: this.modalConfirmUpdateFieldHandler,\n      confirmText: \"Confirm\",\n      patient: this.state.selectedPatient,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5114\n      },\n      __self: this\n    })), React.createElement(Tab.Pane, {\n      eventKey: \"patientEditConsultant\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5126\n      },\n      __self: this\n    }, this.state.selectedPatient === null && React.createElement(Button, {\n      variant: \"outline-warning\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5128\n      },\n      __self: this\n    }, \"Select a Patient from the Master List\"), this.state.selectedPatient !== null && React.createElement(Button, {\n      variant: \"outline-primary\",\n      value: \"consultant\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      onClick: this.updatePatientSpecial.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5133\n      },\n      __self: this\n    }, \"Add a Consultant\"), this.state.patientUpdateField === 'consultant' && this.state.selectedPatient !== null && this.context.selectedUser === null && React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5138\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"outline-warning\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5139\n      },\n      __self: this\n    }, \"Select someone from the Staff page\")), this.state.patientUpdateField === 'consultant' && this.state.selectedPatient !== null && React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5146\n      },\n      __self: this\n    }, React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5147\n      },\n      __self: this\n    }, \"Add Consultant: \", this.context.selectedUser.name, \"  ...\"), React.createElement(\"p\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5148\n      },\n      __self: this\n    }, \" To Paitient: \", this.state.selectedPatient.name, \" ??\")), this.state.patientUpdateField === 'consultant' && this.state.selectedPatient !== null && React.createElement(UpdatePatientConsultantForm, {\n      authUserId: this.context.userId,\n      canCancel: true,\n      canConfirm: true,\n      onCancel: this.modalCancelHandler,\n      onConfirm: this.updatePatientConsultantHandler,\n      confirmText: \"Confirm\",\n      consultant: this.context.selectedUser,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5153\n      },\n      __self: this\n    })), React.createElement(Tab.Pane, {\n      eventKey: \"patientEditInsurance\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5165\n      },\n      __self: this\n    }, this.state.selectedPatient === null && React.createElement(Button, {\n      variant: \"outline-warning\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5167\n      },\n      __self: this\n    }, \"Select a Patient from the Master List\"), this.state.selectedPatient !== null && React.createElement(Button, {\n      variant: \"outline-primary\",\n      value: \"insurance\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      onClick: this.updatePatientSpecial.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5172\n      },\n      __self: this\n    }, \"Add Insurance\"), this.state.patientUpdateField === 'insurance' && this.state.selectedPatient !== null && React.createElement(UpdatePatientInsuranceForm, {\n      authUserId: this.context.userId,\n      canCancel: true,\n      canConfirm: true,\n      onCancel: this.modalCancelHandler,\n      onConfirm: this.updatePatientInsuranceHandler,\n      confirmText: \"Confirm\",\n      patient: this.state.selectedPatient,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5176\n      },\n      __self: this\n    })), React.createElement(Tab.Pane, {\n      eventKey: \"patientEditNextOfKin\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5188\n      },\n      __self: this\n    }, this.state.selectedPatient === null && React.createElement(Button, {\n      variant: \"outline-warning\",\n      size: \"lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5190\n      },\n      __self: this\n    }, \"Select a Patient from the Master List\"), this.state.selectedPatient !== null && React.createElement(Button, {\n      variant: \"outline-primary\",\n      value: \"nextOfKin\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      onClick: this.updatePatientSpecial.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5195\n      },\n      __self: this\n    }, \"Add NextOfKin\"), this.state.patientUpdateField === 'nextOfKin' && this.state.selectedPatient !== null && React.createElement(UpdatePatientNextOfKinForm, {\n      authUserId: this.context.userId,\n      canCancel: true,\n      canConfirm: true,\n      onCancel: this.modalCancelHandler,\n      onConfirm: this.updatePatientNextOfKinHandler,\n      confirmText: \"Confirm\",\n      patient: this.state.selectedPatient,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5200\n      },\n      __self: this\n    })), React.createElement(Tab.Pane, {\n      eventKey: \"patientEditComplaint\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5212\n      },\n      __self: this\n    }, this.state.selectedPatient === null && React.createElement(Button, {\n      variant: \"outline-warning\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5214\n      },\n      __self: this\n    }, \"Select a Patient from the Master List\"), this.state.selectedPatient !== null && React.createElement(Button, {\n      variant: \"outline-primary\",\n      value: \"complaint\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      onClick: this.updatePatientSpecial.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5219\n      },\n      __self: this\n    }, \"Add History\"), this.state.patientUpdateField === 'complaint' && this.state.selectedPatient !== null && React.createElement(UpdatePatientComplaintForm, {\n      authUserId: this.context.userId,\n      canCancel: true,\n      canConfirm: true,\n      onCancel: this.modalCancelHandler,\n      onConfirm: this.updatePatientComplaintHandler,\n      confirmText: \"Confirm\",\n      patient: this.state.selectedPatient,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5223\n      },\n      __self: this\n    })), React.createElement(Tab.Pane, {\n      eventKey: \"patientEditSurvey\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5235\n      },\n      __self: this\n    }, this.state.selectedPatient === null && React.createElement(Button, {\n      variant: \"outline-warning\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5237\n      },\n      __self: this\n    }, \"Select a Patient from the Master List\"), this.state.selectedPatient !== null && React.createElement(Button, {\n      variant: \"outline-primary\",\n      value: \"survey\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      onClick: this.updatePatientSpecial.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5242\n      },\n      __self: this\n    }, \"Add Survey\"), this.state.patientUpdateField === 'survey' && this.state.selectedPatient !== null && React.createElement(UpdatePatientSurveyForm, {\n      authUserId: this.context.userId,\n      canCancel: true,\n      canConfirm: true,\n      onCancel: this.modalCancelHandler,\n      onConfirm: this.updatePatientSurveyHandler,\n      confirmText: \"Confirm\",\n      patient: this.state.selectedPatient,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5246\n      },\n      __self: this\n    })), React.createElement(Tab.Pane, {\n      eventKey: \"patientEditSystematicInquiry\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5258\n      },\n      __self: this\n    }, this.state.selectedPatient === null && React.createElement(Button, {\n      variant: \"outline-warning\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5260\n      },\n      __self: this\n    }, \"Select a Patient from the Master List\"), this.state.selectedPatient !== null && React.createElement(Button, {\n      variant: \"outline-primary\",\n      value: \"systematicInquiry\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      onClick: this.updatePatientSpecial.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5265\n      },\n      __self: this\n    }, \"Add Systematic Inquiry\"), this.state.patientUpdateField === 'systematicInquiry' && this.state.selectedPatient !== null && React.createElement(UpdatePatientSystematicInquiryForm, {\n      authUserId: this.context.userId,\n      canCancel: true,\n      canConfirm: true,\n      onCancel: this.modalCancelHandler,\n      onConfirm: this.updatePatientSystematicInquiryHandler,\n      confirmText: \"Confirm\",\n      patient: this.state.selectedPatient,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5270\n      },\n      __self: this\n    })), React.createElement(Tab.Pane, {\n      eventKey: \"patientEditVitals\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5282\n      },\n      __self: this\n    }, this.state.selectedPatient === null && React.createElement(Button, {\n      variant: \"outline-warning\",\n      size: \"lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5284\n      },\n      __self: this\n    }, \"Select a Patient from the Master List\"), this.state.selectedPatient !== null && React.createElement(Button, {\n      variant: \"outline-primary\",\n      value: \"vitals\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      onClick: this.updatePatientSpecial.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5289\n      },\n      __self: this\n    }, \"Add Vitals\"), this.state.patientUpdateField === 'vitals' && this.state.selectedPatient !== null && React.createElement(UpdatePatientVitalsForm, {\n      authUserId: this.context.userId,\n      canCancel: true,\n      canConfirm: true,\n      onCancel: this.modalCancelHandler,\n      onConfirm: this.updatePatientVitalsHandler,\n      confirmText: \"Confirm\",\n      patient: this.state.selectedPatient,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5293\n      },\n      __self: this\n    })), React.createElement(Tab.Pane, {\n      eventKey: \"patientEditExamination\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5305\n      },\n      __self: this\n    }, this.state.selectedPatient === null && React.createElement(Button, {\n      variant: \"outline-warning\",\n      size: \"lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5307\n      },\n      __self: this\n    }, \"Select a Patient from the Master List\"), this.state.selectedPatient !== null && React.createElement(Button, {\n      variant: \"outline-primary\",\n      value: \"examintion\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      onClick: this.updatePatientSpecial.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5312\n      },\n      __self: this\n    }, \"Add Examination\"), this.state.patientUpdateField === 'examintion' && this.state.selectedPatient !== null && React.createElement(UpdatePatientExaminationForm, {\n      authUserId: this.context.userId,\n      canCancel: true,\n      canConfirm: true,\n      onCancel: this.modalCancelHandler,\n      onConfirm: this.updatePatientExaminationHandler,\n      confirmText: \"Confirm\",\n      patient: this.state.selectedPatient,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5316\n      },\n      __self: this\n    })), React.createElement(Tab.Pane, {\n      eventKey: \"patientEditHistory\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5328\n      },\n      __self: this\n    }, this.state.selectedPatient === null && React.createElement(Button, {\n      variant: \"outline-warning\",\n      size: \"lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5330\n      },\n      __self: this\n    }, \"Select a Patient from the Master List\"), this.state.selectedPatient !== null && React.createElement(Button, {\n      variant: \"outline-primary\",\n      value: \"history\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      onClick: this.updatePatientSpecial.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5335\n      },\n      __self: this\n    }, \"Add Past History\"), this.state.patientUpdateField === 'history' && this.state.selectedPatient !== null && React.createElement(UpdatePatientHistoryForm, {\n      authUserId: this.context.userId,\n      canCancel: true,\n      canConfirm: true,\n      onCancel: this.modalCancelHandler,\n      onConfirm: this.updatePatientHistoryHandler,\n      confirmText: \"Confirm\",\n      patient: this.state.selectedPatient,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5340\n      },\n      __self: this\n    })), React.createElement(Tab.Pane, {\n      eventKey: \"patientEditAllergies\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5352\n      },\n      __self: this\n    }, this.state.selectedPatient === null && React.createElement(Button, {\n      variant: \"outline-warning\",\n      size: \"lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5354\n      },\n      __self: this\n    }, \"Select a Patient from the Master List\"), this.state.selectedPatient !== null && React.createElement(Button, {\n      variant: \"outline-primary\",\n      value: \"allergies\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      onClick: this.updatePatientSpecial.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5359\n      },\n      __self: this\n    }, \"Add Allergies\"), this.state.patientUpdateField === 'allergies' && this.state.selectedPatient !== null && React.createElement(UpdatePatientAllergiesForm, {\n      authUserId: this.context.userId,\n      canCancel: true,\n      canConfirm: true,\n      onCancel: this.modalCancelHandler,\n      onConfirm: this.updatePatientAllergiesHandler,\n      confirmText: \"Confirm\",\n      patient: this.state.selectedPatient,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5364\n      },\n      __self: this\n    })), React.createElement(Tab.Pane, {\n      eventKey: \"patientEditMedication\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5376\n      },\n      __self: this\n    }, this.state.selectedPatient === null && React.createElement(Button, {\n      variant: \"outline-warning\",\n      size: \"lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5378\n      },\n      __self: this\n    }, \"Select a Patient from the Master List\"), this.state.selectedPatient !== null && React.createElement(Button, {\n      variant: \"outline-primary\",\n      value: \"medication\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      onClick: this.updatePatientSpecial.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5383\n      },\n      __self: this\n    }, \"Add Medication\"), this.state.patientUpdateField === 'medication' && this.state.selectedPatient !== null && React.createElement(UpdatePatientMedicationForm, {\n      authUserId: this.context.userId,\n      canCancel: true,\n      canConfirm: true,\n      onCancel: this.modalCancelHandler,\n      onConfirm: this.updatePatientMedicationHandler,\n      confirmText: \"Confirm\",\n      patient: this.state.selectedPatient,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5388\n      },\n      __self: this\n    })), React.createElement(Tab.Pane, {\n      eventKey: \"patientEditInvestigation\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5400\n      },\n      __self: this\n    }, this.state.selectedPatient === null && React.createElement(Button, {\n      variant: \"outline-warning\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5402\n      },\n      __self: this\n    }, \"Select a Patient from the Master List\"), this.state.selectedPatient !== null && React.createElement(Button, {\n      variant: \"outline-primary\",\n      value: \"investigation\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      onClick: this.updatePatientSpecial.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5407\n      },\n      __self: this\n    }, \"Add Investigation\"), this.state.patientUpdateField === 'investigation' && this.state.selectedPatient !== null && React.createElement(UpdatePatientInvestigationForm, {\n      authUserId: this.context.userId,\n      canCancel: true,\n      canConfirm: true,\n      onCancel: this.modalCancelHandler,\n      onConfirm: this.updatePatientInvestigationHandler,\n      confirmText: \"Confirm\",\n      patient: this.state.selectedPatient,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5412\n      },\n      __self: this\n    })), React.createElement(Tab.Pane, {\n      eventKey: \"patientEditDiagnosis\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5424\n      },\n      __self: this\n    }, this.state.selectedPatient === null && React.createElement(Button, {\n      variant: \"outline-warning\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5426\n      },\n      __self: this\n    }, \"Select a Patient from the Master List\"), this.state.selectedPatient !== null && React.createElement(Button, {\n      variant: \"outline-primary\",\n      value: \"diagnosis\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      onClick: this.updatePatientSpecial.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5431\n      },\n      __self: this\n    }, \"Add Diagnosis\"), this.state.patientUpdateField === 'diagnosis' && this.state.selectedPatient !== null && React.createElement(UpdatePatientDiagnosisForm, {\n      authUserId: this.context.userId,\n      canCancel: true,\n      canConfirm: true,\n      onCancel: this.modalCancelHandler,\n      onConfirm: this.updatePatientDiagnosisHandler,\n      confirmText: \"Confirm\",\n      patient: this.state.selectedPatient,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5436\n      },\n      __self: this\n    })), React.createElement(Tab.Pane, {\n      eventKey: \"patientEditTreatment\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5448\n      },\n      __self: this\n    }, this.state.selectedPatient === null && React.createElement(Button, {\n      variant: \"outline-warning\",\n      size: \"lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5450\n      },\n      __self: this\n    }, \"Select a Patient from the Master List\"), this.state.selectedPatient !== null && React.createElement(Button, {\n      variant: \"outline-primary\",\n      value: \"treatment\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      onClick: this.updatePatientSpecial.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5455\n      },\n      __self: this\n    }, \"Add Treatment\"), this.state.patientUpdateField === 'treatment' && this.state.selectedPatient !== null && React.createElement(UpdatePatientTreatmentForm, {\n      authUserId: this.context.userId,\n      canCancel: true,\n      canConfirm: true,\n      onCancel: this.modalCancelHandler,\n      onConfirm: this.updatePatientTreatmentHandler,\n      confirmText: \"Confirm\",\n      patient: this.state.selectedPatient,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5460\n      },\n      __self: this\n    })), React.createElement(Tab.Pane, {\n      eventKey: \"patientEditBilling\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5472\n      },\n      __self: this\n    }, this.state.selectedPatient === null && React.createElement(Button, {\n      variant: \"outline-warning\",\n      size: \"lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5474\n      },\n      __self: this\n    }, \"Select a Patient from the Master List\"), this.state.selectedPatient !== null && React.createElement(Button, {\n      variant: \"outline-primary\",\n      value: \"billing\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      onClick: this.updatePatientSpecial.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5479\n      },\n      __self: this\n    }, \"Add Billing\"), this.state.patientUpdateField === 'billing' && this.state.selectedPatient !== null && React.createElement(UpdatePatientBillingForm, {\n      authUserId: this.context.userId,\n      canCancel: true,\n      canConfirm: true,\n      onCancel: this.modalCancelHandler,\n      onConfirm: this.updatePatientBillingHandler,\n      confirmText: \"Confirm\",\n      patient: this.state.selectedPatient,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5484\n      },\n      __self: this\n    })), React.createElement(Tab.Pane, {\n      eventKey: \"patientEditVigilance\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5496\n      },\n      __self: this\n    }, this.state.selectedPatient === null && React.createElement(Button, {\n      variant: \"outline-warning\",\n      size: \"lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5498\n      },\n      __self: this\n    }, \"Select a Patient from the Master List\"), this.state.selectedPatient !== null && React.createElement(Button, {\n      variant: \"outline-primary\",\n      value: \"vigilance\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      onClick: this.updatePatientSpecial.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5503\n      },\n      __self: this\n    }, \"Add Vigilance\"), this.state.patientUpdateField === 'vigilance' && this.state.selectedPatient !== null && React.createElement(UpdatePatientVigilanceForm, {\n      authUserId: this.context.userId,\n      canCancel: true,\n      canConfirm: true,\n      onCancel: this.modalCancelHandler,\n      onConfirm: this.updatePatientVigilanceHandler,\n      confirmText: \"Confirm\",\n      patient: this.state.selectedPatient,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5508\n      },\n      __self: this\n    })), React.createElement(Tab.Pane, {\n      eventKey: \"patientEditAttachment\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5520\n      },\n      __self: this\n    }, this.state.selectedPatient === null && React.createElement(Button, {\n      variant: \"outline-warning\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5522\n      },\n      __self: this\n    }, \"Select a Patient from the Master List\"), this.state.selectedPatient !== null && React.createElement(Button, {\n      variant: \"outline-primary\",\n      value: \"attachment\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      onClick: this.updatePatientSpecial.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5527\n      },\n      __self: this\n    }, \"Add Attachment\"), this.state.patientUpdateField === 'attachment' && this.state.selectedPatient !== null && React.createElement(UpdatePatientAttachmentForm, {\n      authUserId: this.context.userId,\n      canCancel: true,\n      canConfirm: true,\n      onCancel: this.modalCancelHandler,\n      onConfirm: this.updatePatientAttachmentHandler,\n      confirmText: \"Confirm\",\n      patient: this.state.selectedPatient,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5532\n      },\n      __self: this\n    })), React.createElement(Tab.Pane, {\n      eventKey: \"patientEditNote\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5544\n      },\n      __self: this\n    }, this.state.selectedPatient === null && React.createElement(Button, {\n      variant: \"outline-warning\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5546\n      },\n      __self: this\n    }, \"Select a Patient from the Master List\"), this.state.selectedPatient !== null && React.createElement(Button, {\n      variant: \"outline-primary\",\n      value: \"notes\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      onClick: this.updatePatientSpecial.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5551\n      },\n      __self: this\n    }, \"Add Note\"), this.state.patientUpdateField === 'notes' && this.state.selectedPatient !== null && React.createElement(UpdatePatientNoteForm, {\n      authUserId: this.context.userId,\n      canCancel: true,\n      canConfirm: true,\n      onCancel: this.modalCancelHandler,\n      onConfirm: this.updatePatientNoteHandler,\n      confirmText: \"Confirm\",\n      patient: this.state.selectedPatient,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5556\n      },\n      __self: this\n    })), React.createElement(Tab.Pane, {\n      eventKey: \"patientEditTag\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5568\n      },\n      __self: this\n    }, this.state.selectedPatient === null && React.createElement(Button, {\n      variant: \"outline-warning\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5570\n      },\n      __self: this\n    }, \"Select a Patient from the Master List\"), this.state.selectedPatient !== null && React.createElement(Button, {\n      variant: \"outline-primary\",\n      value: \"tags\",\n      size: \"lg\",\n      className: \"confirmEditButton\",\n      onClick: this.updatePatientSpecial.bind(this),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5575\n      },\n      __self: this\n    }, \"Add Tag\"), this.state.patientUpdateField === 'tags' && this.state.selectedPatient !== null && React.createElement(UpdatePatientTagForm, {\n      authUserId: this.context.userId,\n      canCancel: true,\n      canConfirm: true,\n      onCancel: this.modalCancelHandler,\n      onConfirm: this.updatePatientTagHandler,\n      confirmText: \"Confirm\",\n      patient: this.state.selectedPatient,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5580\n      },\n      __self: this\n    })), React.createElement(Tab.Pane, {\n      eventKey: \"MasterList\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5592\n      },\n      __self: this\n    }, React.createElement(Container, {\n      className: \"containerUserMasterList\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5593\n      },\n      __self: this\n    }, React.createElement(Row, {\n      className: \"searchListRow\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5594\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"primary\",\n      size: \"sm\",\n      onClick: this.fetchPatientsAsc,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5595\n      },\n      __self: this\n    }, \"Sort Asc\"), React.createElement(Button, {\n      variant: \"info\",\n      size: \"sm\",\n      onClick: this.fetchPatientsDesc,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5598\n      },\n      __self: this\n    }, \"Sort Desc\"), this.state.isLoading ? React.createElement(Spinner, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5602\n      },\n      __self: this\n    }) : React.createElement(PatientList, {\n      patients: this.state.patients,\n      authUserId: this.context.userId,\n      onViewDetail: this.showDetailHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5604\n      },\n      __self: this\n    })))), React.createElement(Tab.Pane, {\n      eventKey: \"SearchInput\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5614\n      },\n      __self: this\n    }, React.createElement(Container, {\n      className: \"containerSearchUserInput\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5615\n      },\n      __self: this\n    }, this.context.token && React.createElement(Row, {\n      className: \"searchUserRowAdd\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5617\n      },\n      __self: this\n    }, React.createElement(Button, {\n      variant: \"primary\",\n      onClick: this.startSearchPatientHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5618\n      },\n      __self: this\n    }, \"Search\")), React.createElement(Row, {\n      className: \"searchUserRowForm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5622\n      },\n      __self: this\n    }, React.createElement(Col, {\n      md: 10,\n      className: \"searchUserColForm\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5623\n      },\n      __self: this\n    }, React.createElement(Tabs, {\n      defaultActiveKey: \"Field\",\n      id: \"uncontrolled-tab-example\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5624\n      },\n      __self: this\n    }, React.createElement(Tab, {\n      eventKey: \"Search\",\n      title: \"Search:\",\n      disabled: true,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5625\n      },\n      __self: this\n    }), React.createElement(Tab, {\n      eventKey: \"Field\",\n      title: \"Search by Field:\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5627\n      },\n      __self: this\n    }, this.state.searching !== true && React.createElement(Button, {\n      variant: \"outline-warning\",\n      className: \"confirmEditButton\",\n      size: \"lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5629\n      },\n      __self: this\n    }, \"Click the 'Search' Button start\"), this.state.searching === true && React.createElement(SearchPatientForm, {\n      authUserId: this.context.userId,\n      canCancel: true,\n      canConfirm: true,\n      onCancel: this.modalCancelHandler,\n      onConfirm: this.modalConfirmSearchHandler,\n      confirmText: \"Search\",\n      patient: this.context.selectedPatient,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5634\n      },\n      __self: this\n    })), React.createElement(Tab, {\n      eventKey: \"Id\",\n      title: \"Search by ID:\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5645\n      },\n      __self: this\n    }, this.state.searching !== true && React.createElement(Button, {\n      variant: \"outline-warning\",\n      className: \"confirmEditButton\",\n      size: \"lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5647\n      },\n      __self: this\n    }, \"Click the 'Search' Button start\"), this.state.searching === true && React.createElement(SearchPatientIdForm, {\n      authUserId: this.context.userId,\n      canCancel: true,\n      canConfirm: true,\n      onCancel: this.modalCancelHandler,\n      onConfirm: this.modalConfirmSearchIdHandler,\n      confirmText: \"Search\",\n      patient: this.context.selectedPatient,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5652\n      },\n      __self: this\n    })), React.createElement(Tab, {\n      eventKey: \"Name\",\n      title: \"Search by Name:\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5664\n      },\n      __self: this\n    }, this.state.searching !== true && React.createElement(Button, {\n      variant: \"outline-warning\",\n      className: \"confirmEditButton\",\n      size: \"lg\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5666\n      },\n      __self: this\n    }, \"Click the 'Search' Button start\"), this.state.searching === true && React.createElement(SearchPatientNameForm, {\n      authUserId: this.context.userId,\n      canCancel: true,\n      canConfirm: true,\n      onCancel: this.modalCancelHandler,\n      onConfirm: this.modalConfirmSearchNameHandler,\n      confirmText: \"Search\",\n      patient: this.context.selectedPatient,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5671\n      },\n      __self: this\n    }))))))), React.createElement(Tab.Pane, {\n      eventKey: \"SearchResult\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5688\n      },\n      __self: this\n    }, React.createElement(Container, {\n      className: \"containerSearchUserResults\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5689\n      },\n      __self: this\n    }, React.createElement(Row, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5690\n      },\n      __self: this\n    }, React.createElement(Card, {\n      className: \"searchCard\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5691\n      },\n      __self: this\n    }, React.createElement(Card.Body, {\n      className: \"searchCardBody\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5692\n      },\n      __self: this\n    }, React.createElement(Card.Title, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5693\n      },\n      __self: this\n    }, \"Your Search\"), React.createElement(Card.Text, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5694\n      },\n      __self: this\n    }, \"Field: \", this.state.patientSearchField), React.createElement(Card.Text, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5697\n      },\n      __self: this\n    }, \"Query: \", this.state.patientSearchQuery)))), React.createElement(Row, {\n      className: \"searchListRow\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5703\n      },\n      __self: this\n    }, this.state.searchPatients !== [] && React.createElement(SearchPatientList, {\n      searchPatients: this.state.searchPatients,\n      authUserId: this.context.userId,\n      onCancel: this.modalCancelHandler,\n      onViewDetail: this.showDetailHandler,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 5706\n      },\n      __self: this\n    })))))))))))));\n  }\n\n}\n\nPatientsPage.contextType = AuthContext;\nexport default PatientsPage;","map":{"version":3,"sources":["/Users/pedrojacob/Downloads/AMR/websites/office_records/ENT_EMR/frontend/src/pages/Patients.js"],"names":["React","Component","S3","Container","Row","Col","Button","Accordion","Tabs","Tab","Nav","Card","PatientList","PatientDetail","Spinner","AuthContext","SearchPatientList","SearchPatientForm","SearchPatientIdForm","SearchPatientNameForm","AlertBox","AttachmentViewer","PdfCreator","LoadingOverlay","SidebarPage","SidebarControl","CreatePatientForm","UpdatePatientForm","UpdatePatientFieldForm","UpdatePatientConsultantForm","UpdatePatientInsuranceForm","UpdatePatientNextOfKinForm","UpdatePatientComplaintForm","UpdatePatientSurveyForm","UpdatePatientSystematicInquiryForm","UpdatePatientVitalsForm","UpdatePatientExaminationForm","UpdatePatientHistoryForm","UpdatePatientAllergiesForm","UpdatePatientMedicationForm","UpdatePatientInvestigationForm","UpdatePatientDiagnosisForm","UpdatePatientTreatmentForm","UpdatePatientBillingForm","UpdatePatientVigilanceForm","UpdatePatientAttachmentForm","UpdatePatientNoteForm","UpdatePatientTagForm","PatientsPage","state","creating","updating","searching","updatingArray","deleting","patients","searchPatients","isLoading","selectedPatient","selectedUser","patientUpdateField","patientSearchField","patientSearchQuery","canDelete","visit","visitList","selectedVisit","newVisit","createVisitChecklist","consultant","complaint","diagnosis","examination","investigation","survey","systematicInquiry","treatment","vitals","billing","vigilance","userAlert","overlay","overlayStatus","showAttachment","showThisAttachmentFile","showThisAttachmentType","creatingDocument","createPdf","pdfData","pdfType","sidebarShow","mCol1Size","mCol2Size","creds","isActive","startCreatePatientHandler","setState","startCreateVisitHandler","startUpdatePatientHandler","startSearchPatientHandler","modalConfirmHandler","event","userId","context","token","title","target","formGridTitle","value","name","formGridName","dob","formGridDob","age","formGridAge","gender","formGridGender","addressNumber","formGridAddressNumber","addressStreet","formGridAddressStreet","addressTown","formGridAddressTown","addressParish","formGridAddressParish","addressPostOffice","formGridAddressPostOffice","contactPhone","formGridContactPhone","contactEmail","formGridContactEmail","registrationDate","formGridRegistrationDate","formGridRegistrationDateTodayCheckbox","checked","Date","toISOString","slice","patientCalendarRegistrationDate","console","log","referralDate","formGridReferralDate","formGridReferralDateTodayCheckbox","patientCalendarReferralDate","expirationDate","formGridExpirationDate","attendingPhysicianName","formGridAttendingPhysicianName","attendingPhysicianEmail","formGridAttendingPhysicianEmail","attendingPhysicianPhone","formGridAttendingPhysicianPhone","referringDoctorName","formGridReferringDoctorName","referringDoctorEmail","formGridReferringDoctorEmail","referringDoctorPhone","formGridReferringDoctorPhone","occupationRole","formGridOccupationRole","occupationEmployer","formGridOccupationEmployer","occupationEmployerContactPhone","formGridOccupationEmployerContactPhone","occupationEmployerContactEmail","formGridOccupationEmployerContactEmail","trim","length","requestBody","query","fetch","method","body","JSON","stringify","headers","Authorization","then","res","status","Error","json","resData","responseAlert","data","newPatient","createPatient","prevState","updatedPatients","push","selecteAppointment","catch","err","modalCancelHandler","modalConfirmUpdateHandler","selectedPatientId","_id","formGridExpirationDateTodayCheckbox","patientCalendarExpirationDate","address","number","street","town","parish","postOffice","contact","phone","email","attendingPhysician","referringDoctor","occupation","role","employer","updatedPatientId","updatePatient","updatedPatient","find","e","updatedPatientPos","indexOf","slicedArray","splice","fetchPatients","modalConfirmUpdateFieldHandler","field","formGridQuery","formGridFieldSelect","formGridField","updatePatientField","updatePatientConsultantHandler","preventDefault","patientConsultantReference","undefined","consultantDate","formGridConsultantDate","formGridConsultantDateTodayCheckbox","patientConsultantCalendarDate","updatePatientConsultant","updatePatientInsuranceHandler","insuranceCompany","formGridInsuranceCompany","insuranceNumber","formGridInsuranceNumber","insuranceExpiry","patientCalendarInsuranceExpiryDate","insuranceDescription","formGridInsuranceDescription","insuranceSubscriberCompany","formGridInsuranceSubscriberCompany","insuranceSubscriberDescription","formGridInsuranceSubscriberDescription","updatePatientInsurance","updatePatientNextOfKinHandler","nextOfKinName","formGridNextOfKinName","nextOfKinPhone","formGridNextOfKinPhone","nextOfKinEmail","formGridNextOfKinEmail","updatePatientNextOfKin","updatePatientComplaintHandler","fileInput","complaintTitle","formGridComplaintTitle","complaintDate","formGridComplaintDate","formGridComplaintDateTodayCheckbox","patientComplaintCalendarDate","complaintDescription","formGridComplaintDescription","complaintAnamnesis","formGridComplaintAnamnesis","complaintAttachmentFormat","formGridComplaintAttachmentFormat","complaintAttachmentPath","complaintAttachmentName","file","_currentValue","config","bucketName","s3","dirName","region","accessKeyId","secretAccessKey","ReactS3Client","newFileName","uploadFile","error","updatePatientComplaint","updatePatientSurveyHandler","surveyDate","formGridSurveyDate","formGridSurveyDateTodayCheckbox","patientSurveyCalendarDate","surveyTitle","formGridSurveyTitle","surveyDescription","formGridSurveyDescription","surveyAttachmentFormat","formGridSurveyAttachmentFormat","surveyAttachmentPath","surveyAttachmentName","updatePatientSurvey","updatePatientSystematicInquiryHandler","systematicInquiryDate","formGridSystematicInquiryDate","formGridSystematicInquiryDateTodayCheckbox","patientSystematicInquiryCalendarDate","systematicInquiryTitle","formGridSystematicInquiryTitle","systematicInquiryDescription","formGridSystematicInquiryDescription","systematicInquiryAttachmentFormat","formGridSystematicInquiryAttachmentFormat","systematicInquiryAttachmentPath","systematicInquiryAttachmentName","updatePatientSystematicInquiry","updatePatientVitalsHandler","vitalsDate","formGridVitalsDate","formGridVitalsDateTodayCheckbox","patientVitalsCalendarDate","vitalsPr","formGridVitalsPr","vitalsBp1","formGridVitalsBp1","vitalsBp2","formGridVitalsBp2","vitalsRr","formGridVitalsRr","vitalsTemp","formGridVitalsTemp","vitalsPs02","formGridVitalsPs02","vitalsHeight","formGridVitalsHeight","vitalsWeight","formGridVitalsWeight","vitalsBmi","formGridVitalsBmi","vitalsUrineType","formGridVitalsUrineType","vitalsUrineValue","formGridVitalsUrineValue","updatePatientVitals","updatePatientExaminationHandler","examinationDate","formGridExaminationDate","formGridExaminationDateTodayCheckbox","patientExaminationCalendarDate","examinationGeneral","formGridExaminationGeneral","examinationArea","formGridExaminationAreaSelect","formGridExaminationArea","examinationType","formGridExaminationType","examinationMeasure","formGridExaminationMeasure","examinationValue","formGridExaminationValue","examinationDescription","formGridExaminationDescription","examinationFollowUp","formGridExaminationFollowUp","examinationAttachmentFormat","formGridExaminationAttachmentFormat","examinationAttachmentPath","examinationAttachmentName","updatePatientExamination","updatePatientHistoryHandler","historyType","formGridHistoryType","historyDate","formGridHistoryDate","formGridHistoryDateTodayCheckbox","patientHistoryCalendarDate","historyTitle","formGridHistoryTitle","historyDescription","formGridHistoryDescription","historyAttachmentFormat","formGridHistoryAttachmentFormat","historyAttachmentPath","historyAttachmentName","updatePatientHistory","updatePatientAllergiesHandler","allergiesTitle","formGridAllergiesTitle","allergiesType","formGridAllergiesTypeSelect","formGridAllergiesType","allergiesDescription","formGridAllergiesDescription","allergiesAttachmentFormat","formGridAllergiesAttachmentFormat","allergiesAttachmentPath","allergiesAttachmentName","updatePatientAllergies","updatePatientMedicationHandler","medicationTitle","formGridMedicationTitle","medicationType","formGridMedicationType","medicationDescription","formGridMedicationDescription","medicationAttachmentFormat","formGridMedicationAttachmentFormat","medicationAttachmentPath","medicationAttachmentName","updatePatientMedication","updatePatientInvestigationHandler","investigationDate","formGridInvestigationDate","formGridInvestigationDateTodayCheckbox","patientInvestigationCalendarDate","investigationTitle","formGridInvestigationTitle","investigationType","formGridInvestigationTypeSelect","formGridInvestigationType","investigationDescription","formGridInvestigationDescription","investigationAttachmentFormat","formGridInvestigationAttachmentFormat","investigationAttachmentPath","investigationAttachmentName","updatePatientInvestigation","updatePatientDiagnosisHandler","diagnosisDate","formGridDiagnosisDate","formGridDiagnosisDateTodayCheckbox","patientDiagnosisCalendarDate","diagnosisTitle","formGridDiagnosisTitle","diagnosisType","formGridDiagnosisType","diagnosisDescription","formGridDiagnosisDescription","diagnosisAttachmentFormat","formGridDiagnosisAttachmentFormat","diagnosisAttachmentPath","diagnosisAttachmentName","updatePatientDiagnosis","updatePatientTreatmentHandler","treatmentDate","formGridTreatmentDate","formGridTreatmentDateTodayCheckbox","patientTreatmentCalendarDate","treatmentTitle","formGridTreatmentTitle","treatmentDescription","formGridTreatmentDescription","treatmentDose","formGridTreatmentDose","treatmentFrequency","formGridTreatmentFrequency","treatmentType","formGridTreatmentType","formGridTreatmentTypeSelect","treatmentAttachmentFormat","formGridTreatmentAttachmentFormat","treatmentAttachmentPath","treatmentAttachmentName","updatePatientTreatment","updatePatientBillingHandler","billingDate","formGridBillingDate","formGridBillingDateTodayCheckbox","patientBillingCalendarDate","billingTitle","formGridBillingTitle","billingType","formGridBillingType","billingDescription","formGridBillingDescription","billingAmount","formGridBillingAmount","billingPaid","formGridBillingPaid","billingNotes","formGridBillingNotes","billingAttachmentFormat","formGridBillingAttachmentFormat","billingAttachmentPath","billingAttachmentName","updatePatientBilling","updatePatientVigilanceHandler","vigilanceDate","formGridVigilanceDate","formGridVigilanceDateTodayCheckbox","patientVigilanceCalendarDate","vigilanceChronicIllnessDiabetesMedication","formGridVigilanceChronicIllnessDiabetesMedication","vigilanceChronicIllnessDiabetesTesting","formGridVigilanceChronicIllnessDiabetesTesting","vigilanceChronicIllnessDiabetesComment","formGridVigilanceChronicIllnessDiabetesComment","vigilanceChronicIllnessHbpMedication","formGridVigilanceChronicIllnessHbpMedication","vigilanceChronicIllnessHbpTesting","formGridVigilanceChronicIllnessHbpTesting","vigilanceChronicIllnessHbpComment","formGridVigilanceChronicIllnessHbpComment","vigilanceChronicIllnessDyslipidemiaMedication","formGridVigilanceChronicIllnessDyslipidemiaMedication","vigilanceChronicIllnessDyslipidemiaTesting","formGridVigilanceChronicIllnessDyslipidemiaTesting","vigilanceChronicIllnessDyslipidemiaComment","formGridVigilanceChronicIllnessDyslipidemiaComment","vigilanceChronicIllnessCadMedication","formGridVigilanceChronicIllnessCadMedication","vigilanceChronicIllnessCadTesting","formGridVigilanceChronicIllnessCadTesting","vigilanceChronicIllnessCadComment","formGridVigilanceChronicIllnessCadComment","vigilanceLifestyleWeightMedication","formGridVigilanceLifestyleWeightMedication","vigilanceLifestyleWeightTesting","formGridVigilanceLifestyleWeightTesting","vigilanceLifestyleWeightComment","formGridVigilanceLifestyleWeightComment","vigilanceLifestyleDietMedication","formGridVigilanceLifestyleDietMedication","vigilanceLifestyleDietTesting","formGridVigilanceLifestyleDietTesting","vigilanceLifestyleDietComment","formGridVigilanceLifestyleDietComment","vigilanceLifestyleSmokingMedication","formGridVigilanceLifestyleSmokingMedication","vigilanceLifestyleSmokingTesting","formGridVigilanceLifestyleSmokingTesting","vigilanceLifestyleSmokingComment","formGridVigilanceLifestyleSmokingComment","vigilanceLifestyleSubstanceAbuseMedication","formGridVigilanceLifestyleSubstanceAbuseMedication","vigilanceLifestyleSubstanceAbuseTesting","formGridVigilanceLifestyleSubstanceAbuseTesting","vigilanceLifestyleSubstanceAbuseComment","formGridVigilanceLifestyleSubstanceAbuseComment","vigilanceLifestyleExerciseMedication","formGridVigilanceLifestyleExerciseMedication","vigilanceLifestyleExerciseTesting","formGridVigilanceLifestyleExerciseTesting","vigilanceLifestyleExerciseComment","formGridVigilanceLifestyleExerciseComment","vigilanceLifestyleAllergiesMedication","formGridVigilanceLifestyleAllergiesMedication","vigilanceLifestyleAllergiesTesting","formGridVigilanceLifestyleAllergiesTesting","vigilanceLifestyleAllergiesComment","formGridVigilanceLifestyleAllergiesComment","vigilanceLifestyleAsthmaMedication","formGridVigilanceLifestyleAsthmaMedication","vigilanceLifestyleAsthmaTesting","formGridVigilanceLifestyleAsthmaTesting","vigilanceLifestyleAsthmaComment","formGridVigilanceLifestyleAsthmaComment","vigilanceScreeningBreastMedication","formGridVigilanceScreeningBreastMedication","vigilanceScreeningBreastTesting","formGridVigilanceScreeningBreastTesting","vigilanceScreeningBreastComment","formGridVigilanceScreeningBreastComment","vigilanceScreeningProstateMedication","formGridVigilanceScreeningProstateMedication","vigilanceScreeningProstateTesting","formGridVigilanceScreeningProstateTesting","vigilanceScreeningProstateComment","formGridVigilanceScreeningProstateComment","vigilanceScreeningCervixMedication","formGridVigilanceScreeningCervixMedication","vigilanceScreeningCervixTesting","formGridVigilanceScreeningCervixTesting","vigilanceScreeningCervixComment","formGridVigilanceScreeningCervixComment","vigilanceScreeningColonMedication","formGridVigilanceScreeningColonMedication","vigilanceScreeningColonTesting","formGridVigilanceScreeningColonTesting","vigilanceScreeningColonComment","formGridVigilanceScreeningColonComment","vigilanceScreeningDentalMedication","formGridVigilanceScreeningDentalMedication","vigilanceScreeningDentalTesting","formGridVigilanceScreeningDentalTesting","vigilanceScreeningDentalComment","formGridVigilanceScreeningDentalComment","vigilanceVaccinesInfluenzaMedication","formGridVigilanceVaccinesInfluenzaMedication","vigilanceVaccinesInfluenzaTesting","formGridVigilanceVaccinesInfluenzaTesting","vigilanceVaccinesInfluenzaComment","formGridVigilanceVaccinesInfluenzaComment","vigilanceVaccinesVaricellaMedication","formGridVigilanceVaccinesVaricellaMedication","vigilanceVaccinesVaricellaTesting","formGridVigilanceVaccinesVaricellaTesting","vigilanceVaccinesVaricellaComment","formGridVigilanceVaccinesVaricellaComment","vigilanceVaccinesHpvMedication","formGridVigilanceVaccinesHpvMedication","vigilanceVaccinesHpvTesting","formGridVigilanceVaccinesHpvTesting","vigilanceVaccinesHpvComment","formGridVigilanceVaccinesHpvComment","vigilanceVaccinesMmrMedication","formGridVigilanceVaccinesMmrMedication","vigilanceVaccinesMmrTesting","formGridVigilanceVaccinesMmrTesting","vigilanceVaccinesMmrComment","formGridVigilanceVaccinesMmrComment","vigilanceVaccinesTetanusMedication","formGridVigilanceVaccinesTetanusMedication","vigilanceVaccinesTetanusTesting","formGridVigilanceVaccinesTetanusTesting","vigilanceVaccinesTetanusComment","formGridVigilanceVaccinesTetanusComment","vigilanceVaccinesPneumovaxMedication","formGridVigilanceVaccinesPneumovaxMedication","vigilanceVaccinesPneumovaxTesting","formGridVigilanceVaccinesPneumovaxTesting","vigilanceVaccinesPneumovaxComment","formGridVigilanceVaccinesPneumovaxComment","vigilanceVaccinesOtherName","formGridVigilanceVaccinesOtherName","vigilanceVaccinesOtherMedication","formGridVigilanceVaccinesOtherMedication","vigilanceVaccinesOtherTesting","formGridVigilanceVaccinesOtherTesting","vigilanceVaccinesOtherComment","formGridVigilanceVaccinesOtherComment","updatePatientVigilance","updatePatientAttachmentHandler","attachmentFormat","formGridPatientAttachmentFormat","attachmentPath","attachmentName","updatePatientAttachment","updatePatientNoteHandler","note","formGridNote","updatePatientNotes","updatePatientTagHandler","tag","formGridTag","updatePatientTags","modalConfirmSearchHandler","formBasicQuery","formBasicFieldSelect","formBasicField","getPatientField","modalConfirmSearchIdHandler","patientId","formBasicId","getPatientId","modalConfirmSearchNameHandler","regex","RegExp","formBasicName","result","filter","patient","match","getPatientVisit","visitDate","formBasicVisitDate","substring","visitSurveys","surveys","x","date","substr","visitConsultants","visitComplaints","complaints","visitSystematicInquiry","visitVitals","visitExaminations","visitHistory","history","visitInvestigations","visitDiagnosis","visitTreatments","visitBilling","visitVigilance","patientName","getVisitList","selectedPatientAppointmentDateArray","selectedPatientAppointmentVisitArray","selectedPatientAppointments","appointments","map","appointmentDate","thisGetVisit","argsDate","argsPatientName","getVisitListAsc","list","sort","a","b","getVisitListDesc","fetchPatientsAsc","patientsNameAsc","fetchPatientsDesc","patientsNameDesc","modalDeleteHandler","user","deletedPatient","deletePatient","deletedPatientId","deletedPatientPos","deletePatientInsuranceItem","props","company","deletePatientInsurance","deletePatientAppointmentItem","deletePatientAppointment","deletePatientConsultantItem","reference","id","deletePatientConsultant","deletePatientNextOfKinItem","deletePatientNextOfKin","deletePatientComplaintItem","deletePatientComplaint","deletePatientSurveyItem","deletePatientSurvey","deletePatientSystematicInquiryItem","deletePatientSystematicInquiry","deletePatientVitalsItem","deletePatientVitals","deletePatientExaminationItem","type","deletePatientExamination","deletePatientHistoryItem","deletePatientHistory","deletePatientAllergiesItem","deletePatientAllergies","deletePatientMedicationItem","deletePatientMedication","deletePatientInvestigationItem","deletePatientInvestigation","deletePatientDiagnosisItem","deletePatientDiagnosis","deletePatientTreatmentItem","deletePatientTreatment","deletePatientBillingItem","deletePatientBilling","deletePatientVigilanceItem","deletePatientVigilance","deletePatientAttachmentItem","deletePatientAttachment","deletePatientNoteItem","deletePatientNote","deletePatientTagItem","deletePatientTag","onViewAttachment","attachment","path","format","closeAttachmentView","createPdfTest","formGridDocGenUserInput","formGridDocGenVisitDate","test","insurance","nextOfKin","allergies","medication","attachments","notes","tags","createReferralInput","patientReferralCalendarVisitDate","formGridDocGenReferralFindings","formGridDocGenReferralRecommendation","visitTreatment","findings","recommendation","referral","letterheadImage","createOperationReminderInput","formGridDocGenOperationReminderName","patientOperationReminderCalendarOperationDate","formGridDocGenOperationReminderTime","formGridDocGenOperationReminderHospitalName","formGridDocGenOperationReminderHopsitalAddress","patientOperationReminderCalendarFastDate","formGridDocGenOperationReminderFastTime","formGridDocGenOperationReminderEstimateCost","fastDate","today","time","hospitalName","hospitalAddress","fastTime","estimateCost","createMiscNoteInput","formGridDocGenMiscNote1","formGridDocGenMiscNote2","note1","note2","createSickNoteInput","formGridDocGenSickNoteAddress","formGridDocGenSickNoteDuration","patientSickNoteCalendarStartDate","startDate","receiverAddress","duration","createDiagTestInput","patientDiagTestCalendarVisitDate","formGridDocGenDiagTestReceiver","formGridDocGenDiagTestRequired","receiver","requiredTests","createInsuranceNoteInput","formGridDocGenInsuranceNotePolicyNumber","formGridDocGenInsuranceNoteOperation","patientInsuranceNoteCalendarOperationDate","formGridDocGenInsuranceNoteSurgeonFee","formGridDocGenInsuranceNoteAssistantSurgeonFee","formGridDocGenInsuranceNoteAnesthetistFee","operationDate","policyNumber","patientInsurance","operation","surgeonFee","assistantSurgeonFee","anesthetistsFee","createPrescriptionInput","formGridDocGenPrescriptionPescription","formGridDocGenPrescriptionGeneric","formGridDocGenPrescriptionRepeat","generic","prescription","repeat","consultantName","createProcedureConsentInput","formGridDocGenProcedureConsentGiver","formGridDocGenProcedureConsentGiverRelation","formGridDocGenProcedureConsentProcedure","consentGiver","consentGiverRelation","consentProcedure","createFitToFlyInput","formGridDocGenUnfitToFlyClinicalFeatures","formGridDocGenUnfitToFlyProvisonalInvestigation","formGridDocGenUnfitToFlyConclusion","clinicalFeatures","provisionalInvestigation","conclusion","input","formGridDocGenProcedureConsent","createTreatmentInstructionInput","formGridDocGenTreatmentInstruction","treatmentInstruction","closePdfCreator","showDetailHandler","selectVisit","closeVisit","createVisitChecklistUpdate","newState","Object","assign","newVisitComplete","showSidebar","hideSidebar","componentDidMount","getCreds","updatePatientSpecial","componentWillUnmount","render","users","fetchUsers","bind","contextType"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport S3 from 'react-aws-s3';\n\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Button from 'react-bootstrap/Button';\nimport Accordion from 'react-bootstrap/Accordion';\nimport Tabs from 'react-bootstrap/Tabs';\nimport Tab from 'react-bootstrap/Tab';\nimport Nav from 'react-bootstrap/Nav';\nimport Card from 'react-bootstrap/Card';\n\nimport PatientList from '../components/Patients/PatientList/PatientList';\nimport PatientDetail from '../components/Patients/PatientDetail';\nimport Spinner from '../components/Spinner/Spinner';\nimport AuthContext from '../context/auth-context';\nimport SearchPatientList from '../components/Patients/PatientList/SearchPatientList';\nimport SearchPatientForm from '../components/Forms/SearchPatientForm';\nimport SearchPatientIdForm from '../components/Forms/SearchPatientIdForm';\nimport SearchPatientNameForm from '../components/Forms/SearchPatientNameForm';\n\nimport AlertBox from '../components/AlertBox';\nimport AttachmentViewer from '../components/AttachmentViewer';\nimport PdfCreator from '../components/PdfCreator';\nimport LoadingOverlay from '../components/LoadingOverlay';\nimport SidebarPage from './Sidebar';\nimport SidebarControl from '../components/SidebarControl';\n\nimport CreatePatientForm from '../components/Forms/CreatePatientForm';\nimport UpdatePatientForm from '../components/Forms/UpdatePatientForm';\nimport UpdatePatientFieldForm from '../components/Forms/UpdatePatientFieldForm';\nimport UpdatePatientConsultantForm from '../components/Forms/UpdatePatientConsultantForm';\nimport UpdatePatientInsuranceForm from '../components/Forms/UpdatePatientInsuranceForm';\nimport UpdatePatientNextOfKinForm from '../components/Forms/UpdatePatientNextOfKinForm';\nimport UpdatePatientComplaintForm from '../components/Forms/UpdatePatientComplaintForm';\nimport UpdatePatientSurveyForm from '../components/Forms/UpdatePatientSurveyForm';\nimport UpdatePatientSystematicInquiryForm from '../components/Forms/UpdatePatientSystematicInquiryForm';\nimport UpdatePatientVitalsForm from '../components/Forms/UpdatePatientVitalsForm';\nimport UpdatePatientExaminationForm from '../components/Forms/UpdatePatientExaminationForm';\nimport UpdatePatientHistoryForm from '../components/Forms/UpdatePatientHistoryForm';\nimport UpdatePatientAllergiesForm from '../components/Forms/UpdatePatientAllergiesForm';\nimport UpdatePatientMedicationForm from '../components/Forms/UpdatePatientMedicationForm';\nimport UpdatePatientInvestigationForm from '../components/Forms/UpdatePatientInvestigationForm';\nimport UpdatePatientDiagnosisForm from '../components/Forms/UpdatePatientDiagnosisForm';\nimport UpdatePatientTreatmentForm from '../components/Forms/UpdatePatientTreatmentForm';\nimport UpdatePatientBillingForm from '../components/Forms/UpdatePatientBillingForm';\nimport UpdatePatientVigilanceForm from '../components/Forms/UpdatePatientVigilanceForm';\nimport UpdatePatientAttachmentForm from '../components/Forms/UpdatePatientAttachmentForm';\nimport UpdatePatientNoteForm from '../components/Forms/UpdatePatientNoteForm';\nimport UpdatePatientTagForm from '../components/Forms/UpdatePatientTagForm';\n\nimport './Users.css';\n\nclass PatientsPage extends Component {\n  state = {\n    creating: false,\n    updating: false,\n    searching: false,\n    updatingArray: false,\n    deleting: false,\n    patients: [],\n    searchPatients: [],\n    isLoading: false,\n    selectedPatient: null,\n    selectedUser: null,\n    patientUpdateField: null,\n    patientSearchField: null,\n    patientSearchQuery: null,\n    canDelete: null,\n    visit: null,\n    visitList: [],\n    selectedVisit: null,\n    newVisit: false,\n    createVisitChecklist: {\n      consultant: false,\n      complaint: false,\n      diagnosis: false,\n      examination: false,\n      investigation: false,\n      survey: false,\n      systematicInquiry: false,\n      treatment: false,\n      vitals: false,\n      billing: false,\n      vigilance: false\n    },\n    newVisit: false,\n    userAlert: null,\n    overlay: false,\n    overlayStatus: \"test\",\n    showAttachment: false,\n    showThisAttachmentFile: null,\n    showThisAttachmentType: null,\n    creatingDocument: false,\n    createPdf: false,\n    pdfData: null,\n    pdfType: null,\n    sidebarShow: true,\n    mCol1Size: 3,\n    mCol2Size: 9,\n    creds: null\n  };\n  isActive = true;\n\n  static contextType = AuthContext;\n\n  componentDidMount() {\n    if (this.context.user.name === \"Lord-of-the-Manor\"){\n      this.setState({canDelete: true})\n    }\n\n    if (JSON.stringify(this.context.selectedPatient) !== \"{}\") {\n      this.setState({ selectedPatient: this.context.selectedPatient })\n    }\n    console.log(`this.context.selectedUser, ${JSON.stringify(this.context.selectedUser)}`);\n\n    this.fetchPatients();\n  }\n\n\n  startCreatePatientHandler = () => {\n    this.setState({ creating: true });\n  };\n  startCreateVisitHandler = () => {\n    this.setState({ newVisit: true });\n  };\n  startUpdatePatientHandler = () => {\n    this.setState({ updating: true, updatingArray: true });\n  };\n  startSearchPatientHandler = () => {\n    this.setState({ searching: true });\n  };\n\n  modalConfirmHandler = (event) => {\n\n    this.setState({ creating: false, userAlert: \"Creating New Patient ...\" });\n    const userId = this.context.userId;\n    const token = this.context.token;\n    let title = event.target.formGridTitle.value;\n    let name = event.target.formGridName.value;\n    let dob = event.target.formGridDob.value;\n    let age = event.target.formGridAge.value;\n    let gender = event.target.formGridGender.value;\n    let addressNumber = event.target.formGridAddressNumber.value;\n    let addressStreet = event.target.formGridAddressStreet.value;\n    let addressTown = event.target.formGridAddressTown.value;\n    let addressParish = event.target.formGridAddressParish.value;\n    let addressPostOffice = event.target.formGridAddressPostOffice.value;\n    let contactPhone = event.target.formGridContactPhone.value;\n    let contactEmail = event.target.formGridContactEmail.value;\n\n    let registrationDate = event.target.formGridRegistrationDate.value;\n    if (event.target.formGridRegistrationDateTodayCheckbox.checked === true) {\n      registrationDate = new Date().toISOString().slice(0,10);\n    }\n\n    if (\n      event.target.patientCalendarRegistrationDate.value !== null &&\n      event.target.formGridRegistrationDateTodayCheckbox.checked !== true\n    ) {\n      console.log(\"fancyDate2\", new Date(event.target.patientCalendarRegistrationDate.value).toISOString().slice(0,10));\n      registrationDate = new Date(event.target.patientCalendarRegistrationDate.value).toISOString().slice(0,10);\n    }\n\n\n    let referralDate = event.target.formGridReferralDate.value;\n    if (event.target.formGridReferralDateTodayCheckbox.checked === true) {\n      referralDate = new Date().toISOString().slice(0,10);\n    }\n\n    if (\n      event.target.patientCalendarReferralDate.value !== null &&\n      event.target.formGridReferralDateTodayCheckbox.checked !== true\n    ) {\n      console.log(\"fancyDate2\", new Date(event.target.patientCalendarReferralDate.value).toISOString().slice(0,10));\n      referralDate = new Date(event.target.patientCalendarReferralDate.value).toISOString().slice(0,10);\n    }\n\n    let expirationDate = event.target.formGridExpirationDate.value;\n    let attendingPhysicianName = event.target.formGridAttendingPhysicianName.value;\n    let attendingPhysicianEmail = event.target.formGridAttendingPhysicianEmail.value;\n    let attendingPhysicianPhone = event.target.formGridAttendingPhysicianPhone.value;\n    let referringDoctorName = event.target.formGridReferringDoctorName.value;\n    let referringDoctorEmail = event.target.formGridReferringDoctorEmail.value;\n    let referringDoctorPhone = event.target.formGridReferringDoctorPhone.value;\n    let occupationRole = event.target.formGridOccupationRole.value;\n    let occupationEmployer = event.target.formGridOccupationEmployer.value;\n    let occupationEmployerContactPhone = event.target.formGridOccupationEmployerContactPhone.value;\n    let occupationEmployerContactEmail = event.target.formGridOccupationEmployerContactEmail.value;\n\n    if (\n      name.trim().length === 0 ||\n      age.trim().length === 0 ||\n      addressNumber.trim().length === 0 ||\n      addressStreet.trim().length === 0 ||\n      contactPhone.trim().length === 0 ||\n      registrationDate.trim().length === 0\n    ) {\n      this.setState({userAlert: \"patient must have at least: Name, Age, Contact Number, Street Name & Number and Registration Date!!!...Please try again...\"});\n      return;\n    }\n\n    const requestBody = {\n      query: `\n        mutation {createPatient(userId:\"${userId}\", patientInput:{title:\"${title}\",name:\"${name}\",dob:\"${dob}\",age:${age},gender:\"${gender}\",addressNumber:${addressNumber},addressStreet:\"${addressStreet}\",addressTown:\"${addressTown}\",addressParish:\"${addressParish}\",addressPostOffice:\"${addressPostOffice}\",contactPhone:\"${contactPhone}\",contactEmail:\"${contactEmail}\",registrationDate:\"${registrationDate}\",referralDate:\"${referralDate}\",expirationDate:\"${expirationDate}\",referringDoctorName:\"${referringDoctorName}\",referringDoctorEmail:\"${referringDoctorEmail}\",referringDoctorPhone:\"${referringDoctorPhone}\",attendingPhysicianName:\"${attendingPhysicianName}\",attendingPhysicianEmail:\"${attendingPhysicianEmail}\",attendingPhysicianPhone:\"${attendingPhysicianPhone}\",occupationRole:\"${occupationRole}\",occupationEmployer:\"${occupationEmployer}\",occupationEmployerContactPhone:\"${occupationEmployerContactPhone}\",occupationEmployerContactEmail:\"${occupationEmployerContactEmail}\"})\n        {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n        `};\n\n    // fetch('http://ec2-3-19-32-237.us-east-2.compute.amazonaws.com/graphql', {\n    fetch('http://localhost:10000/graphql', {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + token\n      }\n    })\n      .then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n        return res.json();\n      })\n      .then(resData => {\n        const responseAlert = JSON.stringify(resData.data).slice(2,15);\n        this.setState({userAlert: responseAlert});\n        const newPatient = resData.data.createPatient;\n        this.setState(prevState => {\n          const updatedPatients = [...prevState.patients];\n          updatedPatients.push(newPatient);\n          return { patients: updatedPatients };\n        });\n        this.setState({selecteAppointment: resData.data.createPatient})\n      })\n      .catch(err => {\n        this.setState({userAlert: err});\n      });\n  };\n\n  modalCancelHandler = () => {\n    this.setState({ creating: false, updating: false });\n  };\n\n\n  modalConfirmUpdateHandler = (event) => {\n\n    const userId = this.context.userId;\n    const selectedPatientId = this.context.selectedPatient._id;\n    const token = this.context.token;\n\n    this.setState({ updating: false , userAlert: \"Updating selected Patient...\"});\n\n    let title = event.target.formGridTitle.value;\n    let name = event.target.formGridName.value;\n    let dob = event.target.formGridDob.value;\n    let age = event.target.formGridAge.value;\n    let gender = event.target.formGridGender.value;\n    let addressNumber = event.target.formGridAddressNumber.value;\n    let addressStreet = event.target.formGridAddressStreet.value;\n    let addressTown = event.target.formGridAddressTown.value;\n    let addressParish = event.target.formGridAddressParish.value;\n    let addressPostOffice = event.target.formGridAddressPostOffice.value;\n    let contactPhone = event.target.formGridContactPhone.value;\n    let contactEmail = event.target.formGridContactEmail.value;\n\n    let registrationDate = event.target.formGridRegistrationDate.value;\n    if (event.target.formGridRegistrationDateTodayCheckbox.checked === true) {\n      registrationDate = new Date().toISOString().slice(0,10);\n    }\n\n    if (\n      event.target.patientCalendarRegistrationDate.value !== null &&\n      event.target.formGridRegistrationDateTodayCheckbox.checked !== true\n    ) {\n      console.log(\"fancyDate2\", new Date(event.target.patientCalendarRegistrationDate.value).toISOString().slice(0,10));\n      registrationDate = new Date(event.target.patientCalendarRegistrationDate.value).toISOString().slice(0,10);\n    }\n\n\n    let referralDate = event.target.formGridReferralDate.value;\n    if (event.target.formGridReferralDateTodayCheckbox.checked === true) {\n      referralDate = new Date().toISOString().slice(0,10);\n    }\n\n    if (\n      event.target.patientCalendarReferralDate.value !== null &&\n      event.target.formGridReferralDateTodayCheckbox.checked !== true\n    ) {\n      console.log(\"fancyDate2\", new Date(event.target.patientCalendarReferralDate.value).toISOString().slice(0,10));\n      referralDate = new Date(event.target.patientCalendarReferralDate.value).toISOString().slice(0,10);\n    }\n\n    let expirationDate = event.target.formGridExpirationDate.value;\n    if (event.target.formGridExpirationDateTodayCheckbox.checked === true) {\n      expirationDate = new Date().toISOString().slice(0,10);\n    }\n    if (\n      event.target.patientCalendarExpirationDate.value !== null &&\n      event.target.formGridExpirationDateTodayCheckbox.checked !== true\n    ) {\n      console.log(\"fancyDate2\", new Date(event.target.patientCalendarExpirationDate.value).toISOString().slice(0,10));\n      expirationDate = new Date(event.target.patientCalendarExpirationDate.value).toISOString().slice(0,10);\n    }\n\n    let attendingPhysicianName = event.target.formGridAttendingPhysicianName.value;\n    let attendingPhysicianEmail = event.target.formGridAttendingPhysicianEmail.value;\n    let attendingPhysicianPhone = event.target.formGridAttendingPhysicianPhone.value;\n    let referringDoctorName = event.target.formGridReferringDoctorName.value;\n    let referringDoctorEmail = event.target.formGridReferringDoctorEmail.value;\n    let referringDoctorPhone = event.target.formGridReferringDoctorPhone.value;\n    let occupationRole = event.target.formGridOccupationRole.value;\n    let occupationEmployer = event.target.formGridOccupationEmployer.value;\n    let occupationEmployerContactPhone = event.target.formGridOccupationEmployerContactPhone.value;\n    let occupationEmployerContactEmail = event.target.formGridOccupationEmployerContactEmail.value;\n\n    if (title.trim().length === 0 ) {\n      this.setState({ userAlert: \"blank fields detected!!!...filling w/ previous data...\"});\n      title = this.context.selectedPatient.title;\n    }\n    if (name.trim().length === 0 ) {\n      this.setState({ userAlert: \"blank fields detected!!!...filling w/ previous data...\"});\n      name = this.context.selectedPatient.name;\n    }\n    if (dob.trim().length === 0 ) {\n      this.setState({ userAlert: \"blank fields detected!!!...filling w/ previous data...\"});\n      dob = this.context.selectedPatient.dob;\n    }\n    if (gender.trim().length === 0 ) {\n      this.setState({ userAlert: \"blank fields detected!!!...filling w/ previous data...\"});\n      gender = this.context.selectedPatient.gender;\n    }\n    if (age.trim().length === 0 ) {\n      this.setState({ userAlert: \"blank fields detected!!!...filling w/ previous data...\"});\n      age = this.context.selectedPatient.age;\n    }\n    if (addressNumber.trim().length === 0 ) {\n      this.setState({ userAlert: \"blank fields detected!!!...filling w/ previous data...\"});\n      addressNumber = this.context.selectedPatient.address.number;\n    }\n    if (addressStreet.trim().length === 0 ) {\n      this.setState({ userAlert: \"blank fields detected!!!...filling w/ previous data...\"});\n      addressStreet = this.context.selectedPatient.address.street;\n    }\n    if (addressTown.trim().length === 0 ) {\n      this.setState({ userAlert: \"blank fields detected!!!...filling w/ previous data...\"});\n      addressTown = this.context.selectedPatient.address.town;\n    }\n    if (addressParish.trim().length === 0 ) {\n      this.setState({ userAlert: \"blank fields detected!!!...filling w/ previous data...\"});\n      addressParish = this.context.selectedPatient.address.parish;\n    }\n    if (addressPostOffice.trim().length === 0 ) {\n      this.setState({ userAlert: \"blank fields detected!!!...filling w/ previous data...\"});\n      addressPostOffice = this.context.selectedPatient.address.postOffice;\n    }\n    if (contactPhone.trim().length === 0 ) {\n      this.setState({ userAlert: \"blank fields detected!!!...filling w/ previous data...\"});\n      contactPhone = this.context.selectedPatient.contact.phone;\n    }\n    if (contactEmail.trim().length === 0 ) {\n      this.setState({ userAlert: \"blank fields detected!!!...filling w/ previous data...\"});\n      contactEmail = this.context.selectedPatient.contact.email;\n    }\n    if (registrationDate.trim().length === 0 ) {\n      this.setState({ userAlert: \"blank fields detected!!!...filling w/ previous data...\"});\n      registrationDate = this.context.selectedPatient.registrationDate;\n    }\n    if (attendingPhysicianName.trim().length === 0 ) {\n      this.setState({ userAlert: \"blank fields detected!!!...filling w/ previous data...\"});\n      attendingPhysicianName = this.context.selectedPatient.attendingPhysician.name;\n    }\n    if (attendingPhysicianEmail.trim().length === 0 ) {\n      this.setState({ userAlert: \"blank fields detected!!!...filling w/ previous data...\"});\n      attendingPhysicianEmail = this.context.selectedPatient.attendingPhysician.email;\n    }\n    if (attendingPhysicianPhone.trim().length === 0 ) {\n      this.setState({ userAlert: \"blank fields detected!!!...filling w/ previous data...\"});\n      attendingPhysicianPhone = this.context.selectedPatient.attendingPhysician.phone;\n    }\n    if (referringDoctorName.trim().length === 0 ) {\n      this.setState({ userAlert: \"blank fields detected!!!...filling w/ previous data...\"});\n      referringDoctorName = this.context.selectedPatient.referringDoctor.name;\n    }\n    if (referringDoctorEmail.trim().length === 0 ) {\n      this.setState({ userAlert: \"blank fields detected!!!...filling w/ previous data...\"});\n      referringDoctorEmail = this.context.selectedPatient.referringDoctor.email;\n    }\n    if (referringDoctorPhone.trim().length === 0 ) {\n      this.setState({ userAlert: \"blank fields detected!!!...filling w/ previous data...\"});\n      referringDoctorPhone = this.context.selectedPatient.referringDoctor.phone;\n    }\n    if (occupationRole.trim().length === 0 ) {\n      this.setState({ userAlert: \"blank fields detected!!!...filling w/ previous data...\"});\n      occupationRole = this.context.selectedPatient.occupation.role;\n    }\n    if (occupationEmployer.trim().length === 0 ) {\n      this.setState({ userAlert: \"blank fields detected!!!...filling w/ previous data...\"});\n      occupationEmployer = this.context.selectedPatient.occupation.employer;\n    }\n    if (occupationEmployerContactEmail.trim().length === 0 ) {\n      this.setState({ userAlert: \"blank fields detected!!!...filling w/ previous data...\"});\n      occupationEmployerContactEmail = this.context.selectedPatient.occupation.contact.email;\n    }\n    if (occupationEmployerContactPhone.trim().length === 0 ) {\n      this.setState({ userAlert: \"blank fields detected!!!...filling w/ previous data...\"});\n      occupationEmployerContactPhone = this.context.selectedPatient.occupation.contact.phone;\n    }\n\n    const requestBody = {\n      query: `\n          mutation {updatePatient(userId:\"${userId}\",patientId:\"${selectedPatientId}\", patientInput:{title:\"${title}\",name:\"${name}\",dob:\"${dob}\",age:${age},gender:\"${gender}\",addressNumber:${addressNumber},addressStreet:\"${addressStreet}\",addressTown:\"${addressTown}\",addressParish:\"${addressParish}\",addressPostOffice:\"${addressPostOffice}\",contactPhone:\"${contactPhone}\",contactEmail:\"${contactEmail}\",registrationDate:\"${registrationDate}\",referralDate:\"${referralDate}\",expirationDate:\"${expirationDate}\",referringDoctorName:\"${referringDoctorName}\",referringDoctorEmail:\"${referringDoctorEmail}\",referringDoctorPhone:\"${referringDoctorPhone}\",attendingPhysicianName:\"${attendingPhysicianName}\",attendingPhysicianEmail:\"${attendingPhysicianEmail}\",attendingPhysicianPhone:\"${attendingPhysicianPhone}\",occupationRole:\"${occupationRole}\",occupationEmployer:\"${occupationEmployer}\",occupationEmployerContactPhone:\"${occupationEmployerContactPhone}\",occupationEmployerContactEmail:\"${occupationEmployerContactPhone}\"})\n          {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n        `};\n\n    fetch('http://localhost:10000/graphql', {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + token\n      }\n    })\n      .then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n        return res.json();\n      })\n      .then(resData => {\n        const updatedPatientId = resData.data.updatePatient._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.updatePatient);\n        const responseAlert = JSON.stringify(resData.data).slice(2,25);\n\n        this.fetchPatients();\n        this.setState({ userAlert: responseAlert, selectedPatient: resData.data.updatePatient })\n      })\n      .catch(err => {\n        this.setState({userAlert: err});\n      });\n  };\n\n\n  modalConfirmUpdateFieldHandler = (event) => {\n\n    const token = this.context.token;\n    const userId = this.context.userId;\n    let selectedPatientId = this.context.selectedPatient._id;\n    this.setState({ updating: false, userAlert: \"Updating selected Patient by Field...\" });\n\n    let field = null;\n    let query = event.target.formGridQuery.value;\n    if (event.target.formGridFieldSelect.value === \"select\") {\n      field = event.target.formGridField.value;\n    } else {\n      field = event.target.formGridFieldSelect.value;\n    }\n\n    const requestBody = {\n      query:`\n        mutation {updatePatientField(userId:\"${userId}\",patientId:\"${selectedPatientId}\",field:\"${field}\",query:\"${query}\")\n        {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n      `};\n\n\n    fetch('http://localhost:10000/graphql', {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + token\n      }\n    })\n      .then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n        return res.json();\n      })\n      .then(resData => {\n        const updatedPatientId = resData.data.updatePatientField._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.updatePatientField);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2,25);\n\n        this.fetchPatients();\n        this.setState({ userAlert: responseAlert, selectedPatient: resData.data.updatePatientField })\n      })\n      .catch(err => {\n        this.setState({userAlert: err});\n      });\n  }\n\n\nupdatePatientConsultantHandler = (event) => {\n\n  event.preventDefault();\n  let token = this.context.token;\n  const userId = this.context.userId;\n  let selectedPatientId = this.context.selectedPatient._id;\n  const patientConsultantReference = this.context.selectedUser._id;\n  if (patientConsultantReference === undefined) {\n      this.setState({userAlert: \"select a Staff member before adding a Patient Consultant!!...\"});\n      token = null;\n  }\n\n  this.setState({ updating: false , patientUpdateField: null, userAlert: \"Adding selected Patient Consultant...\" });\n\n  let consultantDate = null;\n  if (event.target.formGridConsultantDate) {\n    consultantDate = event.target.formGridConsultantDate.value;\n  }\n  if (event.target.formGridConsultantDateTodayCheckbox.checked === true) {\n    consultantDate = new Date().toISOString().slice(0,10);\n  }\n\n  if (\n    event.target.patientConsultantCalendarDate.value !== null &&\n    event.target.formGridConsultantDateTodayCheckbox.checked !== true\n  ) {\n    console.log(\"fancyDate2\", new Date(event.target.patientConsultantCalendarDate.value).toISOString().slice(0,10));\n    consultantDate = new Date(event.target.patientConsultantCalendarDate.value).toISOString().slice(0,10);\n  }\n\n  const requestBody = {\n    query:`\n      mutation {updatePatientConsultant(userId:\"${userId}\", patientId:\"${selectedPatientId}\",patientInput:{consultantDate:\" ${consultantDate}\",consultantReference: \"${patientConsultantReference}\"})\n      {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n  };\n\n\n    fetch('http://localhost:10000/graphql', {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + token\n      }\n    })\n    .then(res => {\n      if (res.status !== 200 && res.status !== 201) {\n        throw new Error('Failed!');\n      }\n      return res.json();\n    })\n    .then(resData => {\n      const updatedPatientId = resData.data.updatePatientConsultant._id;\n      const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n      const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n      const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n      this.state.patients.push(resData.data.updatePatientConsultant);\n      this.context.patients = this.state.patients;\n      const responseAlert = JSON.stringify(resData.data).slice(2,25);\n\n      this.fetchPatients();\n      this.setState({ userAlert: responseAlert, selectedPatient: resData.data.updatePatientConsultant })\n    })\n    .catch(err => {\n      this.setState({userAlert: err});\n    });\n}\n\nupdatePatientInsuranceHandler = (event) => {\n\n  const token = this.context.token;\n  const userId = this.context.userId;\n  let selectedPatientId = this.context.selectedPatient._id;\n  this.setState({ updating: false , patientUpdateField: null, userAlert: \"Adding selected Patient Insurance...\" });\n  let insuranceCompany = event.target.formGridInsuranceCompany.value;\n  let insuranceNumber = event.target.formGridInsuranceNumber.value;\n  let insuranceExpiry = event.target.patientCalendarInsuranceExpiryDate.value;\n  // if (event.target.patientCalendarInsuranceExpiryDate.value !== null &&\n  //   event.target.formGridInsuranceExpiry.value === null\n  //   ) {\n  //   console.log(`patientCalendarInsuranceExpiryDate: ${new Date(event.target.patientCalendarInsuranceExpiryDate.value).toISOString().slice(0,10)} `);\n  //   insuranceExpiry = new Date(event.target.patientCalendarInsuranceExpiryDate.value).toISOString().slice(0,10);\n  // }\n\n  let insuranceDescription = event.target.formGridInsuranceDescription.value;\n  let insuranceSubscriberCompany = event.target.formGridInsuranceSubscriberCompany.value;\n  let insuranceSubscriberDescription = event.target.formGridInsuranceSubscriberDescription.value;\n\n    const requestBody = {\n      query:`\n        mutation {updatePatientInsurance(userId:\"${userId}\", patientId:\"${selectedPatientId}\",patientInput:{insuranceCompany:\"${insuranceCompany}\",insuranceNumber:\"${insuranceNumber}\",insuranceDescription:\"${insuranceDescription}\",insuranceExpiry:\"${insuranceExpiry}\",insuranceSubscriberCompany:\"${insuranceSubscriberCompany}\",insuranceSubscriberDescription:\"${insuranceSubscriberDescription}\"})\n        {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n      `\n    };\n\n    fetch('http://localhost:10000/graphql', {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + token\n      }\n    })\n    .then(res => {\n      if (res.status !== 200 && res.status !== 201) {\n        throw new Error('Failed!');\n      }\n      return res.json();\n    })\n    .then(resData => {\n      const updatedPatientId = resData.data.updatePatientInsurance._id;\n      const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n      const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n      const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n      this.state.patients.push(resData.data.updatePatientInsurance);\n      this.context.patients = this.state.patients;\n      const responseAlert = JSON.stringify(resData.data).slice(2,25);\n\n      this.fetchPatients();\n      this.setState({ userAlert: responseAlert, selectedPatient: resData.data.updatePatientInsurance })\n    })\n    .catch(err => {\n      this.setState({userAlert: err});\n    });\n}\n\nupdatePatientNextOfKinHandler = (event) => {\n\n  const token = this.context.token;\n  const userId = this.context.userId;\n  let selectedPatientId = this.context.selectedPatient._id;\n  this.setState({ updating: false , patientUpdateField: null, userAlert: \"Adding selected Patient Next of Kin...\" });\n  let nextOfKinName = event.target.formGridNextOfKinName.value;\n  let nextOfKinPhone = event.target.formGridNextOfKinPhone.value;\n  let nextOfKinEmail = event.target.formGridNextOfKinEmail.value;\n\n    const requestBody = {\n      query:`\n        mutation {updatePatientNextOfKin(userId:\"${userId}\", patientId:\"${selectedPatientId}\",patientInput:{nextOfKinName:\"${nextOfKinName}\",nextOfKinEmail:\"${nextOfKinEmail}\",nextOfKinPhone:\"${nextOfKinPhone}\"})\n        {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n      `\n    };\n\n    fetch('http://localhost:10000/graphql', {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + token\n      }\n    })\n      .then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n        return res.json();\n      })\n      .then(resData => {\n        const updatedPatientId = resData.data.updatePatientNextOfKin._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.updatePatientNextOfKin);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2,25);\n\n        this.fetchPatients();\n        this.setState({ userAlert: responseAlert, selectedPatient: resData.data.updatePatientNextOfKin })\n      })\n      .catch(err => {\n        this.setState({userAlert: err});\n      });\n}\n\nupdatePatientComplaintHandler = (event) => {\n\n  event.preventDefault();\n  // this.getCreds();\n  console.log(`\n    event.target.fileInput.value: ${event.target.fileInput.value},\n    `);\n\n  const token = this.context.token;\n  const userId = this.context.userId;\n  let selectedPatientId = this.context.selectedPatient._id;\n  this.setState({ updating: false , patientUpdateField: null, userAlert: \"Adding selected Patient Complaint...\" });\n\n  let complaintTitle = event.target.formGridComplaintTitle.value;\n\n  let complaintDate = null;\n  if (event.target.formGridComplaintDate) {\n    complaintDate = event.target.formGridComplaintDate.value;\n  }\n  if (event.target.formGridComplaintDateTodayCheckbox.checked === true) {\n    complaintDate = new Date().toISOString().slice(0,10);\n  }\n\n  if (\n    event.target.patientComplaintCalendarDate.value !== null &&\n    event.target.formGridComplaintDateTodayCheckbox.checked !== true\n  ) {\n    console.log(\"fancyDate2\", new Date(event.target.patientComplaintCalendarDate.value).toISOString().slice(0,10));\n    complaintDate = new Date(event.target.patientComplaintCalendarDate.value).toISOString().slice(0,10);\n  }\n\n  let complaintDescription = event.target.formGridComplaintDescription.value;\n  let complaintAnamnesis = event.target.formGridComplaintAnamnesis.value;\n  let complaintAttachmentFormat = event.target.formGridComplaintAttachmentFormat.value;\n  let complaintAttachmentPath = \"uploads/patients/\"+selectedPatientId+\"/complaints\";\n\n  let complaintAttachmentName = null;\n\n  if (\n      event.target.fileInput.value !== \"\"\n  ) {\n\n    const file = AuthContext._currentValue.file;\n    const config = {\n      bucketName: this.state.creds.s3.bucketName,\n      dirName: complaintAttachmentPath,\n      region: this.state.creds.s3.region,\n      accessKeyId: this.state.creds.s3.accessKeyId,\n      secretAccessKey: this.state.creds.s3.secretAccessKey,\n    }\n    const ReactS3Client = new S3(config);\n    const newFileName = file.name;\n    const complaintAttachmentName = newFileName;\n    this.setState({userAlert: \"uploading attachment ...\"});\n\n    ReactS3Client\n        .uploadFile(file, newFileName)\n        .then(data => {console.log(data);this.setState({userAlert: \"attachment upload success!\"});})\n        .catch(err => {console.error(err);this.setState({userAlert: \"upload error:  \"+err});})\n\n  }\n\n  const requestBody = {\n    query:`\n      mutation {updatePatientComplaint(userId:\"${userId}\", patientId:\"${selectedPatientId}\",patientInput:{complaintDate:\"${complaintDate}\",complaintTitle:\"${complaintTitle}\",complaintDescription:\"${complaintDescription}\",complaintAnamnesis:\"${complaintAnamnesis}\",complaintAttachmentName:\"${complaintAttachmentName}\",complaintAttachmentFormat:\"${complaintAttachmentFormat}\",complaintAttachmentPath:\"${complaintAttachmentPath}\"})\n      {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n  }\n\n  fetch('http://localhost:10000/graphql', {\n    method: 'POST',\n    body: JSON.stringify(requestBody),\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: 'Bearer ' + token\n    }\n  })\n    .then(res => {\n      if (res.status !== 200 && res.status !== 201) {\n        throw new Error('Failed!');\n      }\n      return res.json();\n    })\n    .then(resData => {\n      const updatedPatientId = resData.data.updatePatientComplaint._id;\n      const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n      const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n      const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n      this.state.patients.push(resData.data.updatePatientComplaint);\n      this.context.patients = this.state.patients;\n      const responseAlert = JSON.stringify(resData.data).slice(2,25);\n\n      this.fetchPatients();\n      this.setState({ userAlert: responseAlert, selectedPatient: resData.data.updatePatientComplaint })\n    })\n    .catch(err => {\n      this.setState({userAlert: err});\n    });\n}\n\nupdatePatientSurveyHandler = (event) => {\n\n  event.preventDefault();\n  const token = this.context.token;\n  const userId = this.context.userId;\n  let selectedPatientId = this.context.selectedPatient._id;\n  this.setState({ updating: false , patientUpdateField: null, userAlert: \"Adding selected Patient Survey...\" });\n\n  let surveyDate = null;\n  if (event.target.formGridSurveyDate) {\n    surveyDate = event.target.formGridSurveyDate.value;\n  }\n  if (event.target.formGridSurveyDateTodayCheckbox.checked === true) {\n    surveyDate = new Date().toISOString().slice(0,10);\n  }\n  if (\n    event.target.patientSurveyCalendarDate.value !== null &&\n    event.target.formGridSurveyDateTodayCheckbox.checked !== true\n  ) {\n    console.log(\"fancyDate2\", new Date(event.target.patientSurveyCalendarDate.value).toISOString().slice(0,10));\n    surveyDate = new Date(event.target.patientSurveyCalendarDate.value).toISOString().slice(0,10);\n  }\n\n  let surveyTitle = event.target.formGridSurveyTitle.value;\n  let surveyDescription = event.target.formGridSurveyDescription.value;\n  let surveyAttachmentFormat = event.target.formGridSurveyAttachmentFormat.value;\n  let surveyAttachmentPath = \"uploads/patients/\"+selectedPatientId+\"/surveys\";\n\n  let surveyAttachmentName = null;\n\n  if (event.target.fileInput.value !== null ||\n      event.target.fileInput.value !== \"\"\n  ) {\n\n    const file = AuthContext._currentValue.file;\n    const config = {\n      bucketName: this.context.creds.s3.bucketName,\n      dirName: surveyAttachmentPath,\n      region: this.context.creds.s3.region,\n      accessKeyId: this.context.creds.s3.accessKeyId,\n      secretAccessKey: this.context.creds.s3.secretAccessKey,\n    }\n    const ReactS3Client = new S3(config);\n    const newFileName = file.name;\n    const surveyAttachmentName = newFileName;\n    this.setState({userAlert: \"uploading attachment ...\"});\n\n    ReactS3Client\n        .uploadFile(file, newFileName)\n        .then(data => {console.log(data);this.setState({userAlert: \"attachment upload success!\"});})\n        .catch(err => {console.error(err);this.setState({userAlert: \"upload error:  \"+err});})\n  }\n\n  const requestBody = {\n    query:`\n      mutation {updatePatientSurvey(userId:\"${userId}\",patientId:\"${selectedPatientId}\",patientInput:{surveyDate:\"${surveyDate}\",surveyTitle:\"${surveyTitle}\",surveyDescription:\"${surveyDescription}\",surveyAttachmentName:\"${surveyAttachmentName}\",surveyAttachmentFormat:\"${surveyAttachmentFormat}\",surveyAttachmentPath:\"${surveyAttachmentPath}\"})\n      {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n  }\n\n  fetch('http://localhost:10000/graphql', {\n    method: 'POST',\n    body: JSON.stringify(requestBody),\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: 'Bearer ' + token\n    }\n  })\n    .then(res => {\n      if (res.status !== 200 && res.status !== 201) {\n        throw new Error('Failed!');\n      }\n      return res.json();\n    })\n    .then(resData => {\n      const updatedPatientId = resData.data.updatePatientSurvey._id;\n      const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n      const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n      const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n      this.state.patients.push(resData.data.updatePatientSurvey);\n      this.context.patients = this.state.patients;\n      const responseAlert = JSON.stringify(resData.data).slice(2,25);\n\n      this.fetchPatients();\n      this.setState({ userAlert: responseAlert, selectedPatient: resData.data.updatePatientSurvey })\n    })\n    .catch(err => {\n      this.setState({userAlert: err});\n    });\n}\n\nupdatePatientSystematicInquiryHandler = (event) => {\n\n  event.preventDefault();\n  const token = this.context.token;\n  const userId = this.context.userId;\n  let selectedPatientId = this.context.selectedPatient._id;\n  this.setState({ updating: false , patientUpdateField: null, userAlert: \"Adding selected Patient Systematic Inquiry...\" });\n\n  let systematicInquiryDate = null;\n  if (event.target.formGridSystematicInquiryDate) {\n    systematicInquiryDate = event.target.formGridSystematicInquiryDate.value;\n  }\n  if (event.target.formGridSystematicInquiryDateTodayCheckbox.checked === true) {\n    systematicInquiryDate = new Date().toISOString().slice(0,10);\n  }\n  if (\n    event.target.patientSystematicInquiryCalendarDate.value !== null &&\n    event.target.formGridSystematicInquiryDateTodayCheckbox.checked !== true\n  ) {\n    console.log(\"fancyDate2\", new Date(event.target.patientSystematicInquiryCalendarDate.value).toISOString().slice(0,10));\n    systematicInquiryDate = new Date(event.target.patientSystematicInquiryCalendarDate.value).toISOString().slice(0,10);\n  }\n\n  let systematicInquiryTitle = event.target.formGridSystematicInquiryTitle.value;\n  let systematicInquiryDescription = event.target.formGridSystematicInquiryDescription.value;\n  let systematicInquiryAttachmentFormat = event.target.formGridSystematicInquiryAttachmentFormat.value;\n  let systematicInquiryAttachmentPath = \"uploads/patients/\"+selectedPatientId+\"/systematicInquirys\";\n\n  let systematicInquiryAttachmentName = null;\n\n  if (event.target.fileInput.value !== null ||\n      event.target.fileInput.value !== \"\"\n  ) {\n\n    const file = AuthContext._currentValue.file;\n    const config = {\n      bucketName: this.context.creds.s3.bucketName,\n      dirName: systematicInquiryAttachmentPath,\n      region: this.context.creds.s3.region,\n      accessKeyId: this.context.creds.s3.accessKeyId,\n      secretAccessKey: this.context.creds.s3.secretAccessKey,\n    }\n    const ReactS3Client = new S3(config);\n    const newFileName = file.name;\n    const systematicInquiryAttachmentName = newFileName;\n    this.setState({userAlert: \"uploading attachment ...\"});\n\n    // ReactS3Client\n    //     .uploadFile(file, newFileName)\n    //     .then(data => {console.log(data);this.setState({userAlert: \"attachment upload success!\"});})\n    //     .catch(err => {console.error(err);this.setState({userAlert: \"upload error:  \"+err});})\n\n  }\n\n  const requestBody = {\n    query:`\n      mutation {updatePatientSystematicInquiry(userId:\"${userId}\",patientId:\"${selectedPatientId}\",patientInput:{systematicInquiryDate:\"${systematicInquiryDate}\",systematicInquiryTitle:\"${systematicInquiryTitle}\",systematicInquiryDescription:\"${systematicInquiryDescription}\",systematicInquiryAttachmentName:\"${systematicInquiryAttachmentName}\",systematicInquiryAttachmentFormat:\"${systematicInquiryAttachmentFormat}\",systematicInquiryAttachmentPath:\"${systematicInquiryAttachmentPath}\"})\n      {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n  }\n\n  fetch('http://localhost:10000/graphql', {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + token\n      }\n    })\n    .then(res => {\n      if (res.status !== 200 && res.status !== 201) {\n        throw new Error('Failed!');\n      }\n      return res.json();\n    })\n    .then(resData => {\n      const updatedPatientId = resData.data.updatePatientSystematicInquiry._id;\n      const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n      const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n      const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n      this.state.patients.push(resData.data.updatePatientSystematicInquiry);\n      this.context.patients = this.state.patients;\n      const responseAlert = JSON.stringify(resData.data).slice(2,25);\n\n      this.fetchPatients();\n      this.setState({ userAlert: responseAlert, selectedPatient: resData.data.updatePatientSystematicInquiry })\n    })\n    .catch(err => {\n      this.setState({userAlert: err});\n    });\n}\n\nupdatePatientVitalsHandler = (event) => {\n\n  event.preventDefault();\n  const token = this.context.token;\n  const userId = this.context.userId;\n  const selectedPatientId = this.context.selectedPatient._id;\n  this.setState({ updating: false , patientUpdateField: null, userAlert: \"Adding selected Patient Vitals...\" });\n\n  let vitalsDate = null;\n  if (event.target.formGridVitalsDate) {\n    vitalsDate = event.target.formGridVitalsDate.value;\n  }\n  if (event.target.formGridVitalsDateTodayCheckbox.checked === true) {\n    vitalsDate = new Date().toISOString().slice(0,10);\n  }\n  if (\n    event.target.patientVitalsCalendarDate.value !== null &&\n    event.target.formGridVitalsDateTodayCheckbox.checked !== true\n  ) {\n    console.log(\"fancyDate2\", new Date(event.target.patientVitalsCalendarDate.value).toISOString().slice(0,10));\n    vitalsDate = new Date(event.target.patientVitalsCalendarDate.value).toISOString().slice(0,10);\n  }\n\n  const vitalsPr = event.target.formGridVitalsPr.value;\n  const vitalsBp1 = event.target.formGridVitalsBp1.value;\n  const vitalsBp2 = event.target.formGridVitalsBp2.value;\n  const vitalsRr = event.target.formGridVitalsRr.value;\n  const vitalsTemp = event.target.formGridVitalsTemp.value;\n  const vitalsPs02 = event.target.formGridVitalsPs02.value;\n  const vitalsHeight = event.target.formGridVitalsHeight.value;\n  const vitalsWeight = event.target.formGridVitalsWeight.value;\n  const vitalsBmi = event.target.formGridVitalsBmi.value;\n  const vitalsUrineType = event.target.formGridVitalsUrineType.value;\n  const vitalsUrineValue = event.target.formGridVitalsUrineValue.value;\n  const requestBody = {\n    query:`\n      mutation {updatePatientVitals(userId:\"${userId}\",patientId:\"${selectedPatientId}\",patientInput:{vitalsDate:\"${vitalsDate}\",vitalsPr:${vitalsPr},vitalsBp1:${vitalsBp1},vitalsBp2:${vitalsBp2},vitalsRr:${vitalsRr},vitalsTemp:${vitalsTemp},vitalsPs02:${vitalsPs02},vitalsHeight:${vitalsHeight},vitalsWeight:${vitalsWeight},vitalsBmi:${vitalsBmi},vitalsUrineType:\"${vitalsUrineType}\",vitalsUrineValue:\"${vitalsUrineValue}\"})\n      {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n  }\n\n  fetch('http://localhost:10000/graphql', {\n    method: 'POST',\n    body: JSON.stringify(requestBody),\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: 'Bearer ' + token\n    }\n  })\n    .then(res => {\n      if (res.status !== 200 && res.status !== 201) {\n        throw new Error('Failed!');\n      }\n      return res.json();\n    })\n    .then(resData => {\n      const updatedPatientId = resData.data.updatePatientVitals._id;\n      const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n      const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n      const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n      this.state.patients.push(resData.data.updatePatientVitals);\n      this.context.patients = this.state.patients;\n      const responseAlert = JSON.stringify(resData.data).slice(2,25);\n\n      this.fetchPatients();\n      this.setState({ userAlert: responseAlert, selectedPatient: resData.data.updatePatientVitals })\n    })\n    .catch(err => {\n      this.setState({userAlert: err});\n    });\n}\n\nupdatePatientExaminationHandler = (event) => {\n\n  event.preventDefault();\n  const token = this.context.token;\n  const userId = this.context.userId;\n  const selectedPatientId = this.context.selectedPatient._id;\n  this.setState({ updating: false , patientUpdateField: null, userAlert: \"Adding selected Patient Examination...\" });\n\n  let examinationDate = null;\n  if (event.target.formGridExaminationDate) {\n    examinationDate = event.target.formGridExaminationDate.value;\n  }\n  if (event.target.formGridExaminationDateTodayCheckbox.checked === true) {\n    examinationDate = new Date().toISOString().slice(0,10);\n  }\n  if (\n    event.target.patientExaminationCalendarDate.value !== null &&\n    event.target.formGridExaminationDateTodayCheckbox.checked !== true\n  ) {\n    console.log(\"fancyDate2\", new Date(event.target.patientExaminationCalendarDate.value).toISOString().slice(0,10));\n    examinationDate = new Date(event.target.patientExaminationCalendarDate.value).toISOString().slice(0,10);\n  }\n\n  const examinationGeneral = event.target.formGridExaminationGeneral.value;\n  let examinationArea = undefined;\n  if (event.target.formGridExaminationAreaSelect.value === \"select\") {\n    examinationArea = event.target.formGridExaminationArea.value;\n  } else {\n    examinationArea = event.target.formGridExaminationAreaSelect.value;\n  }\n  const examinationType = event.target.formGridExaminationType.value;\n  const examinationMeasure = event.target.formGridExaminationMeasure.value;\n  const examinationValue = event.target.formGridExaminationValue.value;\n  const examinationDescription = event.target.formGridExaminationDescription.value;\n  const examinationFollowUp = event.target.formGridExaminationFollowUp.value;\n  const examinationAttachmentFormat = event.target.formGridExaminationAttachmentFormat.value;\n  const examinationAttachmentPath = \"uploads/patients/\"+selectedPatientId+\"/examinations\";\n\n  let examinationAttachmentName = null;\n\n  if (event.target.fileInput.value !== null ||\n      event.target.fileInput.value !== \"\"\n  ) {\n\n    const file = AuthContext._currentValue.file;\n    const config = {\n      bucketName: this.context.creds.s3.bucketName,\n      dirName: examinationAttachmentPath,\n      region: this.context.creds.s3.region,\n      accessKeyId: this.context.creds.s3.accessKeyId,\n      secretAccessKey: this.context.creds.s3.secretAccessKey,\n    }\n    const ReactS3Client = new S3(config);\n    const newFileName = file.name;\n    const examinationAttachmentName = newFileName;\n    this.setState({userAlert: \"uploading attachment ...\"});\n\n    ReactS3Client\n        .uploadFile(file, newFileName)\n        .then(data => {console.log(data);this.setState({userAlert: \"attachment upload success!\"});})\n        .catch(err => {console.error(err);this.setState({userAlert: \"upload error:  \"+err});})\n\n  }\n\n  const requestBody = {\n    query:`\n      mutation {updatePatientExamination(userId:\"${userId}\",patientId:\"${selectedPatientId}\",patientInput:{examinationDate:\"${examinationDate}\",examinationGeneral:\"${examinationGeneral}\",examinationArea:\"${examinationArea}\",examinationType:\"${examinationType}\",examinationMeasure:\"${examinationMeasure}\",examinationValue:\"${examinationValue}\",examinationDescription:\"${examinationDescription}\",examinationFollowUp:${examinationFollowUp},examinationAttachmentName:\"${examinationAttachmentName}\",examinationAttachmentFormat:\"${examinationAttachmentFormat}\",examinationAttachmentPath:\"${examinationAttachmentPath}\"})\n      {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n  }\n\n  fetch('http://localhost:10000/graphql', {\n    method: 'POST',\n    body: JSON.stringify(requestBody),\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: 'Bearer ' + token\n    }\n  })\n    .then(res => {\n      if (res.status !== 200 && res.status !== 201) {\n        throw new Error('Failed!');\n      }\n      return res.json();\n    })\n    .then(resData => {\n      const updatedPatientId = resData.data.updatePatientExamination._id;\n      const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n      const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n      const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n      this.state.patients.push(resData.data.updatePatientExamination);\n      this.context.patients = this.state.patients;\n      const responseAlert = JSON.stringify(resData.data).slice(2,25);\n\n      this.fetchPatients();\n      this.setState({ userAlert: responseAlert, selectedPatient: resData.data.updatePatientExamination })\n    })\n    .catch(err => {\n      this.setState({userAlert: err});\n    });\n}\n\n\nupdatePatientHistoryHandler = (event) => {\n\n  event.preventDefault();\n  const token = this.context.token;\n  const userId = this.context.userId;\n  const selectedPatientId = this.context.selectedPatient._id;\n  this.setState({ updating: false , patientUpdateField: null, userAlert: \"Adding selected Patient History...\" });\n\n  const historyType = event.target.formGridHistoryType.value;\n  let historyDate = event.target.formGridHistoryDate.value;\n  if (event.target.formGridHistoryDateTodayCheckbox.checked === true) {\n    historyDate = new Date().toISOString().slice(0,10);\n  }\n\n  if (\n    event.target.patientHistoryCalendarDate.value !== null &&\n    event.target.formGridHistoryDateTodayCheckbox.checked !== true\n  ) {\n    console.log(\"fancyDate2\", new Date(event.target.patientHistoryCalendarDate.value).toISOString().slice(0,10));\n    historyDate = new Date(event.target.patientHistoryCalendarDate.value).toISOString().slice(0,10);\n  }\n\n  const historyTitle = event.target.formGridHistoryTitle.value;\n  const historyDescription = event.target.formGridHistoryDescription.value;\n  const historyAttachmentFormat = event.target.formGridHistoryAttachmentFormat.value;\n  const historyAttachmentPath = \"uploads/patients/\"+selectedPatientId+\"/history\";\n\n  let historyAttachmentName = null;\n\n  if (event.target.fileInput.value !== null ||\n      event.target.fileInput.value !== \"\"\n  ) {\n\n    const file = AuthContext._currentValue.file;\n    const config = {\n      bucketName: this.context.creds.s3.bucketName,\n      dirName: historyAttachmentPath,\n      region: this.context.creds.s3.region,\n      accessKeyId: this.context.creds.s3.accessKeyId,\n      secretAccessKey: this.context.creds.s3.secretAccessKey,\n    }\n    const ReactS3Client = new S3(config);\n    const newFileName = file.name;\n    const historyAttachmentName = newFileName;\n    this.setState({userAlert: \"uploading attachment ...\"});\n\n    ReactS3Client\n        .uploadFile(file, newFileName)\n        .then(data => {console.log(data);this.setState({userAlert: \"attachment upload success!\"});})\n        .catch(err => {console.error(err);this.setState({userAlert: \"upload error:  \"+err});})\n\n  }\n\n  const requestBody = {\n    query:`\n      mutation {updatePatientHistory(userId:\"${userId}\", patientId:\"${selectedPatientId}\",patientInput:{historyTitle:\"${historyTitle}\",historyType:\"${historyType}\",historyDate:\"${historyDate}\",historyDescription:\"${historyDescription}\",historyAttachmentName:\"${historyAttachmentName}\",historyAttachmentFormat:\"${historyAttachmentFormat}\",historyAttachmentPath:\"${historyAttachmentPath}\"})\n      {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n  }\n\n  fetch('http://localhost:10000/graphql', {\n    method: 'POST',\n    body: JSON.stringify(requestBody),\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: 'Bearer ' + token\n    }\n  })\n    .then(res => {\n      if (res.status !== 200 && res.status !== 201) {\n        throw new Error('Failed!');\n      }\n      return res.json();\n    })\n    .then(resData => {\n      const updatedPatientId = resData.data.updatePatientHistory._id;\n      const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n      const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n      const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n      this.state.patients.push(resData.data.updatePatientHistory);\n      this.context.patients = this.state.patients;\n      const responseAlert = JSON.stringify(resData.data).slice(2,25);\n\n      this.fetchPatients();\n      this.setState({ userAlert: responseAlert, selectedPatient: resData.data.updatePatientHistory })\n    })\n    .catch(err => {\n      this.setState({userAlert: err});\n    });\n}\n\n\nupdatePatientAllergiesHandler = (event) => {\n\n  event.preventDefault();\n  const token = this.context.token;\n  const userId = this.context.userId;\n  const selectedPatientId = this.context.selectedPatient._id;\n  this.setState({ updating: false , patientUpdateField: null, userAlert: \"Adding selected Patient Allergies...\" });\n\n  const allergiesTitle = event.target.formGridAllergiesTitle.value;\n  let allergiesType = undefined;\n  if (event.target.formGridAllergiesTypeSelect === \"select\") {\n    allergiesType = event.target.formGridAllergiesType.value;\n  } else {\n    allergiesType = event.target.formGridAllergiesTypeSelect.value;\n  }\n  const allergiesDescription = event.target.formGridAllergiesDescription.value;\n  const allergiesAttachmentFormat = event.target.formGridAllergiesAttachmentFormat.value;\n  const allergiesAttachmentPath = \"uploads/patients/\"+selectedPatientId+\"/allergies\";\n\n  let allergiesAttachmentName = null;\n\n  if (event.target.fileInput.value !== null ||\n      event.target.fileInput.value !== \"\"\n  ) {\n\n    const file = AuthContext._currentValue.file;\n    const config = {\n      bucketName: this.context.creds.s3.bucketName,\n      dirName: allergiesAttachmentPath,\n      region: this.context.creds.s3.region,\n      accessKeyId: this.context.creds.s3.accessKeyId,\n      secretAccessKey: this.context.creds.s3.secretAccessKey,\n    }\n    const ReactS3Client = new S3(config);\n    const newFileName = file.name;\n    const allergiesAttachmentName = newFileName;\n    this.setState({userAlert: \"uploading attachment ...\"});\n\n    ReactS3Client\n        .uploadFile(file, newFileName)\n        .then(data => {console.log(data);this.setState({userAlert: \"attachment upload success!\"});})\n        .catch(err => {console.error(err);this.setState({userAlert: \"upload error:  \"+err});})\n\n  }\n\n  const requestBody = {\n    query:`\n      mutation {updatePatientAllergies(userId:\"${userId}\", patientId:\"${selectedPatientId}\",patientInput:{allergiesTitle:\"${allergiesTitle}\",allergiesType:\"${allergiesType}\", allergiesDescription:\"${allergiesDescription}\",allergiesAttachmentName:\"${allergiesAttachmentName}\",allergiesAttachmentFormat:\"${allergiesAttachmentFormat}\",allergiesAttachmentPath:\"${allergiesAttachmentPath}\"})\n      {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n  }\n\n  fetch('http://localhost:10000/graphql', {\n    method: 'POST',\n    body: JSON.stringify(requestBody),\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: 'Bearer ' + token\n    }\n  })\n    .then(res => {\n      if (res.status !== 200 && res.status !== 201) {\n        throw new Error('Failed!');\n      }\n      return res.json();\n    })\n    .then(resData => {\n      const updatedPatientId = resData.data.updatePatientAllergies._id;\n      const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n      const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n      const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n      this.state.patients.push(resData.data.updatePatientAllergies);\n      this.context.patients = this.state.patients;\n      const responseAlert = JSON.stringify(resData.data).slice(2,25);\n\n      this.fetchPatients();\n      this.setState({ userAlert: responseAlert, selectedPatient: resData.data.updatePatientAllergies })\n    })\n    .catch(err => {\n      this.setState({userAlert: err});\n    });\n}\n\nupdatePatientMedicationHandler = (event) => {\n\n  const token = this.context.token;\n  const userId = this.context.userId;\n  const selectedPatientId = this.context.selectedPatient._id;\n  this.setState({ updating: false , patientUpdateField: null, userAlert: \"Adding selected Patient Medication...\" });\n\n  const medicationTitle = event.target.formGridMedicationTitle.value;\n  const medicationType = event.target.formGridMedicationType.value;\n  const medicationDescription = event.target.formGridMedicationDescription.value;\n  const medicationAttachmentFormat = event.target.formGridMedicationAttachmentFormat.value;\n  const medicationAttachmentPath = \"uploads/patients/\"+selectedPatientId+\"/medication\";\n\n  let medicationAttachmentName = null;\n\n  if (event.target.fileInput.value !== null ||\n      event.target.fileInput.value !== \"\"\n  ) {\n\n    const file = AuthContext._currentValue.file;\n    const config = {\n      bucketName: this.context.creds.s3.bucketName,\n      dirName: medicationAttachmentPath,\n      region: this.context.creds.s3.region,\n      accessKeyId: this.context.creds.s3.accessKeyId,\n      secretAccessKey: this.context.creds.s3.secretAccessKey,\n    }\n    const ReactS3Client = new S3(config);\n    const newFileName = file.name;\n    const medicationAttachmentName = newFileName;\n    this.setState({userAlert: \"uploading attachment ...\"});\n\n    ReactS3Client\n        .uploadFile(file, newFileName)\n        .then(data => {console.log(data);this.setState({userAlert: \"attachment upload success!\"});})\n        .catch(err => {console.error(err);this.setState({userAlert: \"upload error:  \"+err});})\n\n  }\n\n  const requestBody = {\n    query:`\n    mutation {updatePatientMedication(userId:\"${userId}\", patientId:\"${selectedPatientId}\",patientInput:{medicationTitle:\"${medicationTitle}\",medicationType:\"${medicationType}\" medicationDescription:\"${medicationDescription}\",medicationAttachmentName:\"${medicationAttachmentName}\",medicationAttachmentFormat:\"${medicationAttachmentFormat}\",medicationAttachmentPath:\"${medicationAttachmentPath}\"})\n    {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n  }\n\n  fetch('http://localhost:10000/graphql', {\n    method: 'POST',\n    body: JSON.stringify(requestBody),\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: 'Bearer ' + token\n    }\n  })\n    .then(res => {\n      if (res.status !== 200 && res.status !== 201) {\n        throw new Error('Failed!');\n      }\n      return res.json();\n    })\n    .then(resData => {\n      const updatedPatientId = resData.data.updatePatientMedication._id;\n      const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n      const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n      const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n      this.state.patients.push(resData.data.updatePatientMedication);\n      this.context.patients = this.state.patients;\n      const responseAlert = JSON.stringify(resData.data).slice(2,25);\n\n      this.fetchPatients();\n      this.setState({ userAlert: responseAlert, selectedPatient: resData.data.updatePatientMedication })\n    })\n    .catch(err => {\n      this.setState({userAlert: err});\n    });\n\n}\n\n\nupdatePatientInvestigationHandler = (event) => {\n\n  event.preventDefault();\n  const token = this.context.token;\n  const userId = this.context.userId;\n  const selectedPatientId = this.context.selectedPatient._id;\n  this.setState({ updating: false , patientUpdateField: null, userAlert: \"Adding selected Patient Investigation...\" });\n\n  let investigationDate = null;\n  if (event.target.formGridInvestigationDate) {\n    investigationDate = event.target.formGridInvestigationDate.value;\n  }\n  if (event.target.formGridInvestigationDateTodayCheckbox.checked === true) {\n    investigationDate = new Date().toISOString().slice(0,10);\n  }\n  if (\n    event.target.patientInvestigationCalendarDate.value !== null &&\n    event.target.formGridInvestigationDateTodayCheckbox.checked !== true\n  ) {\n    console.log(\"fancyDate2\", new Date(event.target.patientInvestigationCalendarDate.value).toISOString().slice(0,10));\n    investigationDate = new Date(event.target.patientInvestigationCalendarDate.value).toISOString().slice(0,10);\n  }\n\n  const investigationTitle = event.target.formGridInvestigationTitle.value;\n  let investigationType = undefined;\n  if (event.target.formGridInvestigationTypeSelect === \"select\") {\n    investigationType = event.target.formGridInvestigationType.value;\n  } else {\n    investigationType = event.target.formGridInvestigationTypeSelect.value;\n  }\n  const investigationDescription = event.target.formGridInvestigationDescription.value;\n  const investigationAttachmentFormat = event.target.formGridInvestigationAttachmentFormat.value;\n  const investigationAttachmentPath = \"uploads/patients/\"+selectedPatientId+\"/investigation\";\n\n  let investigationAttachmentName = null;\n\n  if (event.target.fileInput.value !== null ||\n      event.target.fileInput.value !== \"\"\n  ) {\n\n    const file = AuthContext._currentValue.file;\n    const config = {\n      bucketName: this.context.creds.s3.bucketName,\n      dirName: investigationAttachmentPath,\n      region: this.context.creds.s3.region,\n      accessKeyId: this.context.creds.s3.accessKeyId,\n      secretAccessKey: this.context.creds.s3.secretAccessKey,\n    }\n    const ReactS3Client = new S3(config);\n    const newFileName = file.name;\n    const investigationAttachmentName = newFileName;\n    this.setState({userAlert: \"uploading attachment ...\"});\n\n    ReactS3Client\n        .uploadFile(file, newFileName)\n        .then(data => {console.log(data);this.setState({userAlert: \"attachment upload success!\"});})\n        .catch(err => {console.error(err);this.setState({userAlert: \"upload error:  \"+err});})\n\n  }\n\n  const requestBody = {\n    query:`\n      mutation {updatePatientInvestigation(userId:\"${userId}\", patientId:\"${selectedPatientId}\",patientInput:{investigationDate:\"${investigationDate}\",investigationTitle:\"${investigationTitle}\",investigationType:\"${investigationType}\",investigationDescription:\"${investigationDescription}\",investigationAttachmentName:\"${investigationAttachmentName}\",investigationAttachmentFormat:\"${investigationAttachmentFormat}\",investigationAttachmentPath:\"${investigationAttachmentPath}\"})\n      {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n  }\n\n  fetch('http://localhost:10000/graphql', {\n    method: 'POST',\n    body: JSON.stringify(requestBody),\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: 'Bearer ' + token\n    }\n  })\n    .then(res => {\n      if (res.status !== 200 && res.status !== 201) {\n        throw new Error('Failed!');\n      }\n      return res.json();\n    })\n    .then(resData => {\n      const updatedPatientId = resData.data.updatePatientInvestigation._id;\n      const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n      const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n      const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n      this.state.patients.push(resData.data.updatePatientInvestigation);\n      this.context.patients = this.state.patients;\n      const responseAlert = JSON.stringify(resData.data).slice(2,25);\n\n      this.fetchPatients();\n      this.setState({ userAlert: responseAlert, selectedPatient: resData.data.updatePatientInvestigation })\n    })\n    .catch(err => {\n      this.setState({userAlert: err});\n    });\n}\n\nupdatePatientDiagnosisHandler = (event) => {\n\n  event.preventDefault();\n  const token = this.context.token;\n  const userId = this.context.userId;\n  const selectedPatientId = this.context.selectedPatient._id;\n  this.setState({ updating: false , patientUpdateField: null, userAlert: \"Adding selected Patient Diagnosis...\" });\n\n  let diagnosisDate = null;\n  if (event.target.formGridDiagnosisDate) {\n    diagnosisDate = event.target.formGridDiagnosisDate.value;\n  }\n  if (event.target.formGridDiagnosisDateTodayCheckbox.checked === true) {\n    diagnosisDate = new Date().toISOString().slice(0,10);\n  }\n  if (\n    event.target.patientDiagnosisCalendarDate.value !== null &&\n    event.target.formGridDiagnosisDateTodayCheckbox.checked !== true\n  ) {\n    console.log(\"fancyDate2\", new Date(event.target.patientDiagnosisCalendarDate.value).toISOString().slice(0,10));\n    diagnosisDate = new Date(event.target.patientDiagnosisCalendarDate.value).toISOString().slice(0,10);\n  }\n\n  const diagnosisTitle = event.target.formGridDiagnosisTitle.value;\n  const diagnosisType = event.target.formGridDiagnosisType.value;\n  const diagnosisDescription = event.target.formGridDiagnosisDescription.value;\n  const diagnosisAttachmentFormat = event.target.formGridDiagnosisAttachmentFormat.value;\n  const diagnosisAttachmentPath = \"uploads/patients/\"+selectedPatientId+\"/diagnosis\";\n\n  let diagnosisAttachmentName = null;\n\n  if (event.target.fileInput.value !== null ||\n      event.target.fileInput.value !== \"\"\n  ) {\n\n    const file = AuthContext._currentValue.file;\n    const config = {\n      bucketName: this.context.creds.s3.bucketName,\n      dirName: diagnosisAttachmentPath,\n      region: this.context.creds.s3.region,\n      accessKeyId: this.context.creds.s3.accessKeyId,\n      secretAccessKey: this.context.creds.s3.secretAccessKey,\n    }\n    const ReactS3Client = new S3(config);\n    const newFileName = file.name;\n    const diagnosisAttachmentName = newFileName;\n    this.setState({userAlert: \"uploading attachment ...\"});\n\n    ReactS3Client\n        .uploadFile(file, newFileName)\n        .then(data => {console.log(data);this.setState({userAlert: \"attachment upload success!\"});})\n        .catch(err => {console.error(err);this.setState({userAlert: \"upload error:  \"+err});})\n\n  }\n\n  const requestBody = {\n    query:`\n      mutation {updatePatientDiagnosis(userId:\"${userId}\", patientId:\"${selectedPatientId}\",patientInput:{diagnosisDate:\"${diagnosisDate}\",diagnosisTitle:\"${diagnosisTitle}\",diagnosisType:\"${diagnosisType}\",diagnosisDescription:\"${diagnosisDescription}\",diagnosisAttachmentName:\"${diagnosisAttachmentName}\",diagnosisAttachmentFormat:\"${diagnosisAttachmentFormat}\",diagnosisAttachmentPath:\"${diagnosisAttachmentPath}\"})\n      {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n  }\n\n  fetch('http://localhost:10000/graphql', {\n    method: 'POST',\n    body: JSON.stringify(requestBody),\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: 'Bearer ' + token\n    }\n  })\n    .then(res => {\n      if (res.status !== 200 && res.status !== 201) {\n        throw new Error('Failed!');\n      }\n      return res.json();\n    })\n    .then(resData => {\n      const updatedPatientId = resData.data.updatePatientDiagnosis._id;\n      const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n      const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n      const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n      this.state.patients.push(resData.data.updatePatientDiagnosis);\n      this.context.patients = this.state.patients;\n      const responseAlert = JSON.stringify(resData.data).slice(2,25);\n\n      this.fetchPatients();\n      this.setState({ userAlert: responseAlert, selectedPatient: resData.data.updatePatientDiagnosis })\n    })\n    .catch(err => {\n      this.setState({userAlert: err});\n    });\n}\n\nupdatePatientTreatmentHandler = (event) => {\n\n  event.preventDefault();\n  const token = this.context.token;\n  const userId = this.context.userId;\n  const selectedPatientId = this.context.selectedPatient._id;\n  this.setState({ updating: false , patientUpdateField: null, userAlert: \"Adding selected Patient Treatment...\" });\n\n  let treatmentDate = null;\n  if (event.target.formGridTreatmentDate) {\n    treatmentDate = event.target.formGridTreatmentDate.value;\n  }\n  if (event.target.formGridTreatmentDateTodayCheckbox.checked === true) {\n    treatmentDate = new Date().toISOString().slice(0,10);\n  }\n  if (\n    event.target.patientTreatmentCalendarDate.value !== null &&\n    event.target.formGridTreatmentDateTodayCheckbox.checked !== true\n  ) {\n    console.log(\"fancyDate2\", new Date(event.target.patientTreatmentCalendarDate.value).toISOString().slice(0,10));\n    treatmentDate = new Date(event.target.patientTreatmentCalendarDate.value).toISOString().slice(0,10);\n  }\n\n  const treatmentTitle = event.target.formGridTreatmentTitle.value;\n  const treatmentDescription = event.target.formGridTreatmentDescription.value;\n  const treatmentDose = event.target.formGridTreatmentDose.value;\n  const treatmentFrequency = event.target.formGridTreatmentFrequency.value;\n  let treatmentType = undefined;\n  if (event.target.formGridInvestigationTypeSelect === \"select\") {\n    treatmentType = event.target.formGridTreatmentType.value;\n  } else {\n    treatmentType = event.target.formGridTreatmentTypeSelect.value;\n  }\n  const treatmentAttachmentFormat = event.target.formGridTreatmentAttachmentFormat.value;\n  const treatmentAttachmentPath = \"uploads/patients/\"+selectedPatientId+\"/treatment\";\n\n  let treatmentAttachmentName = null;\n\n  if (event.target.fileInput.value !== null ||\n      event.target.fileInput.value !== \"\"\n  ) {\n\n    const file = AuthContext._currentValue.file;\n    const config = {\n      bucketName: this.context.creds.s3.bucketName,\n      dirName: treatmentAttachmentPath,\n      region: this.context.creds.s3.region,\n      accessKeyId: this.context.creds.s3.accessKeyId,\n      secretAccessKey: this.context.creds.s3.secretAccessKey,\n    }\n    const ReactS3Client = new S3(config);\n    const newFileName = file.name;\n    const treatmentAttachmentName = newFileName;\n    this.setState({userAlert: \"uploading attachment ...\"});\n\n    ReactS3Client\n        .uploadFile(file, newFileName)\n        .then(data => {console.log(data);this.setState({userAlert: \"attachment upload success!\"});})\n        .catch(err => {console.error(err);this.setState({userAlert: \"upload error:  \"+err});})\n\n  }\n\n\n  const requestBody = {\n    query:`\n      mutation {updatePatientTreatment(userId:\"${userId}\",patientId:\"${selectedPatientId}\",patientInput:{treatmentDate:\"${treatmentDate}\",treatmentTitle:\"${treatmentTitle}\",treatmentType:\"${treatmentType}\",treatmentDescription:\"${treatmentDescription}\",treatmentDose:\"${treatmentDose}\",treatmentFrequency:\"${treatmentFrequency}\",treatmentAttachmentName:\"${treatmentAttachmentName}\",treatmentAttachmentFormat:\"${treatmentAttachmentFormat}\",treatmentAttachmentPath:\"${treatmentAttachmentPath}\"})\n      {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `}\n\n  fetch('http://localhost:10000/graphql', {\n    method: 'POST',\n    body: JSON.stringify(requestBody),\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: 'Bearer ' + token\n    }\n  })\n    .then(res => {\n      if (res.status !== 200 && res.status !== 201) {\n        throw new Error('Failed!');\n      }\n      return res.json();\n    })\n    .then(resData => {\n      const updatedPatientId = resData.data.updatePatientTreatment._id;\n      const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n      const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n      const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n      this.state.patients.push(resData.data.updatePatientTreatment);\n      this.context.patients = this.state.patients;\n      const responseAlert = JSON.stringify(resData.data).slice(2,25);\n\n      this.fetchPatients();\n      this.setState({ userAlert: responseAlert, selectedPatient: resData.data.updatePatientTreatment })\n    })\n    .catch(err => {\n      this.setState({userAlert: err});\n    });\n}\n\nupdatePatientBillingHandler = (event) => {\n\n  event.preventDefault();\n  const token = this.context.token;\n  const userId = this.context.userId;\n  const selectedPatientId = this.context.selectedPatient._id;\n  this.setState({ updating: false , patientUpdateField: null, userAlert: \"Adding selected Patient Billing...\" });\n\n  let billingDate = null;\n  if (event.target.formGridBillingDate !== null ) {\n    billingDate = event.target.formGridBillingDate.value;\n  }\n  if (event.target.formGridBillingDateTodayCheckbox.checked === true) {\n    billingDate = new Date().toISOString().slice(0,10);\n  }\n\n  if (\n    event.target.patientBillingCalendarDate.value !== null &&\n    event.target.formGridBillingDateTodayCheckbox.checked !== true\n  ) {\n    console.log(\"fancyDate2\", new Date(event.target.patientBillingCalendarDate.value).toISOString().slice(0,10));\n    billingDate = new Date(event.target.patientBillingCalendarDate.value).toISOString().slice(0,10);\n  }\n\n  const billingTitle = event.target.formGridBillingTitle.value;\n  const billingType = event.target.formGridBillingType.value;\n  const billingDescription = event.target.formGridBillingDescription.value;\n  const billingAmount = event.target.formGridBillingAmount.value;\n  const billingPaid = event.target.formGridBillingPaid.value;\n  const billingNotes = event.target.formGridBillingNotes.value;\n  const billingAttachmentFormat = event.target.formGridBillingAttachmentFormat.value;\n  const billingAttachmentPath = \"uploads/patients/\"+selectedPatientId+\"/billing\";\n\n  let billingAttachmentName = null;\n\n  if (event.target.fileInput.value !== null ||\n      event.target.fileInput.value !== \"\"\n  ) {\n    const file = AuthContext._currentValue.file;\n\n    const config = {\n      bucketName: this.context.creds.s3.bucketName,\n      dirName: billingAttachmentPath,\n      region: this.context.creds.s3.region,\n      accessKeyId: this.context.creds.s3.accessKeyId,\n      secretAccessKey: this.context.creds.s3.secretAccessKey,\n    }\n    const ReactS3Client = new S3(config);\n    const newFileName = file.name;\n    billingAttachmentName = newFileName;\n\n    this.setState({userAlert: \"uploading attachment ...\"});\n\n    ReactS3Client\n        .uploadFile(file, newFileName)\n        .then(data => {console.log(data);this.setState({userAlert: \"attachment upload success!\"});})\n        .catch(err => {console.error(err);this.setState({userAlert: \"upload error:  \"+err});})\n  }\n\n  const requestBody = {\n    query:`\n      mutation {updatePatientBilling(userId:\"${userId}\", patientId:\"${selectedPatientId}\",patientInput:{billingDate:\"${billingDate}\",billingTitle:\"${billingTitle}\",billingType:\"${billingType}\",billingDescription:\"${billingDescription}\",billingAmount:${billingAmount},billingPaid:${billingPaid},billingNotes:\"${billingNotes}\",billingAttachmentName:\"${billingAttachmentName}\",billingAttachmentFormat:\"${billingAttachmentFormat}\",billingAttachmentPath:\"${billingAttachmentPath}\"})\n      {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n  }\n\n  fetch('http://localhost:10000/graphql', {\n    method: 'POST',\n    body: JSON.stringify(requestBody),\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: 'Bearer ' + token\n    }\n  })\n    .then(res => {\n      if (res.status !== 200 && res.status !== 201) {\n        throw new Error('Failed!');\n      }\n      return res.json();\n    })\n    .then(resData => {\n      const updatedPatientId = resData.data.updatePatientBilling._id;\n      const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n      const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n      const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n      this.state.patients.push(resData.data.updatePatientBilling);\n      this.context.patients = this.state.patients;\n      const responseAlert = JSON.stringify(resData.data).slice(2,25);\n\n      this.fetchPatients();\n      this.setState({ userAlert: responseAlert, selectedPatient: resData.data.updatePatientBilling })\n    })\n    .catch(err => {\n      this.setState({userAlert: err});\n    });\n}\n\nupdatePatientVigilanceHandler = (event) => {\n\n  event.preventDefault();\n  const token = this.context.token;\n  const userId = this.context.userId;\n  const selectedPatientId = this.context.selectedPatient._id;\n  this.setState({ updating: false , patientUpdateField: null, userAlert: \"Adding selected Patient Vigilance...\" });\n\n  let vigilanceDate = null;\n  if (event.target.formGridVigilanceDate) {\n    vigilanceDate = event.target.formGridVigilanceDate.value;\n  }\n  if (event.target.formGridVigilanceDateTodayCheckbox.checked === true) {\n    vigilanceDate = new Date().toISOString().slice(0,10);\n  }\n\n  if (\n    event.target.patientVigilanceCalendarDate.value !== null &&\n    event.target.formGridVigilanceDateTodayCheckbox.checked !== true\n  ) {\n    console.log(\"fancyDate2\", new Date(event.target.patientVigilanceCalendarDate.value).toISOString().slice(0,10));\n    vigilanceDate = new Date(event.target.patientVigilanceCalendarDate.value).toISOString().slice(0,10);\n  }\n\n  const vigilanceChronicIllnessDiabetesMedication = event.target.formGridVigilanceChronicIllnessDiabetesMedication.checked;\n  const vigilanceChronicIllnessDiabetesTesting = event.target.formGridVigilanceChronicIllnessDiabetesTesting.checked;\n  const vigilanceChronicIllnessDiabetesComment = event.target.formGridVigilanceChronicIllnessDiabetesComment.value;\n  const vigilanceChronicIllnessHbpMedication = event.target.formGridVigilanceChronicIllnessHbpMedication.checked;\n  const vigilanceChronicIllnessHbpTesting = event.target.formGridVigilanceChronicIllnessHbpTesting.checked;\n  const vigilanceChronicIllnessHbpComment = event.target.formGridVigilanceChronicIllnessHbpComment.value;\n  const vigilanceChronicIllnessDyslipidemiaMedication = event.target.formGridVigilanceChronicIllnessDyslipidemiaMedication.checked;\n  const vigilanceChronicIllnessDyslipidemiaTesting = event.target.formGridVigilanceChronicIllnessDyslipidemiaTesting.checked;\n  const vigilanceChronicIllnessDyslipidemiaComment = event.target.formGridVigilanceChronicIllnessDyslipidemiaComment.value;\n  const vigilanceChronicIllnessCadMedication = event.target.formGridVigilanceChronicIllnessCadMedication.checked;\n  const vigilanceChronicIllnessCadTesting = event.target.formGridVigilanceChronicIllnessCadTesting.checked;\n  const vigilanceChronicIllnessCadComment = event.target.formGridVigilanceChronicIllnessCadComment.value;\n  const vigilanceLifestyleWeightMedication = event.target.formGridVigilanceLifestyleWeightMedication.checked;\n  const vigilanceLifestyleWeightTesting = event.target.formGridVigilanceLifestyleWeightTesting.checked;\n  const vigilanceLifestyleWeightComment = event.target.formGridVigilanceLifestyleWeightComment.value;\n  const vigilanceLifestyleDietMedication = event.target.formGridVigilanceLifestyleDietMedication.checked;\n  const vigilanceLifestyleDietTesting = event.target.formGridVigilanceLifestyleDietTesting.checked;\n  const vigilanceLifestyleDietComment = event.target.formGridVigilanceLifestyleDietComment.value;\n  const vigilanceLifestyleSmokingMedication = event.target.formGridVigilanceLifestyleSmokingMedication.checked;\n  const vigilanceLifestyleSmokingTesting = event.target.formGridVigilanceLifestyleSmokingTesting.checked;\n  const vigilanceLifestyleSmokingComment = event.target.formGridVigilanceLifestyleSmokingComment.value;\n  const vigilanceLifestyleSubstanceAbuseMedication = event.target.formGridVigilanceLifestyleSubstanceAbuseMedication.checked;\n  const vigilanceLifestyleSubstanceAbuseTesting = event.target.formGridVigilanceLifestyleSubstanceAbuseTesting.checked;\n  const vigilanceLifestyleSubstanceAbuseComment = event.target.formGridVigilanceLifestyleSubstanceAbuseComment.value;\n  const vigilanceLifestyleExerciseMedication = event.target.formGridVigilanceLifestyleExerciseMedication.checked;\n  const vigilanceLifestyleExerciseTesting = event.target.formGridVigilanceLifestyleExerciseTesting.checked;\n  const vigilanceLifestyleExerciseComment = event.target.formGridVigilanceLifestyleExerciseComment.value;\n  const vigilanceLifestyleAllergiesMedication = event.target.formGridVigilanceLifestyleAllergiesMedication.checked;\n  const vigilanceLifestyleAllergiesTesting = event.target.formGridVigilanceLifestyleAllergiesTesting.checked;\n  const vigilanceLifestyleAllergiesComment = event.target.formGridVigilanceLifestyleAllergiesComment.value;\n  const vigilanceLifestyleAsthmaMedication = event.target.formGridVigilanceLifestyleAsthmaMedication.checked;\n  const vigilanceLifestyleAsthmaTesting = event.target.formGridVigilanceLifestyleAsthmaTesting.checked;\n  const vigilanceLifestyleAsthmaComment = event.target.formGridVigilanceLifestyleAsthmaComment.value;\n  const vigilanceScreeningBreastMedication = event.target.formGridVigilanceScreeningBreastMedication.checked;\n  const vigilanceScreeningBreastTesting = event.target.formGridVigilanceScreeningBreastTesting.checked;\n  const vigilanceScreeningBreastComment = event.target.formGridVigilanceScreeningBreastComment.value;\n  const vigilanceScreeningProstateMedication = event.target.formGridVigilanceScreeningProstateMedication.checked;\n  const vigilanceScreeningProstateTesting = event.target.formGridVigilanceScreeningProstateTesting.checked;\n  const vigilanceScreeningProstateComment = event.target.formGridVigilanceScreeningProstateComment.value;\n  const vigilanceScreeningCervixMedication = event.target.formGridVigilanceScreeningCervixMedication.checked;\n  const vigilanceScreeningCervixTesting = event.target.formGridVigilanceScreeningCervixTesting.checked;\n  const vigilanceScreeningCervixComment = event.target.formGridVigilanceScreeningCervixComment.value;\n  const vigilanceScreeningColonMedication = event.target.formGridVigilanceScreeningColonMedication.checked;\n  const vigilanceScreeningColonTesting = event.target.formGridVigilanceScreeningColonTesting.checked;\n  const vigilanceScreeningColonComment = event.target.formGridVigilanceScreeningColonComment.value;\n  const vigilanceScreeningDentalMedication = event.target.formGridVigilanceScreeningDentalMedication.checked;\n  const vigilanceScreeningDentalTesting = event.target.formGridVigilanceScreeningDentalTesting.checked;\n  const vigilanceScreeningDentalComment = event.target.formGridVigilanceScreeningDentalComment.value;\n  const vigilanceVaccinesInfluenzaMedication = event.target.formGridVigilanceVaccinesInfluenzaMedication.checked;\n  const vigilanceVaccinesInfluenzaTesting = event.target.formGridVigilanceVaccinesInfluenzaTesting.checked;\n  const vigilanceVaccinesInfluenzaComment = event.target.formGridVigilanceVaccinesInfluenzaComment.value;\n  const vigilanceVaccinesVaricellaMedication = event.target.formGridVigilanceVaccinesVaricellaMedication.checked;\n  const vigilanceVaccinesVaricellaTesting = event.target.formGridVigilanceVaccinesVaricellaTesting.checked;\n  const vigilanceVaccinesVaricellaComment = event.target.formGridVigilanceVaccinesVaricellaComment.value;\n  const vigilanceVaccinesHpvMedication = event.target.formGridVigilanceVaccinesHpvMedication.checked;\n  const vigilanceVaccinesHpvTesting = event.target.formGridVigilanceVaccinesHpvTesting.checked;\n  const vigilanceVaccinesHpvComment = event.target.formGridVigilanceVaccinesHpvComment.value;\n  const vigilanceVaccinesMmrMedication = event.target.formGridVigilanceVaccinesMmrMedication.checked;\n  const vigilanceVaccinesMmrTesting = event.target.formGridVigilanceVaccinesMmrTesting.checked;\n  const vigilanceVaccinesMmrComment = event.target.formGridVigilanceVaccinesMmrComment.value;\n  const vigilanceVaccinesTetanusMedication = event.target.formGridVigilanceVaccinesTetanusMedication.checked;\n  const vigilanceVaccinesTetanusTesting = event.target.formGridVigilanceVaccinesTetanusTesting.checked;\n  const vigilanceVaccinesTetanusComment = event.target.formGridVigilanceVaccinesTetanusComment.value;\n  const vigilanceVaccinesPneumovaxMedication = event.target.formGridVigilanceVaccinesPneumovaxMedication.checked;\n  const vigilanceVaccinesPneumovaxTesting = event.target.formGridVigilanceVaccinesPneumovaxTesting.checked;\n  const vigilanceVaccinesPneumovaxComment = event.target.formGridVigilanceVaccinesPneumovaxComment.value;\n  const vigilanceVaccinesOtherName = event.target.formGridVigilanceVaccinesOtherName.value;\n  const vigilanceVaccinesOtherMedication = event.target.formGridVigilanceVaccinesOtherMedication.checked;\n  const vigilanceVaccinesOtherTesting = event.target.formGridVigilanceVaccinesOtherTesting.checked;\n  const vigilanceVaccinesOtherComment = event.target.formGridVigilanceVaccinesOtherComment.value;\n  const requestBody = {\n    query:`\n      mutation {updatePatientVigilance(userId:\"${userId}\", patientId:\"${selectedPatientId}\",patientInput:{\n        vigilanceDate:\"${vigilanceDate}\",\n        vigilanceChronicIllnessDiabetesMedication: ${vigilanceChronicIllnessDiabetesMedication},\n        vigilanceChronicIllnessDiabetesTesting: ${vigilanceChronicIllnessDiabetesTesting},\n        vigilanceChronicIllnessDiabetesComment: \"${vigilanceChronicIllnessDiabetesComment}\",\n        vigilanceChronicIllnessHbpMedication: ${vigilanceChronicIllnessHbpMedication},\n        vigilanceChronicIllnessHbpTesting: ${vigilanceChronicIllnessHbpTesting},\n        vigilanceChronicIllnessHbpComment: \"${vigilanceChronicIllnessHbpComment}\",\n        vigilanceChronicIllnessDyslipidemiaMedication: ${vigilanceChronicIllnessDyslipidemiaMedication},\n        vigilanceChronicIllnessDyslipidemiaTesting: ${vigilanceChronicIllnessDyslipidemiaTesting},\n        vigilanceChronicIllnessDyslipidemiaComment: \"${vigilanceChronicIllnessDyslipidemiaComment}\",\n        vigilanceChronicIllnessCadMedication: ${vigilanceChronicIllnessCadMedication},\n        vigilanceChronicIllnessCadTesting: ${vigilanceChronicIllnessCadTesting},\n        vigilanceChronicIllnessCadComment: \"${vigilanceChronicIllnessCadComment}\",\n        vigilanceLifestyleWeightMedication: ${vigilanceLifestyleWeightMedication},\n        vigilanceLifestyleWeightTesting: ${vigilanceLifestyleWeightTesting},\n        vigilanceLifestyleWeightComment: \"${vigilanceLifestyleWeightComment}\",\n        vigilanceLifestyleDietMedication: ${vigilanceLifestyleDietMedication},\n        vigilanceLifestyleDietTesting: ${vigilanceLifestyleDietTesting},\n        vigilanceLifestyleDietComment: \"${vigilanceLifestyleDietComment}\",\n        vigilanceLifestyleSmokingMedication: ${vigilanceLifestyleSmokingMedication},\n        vigilanceLifestyleSmokingTesting: ${vigilanceLifestyleSmokingTesting},\n        vigilanceLifestyleSmokingComment: \"${vigilanceLifestyleSmokingComment}\",\n        vigilanceLifestyleSubstanceAbuseMedication: ${vigilanceLifestyleSubstanceAbuseMedication},\n        vigilanceLifestyleSubstanceAbuseTesting: ${vigilanceLifestyleSubstanceAbuseTesting},\n        vigilanceLifestyleSubstanceAbuseComment: \"${vigilanceLifestyleSubstanceAbuseComment}\",\n        vigilanceLifestyleExerciseMedication: ${vigilanceLifestyleExerciseMedication},\n        vigilanceLifestyleExerciseTesting: ${vigilanceLifestyleExerciseTesting},\n        vigilanceLifestyleExerciseComment: \"${vigilanceLifestyleExerciseComment}\",\n        vigilanceLifestyleAllergiesMedication: ${vigilanceLifestyleAllergiesMedication},\n        vigilanceLifestyleAllergiesTesting: ${vigilanceLifestyleAllergiesTesting},\n        vigilanceLifestyleAllergiesComment: \"${vigilanceLifestyleAllergiesComment}\",\n        vigilanceLifestyleAsthmaMedication: ${vigilanceLifestyleAsthmaMedication},\n        vigilanceLifestyleAsthmaTesting: ${vigilanceLifestyleAsthmaTesting},\n        vigilanceLifestyleAsthmaComment: \"${vigilanceLifestyleAsthmaComment}\",\n        vigilanceScreeningBreastMedication: ${vigilanceScreeningBreastMedication},\n        vigilanceScreeningBreastTesting: ${vigilanceScreeningBreastTesting},\n        vigilanceScreeningBreastComment: \"${vigilanceScreeningBreastComment}\",\n        vigilanceScreeningProstateMedication: ${vigilanceScreeningProstateMedication},\n        vigilanceScreeningProstateTesting: ${vigilanceScreeningProstateTesting},\n        vigilanceScreeningProstateComment: \"${vigilanceScreeningProstateComment}\",\n        vigilanceScreeningCervixMedication: ${vigilanceScreeningCervixMedication},\n        vigilanceScreeningCervixTesting: ${vigilanceScreeningCervixTesting},\n        vigilanceScreeningCervixComment: \"${vigilanceScreeningCervixComment}\",\n        vigilanceScreeningColonMedication: ${vigilanceScreeningColonMedication},\n        vigilanceScreeningColonTesting: ${vigilanceScreeningColonTesting},\n        vigilanceScreeningColonComment: \"${vigilanceScreeningColonComment}\",\n        vigilanceScreeningDentalMedication: ${vigilanceScreeningDentalMedication},\n        vigilanceScreeningDentalTesting: ${vigilanceScreeningDentalTesting},\n        vigilanceScreeningDentalComment: \"${vigilanceScreeningDentalComment}\",\n        vigilanceVaccinesInfluenzaMedication: ${vigilanceVaccinesInfluenzaMedication},\n        vigilanceVaccinesInfluenzaTesting: ${vigilanceVaccinesInfluenzaTesting},\n        vigilanceVaccinesInfluenzaComment: \"${vigilanceVaccinesInfluenzaComment}\",\n        vigilanceVaccinesVaricellaMedication: ${vigilanceVaccinesVaricellaMedication},\n        vigilanceVaccinesVaricellaTesting: ${vigilanceVaccinesVaricellaTesting},\n        vigilanceVaccinesVaricellaComment: \"${vigilanceVaccinesVaricellaComment}\",\n        vigilanceVaccinesHpvMedication: ${vigilanceVaccinesHpvMedication},\n        vigilanceVaccinesHpvTesting: ${vigilanceVaccinesHpvTesting},\n        vigilanceVaccinesHpvComment: \"${vigilanceVaccinesHpvComment}\",\n        vigilanceVaccinesMmrMedication: ${vigilanceVaccinesMmrMedication},\n        vigilanceVaccinesMmrTesting: ${vigilanceVaccinesMmrTesting},\n        vigilanceVaccinesMmrComment: \"${vigilanceVaccinesMmrComment}\",\n        vigilanceVaccinesTetanusMedication: ${vigilanceVaccinesTetanusMedication},\n        vigilanceVaccinesTetanusTesting: ${vigilanceVaccinesTetanusTesting},\n        vigilanceVaccinesTetanusComment: \"${vigilanceVaccinesTetanusComment}\",\n        vigilanceVaccinesPneumovaxMedication: ${vigilanceVaccinesPneumovaxMedication},\n        vigilanceVaccinesPneumovaxTesting: ${vigilanceVaccinesPneumovaxTesting},\n        vigilanceVaccinesPneumovaxComment: \"${vigilanceVaccinesPneumovaxComment}\",\n        vigilanceVaccinesOtherName: \"${vigilanceVaccinesOtherName}\",\n        vigilanceVaccinesOtherMedication: ${vigilanceVaccinesOtherMedication},\n        vigilanceVaccinesOtherTesting: ${vigilanceVaccinesOtherTesting},\n        vigilanceVaccinesOtherComment: \"${vigilanceVaccinesOtherComment}\"})\n        {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n    }\n\n    fetch('http://localhost:10000/graphql', {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + token\n      }\n    })\n      .then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n        return res.json();\n      })\n      .then(resData => {\n        const updatedPatientId = resData.data.updatePatientVigilance._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.updatePatientVigilance);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2,25);\n\n        this.fetchPatients();\n        this.setState({ userAlert: responseAlert, selectedPatient: resData.data.updatePatientVigilance })\n      })\n      .catch(err => {\n        this.setState({userAlert: err});\n      });\n}\n\nupdatePatientAttachmentHandler = (event) => {\n\n    const token = this.context.token;\n    const userId = this.context.userId;\n    const selectedPatientId = this.context.selectedPatient._id;\n    this.setState({ updating: false , patientUpdateField: null, userAlert: \"Adding selected Patient Attachment...\" });\n    const attachmentFormat = event.target.formGridPatientAttachmentFormat.value;\n    const attachmentPath = \"uploads/patients/\"+selectedPatientId+\"/attachments\"\n\n    let attachmentName = null;\n\n    if (event.target.fileInput.value !== null ||\n        event.target.fileInput.value !== \"\"\n    ) {\n      let file = AuthContext._currentValue.file;\n\n      const config = {\n        bucketName: this.context.creds.s3.bucketName,\n        dirName: attachmentPath,\n        region: this.context.creds.s3.region,\n        accessKeyId: this.context.creds.s3.accessKeyId,\n        secretAccessKey: this.context.creds.s3.secretAccessKey,\n      }\n      const ReactS3Client = new S3(config);\n      const newFileName = file.name;\n      attachmentName = newFileName;\n      this.setState({userAlert: \"uploading attachment ...\"});\n\n      ReactS3Client\n          .uploadFile(file, newFileName)\n          .then(data => {console.log(data);this.setState({userAlert: \"attachment upload success!\"});})\n          .catch(err => {console.error(err);this.setState({userAlert: \"upload error:  \"+err});})\n    }\n\n\n    if (\n      attachmentName.trim().length === 0 ||\n      attachmentFormat.trim().length === 0 ||\n      attachmentPath.trim().length === 0\n    ) {\n      this.setState({userAlert: \"blank fields detected!!!...Please try again...\"});\n      return;\n    }\n\n    const requestBody = {\n          query:`\n            mutation {updatePatientAttachment(userId:\"${userId}\",patientId:\"${selectedPatientId}\",patientInput:{attachmentName:\"${attachmentName}\",attachmentFormat:\"${attachmentFormat}\",attachmentPath:\"${attachmentPath}\"})\n            {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},attachments{name,format,path},notes,tags}}\n          `}\n\n    fetch('http://localhost:10000/graphql', {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + token\n      }\n    })\n    .then(res => {\n      if (res.status !== 200 && res.status !== 201) {\n        throw new Error('Failed!');\n      }\n      return res.json();\n    })\n    .then(resData => {\n      const updatedPatientId = resData.data.updatePatientAttachment._id;\n      const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n      const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n      const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n      this.state.patients.push(resData.data.updatePatientAttachment);\n      this.context.patients = this.state.patients;\n      const responseAlert = JSON.stringify(resData.data).slice(2,25);\n\n      this.fetchPatients();\n      this.setState({ userAlert: responseAlert, selectedPatient: resData.data.updatePatientAttachment })\n    })\n    .catch(err => {\n      this.setState({userAlert: err});\n    });\n}\n\nupdatePatientNoteHandler = (event) => {\n\n  const token = this.context.token;\n  const userId = this.context.userId;\n  const selectedPatientId = this.context.selectedPatient._id;\n  this.setState({ updating: false , patientUpdateField: null, userAlert: \"Adding selected Patient Note ...\" });\n\n  const note = event.target.formGridNote.value;\n\n  if (\n    note.trim().length === 0\n  ) {\n    this.setState({userAlert: \"Can't Submit a blank form!!!...Please try again...\"});\n    return;\n  }\n\n  const requestBody = {\n        query:`\n          mutation {updatePatientNotes(userId:\"${userId}\",patientId:\"${selectedPatientId}\",patientInput:{notes:\"${note}\"})\n          {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n      `}\n\n  fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      })\n      .then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n        return res.json();\n      })\n      .then(resData => {\n        const updatedPatientId = resData.data.updatePatientNotes._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.updatePatientNotes);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2,25);\n\n        this.fetchPatients();\n        this.setState({ userAlert: responseAlert, selectedPatient: resData.data.updatePatientNotes })\n      })\n      .catch(err => {\n        this.setState({userAlert: err});\n      });\n\n}\nupdatePatientTagHandler = (event) => {\n\n  const token = this.context.token;\n  const userId = this.context.userId;\n  const selectedPatientId = this.context.selectedPatient._id;\n  this.setState({ updating: false , patientUpdateField: null, userAlert: \"Adding selected Patient Tag...\" });\n  const tag = event.target.formGridTag.value;\n\n  if (\n    tag.trim().length === 0\n  ) {\n    console.log(\"Can't Submit a blank form!!!...Please try again...\");\n    this.setState({userAlert: \"Can't Submit a blank form!!!...Please try again...\"});\n    return;\n  }\n\n  const requestBody = {\n        query:`\n          mutation {updatePatientTags(userId:\"${userId}\",patientId:\"${selectedPatientId}\",patientInput:{tag:\"${tag}\"})\n          {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n      `}\n\n  fetch('http://localhost:10000/graphql', {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + token\n      }\n    })\n    .then(res => {\n      if (res.status !== 200 && res.status !== 201) {\n        throw new Error('Failed!');\n      }\n      return res.json();\n    })\n    .then(resData => {\n      const updatedPatientId = resData.data.updatePatientTags._id;\n      const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n      const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n      const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n      this.state.patients.push(resData.data.updatePatientTags);\n      this.context.patients = this.state.patients;\n      const responseAlert = JSON.stringify(resData.data).slice(2,25);\n      this.fetchPatients();\n      this.setState({ userAlert: responseAlert, selectedPatient: resData.data.updatePatientTags })\n    })\n    .catch(err => {\n      this.setState({userAlert: err});\n    });\n}\n\n\nmodalConfirmSearchHandler = (event) => {\n\n  const userId = this.context.userId;\n  const token = this.context.token;\n  this.setState({ searching: false, userAlert: \"Now Searching Patients...\" });\n  let field = null;\n  const query = event.target.formBasicQuery.value;\n  if (event.target.formBasicFieldSelect.value === \"select\") {\n    field = event.target.formBasicField.value;\n  } else {\n    field = event.target.formBasicFieldSelect.value;\n  }\n  this.setState({\n    patientSearchField: field,\n    patientSearchQuery: query,\n  })\n  if (\n    field.trim().length === 0 ||\n    query.trim().length === 0\n  ) {\n    this.setState({ userAlert: \"blank fields detected!!!...Please try again...\"});\n    return;\n  }\n\n  const requestBody = {\n    query: `\n      query {\n        getPatientField(userId: \"${userId}\", field: \"${field}\", query: \"${query}\" )\n        {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `\n    }\n\n  fetch('http://localhost:10000/graphql', {\n    method: 'POST',\n    body: JSON.stringify(requestBody),\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: 'Bearer ' + token\n    }\n  })\n    .then(res => {\n      if (res.status !== 200 && res.status !== 201) {\n        throw new Error('Failed!');\n      }\n      return res.json();\n    })\n    .then(resData => {\n      const responseAlert = JSON.stringify(resData.data).slice(2,15);\n      const searchPatients = resData.data.getPatientField;\n      this.setState({ searchPatients: searchPatients, userAlert: responseAlert})\n      // this.fetchPatients();\n    })\n    .catch(err => {\n      this.setState({userAlert: err});\n    });\n}\n\nmodalConfirmSearchIdHandler = (event) => {\n\n  const userId = this.context.userId;\n  this.setState({ searching: false, userAlert: \"Searching Patients by Id...\" });\n  const patientId = event.target.formBasicId.value;\n\n  const requestBody = {\n    query: `\n      query {getPatientId(userId:\"${userId}\",patientId:\"${patientId}\")\n      {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `}\n\n  const token = this.context.token;\n\n  fetch('http://localhost:10000/graphql', {\n    method: 'POST',\n    body: JSON.stringify(requestBody),\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: 'Bearer ' + token\n    }\n  })\n    .then(res => {\n      if (res.status !== 200 && res.status !== 201) {\n        throw new Error('Failed!');\n      }\n      return res.json();\n    })\n    .then(resData => {\n      const responseAlert = JSON.stringify(resData.data).slice(2,25);\n      const searchPatients = resData.data.getPatientId;\n      this.setState({ searchPatients: [searchPatients], userAlert: responseAlert})\n      console.log(\"state.searchPatients:  \", this.state.searchPatients);\n      // this.fetchUsers();\n    })\n    .catch(err => {\n      this.setState({userAlert: err});\n    });\n}\n\nmodalConfirmSearchNameHandler = (event) => {\n\n  this.setState({ searching: false, userAlert: \"Searching Patients by Name...\" });\n  const patients = this.state.patients;\n  const regex = new RegExp(event.target.formBasicName.value,\"i\");\n    let result = patients.filter(patient => patient.name.match(regex));\n    this.setState({ searchPatients: result})\n}\n\ngetPatientVisit = (event) => {\n\n    const selectedPatient = this.state.selectedPatient;\n    event.preventDefault();\n    let visitDate = new Date(event.target.formBasicVisitDate.value).toISOString().substring(0, 10);\n    let visitSurveys = selectedPatient.surveys.filter(x=> new Date(x.date.substr(0,10)*1000).toISOString().substring(0, 10) === visitDate);\n    let visitConsultants = selectedPatient.consultant.filter(x=> new Date(x.date.substr(0,10)*1000).toISOString().substring(0, 10) === visitDate);\n    let visitComplaints = selectedPatient.complaints.filter(x=> new Date(x.date.substr(0,10)*1000).toISOString().substring(0, 10) === visitDate);\n    // let visitSurveys = selectedPatient.surveys.filter(x=> new Date(x.date.substr(0,10)*1000).toISOString() === visitDate);\n    let visitSystematicInquiry = selectedPatient.systematicInquiry.filter(x=> new Date(x.date.substr(0,10)*1000).toISOString().substring(0, 10) === visitDate);\n    let visitVitals = selectedPatient.vitals.filter(x=> new Date(x.date.substr(0,10)*1000).toISOString().substring(0, 10) === visitDate);\n    let visitExaminations = selectedPatient.examination.filter(x=> new Date(x.date.substr(0,10)*1000).toISOString().substring(0, 10) === visitDate);\n    let visitHistory = selectedPatient.history.filter(x=> new Date(x.date.substr(0,10)*1000).toISOString().substring(0, 10) === visitDate);\n    let visitInvestigations = selectedPatient.investigation.filter(x=> new Date(x.date.substr(0,10)*1000).toISOString().substring(0, 10) === visitDate);\n    let visitDiagnosis = selectedPatient.diagnosis.filter(x=> new Date(x.date.substr(0,10)*1000).toISOString().substring(0, 10) === visitDate);\n    let visitTreatments = selectedPatient.treatment.filter(x=> new Date(x.date.substr(0,10)*1000).toISOString().substring(0, 10) === visitDate);\n    let visitBilling = selectedPatient.billing.filter(x=> new Date(x.date.substr(0,10)*1000).toISOString().substring(0, 10) === visitDate);\n    let visitVigilance = selectedPatient.vigilance.filter(x=> new Date(x.date.substr(0,10)*1000).toISOString().substring(0, 10) === visitDate);\n\n      const visit = {\n        date: visitDate,\n        patientName: this.context.selectedPatient.name,\n        consultant: visitConsultants,\n        complaint: visitComplaints,\n        examination: visitExaminations,\n        survey: visitSurveys,\n        systematicInquiry: visitSystematicInquiry,\n        vitals: visitVitals,\n        history: visitHistory,\n        investigation: visitInvestigations,\n        diagnosis: visitDiagnosis,\n        treatment: visitTreatments,\n        billing: visitBilling,\n        vigilance: visitVigilance,\n      };\n    this.setState({visit: visit});\n  }\n\n  getVisitList = () => {\n\n    const selectedPatient = this.state.selectedPatient;\n    const patientName = this.state.selectedPatient.name;\n    let selectedPatientAppointmentDateArray = [];\n    let selectedPatientAppointmentVisitArray = [];\n    let selectedPatientAppointments = this.state.selectedPatient.appointments.map(appointments => {\n      selectedPatientAppointmentDateArray.push(new Date(appointments.date.substr(0,10)*1000).toISOString().substring(0, 10))\n    })\n\n      selectedPatientAppointmentDateArray.map(appointmentDate => {\n          thisGetVisit(appointmentDate, patientName)\n      })\n      function thisGetVisit (argsDate, argsPatientName) {\n\n        const visitDate = argsDate\n        const visitSurveys = selectedPatient.surveys.filter(x=> new Date(x.date.substr(0,10)*1000).toISOString().substring(0, 10) === visitDate);\n        const visitConsultants = selectedPatient.consultant.filter(x=> new Date(x.date.substr(0,10)*1000).toISOString().substring(0, 10) === visitDate);\n        const visitComplaints = selectedPatient.complaints.filter(x=> new Date(x.date.substr(0,10)*1000).toISOString().substring(0, 10) === visitDate);\n        // let visitSurveys = selectedPatient.surveys.filter(x=> new Date(x.date.substr(0,10)*1000).toISOString() === visitDate);\n        const visitVitals = selectedPatient.vitals.filter(x=> new Date(x.date.substr(0,10)*1000).toISOString().substring(0, 10) === visitDate);\n        const visitSystematicInquiry = selectedPatient.systematicInquiry.filter(x=> new Date(x.date.substr(0,10)*1000).toISOString().substring(0, 10) === visitDate);\n        const visitExaminations = selectedPatient.examination.filter(x=> new Date(x.date.substr(0,10)*1000).toISOString().substring(0, 10) === visitDate);\n        const visitHistory = selectedPatient.history.filter(x=> new Date(x.date.substr(0,10)*1000).toISOString().substring(0, 10) === visitDate);\n        const visitInvestigations = selectedPatient.investigation.filter(x=> new Date(x.date.substr(0,10)*1000).toISOString().substring(0, 10) === visitDate);\n        const visitDiagnosis = selectedPatient.diagnosis.filter(x=> new Date(x.date.substr(0,10)*1000).toISOString().substring(0, 10) === visitDate);\n        const visitTreatments = selectedPatient.treatment.filter(x=> new Date(x.date.substr(0,10)*1000).toISOString().substring(0, 10) === visitDate);\n        const visitBilling = selectedPatient.billing.filter(x=> new Date(x.date.substr(0,10)*1000).toISOString().substring(0, 10) === visitDate);\n        const visitVigilance = selectedPatient.vigilance.filter(x=> new Date(x.date.substr(0,10)*1000).toISOString().substring(0, 10) === visitDate);\n\n        const visit = {\n          date: visitDate,\n          patientName: argsPatientName,\n          consultant: visitConsultants,\n          complaint: visitComplaints,\n          examination: visitExaminations,\n          survey: visitSurveys,\n          systematicInquiry: visitSystematicInquiry,\n          vitals: visitVitals,\n          history: visitHistory,\n          investigation: visitInvestigations,\n          diagnosis: visitDiagnosis,\n          treatment: visitTreatments,\n          billing: visitBilling,\n          vigilance: visitVigilance,\n        };\n        selectedPatientAppointmentVisitArray.push(visit)\n      }\n    this.setState({ visitList: selectedPatientAppointmentVisitArray})\n}\n\n\ngetVisitListAsc = () => {\n    let list = this.state.visitList;\n    list.sort((a, b) => {\n      if (a.date < b.date) return -1\n      return a.date > b.date ? 1 : 0\n    })\n    this.setState({visitList: list})\n}\n\ngetVisitListDesc = () => {\n    let list = this.state.visitList;\n    list.sort((a, b) => {\n      if (a.date < b.date) return 1\n      return a.date > b.date ? -1 : 0\n    })\n    this.setState({visitList: list})\n}\n\n\n  modalCancelHandler = () => {\n    this.setState({ creating: false, updating: false, searching: false, selectedPatient: null });\n  };\n\n  getCreds() {\n    console.log(\"get creds\");\n    // this.setState({ isLoading: true });\n    const requestBody = {\n      query: `\n      query {getCreds\n        {atlas{user,pw,db},s3{bucketName,region,accessKeyId,secretAccessKey},jwt{encode},gdrive{clientId,developerKey}}}\n        `};\n\n    fetch('http://localhost:10000/graphql', {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + this.context.token\n      }})\n      .then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n        return res.json();\n      })\n      .then(resData => {\n        const creds = resData.data.getCreds;\n          this.setState({ creds: creds });\n          // this.context.creds = creds;\n      })\n      .catch(err => {\n        this.setState({userAlert: err});\n      });\n  }\n\n  fetchPatients() {\n\n    const userId = this.context.userId;\n    const token = this.context.token;\n    this.setState({ isLoading: true, userAlert: \"Fetching Patient Master List...\" });\n    const requestBody = {\n      query: `\n          query {patients(userId:\"${userId}\")\n          {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n        `\n      };\n\n    fetch('http://localhost:10000/graphql', {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + token\n      }\n    })\n      .then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n        return res.json();\n      })\n      .then(resData => {\n        const patients = resData.data.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2,25);\n        this.setState({userAlert: responseAlert});\n        this.context.patients = this.state.patients;\n        if (this.isActive) {\n          this.setState({\n            patients: patients,\n            isLoading: false,\n          });\n        }\n      })\n      .catch(err => {\n        this.setState({userAlert: err});\n        if (this.isActive) {\n          this.setState({ isLoading: false });\n        }\n    });\n  }\n\n  fetchPatientsAsc = () => {\n    const userId = this.context.userId;\n    const token = this.context.token;\n\n    // this.setState({ isLoading: true });\n    const requestBody = {\n      query: `\n          query {patientsNameAsc(userId:\"${userId}\")\n          {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n        `\n    };\n\n    fetch('http://localhost:10000/graphql', {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + token\n      }\n    })\n      .then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n        return res.json();\n      })\n      .then(resData => {\n        const patients = resData.data.patientsNameAsc;\n        const responseAlert = JSON.stringify(resData.data).slice(2,25);\n        this.setState({userAlert: responseAlert});\n        this.context.patients = patients;\n        this.setState({ patients: patients});\n        // if (this.isActive) {\n        //   this.setState({ patients: patients, isLoading: false });\n        // }\n      })\n      .catch(err => {\n        this.setState({userAlert: err});\n        // if (this.isActive) {\n        //   this.setState({ isLoading: false });\n        // }\n      });\n  }\n\n  fetchPatientsDesc = () => {\n    const userId = this.context.userId;\n    const token = this.context.token;\n    // this.setState({ isLoading: true });\n    const requestBody = {\n      query: `\n          query {patientsNameDesc(userId:\"${userId}\")\n          {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n        `\n    };\n\n    fetch('http://localhost:10000/graphql', {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + token\n      }\n    })\n      .then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n        return res.json();\n      })\n      .then(resData => {\n        const patients = resData.data.patientsNameDesc;\n        const responseAlert = JSON.stringify(resData.data).slice(2,25);\n        this.setState({userAlert: responseAlert});\n        this.context.patients = patients\n        // if (this.isActive) {\n        //   this.setState({ patients: patients, isLoading: false });\n        // }\n        this.setState({ patients: patients});\n      })\n      .catch(err => {\n        this.setState({userAlert: err});\n        // if (this.isActive) {\n        //   this.setState({ isLoading: false });\n        // }\n      });\n  }\n\n\n  modalDeleteHandler = () => {\n\n    const selectedPatientId = this.context.selectedPatient._id;\n    const userId = this.context.selectedUser._id;\n    if(this.context.user.role !== 'admin') {\n      this.setState({ userAlert: \"Not the Admin! No edit permission!!\"});\n    }\n    this.setState({deleting: true, userAlert: \"Deleting selected Patient...\"});\n    const requestBody = {\n      query: `\n          mutation {deletePatient(userId:\"${userId}\",patientId:\"${selectedPatientId}\")\n          {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n        `\n    };\n\n    fetch('http://localhost:10000/graphql', {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + this.context.token\n      }\n    })\n    .then(res => {\n      if (res.status !== 200 && res.status !== 201) {\n        throw new Error('Failed!');\n      }\n      return res.json();\n    })\n    .then(resData => {\n      let deletedPatient = resData.data.deletePatient;\n      const responseAlert = JSON.stringify(resData.data).slice(2,25);\n      this.setState({userAlert: responseAlert});\n      let deletedPatientId = deletedPatient._id;\n      deletedPatient = this.state.patients.find(e => e._id === deletedPatientId);\n      const deletedPatientPos = this.state.patients.indexOf(deletedPatient);\n      const slicedArray = this.state.patients.splice(deletedPatientPos, 1);\n      this.setState({ deleting: false });\n      this.fetchPatients();\n    })\n    .catch(err => {\n      this.setState({userAlert: err});\n      if (this.isActive) {\n        this.setState({ deleting: false });\n      }\n    });\n  }\n\n  deletePatientInsuranceItem = (props) => {\n\n    const token = this.context.token;\n    const userId = this.context.userId;\n    const patientId = this.state.selectedPatient._id;\n\n    const requestBody = {\n      query: `\n       mutation {deletePatientInsurance (userId:\"${userId}\", patientId:\"${patientId}\",insuranceCompany:\"${props.company}\",insuranceNumber:\"${props.number}\")\n       {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `};\n\n    fetch('http://localhost:10000/graphql', {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + token\n      }\n    })\n    .then(res => {\n      if (res.status !== 200 && res.status !== 201) {\n        throw new Error('Failed!');\n      }\n      return res.json();\n    })\n    .then(resData => {\n      let deletedPatient = resData.data.deletePatientInsurance;\n      const updatedPatientId = resData.data.deletePatientInsurance._id;\n      const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n      const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n      const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n      this.state.patients.push(resData.data.deletePatientInsurance);\n      this.context.patients = this.state.patients;\n      const responseAlert = JSON.stringify(resData.data).slice(2,25);\n      this.setState({ userAlert: responseAlert})\n      this.fetchPatients();\n    })\n    .catch(err => {\n      this.setState({ userAlert: err});\n    });\n  }\n\n  deletePatientAppointmentItem = (props) => {\n\n    const token = this.context.token;\n    const userId = this.context.userId;\n    const patientId = this.state.selectedPatient._id;\n    const date = new Date(props.date.substr(0,10)*1000).toISOString().slice(0,10);\n    const requestBody = {\n        query: `\n         mutation {deletePatientAppointment (userId:\"${userId}\", patientId:\"${patientId}\",appointmentId:\"${props._id}\",appointmentDate:\"${date}\")\n         {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n      `};\n\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      })\n      .then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n        return res.json();\n      })\n      .then(resData => {\n        let deletedPatient = resData.data.deletePatientAppointment;\n        const updatedPatientId = resData.data.deletePatientAppointment._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.deletePatientAppointment);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2,25);\n        this.setState({ userAlert: responseAlert})\n        this.fetchPatients();\n      })\n      .catch(err => {\n        this.setState({ userAlert: err});\n      });\n}\n\n  deletePatientConsultantItem = (props) => {\n\n    const token = this.context.token;\n    const userId = this.context.userId;\n    const patientId = this.state.selectedPatient._id;\n    const date = new Date(props.date.substr(0,10)*1000).toISOString().slice(0,10);\n      const requestBody = {\n        query: `\n         mutation {deletePatientConsultant (userId:\"${userId}\", patientId:\"${patientId}\",consultantId:\"${props.reference.id}\",consultantDate:\"${date}\")\n         {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n      `};\n\n      fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      })\n      .then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n        return res.json();\n      })\n      .then(resData => {\n        const deletedPatient = resData.data.deletePatientConsultant;\n        const updatedPatientId = resData.data.deletePatientConsultant._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.deletePatientConsultant);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2,25);\n        this.setState({ userAlert: responseAlert})\n        this.fetchPatients();\n      })\n      .catch(err => {\n        this.setState({ userAlert: err});\n      });\n}\n\ndeletePatientNextOfKinItem = (props) => {\n\n  const token = this.context.token;\n  const userId = this.context.userId;\n  const patientId = this.state.selectedPatient._id;\n  const requestBody = {\n      query: `\n       mutation {deletePatientNextOfKin (userId:\"${userId}\", patientId:\"${patientId}\",nextOfKinName:\"${props.name}\")\n       {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `};\n\n    fetch('http://localhost:10000/graphql', {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + token\n      }\n    })\n    .then(res => {\n      if (res.status !== 200 && res.status !== 201) {\n        throw new Error('Failed!');\n      }\n      return res.json();\n    })\n    .then(resData => {\n      let deletedPatient = resData.data.deletePatientNextOfKin;\n      const updatedPatientId = resData.data.deletePatientNextOfKin._id;\n      const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n      const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n      const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n      this.state.patients.push(resData.data.deletePatientNextOfKin);\n      this.context.patients = this.state.patients;\n      const responseAlert = JSON.stringify(resData.data).slice(2,25);\n      this.setState({ userAlert: responseAlert})\n      this.fetchPatients();\n    })\n    .catch(err => {\n      this.setState({userAlert: err})\n    });\n}\n\ndeletePatientComplaintItem = (props) => {\n\n  const token = this.context.token;\n  const userId = this.context.userId;\n  const patientId = this.state.selectedPatient._id;\n  const date = new Date(props.date.substr(0,10)*1000).toISOString().slice(0,10);\n  const requestBody = {\n      query: `\n       mutation {deletePatientComplaint (userId:\"${userId}\", patientId:\"${patientId}\",complaintTitle:\"${props.title}\",complaintDate:\"${date}\")\n       {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `};\n\n    fetch('http://localhost:10000/graphql', {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + token\n      }\n    })\n    .then(res => {\n      if (res.status !== 200 && res.status !== 201) {\n        throw new Error('Failed!');\n      }\n      return res.json();\n    })\n    .then(resData => {\n      const deletedPatient = resData.data.deletePatientComplaint;\n      const updatedPatientId = resData.data.deletePatientComplaint._id;\n      const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n      const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n      const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n      this.state.patients.push(resData.data.deletePatientComplaint);\n      this.context.patients = this.state.patients;\n      const responseAlert = JSON.stringify(resData.data).slice(2,25);\n      this.setState({ userAlert: responseAlert})\n      this.fetchPatients();\n    })\n    .catch(err => {\n      this.setState({userAlert: err})\n    });\n}\n\ndeletePatientSurveyItem = (props) => {\n\n  const token = this.context.token;\n  const userId = this.context.userId;\n  const patientId = this.state.selectedPatient._id;\n  const date = new Date(props.date.substr(0,10)*1000).toISOString().slice(0,10);\n  const requestBody = {\n      query: `\n       mutation {deletePatientSurvey (userId:\"${userId}\", patientId:\"${patientId}\",surveyTitle:\"${props.title}\",surveyDate:\"${date}\")\n       {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `};\n\n    fetch('http://localhost:10000/graphql', {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + token\n      }\n    })\n    .then(res => {\n      if (res.status !== 200 && res.status !== 201) {\n        throw new Error('Failed!');\n      }\n      return res.json();\n    })\n    .then(resData => {\n      let deletedPatient = resData.data.deletePatientSurvey;\n      const updatedPatientId = resData.data.deletePatientSurvey._id;\n      const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n      const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n      const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n      this.state.patients.push(resData.data.deletePatientSurvey);\n      this.context.patients = this.state.patients;\n      const responseAlert = JSON.stringify(resData.data).slice(2,25);\n      this.setState({ userAlert: responseAlert})\n      this.fetchPatients();\n    })\n    .catch(err => {\n      this.setState({userAlert: err})\n    });\n}\n\ndeletePatientSystematicInquiryItem = (props) => {\n\n  const token = this.context.token;\n  const userId = this.context.userId;\n  const patientId = this.state.selectedPatient._id;\n  const date = new Date(props.date.substr(0,10)*1000).toISOString().slice(0,10);\n    const requestBody = {\n      query: `\n       mutation {deletePatientSystematicInquiry (userId:\"${userId}\", patientId:\"${patientId}\",systematicInquiryTitle:\"${props.title}\",systematicInquiryDate:\"${date}\")\n       {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `};\n\n    fetch('http://localhost:10000/graphql', {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + token\n      }\n    })\n    .then(res => {\n      if (res.status !== 200 && res.status !== 201) {\n        throw new Error('Failed!');\n      }\n      return res.json();\n    })\n    .then(resData => {\n      let deletedPatient = resData.data.deletePatientSystematicInquiry;\n      const updatedPatientId = resData.data.deletePatientSystematicInquiry._id;\n      const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n      const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n      const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n      this.state.patients.push(resData.data.deletePatientSystematicInquiry);\n      this.context.patients = this.state.patients;\n      const responseAlert = JSON.stringify(resData.data).slice(2,25);\n      this.setState({ userAlert: responseAlert})\n      this.fetchPatients();\n    })\n    .catch(err => {\n      this.setState({userAlert: err})\n    });\n}\n\ndeletePatientVitalsItem = (props) => {\n\n  const token = this.context.token;\n  const userId = this.context.userId;\n  const patientId = this.state.selectedPatient._id;\n  const date = new Date(props.date.substr(0,10)*1000).toISOString().slice(0,10);\n    const requestBody = {\n      query: `\n       mutation {deletePatientVitals (userId:\"${userId}\", patientId:\"${patientId}\",vitalsDate:\"${date}\")\n       {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `};\n\n    fetch('http://localhost:10000/graphql', {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + token\n      }\n    })\n      .then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n        return res.json();\n      })\n      .then(resData => {\n        let deletedPatient = resData.data.deletePatientVitals;\n        const updatedPatientId = resData.data.deletePatientVitals._id;\n        const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n        const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n        const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n        this.state.patients.push(resData.data.deletePatientVitals);\n        this.context.patients = this.state.patients;\n        const responseAlert = JSON.stringify(resData.data).slice(2,25);\n        this.setState({ userAlert: responseAlert})\n        this.fetchPatients();\n      })\n      .catch(err => {\n        this.setState({userAlert: err})\n      });\n}\n\ndeletePatientExaminationItem = (props) => {\n\n  const token = this.context.token;\n  const userId = this.context.userId;\n  const patientId = this.state.selectedPatient._id;\n  const date = new Date(props.date.substr(0,10)*1000).toISOString().slice(0,10);\n    const requestBody = {\n      query: `\n       mutation {deletePatientExamination (userId:\"${userId}\", patientId:\"${patientId}\",examinationType:\"${props.type}\",examinationDate:\"${date}\")\n       {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `};\n\n        fetch('http://localhost:10000/graphql', {\n          method: 'POST',\n          body: JSON.stringify(requestBody),\n          headers: {\n            'Content-Type': 'application/json',\n            Authorization: 'Bearer ' + token\n          }\n        })\n          .then(res => {\n            if (res.status !== 200 && res.status !== 201) {\n              throw new Error('Failed!');\n            }\n            return res.json();\n          })\n          .then(resData => {\n            let deletedPatient = resData.data.deletePatientExamination;\n            const updatedPatientId = resData.data.deletePatientExamination._id;\n            const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n            const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n            const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n            this.state.patients.push(resData.data.deletePatientExamination);\n            this.context.patients = this.state.patients;\n            const responseAlert = JSON.stringify(resData.data).slice(2,25);\n            this.setState({ userAlert: responseAlert})\n            this.fetchPatients();\n          })\n          .catch(err => {\n            this.setState({userAlert: err})\n          });\n}\n\ndeletePatientHistoryItem = (props) => {\n\n  const token = this.context.token;\n  const userId = this.context.userId;\n  const patientId = this.state.selectedPatient._id;\n  const date = new Date(props.date.substr(0,10)*1000).toISOString().slice(0,10);\n    const requestBody = {\n      query: `\n       mutation {deletePatientHistory (userId:\"${userId}\", patientId:\"${patientId}\",historyTitle:\"${props.title}\",historyDate:\"${date}\")\n       {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `};\n\n        fetch('http://localhost:10000/graphql', {\n          method: 'POST',\n          body: JSON.stringify(requestBody),\n          headers: {\n            'Content-Type': 'application/json',\n            Authorization: 'Bearer ' + token\n          }\n        })\n          .then(res => {\n            if (res.status !== 200 && res.status !== 201) {\n              throw new Error('Failed!');\n            }\n            return res.json();\n          })\n          .then(resData => {\n            let deletedPatient = resData.data.deletePatientHistory;\n            const updatedPatientId = resData.data.deletePatientHistory._id;\n            const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n            const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n            const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n            this.state.patients.push(resData.data.deletePatientHistory);\n            this.context.patients = this.state.patients;\n            const responseAlert = JSON.stringify(resData.data).slice(2,25);\n            this.setState({ userAlert: responseAlert})\n            this.fetchPatients();\n          })\n          .catch(err => {\n            this.setState({userAlert: err})\n          });\n}\n\ndeletePatientAllergiesItem = (props) => {\n\n  const token = this.context.token;\n  const userId = this.context.userId;\n  const patientId = this.state.selectedPatient._id;\n    const requestBody = {\n      query: `\n       mutation {deletePatientAllergies (userId:\"${userId}\", patientId:\"${patientId}\",allergiesTitle:\"${props.title}\",allergiesType:\"${props.type}\")\n       {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `};\n\n        fetch('http://localhost:10000/graphql', {\n          method: 'POST',\n          body: JSON.stringify(requestBody),\n          headers: {\n            'Content-Type': 'application/json',\n            Authorization: 'Bearer ' + token\n          }\n        })\n          .then(res => {\n            if (res.status !== 200 && res.status !== 201) {\n              throw new Error('Failed!');\n            }\n            return res.json();\n          })\n          .then(resData => {\n            let deletedPatient = resData.data.deletePatientAllergies;\n            const updatedPatientId = resData.data.deletePatientAllergies._id;\n            const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n            const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n            const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n            this.state.patients.push(resData.data.deletePatientAllergies);\n            this.context.patients = this.state.patients;\n            const responseAlert = JSON.stringify(resData.data).slice(2,25);\n            this.setState({ userAlert: responseAlert})\n            this.fetchPatients();\n          })\n          .catch(err => {\n            this.setState({userAlert: err})\n          });\n}\n\ndeletePatientMedicationItem = (props) => {\n\n  const token = this.context.token;\n  const userId = this.context.userId;\n  const patientId = this.state.selectedPatient._id;\n    const requestBody = {\n      query: `\n       mutation {deletePatientMedication (userId:\"${userId}\", patientId:\"${patientId}\",medicationTitle:\"${props.title}\",medicationType:\"${props.type}\")\n       {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `};\n\n        fetch('http://localhost:10000/graphql', {\n          method: 'POST',\n          body: JSON.stringify(requestBody),\n          headers: {\n            'Content-Type': 'application/json',\n            Authorization: 'Bearer ' + token\n          }\n        })\n          .then(res => {\n            if (res.status !== 200 && res.status !== 201) {\n              throw new Error('Failed!');\n            }\n            return res.json();\n          })\n          .then(resData => {\n            let deletedPatient = resData.data.deletePatientMedication;\n            const updatedPatientId = resData.data.deletePatientMedication._id;\n            const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n            const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n            const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n            this.state.patients.push(resData.data.deletePatientMedication);\n            this.context.patients = this.state.patients;\n            const responseAlert = JSON.stringify(resData.data).slice(2,25);\n            this.setState({ userAlert: responseAlert});\n            this.fetchPatients();\n          })\n          .catch(err => {\n            this.setState({userAlert: err})\n          });\n}\n\ndeletePatientInvestigationItem = (props) => {\n\n  const token = this.context.token;\n  const userId = this.context.userId;\n  const patientId = this.state.selectedPatient._id;\n  const date = new Date(props.date.substr(0,10)*1000).toISOString().slice(0,10);\n  const requestBody = {\n      query: `\n         mutation {deletePatientInvestigation (userId:\"${userId}\", patientId:\"${patientId}\",investigationDate:\"${date}\",investigationTitle:\"${props.title}\")\n         {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `};\n\n    fetch('http://localhost:10000/graphql', {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + token\n      }\n    })\n    .then(res => {\n      if (res.status !== 200 && res.status !== 201) {\n        throw new Error('Failed!');\n      }\n      return res.json();\n    })\n    .then(resData => {\n      const deletedPatient = resData.data.deletePatientInvestigation;\n      const updatedPatientId = resData.data.deletePatientInvestigation._id;\n      const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n      const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n      const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n      this.state.patients.push(resData.data.deletePatientInvestigation);\n      this.context.patients = this.state.patients;\n      const responseAlert = JSON.stringify(resData.data).slice(2,25);\n      this.setState({ userAlert: responseAlert})\n      this.fetchPatients();\n    })\n    .catch(err => {\n      this.setState({userAlert: err})\n    });\n}\n\ndeletePatientDiagnosisItem = (props) => {\n\n  const token = this.context.token;\n  const userId = this.context.userId;\n  const patientId = this.state.selectedPatient._id;\n  const date = new Date(props.date.substr(0,10)*1000).toISOString().slice(0,10);\n  const requestBody = {\n    query: `\n       mutation {deletePatientDiagnosis (userId:\"${userId}\",patientId:\"${patientId}\",diagnosisDate:\"${date}\",diagnosisTitle:\"${props.title}\")\n       {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n       `};\n\n    fetch('http://localhost:10000/graphql', {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + token\n      }\n    })\n    .then(res => {\n      if (res.status !== 200 && res.status !== 201) {\n        throw new Error('Failed!');\n      }\n      return res.json();\n    })\n    .then(resData => {\n      const deletedPatient = resData.data.deletePatientDiagnosis;\n      const updatedPatientId = resData.data.deletePatientDiagnosis._id;\n      const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n      const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n      const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n      this.state.patients.push(resData.data.deletePatientDiagnosis);\n      this.context.patients = this.state.patients;\n      const responseAlert = JSON.stringify(resData.data).slice(2,25);\n      this.setState({ userAlert: responseAlert});\n      this.fetchPatients();\n    })\n    .catch(err => {\n      this.setState({userAlert: err})\n    });\n}\n\ndeletePatientTreatmentItem = (props) => {\n\n  const token = this.context.token;\n  const userId = this.context.userId;\n  const patientId = this.state.selectedPatient._id;\n  const date = new Date(props.date.substr(0,10)*1000).toISOString().slice(0,10);\n  const requestBody = {\n  query: `\n     mutation {deletePatientTreatment (userId:\"${userId}\", patientId:\"${patientId}\",treatmentDate:\"${date}\",treatmentTitle:\"${props.title}\")\n     {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n  `};\n\n  fetch('http://localhost:10000/graphql', {\n    method: 'POST',\n    body: JSON.stringify(requestBody),\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: 'Bearer ' + token\n    }\n  })\n    .then(res => {\n      if (res.status !== 200 && res.status !== 201) {\n        throw new Error('Failed!');\n      }\n      return res.json();\n    })\n    .then(resData => {\n      const deletedPatient = resData.data.deletePatientTreatment;\n      const updatedPatientId = resData.data.deletePatientTreatment._id;\n      const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n      const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n      const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n      this.state.patients.push(resData.data.deletePatientTreatment);\n      this.context.patients = this.state.patients;\n      const responseAlert = JSON.stringify(resData.data).slice(2,25);\n      this.setState({ userAlert: responseAlert});\n      this.fetchPatients();\n    })\n    .catch(err => {\n      this.setState({userAlert: err});\n    });\n}\n\ndeletePatientBillingItem = (props) => {\n\n  const token = this.context.token;\n  const userId = this.context.userId;\n  const patientId = this.state.selectedPatient._id;\n  const date = new Date(props.date.substr(0,10)*1000).toISOString().slice(0,10);\n  const requestBody = {\n      query:`\n       mutation {deletePatientBilling (userId:\"${userId}\", patientId:\"${patientId}\",billingDate:\"${date}\",billingTitle:\"${props.title}\")\n       {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `};\n\n    fetch('http://localhost:10000/graphql', {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + token\n      }\n    })\n    .then(res => {\n      if (res.status !== 200 && res.status !== 201) {\n        throw new Error('Failed!');\n      }\n      return res.json();\n    })\n    .then(resData => {\n      const deletedPatient = resData.data.deletePatientBilling;\n      const updatedPatientId = resData.data.deletePatientBilling._id;\n      const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n      const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n      const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n      this.state.patients.push(resData.data.deletePatientBilling);\n      this.context.patients = this.state.patients;\n      const responseAlert = JSON.stringify(resData.data).slice(2,25);\n      this.setState({ userAlert: responseAlert});\n      this.fetchPatients();\n    })\n    .catch(err => {\n      this.setState({userAlert: err})\n    });\n}\n\ndeletePatientVigilanceItem = (props) => {\n\n  const token = this.context.token;\n  const userId = this.context.userId;\n  const patientId = this.state.selectedPatient._id;\n  const date = new Date(props.date.substr(0,10)*1000).toISOString().slice(0,10);\n  const requestBody = {\n    query:`\n       mutation {deletePatientVigilance (userId:\"${userId}\", patientId:\"${patientId}\",vigilanceDate:\"${date}\")\n       {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n     `};\n\n  fetch('http://localhost:10000/graphql', {\n    method: 'POST',\n    body: JSON.stringify(requestBody),\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: 'Bearer ' + token\n    }\n  })\n    .then(res => {\n      if (res.status !== 200 && res.status !== 201) {\n        throw new Error('Failed!');\n      }\n      return res.json();\n    })\n    .then(resData => {\n      const deletedPatient = resData.data.deletePatientVigilance;\n      const updatedPatientId = resData.data.deletePatientVigilance._id;\n      const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n      const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n      const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n      this.state.patients.push(resData.data.deletePatientVigilance);\n      this.context.patients = this.state.patients;\n      const responseAlert = JSON.stringify(resData.data).slice(2,25);\n      this.setState({ userAlert: responseAlert});\n      this.fetchPatients();\n    })\n    .catch(err => {\n      this.setState({userAlert: err})\n    });\n}\n\ndeletePatientAttachmentItem = (props) => {\n\n  const token = this.context.token;\n  const userId = this.context.userId;\n  const patientId = this.state.selectedPatient._id;\n  //   const config = {\n  //     bucketName: this.context.creds.s3.bucketName,\n  //     dirName: props.path,\n  //     region: this.context.creds.s3.region,\n  //     accessKeyId: this.context.creds.s3.accessKeyId,\n  //     secretAccessKey: this.context.creds.s3.secretAccessKey,\n  //   }\n  // const ReactS3Client = new S3(config);\n  // const filename = props.name;\n  // // const attachmentName = newFileName;\n  // //\n  // S3FileUpload\n  // .deleteFile(filename, config)\n  // .then(response => console.log(response))\n  // .catch(err => console.error(err))\n\n    const requestBody = {\n      query:`\n       mutation {deletePatientAttachment (userId:\"${userId}\", patientId:\"${patientId}\",attachmentName:\"${props.name}\")\n       {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n    `};\n\n    fetch('http://localhost:10000/graphql', {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + token\n      }\n    })\n    .then(res => {\n      if (res.status !== 200 && res.status !== 201) {\n        throw new Error('Failed!');\n      }\n      return res.json();\n    })\n    .then(resData => {\n      const deletedPatient = resData.data.deletePatientAttachment;\n      const updatedPatientId = resData.data.deletePatientAttachment._id;\n      const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n      const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n      const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n      this.state.patients.push(resData.data.deletePatientAttachment);\n      this.context.patients = this.state.patients;\n      const responseAlert = JSON.stringify(resData.data).slice(2,25);\n      this.setState({ userAlert: responseAlert});\n      this.fetchPatients();\n    })\n    .catch(err => {\n      this.setState({userAlert: err})\n    });\n}\n\ndeletePatientNoteItem = (props) => {\n\n  const token = this.context.token;\n  const userId = this.context.userId;\n  const patientId = this.state.selectedPatient._id;\n  const requestBody = {\n    query:`\n    mutation {deletePatientNote (userId:\"${userId}\", patientId:\"${patientId}\",note:\"${props}\")\n    {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n  `};\n\n  fetch('http://localhost:10000/graphql', {\n    method: 'POST',\n    body: JSON.stringify(requestBody),\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: 'Bearer ' + token\n    }\n  })\n  .then(res => {\n    if (res.status !== 200 && res.status !== 201) {\n      throw new Error('Failed!');\n    }\n    return res.json();\n  })\n  .then(resData => {\n    let deletedPatient = resData.data.deletePatientNote;\n    const updatedPatientId = resData.data.deletePatientNote._id;\n    const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n    const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n    const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n    this.state.patients.push(resData.data.deletePatientNote);\n    this.context.patients = this.state.patients;\n    const responseAlert = JSON.stringify(resData.data).slice(2,25);\n    this.setState({ userAlert: responseAlert});\n    this.fetchPatients();\n  })\n  .catch(err => {\n    this.setState({userAlert: err})\n  });\n}\n\ndeletePatientTagItem = (props) => {\n\n  const token = this.context.token;\n  const userId = this.context.userId;\n  const patientId = this.state.selectedPatient._id;\n  const requestBody = {\n    query:`\n    mutation {deletePatientTag (userId:\"${userId}\", patientId:\"${patientId}\",tag:\"${props}\")\n    {_id,title,name,dob,age,gender,address{number,street,town,parish,postOffice},registrationDate,referralDate,expirationDate,attendingPhysician{name,email,phone},referringDoctor{name,email,phone},contact{phone,email},occupation{role,employer,contact{phone,email}},appointments{title,time,date,location},consultant{date,reference{name,role}},insurance{company,number,description,expiry,subscriber{company,description}},nextOfKin{name,contact{phone,email}},complaints{date,title,description,anamnesis,attachment{name,format,path}},surveys{date,title,description,attachment{name,format,path}},systematicInquiry{date,title,description,attachment{name,format,path}},vitals{date,pr,bp1,bp2,rr,temp,ps02,height,weight,bmi,urine{type,value}},examination{date,general,area,type,measure,value,description,followUp,attachment{name,format,path}},history{type,date,title,description,attachment{name,format,path}},allergies{type,title,description,attachment{name,format,path}},medication{title,type,description,attachment{name,format,path}},investigation{date,type,title,description,attachment{name,format,path}},diagnosis{date,type,title,description,attachment{name,format,path}},treatment{date,type,title,description,dose,frequency,attachment{name,format,path}},billing{date,title,type,description,amount,paid,attachment{name,format,path},notes},vigilance{date,chronicIllness{diabetes{medication,testing,comment},hbp{medication,testing,comment},dyslipidemia{medication,testing,comment},cad{medication,testing,comment}},lifestyle{weight{medication,testing,comment},diet{medication,testing,comment},smoking{medication,testing,comment},substanceAbuse{medication,testing,comment},exercise{medication,testing,comment},allergies{medication,testing,comment},asthma{medication,testing,comment}},screening{breast{medication,testing,comment},prostate{medication,testing,comment},cervix{medication,testing,comment},colon{medication,testing,comment},dental{medication,testing,comment}},vaccines{influenza{medication,testing,comment},varicella{medication,testing,comment},hpv{medication,testing,comment},mmr{medication,testing,comment},tetanus{medication,testing,comment},pneumovax{medication,testing,comment},other{name,medication,testing,comment}}},attachments{name,format,path},notes,tags}}\n  `};\n\n  fetch('http://localhost:10000/graphql', {\n    method: 'POST',\n    body: JSON.stringify(requestBody),\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: 'Bearer ' + token\n    }\n  })\n  .then(res => {\n    if (res.status !== 200 && res.status !== 201) {\n      throw new Error('Failed!');\n    }\n    return res.json();\n  })\n  .then(resData => {\n    let deletedPatient = resData.data.deletePatientTag;\n    const updatedPatientId = resData.data.deletePatientTag._id;\n    const updatedPatient = this.state.patients.find(e => e._id === updatedPatientId);\n    const updatedPatientPos = this.state.patients.indexOf(updatedPatient);\n    const slicedArray = this.state.patients.splice(updatedPatientPos, 1);\n    this.state.patients.push(resData.data.deletePatientTag);\n    this.context.patients = this.state.patients;\n    const responseAlert = JSON.stringify(resData.data).slice(2,25);\n    this.setState({ userAlert: responseAlert});\n    this.fetchPatients();\n  })\n  .catch(err => {\n    this.setState({ userAlert: err})\n  });\n}\n\n\nupdatePatientSpecial (event) {\n  const field = event.target.value;\n  this.setState({ patientUpdateField: field});\n}\n\nonViewAttachment = (attachment) => {\n    this.setState({showAttachment: true})\n    const file = \"https://ent-emr-bucket.s3-us-east-2.amazonaws.com/\"+attachment.path+\"/\"+attachment.name;\n    const type = attachment.format;\n    this.setState({showThisAttachmentFile: file, showThisAttachmentType: type})\n}\n\ncloseAttachmentView = () => {\n    this.setState({showAttachment: false})\n}\n\ncreatePdfTest = (event) => {\n  event.preventDefault();\n  console.log(`\n      create pdf user otf input here...\n      ${event.target.formGridDocGenUserInput.value}\n      ${event.target.formGridDocGenVisitDate.value}\n    `);\n\n    const patient = this.state.selectedPatient;\n    const pdfData = {\n    title: \"This pdf is supplied with Patient data...\",\n    date: new Date(),\n    test: event.target.formGridDocGenUserInput.value,\n    patient: {\n      _id: patient._id,\n      title: patient.title,\n      name: patient.name,\n      dob: patient.dob,\n      age: patient.age,\n      gender: patient.gender,\n      address:{\n        number: patient.number,\n        street: patient.street,\n        town: patient.town,\n        parish: patient.parish,\n        postOffice: patient.postOffice\n      },\n      registrationDate: patient.registrationDate,\n      referralDate: patient.referralDate,\n      expirationDate: patient.expirationDate,\n      attendingPhysician:{\n        name: patient.attendingPhysician.name,\n        email: patient.attendingPhysician.email,\n        phone: patient.attendingPhysician.phone\n      },\n      referringDoctor: {\n        name: patient.referringDoctor.name,\n        email: patient.referringDoctor.email,\n        phone: patient.referringDoctor.phone\n      },\n      contact: {\n        phone: patient.contact.phone,\n        email: patient.contact.email\n      },\n      occupation:{\n        role: patient.occupation.role,\n        employer: patient.occupation.employer,\n        contact:{\n          phone: patient.occupation.contact.phone,\n          email: patient.occupation.contact.email\n        }},\n        appointments: patient.appointments,\n        consultant: patient.consultant,\n        insurance: patient.insurance,\n        nextOfKin: patient.nextOfKin,\n        complaints: patient.complaints,\n        surveys: patient.surveys,\n        systematicInquiry: patient.systematicInquiry,\n        vitals: patient.vitals,\n        examination: patient.examination,\n        history: patient.history,\n        allergies: patient.allergies,\n        medication: patient.medication,\n        investigation: patient.investigation,\n        diagnosis: patient.diagnosis,\n        treatment: patient.treatment,\n        billing: patient.billing,\n        vigilance: patient.vigilance,\n        attachments: patient.attachments,\n        notes: patient.notes,\n        tags: patient.tags\n      }\n    }\n  this.setState({creatingDocument: true, pdfType: \"test\", pdfData: pdfData})\n}\n\n\ncreateReferralInput = (event) => {\n  event.preventDefault();\n\n  if (\n    event.target.patientReferralCalendarVisitDate.value.trim().length === 0 ||\n    event.target.formGridDocGenReferralFindings.value.trim().length === 0 ||\n    event.target.formGridDocGenReferralRecommendation.value.trim().length === 0\n  ) {\n    this.setState({userAlert: \"Blank fields detected... please check your info and try again\"});\n    return;\n  }\n\n    const visitDate = new Date(event.target.patientReferralCalendarVisitDate.value).toISOString().substring(0, 10);\n    const patient = this.state.selectedPatient;\n    const visitDiagnosis = patient.diagnosis.filter(x=> new Date(x.date.substr(0,10)*1000).toISOString().substring(0, 10) === visitDate);\n    const visitTreatment = patient.treatment.filter(x=> new Date(x.date.substr(0,10)*1000).toISOString().substring(0, 10) === visitDate);\n    console.log(`\n        create referral user otf input here...\n        ${visitDate}\n        ${event.target.patientReferralCalendarVisitDate.value},\n        ${event.target.formGridDocGenReferralRecommendation.value},\n        ${event.target.formGridDocGenReferralFindings.value},\n        visitDiagnosis: ${JSON.stringify(visitDiagnosis)},\n      `);\n\n    if (\n      JSON.stringify(visitTreatment) === \"[]\" ||\n      JSON.stringify(visitDiagnosis) === \"[]\"\n    ) {\n      this.setState({userAlert: `Incomplete or No Visit found for : ${visitDate}. Check your info and try again.`});\n      return;\n    }\n\n    const pdfData = {\n    title: \"Referral\",\n    visitDate: visitDate,\n    findings: event.target.formGridDocGenReferralFindings.value,\n    recommendation: event.target.formGridDocGenReferralRecommendation.value,\n    patient: {\n      _id: patient._id,\n      title: patient.title,\n      name: patient.name,\n      dob: patient.dob,\n      age: patient.age,\n      gender: patient.gender,\n      address:{\n        number: patient.number,\n        street: patient.street,\n        town: patient.town,\n        parish: patient.parish,\n        postOffice: patient.postOffice\n      },\n      registrationDate: patient.registrationDate,\n      referralDate: patient.referralDate,\n      expirationDate: patient.expirationDate,\n      attendingPhysician:{\n        name: patient.attendingPhysician.name,\n        email: patient.attendingPhysician.email,\n        phone: patient.attendingPhysician.phone\n      },\n      referringDoctor: {\n        name: patient.referringDoctor.name,\n        email: patient.referringDoctor.email,\n        phone: patient.referringDoctor.phone\n      },\n      contact: {\n        phone: patient.contact.phone,\n        email: patient.contact.email\n      },\n      occupation:{\n        role: patient.occupation.role,\n        employer: patient.occupation.employer,\n        contact:{\n          phone: patient.occupation.contact.phone,\n          email: patient.occupation.contact.email\n        }},\n        appointments: patient.appointments,\n        consultant: patient.consultant,\n        insurance: patient.insurance,\n        nextOfKin: patient.nextOfKin,\n        complaints: patient.complaints,\n        surveys: patient.surveys,\n        systematicInquiry: patient.systematicInquiry,\n        vitals: patient.vitals,\n        examination: patient.examination,\n        history: patient.history,\n        allergies: patient.allergies,\n        medication: patient.medication,\n        investigation: patient.investigation,\n        diagnosis: patient.diagnosis,\n        treatment: patient.treatment,\n        billing: patient.billing,\n        vigilance: patient.vigilance,\n        attachments: patient.attachments,\n        notes: patient.notes,\n        tags: patient.tags\n      },\n      date: new Date(),\n      referral: \"test referral... now w/ input\",\n      visitDiagnosis: visitDiagnosis,\n      visitTreatment: visitTreatment,\n      letterheadImage: \"https://photos.app.goo.gl/SrVuahmr14khGBoM9\"\n    };\n\n  this.setState({ creatingDocument: true, pdfData: pdfData, pdfType: \"patientReferral\" })\n}\n\n\ncreateOperationReminderInput = (event) => {\n\n  event.preventDefault();\n\n  if (\n    event.target.formGridDocGenOperationReminderName.value.trim().length === 0 ||\n    event.target.patientOperationReminderCalendarOperationDate.value.trim().length === 0 ||\n    event.target.formGridDocGenOperationReminderTime.value.trim().length === 0 ||\n    event.target.formGridDocGenOperationReminderHospitalName.value.trim().length === 0 ||\n    event.target.formGridDocGenOperationReminderHopsitalAddress.value.trim().length === 0 ||\n    event.target.patientOperationReminderCalendarFastDate.value.trim().length === 0 ||\n    event.target.formGridDocGenOperationReminderFastTime.value.trim().length === 0 ||\n    event.target.formGridDocGenOperationReminderEstimateCost.value.trim().length === 0\n  ) {\n    this.setState({userAlert: \"Blank fields detected... please check your info and try again\"});\n    return;\n  }\n\n  const date = new Date(event.target.patientOperationReminderCalendarOperationDate.value).toISOString().substring(0, 10);\n  const fastDate = new Date(event.target.patientOperationReminderCalendarFastDate.value).toISOString().substring(0, 10);\n  const patient = this.state.selectedPatient;\n    console.log(`\n        create operation reminder user otf input here...\n      `);\n\n    const pdfData = {\n    title: \"Operation Reminder\",\n    patient: {\n      _id: patient._id,\n      title: patient.title,\n      name: patient.name,\n      dob: patient.dob,\n      age: patient.age,\n      gender: patient.gender,\n      address:{\n        number: patient.address.number,\n        street: patient.address.street,\n        town: patient.address.town,\n        parish: patient.address.parish,\n        postOffice: patient.address.postOffice\n      },\n      registrationDate: patient.registrationDate,\n      referralDate: patient.referralDate,\n      expirationDate: patient.expirationDate,\n      attendingPhysician:{\n        name: patient.attendingPhysician.name,\n        email: patient.attendingPhysician.email,\n        phone: patient.attendingPhysician.phone\n      },\n      referringDoctor: {\n        name: patient.referringDoctor.name,\n        email: patient.referringDoctor.email,\n        phone: patient.referringDoctor.phone\n      },\n      contact: {\n        phone: patient.contact.phone,\n        email: patient.contact.email\n      },\n      occupation:{\n        role: patient.occupation.role,\n        employer: patient.occupation.employer,\n        contact:{\n          phone: patient.occupation.contact.phone,\n          email: patient.occupation.contact.email\n        }},\n        appointments: patient.appointments,\n        consultant: patient.consultant,\n        insurance: patient.insurance,\n        nextOfKin: patient.nextOfKin,\n        complaints: patient.complaints,\n        surveys: patient.surveys,\n        systematicInquiry: patient.systematicInquiry,\n        vitals: patient.vitals,\n        examination: patient.examination,\n        history: patient.history,\n        allergies: patient.allergies,\n        medication: patient.medication,\n        investigation: patient.investigation,\n        diagnosis: patient.diagnosis,\n        treatment: patient.treatment,\n        billing: patient.billing,\n        vigilance: patient.vigilance,\n        attachments: patient.attachments,\n        notes: patient.notes,\n        tags: patient.tags\n      },\n      today: new Date(),\n      date: date,\n      name: event.target.formGridDocGenOperationReminderName.value,\n      time: event.target.formGridDocGenOperationReminderTime.value,\n      hospitalName: event.target.formGridDocGenOperationReminderHospitalName.value,\n      hospitalAddress: event.target.formGridDocGenOperationReminderHopsitalAddress.value,\n      fastDate: fastDate,\n      fastTime: event.target.formGridDocGenOperationReminderFastTime.value,\n      estimateCost: event.target.formGridDocGenOperationReminderEstimateCost.value,\n      letterheadImage: \"https://photos.app.goo.gl/SrVuahmr14khGBoM9\"\n    };\n\n  this.setState({ creatingDocument: true, pdfData: pdfData, pdfType: \"operationReminder\" })\n}\n\n\ncreateMiscNoteInput = (event) => {\n\n  event.preventDefault();\n\n  if (\n    event.target.formGridDocGenMiscNote1.value.trim().length === 0 ||\n    event.target.formGridDocGenMiscNote2.value.trim().length === 0\n  ) {\n    this.setState({userAlert: \"Blank fields detected... please check your info and try again\"});\n    return;\n  }\n\n  const patient = this.state.selectedPatient;\n    console.log(`\n        create misc note user otf input here...\n      `);\n\n    const pdfData = {\n    title: \"Miscellaneous Note\",\n    patient: {\n      _id: patient._id,\n      title: patient.title,\n      name: patient.name,\n      dob: patient.dob,\n      age: patient.age,\n      gender: patient.gender,\n      address:{\n        number: patient.address.number,\n        street: patient.address.street,\n        town: patient.address.town,\n        parish: patient.address.parish,\n        postOffice: patient.address.postOffice\n      },\n      registrationDate: patient.registrationDate,\n      referralDate: patient.referralDate,\n      expirationDate: patient.expirationDate,\n      attendingPhysician:{\n        name: patient.attendingPhysician.name,\n        email: patient.attendingPhysician.email,\n        phone: patient.attendingPhysician.phone\n      },\n      referringDoctor: {\n        name: patient.referringDoctor.name,\n        email: patient.referringDoctor.email,\n        phone: patient.referringDoctor.phone\n      },\n      contact: {\n        phone: patient.contact.phone,\n        email: patient.contact.email\n      },\n      occupation:{\n        role: patient.occupation.role,\n        employer: patient.occupation.employer,\n        contact:{\n          phone: patient.occupation.contact.phone,\n          email: patient.occupation.contact.email\n        }},\n        appointments: patient.appointments,\n        consultant: patient.consultant,\n        insurance: patient.insurance,\n        nextOfKin: patient.nextOfKin,\n        complaints: patient.complaints,\n        surveys: patient.surveys,\n        systematicInquiry: patient.systematicInquiry,\n        vitals: patient.vitals,\n        examination: patient.examination,\n        history: patient.history,\n        allergies: patient.allergies,\n        medication: patient.medication,\n        investigation: patient.investigation,\n        diagnosis: patient.diagnosis,\n        treatment: patient.treatment,\n        billing: patient.billing,\n        vigilance: patient.vigilance,\n        attachments: patient.attachments,\n        notes: patient.notes,\n        tags: patient.tags\n      },\n      date: new Date(),\n      note1: event.target.formGridDocGenMiscNote1.value,\n      note2: event.target.formGridDocGenMiscNote2.value,\n      letterheadImage: \"https://photos.app.goo.gl/SrVuahmr14khGBoM9\"\n    };\n\n  this.setState({ creatingDocument: true, pdfData: pdfData, pdfType: \"miscNote\" })\n}\n\n\ncreateSickNoteInput = (event) => {\n\n    event.preventDefault();\n\n    if (\n      event.target.formGridDocGenSickNoteAddress.value.trim().length === 0 ||\n      event.target.formGridDocGenSickNoteDuration.value.trim().length === 0 ||\n      event.target.patientSickNoteCalendarStartDate.value.trim().length === 0\n    ) {\n      this.setState({userAlert: \"Blank fields detected... please check your info and try again\"});\n      return;\n    }\n\n    const date = new Date().toISOString().substring(0, 10);\n    const startDate = new Date(event.target.patientSickNoteCalendarStartDate.value).toISOString().substring(0, 10);\n    const patient = this.state.selectedPatient;\n    console.log(`\n        create Sick note user otf input here...\n      `);\n\n    const pdfData = {\n    title: \"Sick Note\",\n    patient: {\n      _id: patient._id,\n      title: patient.title,\n      name: patient.name,\n      dob: patient.dob,\n      age: patient.age,\n      gender: patient.gender,\n      address:{\n        number: patient.address.number,\n        street: patient.address.street,\n        town: patient.address.town,\n        parish: patient.address.parish,\n        postOffice: patient.address.postOffice\n      },\n      registrationDate: patient.registrationDate,\n      referralDate: patient.referralDate,\n      expirationDate: patient.expirationDate,\n      attendingPhysician:{\n        name: patient.attendingPhysician.name,\n        email: patient.attendingPhysician.email,\n        phone: patient.attendingPhysician.phone\n      },\n      referringDoctor: {\n        name: patient.referringDoctor.name,\n        email: patient.referringDoctor.email,\n        phone: patient.referringDoctor.phone\n      },\n      contact: {\n        phone: patient.contact.phone,\n        email: patient.contact.email\n      },\n      occupation:{\n        role: patient.occupation.role,\n        employer: patient.occupation.employer,\n        contact:{\n          phone: patient.occupation.contact.phone,\n          email: patient.occupation.contact.email\n        }},\n        appointments: patient.appointments,\n        consultant: patient.consultant,\n        insurance: patient.insurance,\n        nextOfKin: patient.nextOfKin,\n        complaints: patient.complaints,\n        surveys: patient.surveys,\n        systematicInquiry: patient.systematicInquiry,\n        vitals: patient.vitals,\n        examination: patient.examination,\n        history: patient.history,\n        allergies: patient.allergies,\n        medication: patient.medication,\n        investigation: patient.investigation,\n        diagnosis: patient.diagnosis,\n        treatment: patient.treatment,\n        billing: patient.billing,\n        vigilance: patient.vigilance,\n        attachments: patient.attachments,\n        notes: patient.notes,\n        tags: patient.tags\n      },\n      receiverAddress: event.target.formGridDocGenSickNoteAddress.value,\n      date: date,\n      duration: event.target.formGridDocGenSickNoteDuration.value,\n      startDate: startDate,\n      letterheadImage: \"https://photos.app.goo.gl/SrVuahmr14khGBoM9\"\n    };\n\n  this.setState({ creatingDocument: true, pdfData: pdfData, pdfType: \"sickNote\" })\n}\n\ncreateDiagTestInput = (event) => {\n\n    event.preventDefault();\n\n    if (\n      event.target.patientDiagTestCalendarVisitDate.value.trim().length === 0 ||\n      event.target.formGridDocGenDiagTestReceiver.value.trim().length === 0 ||\n      event.target.formGridDocGenDiagTestRequired.value.trim().length === 0\n    ) {\n      this.setState({userAlert: \"Blank fields detected... please check your info and try again\"});\n      return;\n    }\n\n    const patient = this.state.selectedPatient;\n    const date = new Date().toISOString().substring(0, 10);\n    const visitDate = new Date(event.target.patientDiagTestCalendarVisitDate.value).toISOString().substring(0, 10);\n    const visitDiagnosis = patient.diagnosis.filter(x=> new Date(x.date.substr(0,10)*1000).toISOString().substring(0, 10) === visitDate);\n\n    console.log(`\n        create tests & screening user otf input here...\n        ${visitDate}\n      `);\n\n    if (\n      JSON.stringify(visitDiagnosis) === \"[]\"\n    ) {\n      this.setState({userAlert: `Incomplete or No Visit found for : ${visitDate}. Check your info and try again.`});\n      return;\n    }\n\n    const pdfData = {\n    title: \"Tests & Screenings\",\n    patient: {\n      _id: patient._id,\n      title: patient.title,\n      name: patient.name,\n      dob: patient.dob,\n      age: patient.age,\n      gender: patient.gender,\n      address:{\n        number: patient.address.number,\n        street: patient.address.street,\n        town: patient.address.town,\n        parish: patient.address.parish,\n        postOffice: patient.address.postOffice\n      },\n      registrationDate: patient.registrationDate,\n      referralDate: patient.referralDate,\n      expirationDate: patient.expirationDate,\n      attendingPhysician:{\n        name: patient.attendingPhysician.name,\n        email: patient.attendingPhysician.email,\n        phone: patient.attendingPhysician.phone\n      },\n      referringDoctor: {\n        name: patient.referringDoctor.name,\n        email: patient.referringDoctor.email,\n        phone: patient.referringDoctor.phone\n      },\n      contact: {\n        phone: patient.contact.phone,\n        email: patient.contact.email\n      },\n      occupation:{\n        role: patient.occupation.role,\n        employer: patient.occupation.employer,\n        contact:{\n          phone: patient.occupation.contact.phone,\n          email: patient.occupation.contact.email\n        }},\n        appointments: patient.appointments,\n        consultant: patient.consultant,\n        insurance: patient.insurance,\n        nextOfKin: patient.nextOfKin,\n        complaints: patient.complaints,\n        surveys: patient.surveys,\n        systematicInquiry: patient.systematicInquiry,\n        vitals: patient.vitals,\n        examination: patient.examination,\n        history: patient.history,\n        allergies: patient.allergies,\n        medication: patient.medication,\n        investigation: patient.investigation,\n        diagnosis: patient.diagnosis,\n        treatment: patient.treatment,\n        billing: patient.billing,\n        vigilance: patient.vigilance,\n        attachments: patient.attachments,\n        notes: patient.notes,\n        tags: patient.tags\n      },\n      visitDate: visitDate,\n      visitDiagnosis: visitDiagnosis,\n      receiver: event.target.formGridDocGenDiagTestReceiver.value,\n      requiredTests: event.target.formGridDocGenDiagTestReceiver.value,\n      date: date,\n      letterheadImage: \"https://photos.app.goo.gl/SrVuahmr14khGBoM9\"\n    };\n\n  this.setState({ creatingDocument: true, pdfData: pdfData, pdfType: \"DiagTest\" })\n}\n\n\ncreateInsuranceNoteInput = (event) => {\n\n    event.preventDefault();\n\n    if (\n      event.target.formGridDocGenInsuranceNotePolicyNumber.value.trim().length === 0 ||\n      event.target.formGridDocGenInsuranceNoteOperation.value.trim().length === 0 ||\n      event.target.patientInsuranceNoteCalendarOperationDate.value.trim().length === 0 ||\n      event.target.formGridDocGenInsuranceNoteSurgeonFee.value.trim().length === 0 ||\n      event.target.formGridDocGenInsuranceNoteAssistantSurgeonFee.value.trim().length === 0 ||\n      event.target.formGridDocGenInsuranceNoteAnesthetistFee.value.trim().length === 0\n    ) {\n      this.setState({userAlert: \"Blank fields detected... please check your info and try again\"});\n      return;\n    }\n\n    const date = new Date().toISOString().substring(0, 10);\n    const operationDate = new Date(event.target.patientInsuranceNoteCalendarOperationDate.value).toISOString().substring(0, 10);\n    const patient = this.state.selectedPatient;\n    const policyNumber = event.target.formGridDocGenInsuranceNotePolicyNumber.value;\n    const patientInsurance = patient.insurance.filter(x=> x.number === policyNumber);\n    console.log(`\n        create Insurance note user otf input here...\n        ${JSON.stringify(patientInsurance)}\n      `);\n\n    const pdfData = {\n    title: \"Insurance Note\",\n    patient: {\n      _id: patient._id,\n      title: patient.title,\n      name: patient.name,\n      dob: patient.dob,\n      age: patient.age,\n      gender: patient.gender,\n      address:{\n        number: patient.address.number,\n        street: patient.address.street,\n        town: patient.address.town,\n        parish: patient.address.parish,\n        postOffice: patient.address.postOffice\n      },\n      registrationDate: patient.registrationDate,\n      referralDate: patient.referralDate,\n      expirationDate: patient.expirationDate,\n      attendingPhysician:{\n        name: patient.attendingPhysician.name,\n        email: patient.attendingPhysician.email,\n        phone: patient.attendingPhysician.phone\n      },\n      referringDoctor: {\n        name: patient.referringDoctor.name,\n        email: patient.referringDoctor.email,\n        phone: patient.referringDoctor.phone\n      },\n      contact: {\n        phone: patient.contact.phone,\n        email: patient.contact.email\n      },\n      occupation:{\n        role: patient.occupation.role,\n        employer: patient.occupation.employer,\n        contact:{\n          phone: patient.occupation.contact.phone,\n          email: patient.occupation.contact.email\n        }},\n        appointments: patient.appointments,\n        consultant: patient.consultant,\n        insurance: patient.insurance,\n        nextOfKin: patient.nextOfKin,\n        complaints: patient.complaints,\n        surveys: patient.surveys,\n        systematicInquiry: patient.systematicInquiry,\n        vitals: patient.vitals,\n        examination: patient.examination,\n        history: patient.history,\n        allergies: patient.allergies,\n        medication: patient.medication,\n        investigation: patient.investigation,\n        diagnosis: patient.diagnosis,\n        treatment: patient.treatment,\n        billing: patient.billing,\n        vigilance: patient.vigilance,\n        attachments: patient.attachments,\n        notes: patient.notes,\n        tags: patient.tags\n      },\n      date: date,\n      patientInsurance: JSON.stringify(patientInsurance),\n      operation: event.target.formGridDocGenInsuranceNoteOperation.value,\n      operationDate: operationDate,\n      surgeonFee: event.target.formGridDocGenInsuranceNoteSurgeonFee.value,\n      assistantSurgeonFee: event.target.formGridDocGenInsuranceNoteAssistantSurgeonFee.value,\n      anesthetistsFee: event.target.formGridDocGenInsuranceNoteAnesthetistFee.value,\n      letterheadImage: \"https://photos.app.goo.gl/SrVuahmr14khGBoM9\"\n    };\n\n  this.setState({ creatingDocument: true, pdfData: pdfData, pdfType: \"insuranceNote\" })\n}\n\n\ncreatePrescriptionInput = (event) => {\n\n  event.preventDefault();\n\n  if (\n    event.target.formGridDocGenPrescriptionPescription.value.trim().length === 0 ||\n    event.target.formGridDocGenPrescriptionGeneric.value.trim().length === 0 ||\n    event.target.formGridDocGenPrescriptionRepeat.value.trim().length === 0\n  ) {\n    this.setState({userAlert: \"Blank fields detected... please check your info and try again\"});\n    return;\n  }\n\n  let generic = null;\n  if (event.target.formGridDocGenPrescriptionGeneric.checked === true) {\n    generic = \"yes\"\n  }\n  if (event.target.formGridDocGenPrescriptionGeneric.checked !== true) {\n    generic = \"no\"\n  }\n\n  const date = new Date().toISOString().substring(0, 10);\n  const patient = this.state.selectedPatient;\n  const pdfData = {\n    title: \"Prescription\",\n    patient: {\n      _id: patient._id,\n      title: patient.title,\n      name: patient.name,\n      dob: patient.dob,\n      age: patient.age,\n      gender: patient.gender,\n      address:{\n        number: patient.number,\n        street: patient.street,\n        town: patient.town,\n        parish: patient.parish,\n        postOffice: patient.postOffice\n      },\n      registrationDate: patient.registrationDate,\n      referralDate: patient.referralDate,\n      expirationDate: patient.expirationDate,\n      attendingPhysician:{\n        name: patient.attendingPhysician.name,\n        email: patient.attendingPhysician.email,\n        phone: patient.attendingPhysician.phone\n      },\n      referringDoctor: {\n        name: patient.referringDoctor.name,\n        email: patient.referringDoctor.email,\n        phone: patient.referringDoctor.phone\n      },\n      contact: {\n        phone: patient.contact.phone,\n        email: patient.contact.email\n      }\n    },\n    date: date,\n    prescription: event.target.formGridDocGenPrescriptionPescription.value,\n    generic: generic,\n    repeat: event.target.formGridDocGenPrescriptionRepeat.value,\n    consultantName: this.context.selectedUser.name,\n    letterheadImage: \"https://photos.app.goo.gl/SrVuahmr14khGBoM9\"\n  }\n  this.setState({ creatingDocument: true, pdfData: pdfData, pdfType: \"prescription\" })\n}\n\n\ncreateProcedureConsentInput = (event) => {\n\n  event.preventDefault();\n\n  if (\n    event.target.formGridDocGenProcedureConsentGiver.value.trim().length === 0 ||\n    event.target.formGridDocGenProcedureConsentGiverRelation.value.trim().length === 0 ||\n    event.target.formGridDocGenProcedureConsentProcedure.value.trim().length === 0\n  ) {\n    this.setState({userAlert: \"Blank fields detected... please check your info and try again\"});\n    return;\n  }\n\n  const date = new Date().toISOString().substring(0, 10);\n  const patient = this.state.selectedPatient;\n  const pdfData = {\n    title: \"Consent for Medical/Surgical Treatment\",\n    patient: {\n      _id: patient._id,\n      title: patient.title,\n      name: patient.name,\n      dob: patient.dob,\n      age: patient.age,\n      gender: patient.gender,\n      address:{\n        number: patient.number,\n        street: patient.street,\n        town: patient.town,\n        parish: patient.parish,\n        postOffice: patient.postOffice\n      },\n      registrationDate: patient.registrationDate,\n      referralDate: patient.referralDate,\n      expirationDate: patient.expirationDate,\n      attendingPhysician:{\n        name: patient.attendingPhysician.name,\n        email: patient.attendingPhysician.email,\n        phone: patient.attendingPhysician.phone\n      },\n      referringDoctor: {\n        name: patient.referringDoctor.name,\n        email: patient.referringDoctor.email,\n        phone: patient.referringDoctor.phone\n      },\n      contact: {\n        phone: patient.contact.phone,\n        email: patient.contact.email\n      }\n    },\n    date: date,\n    consentGiver: event.target.formGridDocGenProcedureConsentGiver.value,\n    consentGiverRelation: event.target.formGridDocGenProcedureConsentGiverRelation.value,\n    consentProcedure: event.target.formGridDocGenProcedureConsentProcedure.value,\n    referral: \"test procedure consent...\",\n    letterheadImage: \"https://photos.app.goo.gl/SrVuahmr14khGBoM9\"\n  }\n  this.setState({ creatingDocument: true, pdfData: pdfData, pdfType: \"procedureConsent\" })\n}\n\n\ncreateFitToFlyInput = (event) => {\n\n  event.preventDefault();\n\n  if (\n    event.target.formGridDocGenUnfitToFlyClinicalFeatures.value.trim().length === 0 ||\n    event.target.formGridDocGenUnfitToFlyProvisonalInvestigation.value.trim().length === 0 ||\n    event.target.formGridDocGenUnfitToFlyConclusion.value.trim().length === 0\n  ) {\n    this.setState({userAlert: \"Blank fields detected... please check your info and try again\"});\n    return;\n  }\n\n  const date = new Date().toISOString().substring(0, 10);\n  const patient = this.state.selectedPatient;\n  const pdfData = {\n    title: \"Unfit-to-Fly Authorization\",\n    patient: {\n      _id: patient._id,\n      title: patient.title,\n      name: patient.name,\n      dob: patient.dob,\n      age: patient.age,\n      gender: patient.gender,\n      address:{\n        number: patient.number,\n        street: patient.street,\n        town: patient.town,\n        parish: patient.parish,\n        postOffice: patient.postOffice\n      },\n      registrationDate: patient.registrationDate,\n      referralDate: patient.referralDate,\n      expirationDate: patient.expirationDate,\n      attendingPhysician:{\n        name: patient.attendingPhysician.name,\n        email: patient.attendingPhysician.email,\n        phone: patient.attendingPhysician.phone\n      },\n      referringDoctor: {\n        name: patient.referringDoctor.name,\n        email: patient.referringDoctor.email,\n        phone: patient.referringDoctor.phone\n      },\n      contact: {\n        phone: patient.contact.phone,\n        email: patient.contact.email\n      }\n    },\n    date: date,\n    clinicalFeatures: event.target.formGridDocGenUnfitToFlyClinicalFeatures.value,\n    provisionalInvestigation: event.target.formGridDocGenUnfitToFlyProvisonalInvestigation.value,\n    conclusion: event.target.formGridDocGenUnfitToFlyConclusion.value,\n    input: event.target.formGridDocGenProcedureConsent.value,\n    referral: \"test fit-to-fly authorization...\",\n    letterheadImage: \"https://photos.app.goo.gl/SrVuahmr14khGBoM9\"\n  }\n  this.setState({ creatingDocument: true, pdfData: pdfData, pdfType: \"fitToFlyAuthorization\" })\n}\n\ncreateTreatmentInstructionInput = (event) => {\n\n  event.preventDefault();\n\n  if (\n    event.target.formGridDocGenTreatmentInstruction.value.trim().length === 0\n  ) {\n    this.setState({userAlert: \"Blank fields detected... please check your info and try again\"});\n    return;\n  }\n\n  const date = new Date().toISOString().substring(0, 10);\n  const patient = this.state.selectedPatient;\n  const pdfData = {\n    title: \"Treatment Instructions\",\n    patient: {\n      _id: patient._id,\n      title: patient.title,\n      name: patient.name,\n      dob: patient.dob,\n      age: patient.age,\n      gender: patient.gender,\n      address:{\n        number: patient.number,\n        street: patient.street,\n        town: patient.town,\n        parish: patient.parish,\n        postOffice: patient.postOffice\n      },\n      registrationDate: patient.registrationDate,\n      referralDate: patient.referralDate,\n      expirationDate: patient.expirationDate,\n      attendingPhysician:{\n        name: patient.attendingPhysician.name,\n        email: patient.attendingPhysician.email,\n        phone: patient.attendingPhysician.phone\n      },\n      referringDoctor: {\n        name: patient.referringDoctor.name,\n        email: patient.referringDoctor.email,\n        phone: patient.referringDoctor.phone\n      },\n      contact: {\n        phone: patient.contact.phone,\n        email: patient.contact.email\n      }\n    },\n    date: date,\n    treatmentInstruction: event.target.formGridDocGenTreatmentInstruction.value,\n    referral: \"test Treatment Instruction...\",\n    letterheadImage: \"https://photos.app.goo.gl/SrVuahmr14khGBoM9\"\n  }\n  this.setState({ creatingDocument: true, pdfData: pdfData, pdfType: \"treatmentInstruction\" })\n}\n\nclosePdfCreator = () => {\n  this.setState({creatingDocument: false, pdfData: null, pdfType: null } )\n}\n\nshowDetailHandler = patientId => {\n  this.setState({ visitList: [] })\n  this.setState(prevState => {\n    const selectedPatient = prevState.patients.find(e => e._id === patientId);\n    this.context.selectedPatient = selectedPatient;\n    this.context.selectedPatientId = selectedPatient._id;\n    return { selectedPatient: selectedPatient };\n  });\n};\n\nselectVisit = (props) => {\n  this.setState({ selectedVisit: props })\n}\n\ncloseVisit = () => {\n  this.setState({\n    visit: null,\n    selectedVisit: null,\n  })\n}\n\ncreateVisitChecklistUpdate = (props) => {\n  this.setState({ userAlert: `creating visit: ${props} addedd...`})\n  let newState = Object.assign({}, this.state);\n  newState.createVisitChecklist[props] = true;\n  this.setState(newState);\n}\n\nnewVisitComplete = () => {\n  this.setState({\n      userAlert: \"New Visit creation complete...\",\n      newVisit: false,\n      createVisitChecklist: {\n        consultant: true,\n        complaint: true,\n        diagnosis: true,\n        examination: true,\n        investigation: true,\n        survey: true,\n        systematicInquiry: true,\n        treatment: true,\n        vitals: true,\n        billing: true,\n        vigilance: true\n      }\n  })\n}\n\nshowSidebar = () => {\n  console.log(`\n    showing sidebar...\n    `);\n    this.setState({\n      sidebarShow: true,\n      mCol2Size: 9\n    })\n}\n\nhideSidebar = () => {\n  console.log(`\n    hiding sidebar...\n    `);\n    this.setState({\n      sidebarShow: false,\n      mCol2Size: 11\n    })\n}\n\ncomponentWillUnmount() {\n  this.isActive = false;\n}\n\nrender() {\n    return (\n    <React.Fragment>\n    {this.state.showAttachment === true && (\n      <AttachmentViewer\n        onCloseAttachmentView={this.closeAttachmentView}\n        attachmentFile={this.state.showThisAttachmentFile}\n        attachmentType={this.state.showThisAttachmentType}\n      />\n    )}\n    {this.state.creatingDocument === true && (\n    <PdfCreator\n      pdfType={this.state.pdfType}\n      pdfData={this.state.pdfData}\n      onClosePdfCreator={this.closePdfCreator}\n    />\n    )}\n    <AlertBox\n      authUserId={this.context.userId}\n      alert={this.state.userAlert}\n    />\n    <SidebarControl\n      onShowSidebar={this.showSidebar}\n      onHideSidebar={this.hideSidebar}\n    />\n\n    <Accordion>\n    <Row>\n\n    {this.state.sidebarShow === true && (\n      <Col md={3} className=\"MasterCol1\">\n      <SidebarPage/>\n      </Col>\n    )}\n\n    <Col md={this.state.mCol2Size} className=\"MasterCol2\">\n    <Container className=\"containerCombinedDetail\">\n      <Tab.Container id=\"left-tabs-example\" defaultActiveKey=\"patientDetail\">\n        <Row>\n          <Col md={2} className=\"vertMenu\">\n            <Nav variant=\"pills\" className=\"flex-column\">\n              <Nav.Item>\n                <Nav.Link eventKey=\"MasterList\">MASTER LIST</Nav.Link>\n              </Nav.Item>\n              <Nav.Item>\n                <Nav.Link eventKey=\"disabled\" disabled>Search:</Nav.Link>\n              </Nav.Item>\n              <Nav.Item>\n                <Nav.Link eventKey=\"SearchInput\">Input</Nav.Link>\n              </Nav.Item>\n              <Nav.Item>\n                <Nav.Link eventKey=\"SearchResult\">Results</Nav.Link>\n              </Nav.Item>\n              <Nav.Item>\n                <Nav.Link eventKey=\"patientDetail\">Selected</Nav.Link>\n              </Nav.Item>\n              <Nav.Item>\n                <Nav.Link eventKey=\"patientCreate\">Create New</Nav.Link>\n              </Nav.Item>\n              <Nav.Item>\n                <Nav.Link eventKey=\"disabled\" disabled>Edit:</Nav.Link>\n              </Nav.Item>\n              <Nav.Item>\n                <Nav.Link eventKey=\"patientEditDemographics\">Demographics</Nav.Link>\n              </Nav.Item>\n              <Nav.Item>\n                <Nav.Link eventKey=\"patientEditField\">Single Field</Nav.Link>\n              </Nav.Item>\n              <Nav.Item>\n                <Nav.Link eventKey=\"disabled\" disabled>Add:</Nav.Link>\n              </Nav.Item>\n              <Nav.Item>\n                <Nav.Link eventKey=\"patientAddVisit\">Visit</Nav.Link>\n              </Nav.Item>\n              <Nav.Item>\n                <Nav.Link eventKey=\"patientEditConsultant\">Consultant</Nav.Link>\n              </Nav.Item>\n              <Nav.Item>\n                <Nav.Link eventKey=\"patientEditInsurance\">Insurance</Nav.Link>\n              </Nav.Item>\n              <Nav.Item>\n                <Nav.Link eventKey=\"patientEditNextOfKin\">Next of Kin</Nav.Link>\n              </Nav.Item>\n              <Nav.Item>\n                <Nav.Link eventKey=\"patientEditComplaint\">History</Nav.Link>\n              </Nav.Item>\n              <Nav.Item>\n                <Nav.Link eventKey=\"patientEditSurvey\">Survey</Nav.Link>\n              </Nav.Item>\n              <Nav.Item>\n                <Nav.Link eventKey=\"patientEditSystematicInquiry\">Systematic Inquiry</Nav.Link>\n              </Nav.Item>\n              <Nav.Item>\n                <Nav.Link eventKey=\"patientEditVitals\">Vitals</Nav.Link>\n              </Nav.Item>\n              <Nav.Item>\n                <Nav.Link eventKey=\"patientEditExamination\">Examination</Nav.Link>\n              </Nav.Item>\n              <Nav.Item>\n                <Nav.Link eventKey=\"patientEditHistory\">Past History</Nav.Link>\n              </Nav.Item>\n              <Nav.Item>\n                <Nav.Link eventKey=\"patientEditAllergies\">Allergies</Nav.Link>\n              </Nav.Item>\n              <Nav.Item>\n                <Nav.Link eventKey=\"patientEditMedication\">Medication</Nav.Link>\n              </Nav.Item>\n              <Nav.Item>\n                <Nav.Link eventKey=\"patientEditInvestigation\">Investigation</Nav.Link>\n              </Nav.Item>\n              <Nav.Item>\n                <Nav.Link eventKey=\"patientEditDiagnosis\">Diagnosis</Nav.Link>\n              </Nav.Item>\n              <Nav.Item>\n                <Nav.Link eventKey=\"patientEditTreatment\">Treatment</Nav.Link>\n              </Nav.Item>\n              <Nav.Item>\n                <Nav.Link eventKey=\"patientEditBilling\">Billing</Nav.Link>\n              </Nav.Item>\n              <Nav.Item>\n                <Nav.Link eventKey=\"patientEditVigilance\">Vigilance</Nav.Link>\n              </Nav.Item>\n              <Nav.Item>\n                <Nav.Link eventKey=\"patientEditAttachment\">Attachment</Nav.Link>\n              </Nav.Item>\n              <Nav.Item>\n                <Nav.Link eventKey=\"patientEditNote\">Note</Nav.Link>\n              </Nav.Item>\n              <Nav.Item>\n                <Nav.Link eventKey=\"patientEditTag\">Tag</Nav.Link>\n              </Nav.Item>\n\n            </Nav>\n          </Col>\n\n          <Col md={10}>\n            <Tab.Content>\n              <Tab.Pane eventKey=\"patientDetail\">\n                {this.state.selectedPatient === null && (\n                  <Button variant=\"outline-warning\" size=\"lg\" className=\"confirmEditButton\">\n                    Select a Patient from the Master List\n                  </Button>\n                )}\n                {this.state.selectedPatient === null && (\n                  <Button variant=\"outline-danger\" size=\"lg\" className=\"confirmEditButton\">\n                      Don't forget to select someone from the Staff page before editing Patient Consultant information !!!\n                  </Button>\n                )}\n                {this.state.isLoading === false &&\n                  this.state.selectedPatient !== null && (\n                    <PatientDetail\n                    authUserId={this.context.userId}\n                    token={this.context.token}\n                    patient={this.state.selectedPatient}\n                    users={this.context.users}\n                    onEdit={this.startUpdatePatientHandler}\n                    canDelete={this.state.canDelete}\n                    onDelete={this.modalDeleteHandler}\n                    onGetVisit={this.getPatientVisit}\n                    visit={this.state.visit}\n                    selectedVisit={this.state.selectedVisit}\n                    fetchUsers={this.fetchUsers}\n                    appointmentDelete={this.deletePatientAppointmentItem}\n                    consultantDelete={this.deletePatientConsultantItem}\n                    insuranceDelete={this.deletePatientInsuranceItem}\n                    nextOfKinDelete={this.deletePatientNextOfKinItem}\n                    complaintDelete={this.deletePatientComplaintItem}\n                    surveyDelete={this.deletePatientSurveyItem}\n                    systematicInquiryDelete={this.deletePatientSystematicInquiryItem}\n                    vitalsDelete={this.deletePatientVitalsItem}\n                    examinationDelete={this.deletePatientExaminationItem}\n                    historyDelete={this.deletePatientHistoryItem}\n                    allergiesDelete={this.deletePatientAllergiesItem}\n                    medicationDelete={this.deletePatientMedicationItem}\n                    investigationDelete={this.deletePatientInvestigationItem}\n                    diagnosisDelete={this.deletePatientDiagnosisItem}\n                    treatmentDelete={this.deletePatientTreatmentItem}\n                    billingDelete={this.deletePatientBillingItem}\n                    vigilanceDelete={this.deletePatientVigilanceItem}\n                    attachmentDelete={this.deletePatientAttachmentItem}\n                    noteDelete={this.deletePatientNoteItem}\n                    tagDelete={this.deletePatientTagItem}\n                    onViewAttachment={this.onViewAttachment}\n                    onCreatePdfTest={this.createPdfTest}\n                    onCreateReferralInput={this.createReferralInput}\n                    onCreateOperationReminderInput={this.createOperationReminderInput}\n                    onCreateMiscNoteInput={this.createMiscNoteInput}\n                    onCreateSickNoteInput={this.createSickNoteInput}\n                    onCreateDiagTestInput={this.createDiagTestInput}\n                    onCreateInsuranceNoteInput={this.createInsuranceNoteInput}\n                    onCreatePrescriptionInput={this.createPrescriptionInput}\n                    onCreateProcedureConsentInput={this.createProcedureConsentInput}\n                    onCreateFitToFlyInput={this.createFitToFlyInput}\n                    onCreateTreatmentInstructionInput={this.createTreatmentInstructionInput}\n                    onGetVisitList={this.getVisitList}\n                    visitList={this.state.visitList}\n                    onSelectVisit={this.selectVisit}\n                    onCloseVisit={this.closeVisit}\n                    onSortVisitListAsc={this.getVisitListAsc}\n                    onSortVisitListDesc={this.getVisitListDesc}\n                  />\n                )}\n              </Tab.Pane>\n\n              <Tab.Pane eventKey=\"patientCreate\">\n                <Button variant=\"outline-primary\" size=\"lg\" className=\"confirmEditButton\" onClick={this.startCreatePatientHandler} >Create NEW Patient Profile</Button>\n                {this.state.creating && (\n                  <CreatePatientForm\n                    canCancel\n                    canConfirm\n                    onCancel={this.modalCancelHandler}\n                    onConfirm={this.modalConfirmHandler}\n                    confirmText=\"Confirm\"\n                  />\n                )}\n              </Tab.Pane>\n\n              <Tab.Pane eventKey=\"patientAddVisit\">\n              {this.state.selectedPatient === null && (\n                <Button variant=\"outline-warning\" size=\"lg\" className=\"confirmEditButton\">\n                  Select a Patient from the Master List\n                </Button>\n              )}\n              { this.state.selectedPatient !== null &&\n                this.state.newVisit !== true &&\n              (<Button variant=\"outline-primary\" size=\"lg\" className=\"confirmEditButton\" onClick={this.startCreateVisitHandler} >Add NEW Visit</Button>\n              )}\n                {this.state.selectedPatient !== null &&\n                  this.state.newVisit === true && (\n                    <Accordion defaultActiveKey=\"0\">\n                      <Card>\n                        <Card.Header>\n                          <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"0\">\n                            Guide:\n                          </Accordion.Toggle>\n                        </Card.Header>\n                        <Accordion.Collapse eventKey=\"0\">\n                          <Card.Body>\n                          <Card.Text>\n                            To create a NEW Patient Visit, fill in the forms below.\n                          </Card.Text>\n                          <Card.Text>\n                            Everytime you submit a form with new info, a new item is added to the current Patient visit.\n                          </Card.Text>\n                          <Card.Text>\n                            When you are done with a section click the GREEN Done adding Complaints, Vitals etc and continue to the next form.\n                          </Card.Text>\n                          <Card.Text>\n                            Once you have submitted all the information required scroll to the bottom and click the green button.\n                          </Card.Text>\n                          </Card.Body>\n                        </Accordion.Collapse>\n                      </Card>\n                      <Card>\n                        <Card.Header>\n                          <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"1\">\n                            Consultant\n                          </Accordion.Toggle>\n                        </Card.Header>\n                        <Accordion.Collapse eventKey=\"1\">\n                          <Card.Body>\n                          Add Consultant form:\n                          {this.state.createVisitChecklist.consultant === true && (\n                            <Button variant=\"warning\" size=\"lg\" className=\"formButton\">\n                              Consultant for this Visit has already been added!!\n                            </Button>\n                          )}\n                          {this.state.createVisitChecklist.consultant === false &&\n                          JSON.stringify(this.context.selectedUser) === \"{}\" && (\n                            <Button variant=\"outline-warning\" size=\"lg\" className=\"confirmEditButton\">\n                              Select someone from the Staff page\n                            </Button>\n                          )}\n                          {this.state.createVisitChecklist.consultant === false &&\n                          this.context.selectedUser !== null && (\n                            <Row>\n                            <Card.Text>Add Consultant: {this.context.selectedUser.name}  ...</Card.Text>\n                            <Card.Text> To Paitient: {this.state.selectedPatient.name} ??</Card.Text>\n                            </Row>\n                          )}\n                          {this.state.createVisitChecklist.consultant === false &&\n                          this.context.selectedUser !== null && (\n                            <UpdatePatientConsultantForm\n                              authUserId={this.context.userId}\n                              canConfirm\n                              onCancel={this.modalCancelHandler}\n                              onConfirm={this.updatePatientConsultantHandler}\n                              confirmText=\"Confirm\"\n                              consultant={this.context.selectedUser}\n                              visit\n                              onCreateVisitChecklistUpdate={this.createVisitChecklistUpdate}\n                            />\n                          )}\n                          </Card.Body>\n                        </Accordion.Collapse>\n                      </Card>\n                      <Card>\n                        <Card.Header>\n                          <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"2\">\n                            Complaint\n                          </Accordion.Toggle>\n                        </Card.Header>\n                        <Accordion.Collapse eventKey=\"2\">\n                          <Card.Body>\n                          Add Complaint form:\n                          {this.state.createVisitChecklist.complaint === true && (\n                            <Button variant=\"warning\" size=\"lg\" className=\"formButton\">\n                              Complaint for this Visit has already been added!!\n                            </Button>\n                          )}\n                          {this.state.createVisitChecklist.complaint === false && (\n                            <UpdatePatientComplaintForm\n                              authUserId={this.context.userId}\n                              canConfirm\n                              onCancel={this.modalCancelHandler}\n                              onConfirm={this.updatePatientComplaintHandler}\n                              confirmText=\"Confirm\"\n                              patient={this.state.selectedPatient}\n                              visit\n                              onCreateVisitChecklistUpdate={this.createVisitChecklistUpdate}\n                            />\n                          )}\n                          </Card.Body>\n                        </Accordion.Collapse>\n                      </Card>\n                      <Card>\n                        <Card.Header>\n                          <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"3\">\n                            Vitals\n                          </Accordion.Toggle>\n                        </Card.Header>\n                        <Accordion.Collapse eventKey=\"3\">\n                          <Card.Body>\n                          Add Vitals form:\n                          {this.state.createVisitChecklist.vitals === true && (\n                            <Button variant=\"warning\" size=\"lg\" className=\"formButton\">\n                            Vitals for this Visit have already been added!!\n                            </Button>\n                          )}\n                          {this.state.createVisitChecklist.vitals === false && (\n                            <UpdatePatientVitalsForm\n                              authUserId={this.context.userId}\n                              canConfirm\n                              onCancel={this.modalCancelHandler}\n                              onConfirm={this.updatePatientVitalsHandler}\n                              confirmText=\"Confirm\"\n                              patient={this.state.selectedPatient}\n                              visit\n                              onCreateVisitChecklistUpdate={this.createVisitChecklistUpdate}\n                            />\n                          )}\n                          </Card.Body>\n                        </Accordion.Collapse>\n                      </Card>\n                      <Card>\n                        <Card.Header>\n                          <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"4\">\n                            Examination\n                          </Accordion.Toggle>\n                        </Card.Header>\n                        <Accordion.Collapse eventKey=\"4\">\n                          <Card.Body>\n                          Add Examination form:\n                          {this.state.createVisitChecklist.examination === true && (\n                            <Button variant=\"warning\" size=\"lg\" className=\"formButton\">\n                            Examination for this Visit has already been added!!\n                            </Button>\n                          )}\n                          {this.state.createVisitChecklist.examination === false && (\n                            <UpdatePatientExaminationForm\n                              authUserId={this.context.userId}\n                              canConfirm\n                              onCancel={this.modalCancelHandler}\n                              onConfirm={this.updatePatientExaminationHandler}\n                              confirmText=\"Confirm\"\n                              patient={this.state.selectedPatient}\n                              visit\n                              onCreateVisitChecklistUpdate={this.createVisitChecklistUpdate}\n                            />\n                          )}\n                          </Card.Body>\n                        </Accordion.Collapse>\n                      </Card>\n                      <Card>\n                        <Card.Header>\n                          <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"5\">\n                            Survey\n                          </Accordion.Toggle>\n                        </Card.Header>\n                        <Accordion.Collapse eventKey=\"5\">\n                          <Card.Body>\n                          Add Survey form:\n                          {this.state.createVisitChecklist.survey === true && (\n                            <Button variant=\"warning\" size=\"lg\" className=\"formButton\">\n                            Survey for this Visit has already been added!!\n                            </Button>\n                          )}\n                          {this.state.createVisitChecklist.survey === false && (\n                            <UpdatePatientSurveyForm\n                              authUserId={this.context.userId}\n                              canConfirm\n                              onCancel={this.modalCancelHandler}\n                              onConfirm={this.updatePatientSurveyHandler}\n                              confirmText=\"Confirm\"\n                              patient={this.state.selectedPatient}\n                              visit\n                              onCreateVisitChecklistUpdate={this.createVisitChecklistUpdate}\n                            />\n                          )}\n                          </Card.Body>\n                        </Accordion.Collapse>\n                      </Card>\n                      <Card>\n                        <Card.Header>\n                          <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"22\">\n                            SystematicInquiry\n                          </Accordion.Toggle>\n                        </Card.Header>\n                        <Accordion.Collapse eventKey=\"22\">\n                          <Card.Body>\n                          Add Systematic Inquiry form:\n                          {this.state.createVisitChecklist.systematicInquiry === true && (\n                            <Button variant=\"warning\" size=\"lg\" className=\"formButton\">\n                            Systematic Inquiry for this Visit has already been added!!\n                            </Button>\n                          )}\n                          {this.state.createVisitChecklist.systematicInquiry === false && (\n                            <UpdatePatientSystematicInquiryForm\n                              authUserId={this.context.userId}\n                              canConfirm\n                              onCancel={this.modalCancelHandler}\n                              onConfirm={this.updatePatientSystematicInquiryHandler}\n                              confirmText=\"Confirm\"\n                              patient={this.state.selectedPatient}\n                              visit\n                              onCreateVisitChecklistUpdate={this.createVisitChecklistUpdate}\n                            />\n                          )}\n                          </Card.Body>\n                        </Accordion.Collapse>\n                      </Card>\n                      <Card>\n                        <Card.Header>\n                          <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"6\">\n                            Investigation\n                          </Accordion.Toggle>\n                        </Card.Header>\n                        <Accordion.Collapse eventKey=\"6\">\n                          <Card.Body>\n                          Add Investigation form:\n                          {this.state.createVisitChecklist.investigation === true && (\n                            <Button variant=\"warning\" size=\"lg\" className=\"formButton\">\n                            Investigation for this Visit has already been added!!\n                            </Button>\n                          )}\n                          {this.state.createVisitChecklist.investigation === false && (\n                            <UpdatePatientInvestigationForm\n                              authUserId={this.context.userId}\n                              canConfirm\n                              onCancel={this.modalCancelHandler}\n                              onConfirm={this.updatePatientInvestigationHandler}\n                              confirmText=\"Confirm\"\n                              patient={this.state.selectedPatient}\n                              visit\n                              onCreateVisitChecklistUpdate={this.createVisitChecklistUpdate}\n                            />\n                          )}\n                          </Card.Body>\n                        </Accordion.Collapse>\n                      </Card>\n                      <Card>\n                        <Card.Header>\n                          <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"7\">\n                            Diagnosis\n                          </Accordion.Toggle>\n                        </Card.Header>\n                        <Accordion.Collapse eventKey=\"7\">\n                          <Card.Body>\n                          Add Diagnosis form:\n                          {this.state.createVisitChecklist.diagnosis === true && (\n                            <Button variant=\"warning\" size=\"lg\" className=\"formButton\">\n                              Diagnosis for this Visit has already been added!!\n                            </Button>\n                          )}\n                          {this.state.createVisitChecklist.diagnosis === false && (\n                            <UpdatePatientDiagnosisForm\n                              authUserId={this.context.userId}\n                              canConfirm\n                              onCancel={this.modalCancelHandler}\n                              onConfirm={this.updatePatientDiagnosisHandler}\n                              confirmText=\"Confirm\"\n                              patient={this.state.selectedPatient}\n                              visit\n                              onCreateVisitChecklistUpdate={this.createVisitChecklistUpdate}\n                            />\n                          )}\n                          </Card.Body>\n                        </Accordion.Collapse>\n                      </Card>\n                      <Card>\n                        <Card.Header>\n                          <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"8\">\n                            Treatment\n                          </Accordion.Toggle>\n                        </Card.Header>\n                        <Accordion.Collapse eventKey=\"8\">\n                          <Card.Body>\n                          Add Treatment form:\n                          {this.state.createVisitChecklist.treatment === true && (\n                            <Button variant=\"warning\" size=\"lg\" className=\"formButton\">\n                            Treatment for this Visit has already been added!!\n                            </Button>\n                          )}\n                          {this.state.createVisitChecklist.treatment === false && (\n                            <UpdatePatientTreatmentForm\n                              authUserId={this.context.userId}\n                              canCancel\n                              canConfirm\n                              onCancel={this.modalCancelHandler}\n                              onConfirm={this.updatePatientTreatmentHandler}\n                              confirmText=\"Confirm\"\n                              patient={this.state.selectedPatient}\n                              visit\n                              onCreateVisitChecklistUpdate={this.createVisitChecklistUpdate}\n                            />\n                          )}\n                          </Card.Body>\n                        </Accordion.Collapse>\n                      </Card>\n                      <Card>\n                        <Card.Header>\n                          <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"9\">\n                            Billing\n                          </Accordion.Toggle>\n                        </Card.Header>\n                        <Accordion.Collapse eventKey=\"9\">\n                          <Card.Body>\n                          Add Billing form:\n                          {this.state.createVisitChecklist.billing === true && (\n                            <Button variant=\"warning\" size=\"lg\" className=\"formButton\">\n                              Billing for this Visit has already been added!!\n                            </Button>\n                          )}\n                          {this.state.createVisitChecklist.billing === false && (\n                          <UpdatePatientBillingForm\n                              authUserId={this.context.userId}\n                              canConfirm\n                              onCancel={this.modalCancelHandler}\n                              onConfirm={this.updatePatientBillingHandler}\n                              confirmText=\"Confirm\"\n                              patient={this.state.selectedPatient}\n                              visit\n                              onCreateVisitChecklistUpdate={this.createVisitChecklistUpdate}\n                            />\n                          )}\n                          </Card.Body>\n                        </Accordion.Collapse>\n                      </Card>\n                      <Card>\n                        <Card.Header>\n                          <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"23\">\n                            Vigilance\n                          </Accordion.Toggle>\n                        </Card.Header>\n                        <Accordion.Collapse eventKey=\"23\">\n                          <Card.Body>\n                          Add Vigilance form:\n                          {this.state.createVisitChecklist.vigilance === true && (\n                            <Button variant=\"warning\" size=\"lg\" className=\"formButton\">\n                            Vigilance for this Visit has already been added!!\n                            </Button>\n                          )}\n                          {this.state.createVisitChecklist.vigilance === false && (\n                            <UpdatePatientVigilanceForm\n                              authUserId={this.context.userId}\n                              canConfirm\n                              onCancel={this.modalCancelHandler}\n                              onConfirm={this.updatePatientVigilanceHandler}\n                              confirmText=\"Confirm\"\n                              patient={this.state.selectedPatient}\n                              visit\n                              onCreateVisitChecklistUpdate={this.createVisitChecklistUpdate}\n                            />\n                          )}\n                          </Card.Body>\n                        </Accordion.Collapse>\n                      </Card>\n                      <Card>\n                        <Card.Header>\n                          <Accordion.Toggle as={Button} variant=\"link\" eventKey=\"10\">\n                            Finished ?\n                          </Accordion.Toggle>\n                        </Card.Header>\n                        <Accordion.Collapse eventKey=\"10\">\n                          <Card.Body>\n                          <Button variant=\"success\" className=\"formButton\" onClick={this.newVisitComplete}>\n                          Done creating Visit\n                          </Button>\n                          </Card.Body>\n                        </Accordion.Collapse>\n                      </Card>\n                    </Accordion>\n                )}\n              </Tab.Pane>\n\n              <Tab.Pane eventKey=\"patientEditDemographics\">\n                {this.state.selectedPatient === null && (\n                  <Button variant=\"outline-warning\" size=\"lg\" className=\"confirmEditButton\">\n                    Select a Patient from the Master List\n                  </Button>\n                )}\n                {this.state.selectedPatient !== null && (\n                  <Button variant=\"outline-primary\" size=\"lg\" className=\"confirmEditButton\" onClick={this.startUpdatePatientHandler}>Edit Demographics</Button>\n                )}\n                {this.state.updating &&\n                this.state.selectedPatient !== null && (\n                  <UpdatePatientForm\n                    authUserId={this.context.userId}\n                    canCancel\n                    canConfirm\n                    onCancel={this.modalCancelHandler}\n                    onConfirm={this.modalConfirmUpdateHandler}\n                    confirmText=\"Confirm\"\n                    patient={this.state.selectedPatient}\n                  />\n                )}\n              </Tab.Pane>\n\n              <Tab.Pane eventKey=\"patientEditField\">\n                {this.state.selectedPatient === null && (\n                  <Button variant=\"outline-warning\" size=\"lg\" className=\"confirmEditButton\">\n                    Select a Patient from the Master List\n                  </Button>\n                )}\n                {this.state.selectedPatient !== null && (\n                  <Button variant=\"outline-primary\" size=\"lg\" className=\"confirmEditButton\" onClick={this.startUpdatePatientHandler}>Edit a Single Field</Button>\n                )}\n                {this.state.updating &&\n                this.state.selectedPatient !== null && (\n                  <UpdatePatientFieldForm\n                    authUserId={this.context.userId}\n                    canCancel\n                    canConfirm\n                    onCancel={this.modalCancelHandler}\n                    onConfirm={this.modalConfirmUpdateFieldHandler}\n                    confirmText=\"Confirm\"\n                    patient={this.state.selectedPatient}\n                  />\n                )}\n              </Tab.Pane>\n\n              <Tab.Pane eventKey=\"patientEditConsultant\">\n                {this.state.selectedPatient === null && (\n                  <Button variant=\"outline-warning\" size=\"lg\" className=\"confirmEditButton\">\n                    Select a Patient from the Master List\n                  </Button>\n                )}\n                {this.state.selectedPatient !== null && (\n                  <Button variant=\"outline-primary\" value='consultant' size=\"lg\" className=\"confirmEditButton\" onClick={this.updatePatientSpecial.bind(this)}>Add a Consultant</Button>\n                )}\n                {this.state.patientUpdateField === 'consultant' &&\n                this.state.selectedPatient !== null &&\n                this.context.selectedUser === null && (\n                  <Row>\n                  <Button variant=\"outline-warning\" size=\"lg\" className=\"confirmEditButton\">\n                    Select someone from the Staff page\n                  </Button>\n                  </Row>\n                )}\n                {this.state.patientUpdateField === 'consultant' &&\n                this.state.selectedPatient !== null && (\n                  <Row>\n                  <p>Add Consultant: {this.context.selectedUser.name}  ...</p>\n                  <p> To Paitient: {this.state.selectedPatient.name} ??</p>\n                  </Row>\n                )}\n                {this.state.patientUpdateField === 'consultant' &&\n                this.state.selectedPatient !== null && (\n                  <UpdatePatientConsultantForm\n                    authUserId={this.context.userId}\n                    canCancel\n                    canConfirm\n                    onCancel={this.modalCancelHandler}\n                    onConfirm={this.updatePatientConsultantHandler}\n                    confirmText=\"Confirm\"\n                    consultant={this.context.selectedUser}\n                  />\n                )}\n              </Tab.Pane>\n\n              <Tab.Pane eventKey=\"patientEditInsurance\">\n                {this.state.selectedPatient === null && (\n                  <Button variant=\"outline-warning\" size=\"lg\" className=\"confirmEditButton\">\n                    Select a Patient from the Master List\n                  </Button>\n                )}\n                {this.state.selectedPatient !== null && (\n                  <Button variant=\"outline-primary\" value='insurance' size=\"lg\" className=\"confirmEditButton\" onClick={this.updatePatientSpecial.bind(this)}>Add Insurance</Button>\n                )}\n                {this.state.patientUpdateField === 'insurance' &&\n                this.state.selectedPatient !== null && (\n                  <UpdatePatientInsuranceForm\n                    authUserId={this.context.userId}\n                    canCancel\n                    canConfirm\n                    onCancel={this.modalCancelHandler}\n                    onConfirm={this.updatePatientInsuranceHandler}\n                    confirmText=\"Confirm\"\n                    patient={this.state.selectedPatient}\n                  />\n                )}\n              </Tab.Pane>\n\n              <Tab.Pane eventKey=\"patientEditNextOfKin\">\n                {this.state.selectedPatient === null && (\n                  <Button variant=\"outline-warning\" size=\"lg\">\n                    Select a Patient from the Master List\n                  </Button>\n                )}\n                {this.state.selectedPatient !== null && (\n                  <Button variant=\"outline-primary\" value='nextOfKin' size=\"lg\" className=\"confirmEditButton\" onClick={this.updatePatientSpecial.bind(this)}>Add NextOfKin</Button>\n                )}\n                {this.state.patientUpdateField === 'nextOfKin' &&\n                this.state.selectedPatient !== null\n                && (\n                  <UpdatePatientNextOfKinForm\n                    authUserId={this.context.userId}\n                    canCancel\n                    canConfirm\n                    onCancel={this.modalCancelHandler}\n                    onConfirm={this.updatePatientNextOfKinHandler}\n                    confirmText=\"Confirm\"\n                    patient={this.state.selectedPatient}\n                  />\n                )}\n              </Tab.Pane>\n\n              <Tab.Pane eventKey=\"patientEditComplaint\">\n                {this.state.selectedPatient === null && (\n                  <Button variant=\"outline-warning\" size=\"lg\" className=\"confirmEditButton\">\n                    Select a Patient from the Master List\n                  </Button>\n                )}\n                {this.state.selectedPatient !== null && (\n                  <Button variant=\"outline-primary\" value='complaint' size=\"lg\" className=\"confirmEditButton\" onClick={this.updatePatientSpecial.bind(this)}>Add History</Button>\n                )}\n                {this.state.patientUpdateField === 'complaint' &&\n                this.state.selectedPatient !== null && (\n                  <UpdatePatientComplaintForm\n                    authUserId={this.context.userId}\n                    canCancel\n                    canConfirm\n                    onCancel={this.modalCancelHandler}\n                    onConfirm={this.updatePatientComplaintHandler}\n                    confirmText=\"Confirm\"\n                    patient={this.state.selectedPatient}\n                  />\n                )}\n              </Tab.Pane>\n\n              <Tab.Pane eventKey=\"patientEditSurvey\">\n                {this.state.selectedPatient === null && (\n                  <Button variant=\"outline-warning\" size=\"lg\" className=\"confirmEditButton\">\n                    Select a Patient from the Master List\n                  </Button>\n                )}\n                {this.state.selectedPatient !== null && (\n                  <Button variant=\"outline-primary\" value='survey' size=\"lg\" className=\"confirmEditButton\" onClick={this.updatePatientSpecial.bind(this)}>Add Survey</Button>\n                )}\n                {this.state.patientUpdateField === 'survey' &&\n                this.state.selectedPatient !== null && (\n                  <UpdatePatientSurveyForm\n                    authUserId={this.context.userId}\n                    canCancel\n                    canConfirm\n                    onCancel={this.modalCancelHandler}\n                    onConfirm={this.updatePatientSurveyHandler}\n                    confirmText=\"Confirm\"\n                    patient={this.state.selectedPatient}\n                  />\n                )}\n              </Tab.Pane>\n\n              <Tab.Pane eventKey=\"patientEditSystematicInquiry\">\n                {this.state.selectedPatient === null && (\n                  <Button variant=\"outline-warning\" size=\"lg\" className=\"confirmEditButton\">\n                    Select a Patient from the Master List\n                  </Button>\n                )}\n                {this.state.selectedPatient !== null && (\n                  <Button variant=\"outline-primary\" value='systematicInquiry' size=\"lg\" className=\"confirmEditButton\" onClick={this.updatePatientSpecial.bind(this)}>Add Systematic Inquiry</Button>\n                )}\n                {this.state.patientUpdateField === 'systematicInquiry' &&\n                this.state.selectedPatient !== null\n                && (\n                  <UpdatePatientSystematicInquiryForm\n                    authUserId={this.context.userId}\n                    canCancel\n                    canConfirm\n                    onCancel={this.modalCancelHandler}\n                    onConfirm={this.updatePatientSystematicInquiryHandler}\n                    confirmText=\"Confirm\"\n                    patient={this.state.selectedPatient}\n                  />\n                )}\n              </Tab.Pane>\n\n              <Tab.Pane eventKey=\"patientEditVitals\">\n                {this.state.selectedPatient === null && (\n                  <Button variant=\"outline-warning\" size=\"lg\">\n                    Select a Patient from the Master List\n                  </Button>\n                )}\n                {this.state.selectedPatient !== null && (\n                  <Button variant=\"outline-primary\" value='vitals' size=\"lg\" className=\"confirmEditButton\" onClick={this.updatePatientSpecial.bind(this)}>Add Vitals</Button>\n                )}\n                {this.state.patientUpdateField === 'vitals' &&\n                this.state.selectedPatient !== null && (\n                  <UpdatePatientVitalsForm\n                    authUserId={this.context.userId}\n                    canCancel\n                    canConfirm\n                    onCancel={this.modalCancelHandler}\n                    onConfirm={this.updatePatientVitalsHandler}\n                    confirmText=\"Confirm\"\n                    patient={this.state.selectedPatient}\n                  />\n                )}\n              </Tab.Pane>\n\n              <Tab.Pane eventKey=\"patientEditExamination\">\n                {this.state.selectedPatient === null && (\n                  <Button variant=\"outline-warning\" size=\"lg\">\n                    Select a Patient from the Master List\n                  </Button>\n                )}\n                {this.state.selectedPatient !== null && (\n                  <Button variant=\"outline-primary\" value='examintion' size=\"lg\" className=\"confirmEditButton\" onClick={this.updatePatientSpecial.bind(this)}>Add Examination</Button>\n                )}\n                {this.state.patientUpdateField === 'examintion' &&\n                this.state.selectedPatient !== null && (\n                  <UpdatePatientExaminationForm\n                    authUserId={this.context.userId}\n                    canCancel\n                    canConfirm\n                    onCancel={this.modalCancelHandler}\n                    onConfirm={this.updatePatientExaminationHandler}\n                    confirmText=\"Confirm\"\n                    patient={this.state.selectedPatient}\n                  />\n                )}\n              </Tab.Pane>\n\n              <Tab.Pane eventKey=\"patientEditHistory\">\n                {this.state.selectedPatient === null && (\n                  <Button variant=\"outline-warning\" size=\"lg\">\n                    Select a Patient from the Master List\n                  </Button>\n                )}\n                {this.state.selectedPatient !== null && (\n                  <Button variant=\"outline-primary\" value='history' size=\"lg\" className=\"confirmEditButton\" onClick={this.updatePatientSpecial.bind(this)}>Add Past History</Button>\n                )}\n                {this.state.patientUpdateField === 'history' &&\n                this.state.selectedPatient !== null\n                && (\n                  <UpdatePatientHistoryForm\n                  authUserId={this.context.userId}\n                  canCancel\n                    canConfirm\n                    onCancel={this.modalCancelHandler}\n                    onConfirm={this.updatePatientHistoryHandler}\n                    confirmText=\"Confirm\"\n                    patient={this.state.selectedPatient}\n                  />\n                )}\n              </Tab.Pane>\n\n              <Tab.Pane eventKey=\"patientEditAllergies\">\n                {this.state.selectedPatient === null && (\n                  <Button variant=\"outline-warning\" size=\"lg\">\n                    Select a Patient from the Master List\n                  </Button>\n                )}\n                {this.state.selectedPatient !== null && (\n                  <Button variant=\"outline-primary\" value='allergies' size=\"lg\" className=\"confirmEditButton\" onClick={this.updatePatientSpecial.bind(this)}>Add Allergies</Button>\n                )}\n                {this.state.patientUpdateField === 'allergies' &&\n                this.state.selectedPatient !== null\n                && (\n                  <UpdatePatientAllergiesForm\n                    authUserId={this.context.userId}\n                    canCancel\n                    canConfirm\n                    onCancel={this.modalCancelHandler}\n                    onConfirm={this.updatePatientAllergiesHandler}\n                    confirmText=\"Confirm\"\n                    patient={this.state.selectedPatient}\n                  />\n                )}\n              </Tab.Pane>\n\n              <Tab.Pane eventKey=\"patientEditMedication\">\n                {this.state.selectedPatient === null && (\n                  <Button variant=\"outline-warning\" size=\"lg\">\n                    Select a Patient from the Master List\n                  </Button>\n                )}\n                {this.state.selectedPatient !== null && (\n                  <Button variant=\"outline-primary\" value='medication' size=\"lg\" className=\"confirmEditButton\" onClick={this.updatePatientSpecial.bind(this)}>Add Medication</Button>\n                )}\n                {this.state.patientUpdateField === 'medication' &&\n                this.state.selectedPatient !== null\n                && (\n                  <UpdatePatientMedicationForm\n                  authUserId={this.context.userId}\n                  canCancel\n                    canConfirm\n                    onCancel={this.modalCancelHandler}\n                    onConfirm={this.updatePatientMedicationHandler}\n                    confirmText=\"Confirm\"\n                    patient={this.state.selectedPatient}\n                  />\n                )}\n              </Tab.Pane>\n\n              <Tab.Pane eventKey=\"patientEditInvestigation\">\n                {this.state.selectedPatient === null && (\n                  <Button variant=\"outline-warning\" size=\"lg\" className=\"confirmEditButton\">\n                    Select a Patient from the Master List\n                  </Button>\n                )}\n                {this.state.selectedPatient !== null && (\n                  <Button variant=\"outline-primary\" value='investigation' size=\"lg\" className=\"confirmEditButton\" onClick={this.updatePatientSpecial.bind(this)}>Add Investigation</Button>\n                )}\n                {this.state.patientUpdateField === 'investigation' &&\n                this.state.selectedPatient !== null\n                && (\n                  <UpdatePatientInvestigationForm\n                        authUserId={this.context.userId}\n                        canCancel\n                          canConfirm\n                          onCancel={this.modalCancelHandler}\n                          onConfirm={this.updatePatientInvestigationHandler}\n                          confirmText=\"Confirm\"\n                          patient={this.state.selectedPatient}\n                        />\n                )}\n              </Tab.Pane>\n\n              <Tab.Pane eventKey=\"patientEditDiagnosis\">\n                {this.state.selectedPatient === null && (\n                  <Button variant=\"outline-warning\" size=\"lg\" className=\"confirmEditButton\">\n                    Select a Patient from the Master List\n                  </Button>\n                )}\n                {this.state.selectedPatient !== null && (\n                  <Button variant=\"outline-primary\" value='diagnosis' size=\"lg\" className=\"confirmEditButton\" onClick={this.updatePatientSpecial.bind(this)}>Add Diagnosis</Button>\n                )}\n                {this.state.patientUpdateField === 'diagnosis' &&\n                this.state.selectedPatient !== null\n                && (\n                  <UpdatePatientDiagnosisForm\n                        authUserId={this.context.userId}\n                        canCancel\n                          canConfirm\n                          onCancel={this.modalCancelHandler}\n                          onConfirm={this.updatePatientDiagnosisHandler}\n                          confirmText=\"Confirm\"\n                          patient={this.state.selectedPatient}\n                        />\n                )}\n              </Tab.Pane>\n\n              <Tab.Pane eventKey=\"patientEditTreatment\">\n                {this.state.selectedPatient === null && (\n                  <Button variant=\"outline-warning\" size=\"lg\">\n                    Select a Patient from the Master List\n                  </Button>\n                )}\n                {this.state.selectedPatient !== null && (\n                  <Button variant=\"outline-primary\" value='treatment' size=\"lg\" className=\"confirmEditButton\" onClick={this.updatePatientSpecial.bind(this)}>Add Treatment</Button>\n                )}\n                {this.state.patientUpdateField === 'treatment' &&\n                this.state.selectedPatient !== null\n                && (\n                  <UpdatePatientTreatmentForm\n                        authUserId={this.context.userId}\n                        canCancel\n                          canConfirm\n                          onCancel={this.modalCancelHandler}\n                          onConfirm={this.updatePatientTreatmentHandler}\n                          confirmText=\"Confirm\"\n                          patient={this.state.selectedPatient}\n                        />\n                )}\n              </Tab.Pane>\n\n              <Tab.Pane eventKey=\"patientEditBilling\">\n                {this.state.selectedPatient === null && (\n                  <Button variant=\"outline-warning\" size=\"lg\">\n                    Select a Patient from the Master List\n                  </Button>\n                )}\n                {this.state.selectedPatient !== null && (\n                  <Button variant=\"outline-primary\" value='billing' size=\"lg\" className=\"confirmEditButton\" onClick={this.updatePatientSpecial.bind(this)}>Add Billing</Button>\n                )}\n                {this.state.patientUpdateField === 'billing' &&\n                this.state.selectedPatient !== null\n                && (\n                  <UpdatePatientBillingForm\n                        authUserId={this.context.userId}\n                        canCancel\n                          canConfirm\n                          onCancel={this.modalCancelHandler}\n                          onConfirm={this.updatePatientBillingHandler}\n                          confirmText=\"Confirm\"\n                          patient={this.state.selectedPatient}\n                        />\n                )}\n              </Tab.Pane>\n\n              <Tab.Pane eventKey=\"patientEditVigilance\">\n                {this.state.selectedPatient === null && (\n                  <Button variant=\"outline-warning\" size=\"lg\">\n                    Select a Patient from the Master List\n                  </Button>\n                )}\n                {this.state.selectedPatient !== null && (\n                  <Button variant=\"outline-primary\" value='vigilance' size=\"lg\" className=\"confirmEditButton\" onClick={this.updatePatientSpecial.bind(this)}>Add Vigilance</Button>\n                )}\n                {this.state.patientUpdateField === 'vigilance' &&\n                this.state.selectedPatient !== null\n                && (\n                  <UpdatePatientVigilanceForm\n                        authUserId={this.context.userId}\n                        canCancel\n                          canConfirm\n                          onCancel={this.modalCancelHandler}\n                          onConfirm={this.updatePatientVigilanceHandler}\n                          confirmText=\"Confirm\"\n                          patient={this.state.selectedPatient}\n                        />\n                )}\n              </Tab.Pane>\n\n              <Tab.Pane eventKey=\"patientEditAttachment\">\n                {this.state.selectedPatient === null && (\n                  <Button variant=\"outline-warning\" size=\"lg\" className=\"confirmEditButton\">\n                    Select a Patient from the Master List\n                  </Button>\n                )}\n                {this.state.selectedPatient !== null && (\n                  <Button variant=\"outline-primary\" value='attachment' size=\"lg\" className=\"confirmEditButton\" onClick={this.updatePatientSpecial.bind(this)}>Add Attachment</Button>\n                )}\n                {this.state.patientUpdateField === 'attachment' &&\n                this.state.selectedPatient !== null\n                && (\n                  <UpdatePatientAttachmentForm\n                        authUserId={this.context.userId}\n                        canCancel\n                          canConfirm\n                          onCancel={this.modalCancelHandler}\n                          onConfirm={this.updatePatientAttachmentHandler}\n                          confirmText=\"Confirm\"\n                          patient={this.state.selectedPatient}\n                        />\n                      )}\n              </Tab.Pane>\n\n              <Tab.Pane eventKey=\"patientEditNote\">\n                {this.state.selectedPatient === null && (\n                  <Button variant=\"outline-warning\" size=\"lg\" className=\"confirmEditButton\">\n                    Select a Patient from the Master List\n                  </Button>\n                )}\n                {this.state.selectedPatient !== null && (\n                  <Button variant=\"outline-primary\" value='notes' size=\"lg\" className=\"confirmEditButton\" onClick={this.updatePatientSpecial.bind(this)}>Add Note</Button>\n                )}\n                {this.state.patientUpdateField === 'notes' &&\n                this.state.selectedPatient !== null\n                && (\n                  <UpdatePatientNoteForm\n                        authUserId={this.context.userId}\n                        canCancel\n                          canConfirm\n                          onCancel={this.modalCancelHandler}\n                          onConfirm={this.updatePatientNoteHandler}\n                          confirmText=\"Confirm\"\n                          patient={this.state.selectedPatient}\n                        />\n                      )}\n              </Tab.Pane>\n\n              <Tab.Pane eventKey=\"patientEditTag\">\n                {this.state.selectedPatient === null && (\n                  <Button variant=\"outline-warning\" size=\"lg\" className=\"confirmEditButton\">\n                    Select a Patient from the Master List\n                  </Button>\n                )}\n                {this.state.selectedPatient !== null && (\n                  <Button variant=\"outline-primary\" value='tags' size=\"lg\" className=\"confirmEditButton\" onClick={this.updatePatientSpecial.bind(this)}>Add Tag</Button>\n                )}\n                {this.state.patientUpdateField === 'tags' &&\n                this.state.selectedPatient !== null\n                && (\n                  <UpdatePatientTagForm\n                        authUserId={this.context.userId}\n                        canCancel\n                          canConfirm\n                          onCancel={this.modalCancelHandler}\n                          onConfirm={this.updatePatientTagHandler}\n                          confirmText=\"Confirm\"\n                          patient={this.state.selectedPatient}\n                        />\n                      )}\n              </Tab.Pane>\n\n              <Tab.Pane eventKey=\"MasterList\">\n                <Container className=\"containerUserMasterList\">\n                <Row className=\"searchListRow\">\n                <Button variant=\"primary\" size=\"sm\" onClick={this.fetchPatientsAsc}>\n                   Sort Asc\n                 </Button>\n                <Button variant=\"info\" size=\"sm\" onClick={this.fetchPatientsDesc}>\n                   Sort Desc\n                 </Button>\n                {this.state.isLoading ? (\n                  <Spinner />\n                ) : (\n                  <PatientList\n                    patients={this.state.patients}\n                    authUserId={this.context.userId}\n                    onViewDetail={this.showDetailHandler}\n                  />\n                )}\n                </Row>\n                </Container>\n              </Tab.Pane>\n\n              <Tab.Pane eventKey=\"SearchInput\">\n                <Container className=\"containerSearchUserInput\">\n                  {this.context.token && (\n                  <Row className=\"searchUserRowAdd\">\n                  <Button variant=\"primary\" onClick={this.startSearchPatientHandler}>Search</Button>\n                  </Row>\n                )}\n\n                <Row className=\"searchUserRowForm\">\n                <Col md={10} className=\"searchUserColForm\">\n                <Tabs defaultActiveKey=\"Field\" id=\"uncontrolled-tab-example\">\n                <Tab eventKey=\"Search\" title=\"Search:\" disabled>\n                </Tab>\n                <Tab eventKey=\"Field\" title=\"Search by Field:\">\n                {this.state.searching !== true && (\n                  <Button variant=\"outline-warning\" className=\"confirmEditButton\" size=\"lg\">\n                    Click the 'Search' Button start\n                  </Button>\n                )}\n                {this.state.searching === true && (\n                  <SearchPatientForm\n                  authUserId={this.context.userId}\n                  canCancel\n                    canConfirm\n                    onCancel={this.modalCancelHandler}\n                    onConfirm={this.modalConfirmSearchHandler}\n                    confirmText=\"Search\"\n                    patient={this.context.selectedPatient}\n                  />\n                )}\n                </Tab>\n                <Tab eventKey=\"Id\" title=\"Search by ID:\">\n                {this.state.searching !== true && (\n                  <Button variant=\"outline-warning\" className=\"confirmEditButton\" size=\"lg\">\n                    Click the 'Search' Button start\n                  </Button>\n                )}\n                {this.state.searching === true && (\n                  <SearchPatientIdForm\n                  authUserId={this.context.userId}\n                  canCancel\n                    canConfirm\n                    onCancel={this.modalCancelHandler}\n                    onConfirm={this.modalConfirmSearchIdHandler}\n                    confirmText=\"Search\"\n                    patient={this.context.selectedPatient}\n                  />\n                )}\n                </Tab>\n\n                <Tab eventKey=\"Name\" title=\"Search by Name:\">\n                {this.state.searching !== true && (\n                  <Button variant=\"outline-warning\" className=\"confirmEditButton\" size=\"lg\">\n                    Click the 'Search' Button start\n                  </Button>\n                )}\n                {this.state.searching === true && (\n                  <SearchPatientNameForm\n                  authUserId={this.context.userId}\n                  canCancel\n                    canConfirm\n                    onCancel={this.modalCancelHandler}\n                    onConfirm={this.modalConfirmSearchNameHandler}\n                    confirmText=\"Search\"\n                    patient={this.context.selectedPatient}\n                  />\n                )}\n                </Tab>\n                </Tabs>\n                </Col>\n                </Row>\n                </Container>\n              </Tab.Pane>\n\n              <Tab.Pane eventKey=\"SearchResult\">\n                <Container className=\"containerSearchUserResults\">\n                <Row>\n                  <Card className=\"searchCard\">\n                    <Card.Body className=\"searchCardBody\">\n                      <Card.Title>Your Search</Card.Title>\n                      <Card.Text>\n                        Field: {this.state.patientSearchField}\n                      </Card.Text>\n                      <Card.Text>\n                        Query: {this.state.patientSearchQuery}\n                      </Card.Text>\n                    </Card.Body>\n                  </Card>\n                </Row>\n                <Row className=\"searchListRow\">\n                {\n                  this.state.searchPatients !== [] &&\n                  <SearchPatientList\n                    searchPatients={this.state.searchPatients}\n                    authUserId={this.context.userId}\n                    onCancel={this.modalCancelHandler}\n                      onViewDetail={this.showDetailHandler}\n                  />\n                }\n                </Row>\n                </Container>\n              </Tab.Pane>\n            </Tab.Content>\n          </Col>\n        </Row>\n      </Tab.Container>\n    </Container>\n    </Col>\n    </Row>\n\n</Accordion>\n\n      </React.Fragment>\n    );\n  }\n}\n\nexport default PatientsPage;\n"]},"metadata":{},"sourceType":"module"}