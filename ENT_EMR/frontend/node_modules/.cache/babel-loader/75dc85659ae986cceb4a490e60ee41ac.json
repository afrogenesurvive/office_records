{"ast":null,"code":"import _toConsumableArray from\"/Users/pedrojacob/Downloads/AMR/websites/office_records/ENT_EMR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _classCallCheck from\"/Users/pedrojacob/Downloads/AMR/websites/office_records/ENT_EMR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/pedrojacob/Downloads/AMR/websites/office_records/ENT_EMR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/pedrojacob/Downloads/AMR/websites/office_records/ENT_EMR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/pedrojacob/Downloads/AMR/websites/office_records/ENT_EMR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/pedrojacob/Downloads/AMR/websites/office_records/ENT_EMR/frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import S3 from'react-aws-s3';// import S3FileUpload from 'react-s3';\nimport React,{Component}from'react';// import FileViewer from 'react-file-viewer';\nimport Container from'react-bootstrap/Container';import Row from'react-bootstrap/Row';import Col from'react-bootstrap/Col';// import Form from 'react-bootstrap/Form';\nimport Button from'react-bootstrap/Button';import Accordion from'react-bootstrap/Accordion';import Tabs from'react-bootstrap/Tabs';import Tab from'react-bootstrap/Tab';// import TabContainer from 'react-bootstrap/TabContainer';\n// import TabContent from 'react-bootstrap/TabContent';\n// import TabPane from 'react-bootstrap/TabPane';\nimport Nav from'react-bootstrap/Nav';import Card from'react-bootstrap/Card';// import Modal from '../components/Modal/Modal';\n// import Backdrop from '../components/Backdrop/Backdrop';\nimport UserList from'../components/Users/UserList/UserList';import SearchUserList from'../components/Users/UserList/SearchUserList';import UserDetail from'../components/Users/UserDetail';import Spinner from'../components/Spinner/Spinner';import AuthContext from'../context/auth-context';import SidebarPage from'./Sidebar';import AlertBox from'../components/AlertBox';import AttachmentViewer from'../components/AttachmentViewer';import PdfCreator from'../components/PdfCreator';import CreateUserForm from'../components/Forms/CreateUserForm';import UpdateUserForm from'../components/Forms/UpdateUserForm';import UpdateUserFieldForm from'../components/Forms/UpdateUserFieldForm';import UpdateUserAttendanceForm from'../components/Forms/UpdateUserAttendanceForm';import UpdateUserAttachmentForm from'../components/Forms/UpdateUserAttachmentForm';import UpdateUserLeaveForm from'../components/Forms/UpdateUserLeaveForm';import SearchUserForm from'../components/Forms/SearchUserForm';import SearchUserIdForm from'../components/Forms/SearchUserIdForm';import SearchUserNameForm from'../components/Forms/SearchUserNameForm';import SearchUserAttendanceDateForm from'../components/Forms/SearchUserAttendanceDateForm';import SearchUserLeaveDateRangeForm from'../components/Forms/SearchUserLeaveDateRangeForm';import'./Users.css';var UsersPage=/*#__PURE__*/function(_Component){_inherits(UsersPage,_Component);function UsersPage(){var _getPrototypeOf2;var _this;_classCallCheck(this,UsersPage);for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}_this=_possibleConstructorReturn(this,(_getPrototypeOf2=_getPrototypeOf(UsersPage)).call.apply(_getPrototypeOf2,[this].concat(args)));_this.state={creating:false,updating:false,deleting:false,searching:false,users:[],searchUsers:[],isLoading:false,isSorting:false,selectedUser:null,userUpdateField:null,userSearchField:null,userSearchQuery:null,canDelete:null,userAlert:null,file:null,showAttachment:false,showThisAttachmentFile:null,showThisAttachmentType:null,createPdf:false,pdfData:null};_this.isActive=true;_this.startCreateUserHandler=function(){_this.setState({creating:true});console.log(\"CreateUserForm...\");};_this.startUpdateUserHandler=function(){_this.setState({updating:true});console.log(\"UpdateUserForm...\");};_this.startSearchUserHandler=function(){_this.setState({searching:true});console.log(\"SearchUserForm...\");};_this.modalConfirmHandler=function(event){console.log(\"CreateUserFormData:  \",event.target.formGridEmail.value);_this.setState({creating:false});var email=event.target.formGridEmail.value;var password=event.target.formGridPassword.value;var name=event.target.formGridName.value;var role=event.target.formGridRole.value;var dob=event.target.formGridDob.value;var phone=event.target.formGridPhone.value;var addressNumber=event.target.formGridAddressNumber.value;var addressStreet=event.target.formGridAddressStreet.value;var addressTown=event.target.formGridAddressTown.value;var addressParish=event.target.formGridAddressParish.value;var addressPostOffice=event.target.formGridAddressPostOffice.value;var employmentDate=event.target.formGridEmploymentDate.value;if(event.target.formGridEmploymentDateTodayCheckbox.checked===true){employmentDate=new Date().toISOString().slice(0,10);}var terminationDate=event.target.formGridTerminationDate.value;if(email.trim().length===0||password.trim().length===0||name.trim().length===0||role.trim().length===0||dob.trim().length===0||phone.trim().length===0||addressNumber.trim().length===0||addressStreet.trim().length===0||addressTown.trim().length===0||addressParish.trim().length===0||addressPostOffice.trim().length===0||employmentDate.trim().length===0){console.log(\"blank fields detected!!!...Please try again...\");_this.setState({userAlert:\"blank fields detected!!!...Please try again...\"});return;}var token=_this.context.token;var userId=_this.context.userId;console.log(\"\\n      creating user...\\n      userId: \".concat(userId,\"\\n      email: \").concat(email,\",\\n      password: \").concat(password,\",\\n      name: \").concat(name,\",\\n      role: \").concat(role,\",\\n      dob: \").concat(dob,\",\\n      phone: \").concat(phone,\",\\n      addressNumber: \").concat(addressNumber,\",\\n      addressStreet: \").concat(addressStreet,\",\\n      addressTown: \").concat(addressTown,\",\\n      addressParish: \").concat(addressParish,\",\\n      addressPostOffice: \").concat(addressPostOffice,\",\\n      employmentDate: \").concat(employmentDate,\",\\n      terminationDate: \").concat(terminationDate,\",\\n      \"));var requestBody={query:\"\\n          mutation {createUser(userInput: {email:\\\"\".concat(email,\"\\\",password:\\\"\").concat(password,\"\\\",name:\\\"\").concat(name,\"\\\",dob:\\\"\").concat(dob,\"\\\",addressNumber:\").concat(addressNumber,\",addressStreet:\\\"\").concat(addressStreet,\"\\\",addressTown:\\\"\").concat(addressTown,\"\\\",addressParish:\\\"\").concat(addressParish,\"\\\", addressPostOffice:\\\"\").concat(addressPostOffice,\"\\\",phone:\\\"\").concat(phone,\"\\\",role:\\\"\").concat(role,\"\\\",employmentDate:\\\"\").concat(employmentDate,\"\\\",terminationDate:\\\"\").concat(terminationDate,\"\\\"})\\n          {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}\\n        }\\n        \")};fetch('http://ec2-3-19-32-237.us-east-2.compute.amazonaws.com/graphql',{// fetch('http://localhost:10000/graphql', {\nmethod:'POST',body:JSON.stringify(requestBody),headers:{'Content-Type':'application/json',Authorization:'Bearer '+token}}).then(function(res){if(res.status!==200&&res.status!==201){throw new Error('Failed!');}return res.json();}).then(function(resData){console.log(\"create user response data... \"+JSON.stringify(resData.data.createUser));// this.state.users.push(resData.data.createUser)\n_this.setState(function(prevState){var updatedUsers=_toConsumableArray(prevState.users);updatedUsers.push(resData.data.createUser);return{users:updatedUsers};});_this.context.users.push(resData.data.createUser);var responseAlert=JSON.stringify(resData.data).slice(0,8);_this.setState({userAlert:responseAlert});}).catch(function(err){console.log(err);_this.setState({userAlert:err});});};_this.modalConfirmUpdateHandler=function(event){var token=_this.context.token;var userId=_this.context.userId;var selectedUserId=_this.context.selectedUser._id;if(userId!==selectedUserId&&_this.context.user.role!=='admin'){console.log(\"Not the creator or Admin! No edit permission!!\");_this.setState({userAlert:\"Not the creator or Admin! No edit permission!!\"});selectedUserId=null;}console.log(\"UpdateUserFormData:  \",event.target.formGridEmail.value);_this.setState({updating:false});var email=event.target.formGridEmail.value;var password=event.target.formGridPassword.value;var name=event.target.formGridName.value;var role=_this.context.selectedUser.role;var dob=event.target.formGridDob.value;var phone=event.target.formGridPhone.value;var addressNumber=event.target.formGridAddressNumber.value;var addressStreet=event.target.formGridAddressStreet.value;var addressTown=event.target.formGridAddressTown.value;var addressParish=event.target.formGridAddressParish.value;var addressPostOffice=event.target.formGridAddressPostOffice.value;var employmentDate=event.target.formGridEmploymentDate.value;if(event.target.formGridEmploymentDateTodayCheckbox.checked===true){employmentDate=new Date().toISOString().slice(0,10);}var terminationDate=event.target.formGridTerminationDate.value;if(event.target.formGridTerminationDateTodayCheckbox.checked===true){terminationDate=new Date().toISOString().slice(0,10);}if(email.trim().length===0){console.log(\"blank fields detected!!!...filling w/ previous data...\");email=_this.context.selectedUser.email;}if(password.trim().length===0){console.log(\"blank fields detected!!!...filling w/ previous data...\");password=_this.context.selectedUser.password;}if(name.trim().length===0){console.log(\"blank fields detected!!!...filling w/ previous data...\");name=_this.context.selectedUser.name;}// if (role.trim().length === 0) {\n//   console.log(\"blank fields detected!!!...filling w/ previous data...\");\n//   role = this.state.selectedUser.role;\n// }\nif(dob.trim().length===0){console.log(\"blank fields detected!!!...filling w/ previous data...\");dob=_this.context.selectedUser.dob;}if(phone.trim().length===0){console.log(\"blank fields detected!!!...filling w/ previous data...\");phone=_this.context.selectedUser.phone;}if(addressNumber.trim().length===0){console.log(\"blank fields detected!!!...filling w/ previous data...\");addressNumber=_this.context.selectedUser.address.number;}if(addressStreet.trim().length===0){console.log(\"blank fields detected!!!...filling w/ previous data...\");addressStreet=_this.context.selectedUser.address.street;}if(addressTown.trim().length===0){console.log(\"blank fields detected!!!...filling w/ previous data...\");addressTown=_this.context.selectedUser.address.town;}if(addressParish.trim().length===0){console.log(\"blank fields detected!!!...filling w/ previous data...\");addressParish=_this.context.selectedUser.address.parish;}if(addressPostOffice.trim().length===0){console.log(\"blank fields detected!!!...filling w/ previous data...\");addressPostOffice=_this.context.selectedUser.address.postOffice;}if(employmentDate.trim().length===0){console.log(\"blank fields detected!!!...filling w/ previous data...\");employmentDate=_this.context.selectedUser.employmentDate;}if(terminationDate.trim().length===0){console.log(\"blank fields detected!!!...filling w/ previous data...\");terminationDate=_this.context.selectedUser.terminationDate;}console.log(\"\\n      updating user profile...\\n      userId: \".concat(userId,\"\\n      email: \").concat(email,\",\\n      password: \").concat(password,\",\\n      name: \").concat(name,\",\\n      role: \").concat(role,\",\\n      dob: \").concat(dob,\",\\n      phone: \").concat(phone,\",\\n      addressNumber: \").concat(addressNumber,\",\\n      addressStreet: \").concat(addressStreet,\",\\n      addressTown: \").concat(addressTown,\",\\n      addressParish: \").concat(addressParish,\",\\n      addressPostOffice: \").concat(addressPostOffice,\",\\n      employmentDate: \").concat(employmentDate,\",\\n      terminationDate: \").concat(terminationDate,\",\\n      \"));_this.setState({userAlert:\"updating user profile...\"});var requestBody={query:\"\\n      mutation {updateUser(userId:\\\"\".concat(userId,\"\\\",selectedUserId:\\\"\").concat(selectedUserId,\"\\\",userInput: {email:\\\"\").concat(email,\"\\\",password:\\\"\").concat(password,\"\\\",name:\\\"\").concat(name,\"\\\",dob:\\\"\").concat(dob,\"\\\",addressNumber:\").concat(addressNumber,\",addressStreet:\\\"\").concat(addressStreet,\"\\\",addressTown:\\\"\").concat(addressTown,\"\\\",addressParish:\\\"\").concat(addressParish,\"\\\", addressPostOffice:\\\"\").concat(addressPostOffice,\"\\\",phone:\\\"\").concat(phone,\"\\\",role:\\\"\").concat(role,\"\\\",employmentDate:\\\"\").concat(employmentDate,\"\\\",terminationDate:\\\"\").concat(terminationDate,\"\\\"})\\n      {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\\n        \")};fetch('http://ec2-3-19-32-237.us-east-2.compute.amazonaws.com/graphql',{// fetch('http://localhost:10000/graphql', {\nmethod:'POST',body:JSON.stringify(requestBody),headers:{'Content-Type':'application/json',Authorization:'Bearer '+token}}).then(function(res){if(res.status!==200&&res.status!==201){throw new Error('Failed!');}return res.json();}).then(function(resData){console.log(\"response data... \"+JSON.stringify(resData));var updatedUser=resData.data.updateUser;console.log(\"updatedUser:  \",JSON.stringify(updatedUser));_this.setState({user:updatedUser});_this.state.users.push(resData.data.updateUser);_this.context.users=_this.state.users;var responseAlert=JSON.stringify(resData.data).slice(2,25);_this.setState({userAlert:responseAlert});// this.setState({ userAlert: responseAlert, selectedUser: resData.data.updateUser})\n_this.fetchUsers();}).catch(function(err){console.log(err);_this.setState({userAlert:err});});};_this.modalConfirmUpdateFieldHandler=function(event){var token=_this.context.token;var userId=_this.context.userId;var selectedUserId=_this.context.selectedUser._id;// if(userId !== selectedUserId && this.context.user.role !== 'admin') {\n//   console.log(\"Not the creator or Admin! No edit permission!!\");\n//   selectedUserId = null;\n// }\nconsole.log(\"UpdateUserFieldFormData:  \",event.target.formGridField.value,event.target.formGridFieldSelect.value);_this.setState({updating:false});var field=null;var query=event.target.formGridQuery.value;if(event.target.formGridFieldSelect.value===\"select\"){field=event.target.formGridField.value;}else{field=event.target.formGridFieldSelect.value;}console.log(\"\\n          field: \".concat(field,\",\\n          query: \").concat(query,\",\\n        \"));_this.setState({userAlert:\"updating user field...\"});var requestBody={query:\"\\n          mutation{updateUserField(userId:\\\"\".concat(userId,\"\\\",selectedUserId:\\\"\").concat(selectedUserId,\"\\\",field:\\\"\").concat(field,\"\\\",query:\\\"\").concat(query,\"\\\")\\n          {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}\\n        }\\n        \")};fetch('http://ec2-3-19-32-237.us-east-2.compute.amazonaws.com/graphql',{// fetch('http://localhost:10000/graphql', {\nmethod:'POST',body:JSON.stringify(requestBody),headers:{'Content-Type':'application/json',Authorization:'Bearer '+token}}).then(function(res){if(res.status!==200&&res.status!==201){throw new Error('Failed!');}return res.json();}).then(function(resData){console.log(\"response data... \"+JSON.stringify(resData.data.updateUserField));var updatedUserId=resData.data.updateUserField._id;var updatedUser=_this.state.users.find(function(e){return e._id===updatedUserId;});var updatedUserPos=_this.state.users.indexOf(updatedUser);var slicedArray=_this.state.users.splice(updatedUserPos,1);console.log(\"updatedUser:  \",JSON.stringify(updatedUser),\"  updatedUserPos:  \",updatedUserPos,\"  slicedArray:  \",slicedArray);_this.state.users.push(resData.data.updateUserField);_this.context.users=_this.state.users;var responseAlert=JSON.stringify(resData.data).slice(2,25);_this.setState({userAlert:responseAlert});_this.fetchUsers();}).catch(function(err){console.log(err);_this.setState({userAlert:err});});};_this.updateUserAttendanceHandler=function(event){var token=_this.context.token;var userId=_this.context.userId;var selectedUserId=_this.context.selectedUser._id;// if(userId !== selectedUserId && this.context.user.role !== 'admin') {\n//   console.log(\"Not the creator or Admin! No edit permission!!\");\n//   selectedUserId = null;\n// }\nif(userId!==selectedUserId&&_this.context.user.role!==\"admin\"){console.log(\"Not the creator or Admin! No edit permission!!\");_this.setState({userAlert:\"Not the creator or Admin! No edit permission!!\"});selectedUserId=null;}console.log(\"UpdateUserAttendanceFormData:  \");_this.setState({updating:false,userUpdateField:null});var attendanceDate=event.target.formGridAttendanceDate.value;if(event.target.formGridAttendanceDateTodayCheckbox.checked===true){attendanceDate=new Date().toISOString().slice(0,10);}var attendanceStatus=event.target.formGridAttendanceStatus.value;var attendanceDescription=event.target.formGridAttendanceDescription.value;if(attendanceDate.trim().length===0||attendanceStatus.trim().length===0){console.log(\"blank fields detected!!!...filling w/ previous data...\");return;}console.log(\"\\n      adding user attendance item...\\n      userId: \".concat(userId,\",\\n      selectedUserId: \").concat(selectedUserId,\"\\n      attendanceDate: \").concat(attendanceDate,\",\\n      attendanceStatus: \").concat(attendanceStatus,\",\\n      attendanceDescription: \").concat(attendanceDescription,\"\\n      \"));_this.setState({userAlert:\"adding user attendance item...\"});var requestBody={query:\"\\n          mutation {updateUserAttendance(userId:\\\"\".concat(userId,\"\\\", selectedUserId:\\\"\").concat(selectedUserId,\"\\\",userInput:{attendanceDate:\\\"\").concat(attendanceDate,\"\\\",attendanceStatus:\\\"\").concat(attendanceStatus,\"\\\",attendanceDescription:\\\"\").concat(attendanceDescription,\"\\\"})\\n          {_id,name,email,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description}}}\\n        \")};fetch('http://ec2-3-19-32-237.us-east-2.compute.amazonaws.com/graphql',{// fetch('http://localhost:10000/graphql', {\nmethod:'POST',body:JSON.stringify(requestBody),headers:{'Content-Type':'application/json',Authorization:'Bearer '+token}}).then(function(res){if(res.status!==200&&res.status!==201){throw new Error('Failed!');}return res.json();}).then(function(resData){console.log(\"response data... \"+JSON.stringify(resData.data.updateUserAttendance));var updatedUserId=resData.data.updateUserAttendance._id;var updatedUser=_this.state.users.find(function(e){return e._id===updatedUserId;});var updatedUserPos=_this.state.users.indexOf(updatedUser);var slicedArray=_this.state.users.splice(updatedUserPos,1);console.log(\"updatedUser:  \",JSON.stringify(updatedUser),\"  updatedUserPos:  \",updatedUserPos,\"  slicedArray:  \",slicedArray);_this.state.users.push(resData.data.updateUserAttendance);_this.context.users=_this.state.users;var responseAlert=JSON.stringify(resData.data).slice(2,25);_this.setState({userAlert:responseAlert});_this.fetchUsers();}).catch(function(err){console.log(err);_this.setState({userAlert:err});});};_this.updateUserAttachmentHandler=function(event){var token=_this.context.token;var userId=_this.context.userId;var selectedUserId=_this.context.selectedUser._id;// if(userId !== selectedUserId && this.context.user.role !== 'admin') {\n//   console.log(\"Not the creator or Admin! No edit permission!!\");\n//   selectedUserId = null;\n// }\nif(userId!==selectedUserId&&_this.context.user.role!==\"admin\"){console.log(\"Not the creator or Admin! No edit permission!!\");_this.setState({userAlert:\"Not the creator or Admin! No edit permission!!\"});selectedUserId=null;}console.log(\"UpdateUserAttachmentFormData:  \");_this.setState({updating:false,userUpdateField:null});// let attachmentName = event.target.formGridAttachmentName.value;\nvar attachmentFormat=event.target.formGridAttachmentFormat.value;var attachmentPath=\"uploads/staff/\"+selectedUserId+\"/attachments\";// let attachmentPath = event.target.formGridAttachmentPath.value;\nvar file=AuthContext._currentValue.file;console.log(\"\\n      uploading to s3...\\n      file.name: \".concat(file.name,\",\\n      AuthContext._currentValue.file: \").concat(AuthContext._currentValue.file,\",\\n      \"));var config={bucketName:_this.context.creds.s3.bucketName,dirName:attachmentPath,region:_this.context.creds.s3.region,accessKeyId:_this.context.creds.s3.accessKeyId,secretAccessKey:_this.context.creds.s3.secretAccessKey};var ReactS3Client=new S3(config);var newFileName=file.name;var attachmentName=newFileName;ReactS3Client.uploadFile(file,newFileName).then(function(data){console.log(data);_this.setState({userAlert:\"attachment upload success!\"});}).catch(function(err){console.error(err);_this.setState({userAlert:\"upload error:  \"+err});});if(attachmentName.trim().length===0||attachmentFormat.trim().length===0||attachmentPath.trim().length===0){console.log(\"blank fields detected!!! try again\");return;}console.log(\"\\n      adding user attachment item...\\n      userId: \".concat(userId,\",\\n      selectedUserId: \").concat(selectedUserId,\"\\n      attachmentName: \").concat(attachmentName,\",\\n      attachmentFormat: \").concat(attachmentFormat,\",\\n      attachmentPath: \").concat(attachmentPath,\",\\n      \"));_this.setState({userAlert:\"adding user attatchment item...\"});var requestBody={query:\"\\n          mutation{updateUserAttachment(userId:\\\"\".concat(userId,\"\\\",selectedUserId:\\\"\").concat(selectedUserId,\"\\\",userInput:{attachmentName:\\\"\").concat(attachmentName,\"\\\",attachmentFormat:\\\"\").concat(attachmentFormat,\"\\\",attachmentPath:\\\"\").concat(attachmentPath,\"\\\"})\\n          {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\\n        \")};fetch('http://ec2-3-19-32-237.us-east-2.compute.amazonaws.com/graphql',{// fetch('http://localhost:10000/graphql', {\nmethod:'POST',body:JSON.stringify(requestBody),headers:{'Content-Type':'application/json',Authorization:'Bearer '+token}}).then(function(res){if(res.status!==200&&res.status!==201){throw new Error('Failed!');}return res.json();}).then(function(resData){console.log(\"response data... \"+JSON.stringify(resData.data.updateUserAttachment));var updatedUserId=resData.data.updateUserAttachment._id;var updatedUser=_this.state.users.find(function(e){return e._id===updatedUserId;});var updatedUserPos=_this.state.users.indexOf(updatedUser);var slicedArray=_this.state.users.splice(updatedUserPos,1);console.log(\"updatedUser:  \",JSON.stringify(updatedUser),\"  updatedUserPos:  \",updatedUserPos,\"  slicedArray:  \",slicedArray);_this.state.users.push(resData.data.updateUserAttachment);_this.context.users=_this.state.users;var responseAlert=JSON.stringify(resData.data).slice(2,25);_this.setState({userAlert:responseAlert});_this.fetchUsers();}).catch(function(err){console.log(err);_this.setState({userAlert:err});});};_this.updateUserLeaveHandler=function(event){var token=_this.context.token;var userId=_this.context.userId;var selectedUserId=_this.context.selectedUser._id;// if(userId !== selectedUserId && this.context.user.role !== 'admin') {\n//   console.log(\"Not the creator or Admin! No edit permission!!\");\n//   selectedUserId = null;\n// }\nif(userId!==selectedUserId&&_this.context.user.role!==\"admin\"){console.log(\"Not the creator or Admin! No edit permission!!\");_this.setState({userAlert:\"Not the creator or Admin! No edit permission!!\"});selectedUserId=null;}console.log(\"UpdateUserLeaveFormData:  \",event.target.formGridLeaveType.value);_this.setState({updating:false,userUpdateField:null});var leaveType=event.target.formGridLeaveType.value;var leaveTitle=event.target.formGridLeaveTitle.value;var leaveStartDate=event.target.formGridLeaveStartDate.value;if(event.target.formGridLeaveStartDateTodayCheckbox.checked===true){leaveStartDate=new Date().toISOString().slice(0,10);}var leaveEndDate=event.target.formGridLeaveEndDate.value;if(event.target.formGridLeaveEndDateTodayCheckbox.checked===true){leaveEndDate=new Date().toISOString().slice(0,10);}if(leaveType.trim().length===0||leaveTitle.trim().length===0||leaveStartDate.trim().length===0||leaveEndDate.trim().length===0){console.log(\"blank fields detected!!!...try again\");_this.setState({userAlert:\"blank fields detected!!!...try again\"});return;}console.log(\"\\n      adding user leave item...\\n      userId: \".concat(userId,\",\\n      selectedUserId: \").concat(selectedUserId,\"\\n      leave: {\\n        type: \").concat(leaveType,\",\\n        title: \").concat(leaveTitle,\",\\n        startDate: \").concat(leaveStartDate,\",\\n        endDate: \").concat(leaveEndDate,\"\\n      }\\n      \"));_this.setState({userAlert:\"adding user leave item...\"});var requestBody={query:\"\\n          mutation{updateUserLeave(userId:\\\"\".concat(userId,\"\\\",selectedUserId:\\\"\").concat(selectedUserId,\"\\\",userInput:{leaveType:\\\"\").concat(leaveType,\"\\\",leaveTitle:\\\"\").concat(leaveTitle,\"\\\",leaveStartDate:\\\"\").concat(leaveStartDate,\"\\\",leaveEndDate:\\\"\").concat(leaveEndDate,\"\\\"})\\n          {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\\n        \")};fetch('http://ec2-3-19-32-237.us-east-2.compute.amazonaws.com/graphql',{// fetch('http://localhost:10000/graphql', {\nmethod:'POST',body:JSON.stringify(requestBody),headers:{'Content-Type':'application/json',Authorization:'Bearer '+token}}).then(function(res){if(res.status!==200&&res.status!==201){throw new Error('Failed!');}return res.json();}).then(function(resData){console.log(\"response data... \"+JSON.stringify(resData.data));var updatedUserId=resData.data.updateUserLeave._id;var updatedUser=_this.state.users.find(function(e){return e._id===updatedUserId;});var updatedUserPos=_this.state.users.indexOf(updatedUser);var slicedArray=_this.state.users.splice(updatedUserPos,1);console.log(\"updatedUser:  \",JSON.stringify(updatedUser),\"  updatedUserPos:  \",updatedUserPos,\"  slicedArray:  \",slicedArray);_this.state.users.push(resData.data.updateUserLeave);_this.context.users=_this.state.users;var responseAlert=JSON.stringify(resData.data).slice(2,25);_this.setState({userAlert:responseAlert});_this.fetchUsers();}).catch(function(err){console.log(err);_this.setState({userAlert:err});});};_this.modalConfirmSearchHandler=function(event){console.log(\"SearchUserForm:  \");var userId=_this.context.userId;console.log(\"SearchUserFormData:  \",event.target.formBasicField.value);_this.setState({searching:false});var field=null;var query=event.target.formBasicQuery.value;if(event.target.formBasicFieldSelect.value===\"select\"){field=event.target.formBasicField.value;}else{field=event.target.formBasicFieldSelect.value;}_this.setState({userSearchField:field,userSearchQuery:query});if(field.trim().length===0||query.trim().length===0){console.log(\"blank fields detected!!!...Please try again...\");_this.setState({userAlert:\"blank fields detected!!!...Please try again...\"});return;}var search={field:field,query:query};console.log(\"Searching for User:  \",JSON.stringify(search));_this.setState({userAlert:\"Searching for User...\"});var requestBody={query:\"\\n          query {getUserField(userId:\\\"\".concat(userId,\"\\\",field:\\\"\").concat(field,\"\\\",query:\\\"\").concat(query,\"\\\")\\n          {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\\n        \")};var token=_this.context.token;fetch('http://ec2-3-19-32-237.us-east-2.compute.amazonaws.com/graphql',{// fetch('http://localhost:10000/graphql', {\nmethod:'POST',body:JSON.stringify(requestBody),headers:{'Content-Type':'application/json',Authorization:'Bearer '+token}}).then(function(res){if(res.status!==200&&res.status!==201){throw new Error('Failed!');}return res.json();}).then(function(resData){console.log(\"response data... \"+JSON.stringify(resData));var responseAlert=JSON.stringify(resData.data).slice(0,8);_this.setState({userAlert:responseAlert});var searchUsers=resData.data.getUserField;_this.setState({searchUsers:searchUsers});console.log(\"state.searchUsers:  \",_this.state.searchUsers);// this.fetchUsers();\n}).catch(function(err){console.log(err);_this.setState({userAlert:err});});};_this.modalConfirmSearchIdHandler=function(event){var userId=_this.context.userId;_this.setState({searching:false});console.log(\"SearchUserIdFormData:\",event.target.formBasicId.value);var selectedUserId=event.target.formBasicId.value;var requestBody={query:\"\\n        query {getUserId(userId:\\\"\".concat(userId,\"\\\",selectedUserId:\\\"\").concat(selectedUserId,\"\\\")\\n        {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\\n      \")};var token=_this.context.token;fetch('http://ec2-3-19-32-237.us-east-2.compute.amazonaws.com/graphql',{// fetch('http://localhost:10000/graphql', {\nmethod:'POST',body:JSON.stringify(requestBody),headers:{'Content-Type':'application/json',Authorization:'Bearer '+token}}).then(function(res){if(res.status!==200&&res.status!==201){throw new Error('Failed!');}return res.json();}).then(function(resData){console.log(\"response data... \"+JSON.stringify(resData));var responseAlert=JSON.stringify(resData.data).slice(2,25);_this.setState({userAlert:responseAlert});var searchUsers=resData.data.getUserId;_this.setState({searchUsers:[searchUsers]});console.log(\"state.searchUsers:  \",_this.state.searchUsers);// this.fetchUsers();\n}).catch(function(err){console.log(err);_this.setState({userAlert:err});});};_this.modalConfirmSearchAttendanceDateHandler=function(event){var userId=_this.context.userId;_this.setState({searching:false});console.log(\"SearchUserAttendanceDateFormData:\");var attendanceDate=event.target.formBasicDate.value;if(event.target.formBasicDateTodayCheckbox.checked===true){attendanceDate=new Date().toISOString().slice(0,10);}var requestBody={query:\"\\n        query {getUserAttendanceDate(userId:\\\"\".concat(userId,\"\\\",attendanceDate:\\\"\").concat(attendanceDate,\"\\\")\\n        {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\\n      \")};var token=_this.context.token;fetch('http://ec2-3-19-32-237.us-east-2.compute.amazonaws.com/graphql',{// fetch('http://localhost:10000/graphql', {\nmethod:'POST',body:JSON.stringify(requestBody),headers:{'Content-Type':'application/json',Authorization:'Bearer '+token}}).then(function(res){if(res.status!==200&&res.status!==201){throw new Error('Failed!');}return res.json();}).then(function(resData){console.log(\"response data... \"+JSON.stringify(resData));var responseAlert=JSON.stringify(resData.data).slice(0,8);_this.setState({userAlert:responseAlert});var searchUsers=resData.data.getUserAttendanceDate;_this.setState({searchUsers:searchUsers});console.log(\"state.searchUsers:  \",_this.state.searchUsers);// this.fetchUsers();\n}).catch(function(err){console.log(err);_this.setState({userAlert:err});});};_this.modalConfirmSearchLeaveDateRangeHandler=function(event){var userId=_this.context.userId;_this.setState({searching:false});console.log(\"SearchUserLeaveDateRangeFormData:\");var startDate=event.target.formBasicStartDate.value;var endDate=event.target.formBasicEndDate.value;var requestBody={query:\"\\n        query{getUserLeaveDateRange(userId:\\\"\".concat(userId,\"\\\",startDate:\\\"\").concat(startDate,\"\\\",endDate:\\\"\").concat(endDate,\"\\\")\\n        {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\\n      \")};var token=_this.context.token;fetch('http://ec2-3-19-32-237.us-east-2.compute.amazonaws.com/graphql',{// fetch('http://localhost:10000/graphql', {\nmethod:'POST',body:JSON.stringify(requestBody),headers:{'Content-Type':'application/json',Authorization:'Bearer '+token}}).then(function(res){if(res.status!==200&&res.status!==201){throw new Error('Failed!');}return res.json();}).then(function(resData){console.log(\"response data... \"+JSON.stringify(resData));var responseAlert=JSON.stringify(resData.data).slice(0,8);_this.setState({userAlert:responseAlert});var searchUsers=resData.data.getUserLeaveDateRange;_this.setState({searchUsers:searchUsers});console.log(\"state.searchUsers:  \",_this.state.searchUsers);// this.fetchUsers();\n}).catch(function(err){console.log(err);_this.setState({userAlert:err});});};_this.modalConfirmSearchNameHandler=function(event){console.log(\"SearchUserNameFormData:\",event.target.formBasicName.value);_this.setState({searching:false});var users=_this.state.users;var regex=new RegExp(event.target.formBasicName.value,\"i\");console.log(\"\\n      regex: \".concat(regex,\",\\n      \"));var result=users.filter(function(user){return user.name.match(regex);});console.log(\"\\n        result: \".concat(JSON.stringify(result),\"\\n        \"));_this.setState({searchUsers:result});};_this.modalCancelHandler=function(){_this.setState({creating:false,updating:false,deleting:false,searching:false});};_this.fetchUsersAsc=function(){console.log(\"'fetch usersAsc function' context object... \"+JSON.stringify(_this.context));var userId=_this.context.userId;// this.setState({ isSorting: true });\nvar requestBody={query:\"\\n          query {usersNameAsc (userId:\\\"\".concat(userId,\"\\\")\\n          {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\\n        \")};fetch('http://ec2-3-19-32-237.us-east-2.compute.amazonaws.com/graphql',{// fetch('http://localhost:10000/graphql', {\nmethod:'POST',body:JSON.stringify(requestBody),headers:{'Content-Type':'application/json',Authorization:'Bearer '+_this.context.token}}).then(function(res){if(res.status!==200&&res.status!==201){_this.context.userAlert='Failed!';throw new Error('Failed!');}return res.json();}).then(function(resData){var users=resData.data.usersNameAsc;console.log(\"resData:  \",resData);console.log(users);var responseAlert=JSON.stringify(resData.data).slice(0,8);_this.setState({userAlert:responseAlert});_this.setState({users:users});// if (this.isActive) {\n//   this.setState({ users: users, isLoading: false });\n// }\n_this.context.users=_this.state.users;}).catch(function(err){console.log(err);_this.setState({userAlert:err});// if (this.isActive) {\n//   this.setState({ isLoading: false });\n// }\n});};_this.fetchUsersDesc=function(){console.log(\"'fetch usersDesc function' context object... \"+JSON.stringify(_this.context));var userId=_this.context.userId;// this.setState({ isLoading: true });\nvar requestBody={query:\"\\n          query {usersNameDesc (userId:\\\"\".concat(userId,\"\\\")\\n          {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\\n        \")};fetch('http://ec2-3-19-32-237.us-east-2.compute.amazonaws.com/graphql',{// fetch('http://localhost:10000/graphql', {\nmethod:'POST',body:JSON.stringify(requestBody),headers:{'Content-Type':'application/json',Authorization:'Bearer '+_this.context.token}}).then(function(res){if(res.status!==200&&res.status!==201){_this.context.userAlert='Failed!';throw new Error('Failed!');}return res.json();}).then(function(resData){var users=resData.data.usersNameDesc;console.log(\"resData:  \",resData);console.log(users);var responseAlert=JSON.stringify(resData.data).slice(0,8);_this.setState({userAlert:responseAlert});// if (this.isActive) {\n//   this.setState({ users: users, isLoading: false });\n// }\n_this.setState({users:users});_this.context.users=_this.state.users;}).catch(function(err){console.log(err);_this.setState({userAlert:err});// if (this.isActive) {\n//   this.setState({ isLoading: false });\n// }\n});};_this.modalDeleteHandler=function(){console.log(\"deleting user...selectedUser:  \",_this.context.selectedUser);var userId=_this.context.userId;var selectedUserId=_this.context.selectedUser._id;if(_this.context.user.role!=='admin'){console.log(\"Not the Admin! No edit permission!!\");_this.setState({userAlert:\"Not the Admin! No edit permission!!\"});}_this.setState({deleting:true,userAlert:\"deleting user..\"});var requestBody={query:\"\\n        mutation {\\n          deleteUser(userId: \\\"\".concat(userId,\"\\\", selectedUserId: \\\"\").concat(selectedUserId,\"\\\")\\n          {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}\\n        }\\n      \")};fetch('http://ec2-3-19-32-237.us-east-2.compute.amazonaws.com/graphql',{// fetch('http://localhost:10000/graphql', {\nmethod:'POST',body:JSON.stringify(requestBody),headers:{'Content-Type':'application/json',Authorization:'Bearer '+_this.context.token}}).then(function(res){if(res.status!==200&&res.status!==201){throw new Error('Failed!');}return res.json();}).then(function(resData){var responseAlert=JSON.stringify(resData.data).slice(0,8);_this.setState({userAlert:responseAlert});var deletedUser=resData.data.deleteUser;console.log(deletedUser);var deletedUserId=deletedUser._id;deletedUser=_this.state.users.find(function(e){return e._id===deletedUserId;});var deletedUserPos=_this.state.users.indexOf(deletedUser);var slicedArray=_this.state.users.splice(deletedUserPos,1);console.log(\"deletedUser:  \",JSON.stringify(deletedUser),\"  deletedUserPos:  \",deletedUserPos,\"  slicedArray:  \",slicedArray);_this.setState({deleting:false});// this.setState({ deleting: false, selectedUser: null });\n// this.context.selectedUser = null;\n_this.fetchUsers();}).catch(function(err){console.log(err);_this.setState({userAlert:err});if(_this.isActive){_this.setState({deleting:false});}});};_this.deleteUserAttendanceItem=function(props){var token=_this.context.token;var userId=_this.context.userId;var selectedUserId=_this.state.selectedUser._id;var date=new Date(props.date.substr(0,10)*1000).toISOString().slice(0,10);console.log(\"\\n    delete user Attendance item:\\n    props: \".concat(JSON.stringify(props),\",\\n    token: \").concat(token,\",\\n    userId: \").concat(userId,\",\\n    selectedUserId: \").concat(selectedUserId,\",\\n    attandance date: \").concat(date,\",\\n    \"));var requestBody={query:\"\\n       mutation{deleteUserAttendance(userId:\\\"\".concat(userId,\"\\\",selectedUserId:\\\"\").concat(selectedUserId,\"\\\",attendanceDate:\\\"\").concat(date,\"\\\")\\n       {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\\n    \")};fetch('http://ec2-3-19-32-237.us-east-2.compute.amazonaws.com/graphql',{// fetch('http://localhost:10000/graphql', {\nmethod:'POST',body:JSON.stringify(requestBody),headers:{'Content-Type':'application/json',Authorization:'Bearer '+token}}).then(function(res){if(res.status!==200&&res.status!==201){throw new Error('Failed!');}return res.json();}).then(function(resData){console.log(\"resData.data:  \",resData.data.deleteUserAttendance);var updatedUserId=resData.data.deleteUserAttendance._id;var updatedUser=_this.state.users.find(function(e){return e._id===updatedUserId;});var updatedUserPos=_this.state.users.indexOf(updatedUser);var slicedArray=_this.state.users.splice(updatedUserPos,1);console.log(\"updatedUser:  \",JSON.stringify(updatedUser),\"  updatedUserPos:  \",updatedUserPos,\"  slicedArray:  \",slicedArray);_this.state.users.push(resData.data.deleteUserAttendance);_this.context.users=_this.state.users;var responseAlert=JSON.stringify(resData.data).slice(2,25);_this.setState({userAlert:responseAlert});_this.fetchUsers();}).catch(function(err){console.log(err);_this.setState({userAlert:err});});};_this.deleteUserLeaveItem=function(props){var token=_this.context.token;var userId=_this.context.userId;var selectedUserId=_this.state.selectedUser._id;console.log(\"\\n    delete user Leave item:\\n    props: \".concat(JSON.stringify(props),\",\\n    token: \").concat(token,\",\\n    userId: \").concat(userId,\",\\n    selectedUserId: \").concat(selectedUserId,\",\\n    \"));var requestBody={query:\"\\n       mutation{deleteUserLeave(userId:\\\"\".concat(userId,\"\\\",selectedUserId:\\\"\").concat(selectedUserId,\"\\\",leaveTitle:\\\"\").concat(props.title,\"\\\")\\n       {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\\n    \")};fetch('http://ec2-3-19-32-237.us-east-2.compute.amazonaws.com/graphql',{// fetch('http://localhost:10000/graphql', {\nmethod:'POST',body:JSON.stringify(requestBody),headers:{'Content-Type':'application/json',Authorization:'Bearer '+token}}).then(function(res){if(res.status!==200&&res.status!==201){throw new Error('Failed!');}return res.json();}).then(function(resData){var deletedUser=resData.data.deleteUserLeave;console.log(deletedUser);var updatedUserId=resData.data.deleteUserLeave._id;var updatedUser=_this.state.users.find(function(e){return e._id===updatedUserId;});var updatedUserPos=_this.state.users.indexOf(updatedUser);var slicedArray=_this.state.users.splice(updatedUserPos,1);console.log(\"updatedUser:  \",JSON.stringify(updatedUser),\"  updatedUserPos:  \",updatedUserPos,\"  slicedArray:  \",slicedArray);_this.state.users.push(resData.data.deleteUserLeave);_this.context.users=_this.state.users;var responseAlert=JSON.stringify(resData.data).slice(2,25);_this.setState({userAlert:responseAlert});_this.fetchUsers();}).catch(function(err){console.log(err);_this.setState({userAlert:err});});};_this.deleteUserAttachmentItem=function(props){var token=_this.context.token;var userId=_this.context.userId;var selectedUserId=_this.state.selectedUser._id;console.log(\"\\n    delete user Attachment item:\\n    props: \".concat(JSON.stringify(props),\",\\n    token: \").concat(token,\",\\n    userId: \").concat(userId,\",\\n    selectedUserId: \").concat(selectedUserId,\",\\n    \"));// console.log(`\n//   deleting from s3...\n//   file.name: ${props.name},\n//   `);\n//\n//   const config = {\n//     bucketName: this.context.creds.s3.bucketName,\n//     dirName: props.path,\n//     region: this.context.creds.s3.region,\n//     accessKeyId: this.context.creds.s3.accessKeyId,\n//     secretAccessKey: this.context.creds.s3.secretAccessKey,\n//   }\n// const ReactS3Client = new S3(config);\n// const filename = props.name;\n// // const attachmentName = newFileName;\n// //\n// S3FileUpload\n// .deleteFile(filename, config)\n// .then(response => console.log(response))\n// .catch(err => console.error(err))\nvar requestBody={query:\"\\n       mutation{deleteUserAttachment(userId:\\\"\".concat(userId,\"\\\",selectedUserId:\\\"\").concat(selectedUserId,\"\\\",attachmentName:\\\"\").concat(props.name,\"\\\")\\n       {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\\n    \")};fetch('http://ec2-3-19-32-237.us-east-2.compute.amazonaws.com/graphql',{// fetch('http://localhost:10000/graphql', {\nmethod:'POST',body:JSON.stringify(requestBody),headers:{'Content-Type':'application/json',Authorization:'Bearer '+token}}).then(function(res){if(res.status!==200&&res.status!==201){throw new Error('Failed!');}return res.json();}).then(function(resData){var deletedUser=resData.data.deleteUserAttachment;console.log(deletedUser);var updatedUserId=resData.data.deleteUserAttachment._id;var updatedUser=_this.state.users.find(function(e){return e._id===updatedUserId;});var updatedUserPos=_this.state.users.indexOf(updatedUser);var slicedArray=_this.state.users.splice(updatedUserPos,1);console.log(\"updatedUser:  \",JSON.stringify(updatedUser),\"  updatedUserPos:  \",updatedUserPos,\"  slicedArray:  \",slicedArray);_this.state.users.push(resData.data.deleteUserAttachment);_this.context.users=_this.state.users;var responseAlert=JSON.stringify(resData.data).slice(2,25);_this.setState({userAlert:responseAlert});_this.fetchUsers();}).catch(function(err){console.log(err);_this.setState({userAlert:err});});};_this.showDetailHandler=function(userId){_this.setState(function(prevState){var selectedUser=prevState.users.find(function(e){return e._id===userId;});_this.context.selectedUser=selectedUser;_this.setState({selectedUser:selectedUser});console.log(\"User selected  :  \",selectedUser);return{selectedUser:selectedUser};});};_this.onViewAttachment=function(attachment){console.log(\"\\n      setting up attachment viewer...\\n      attachment: \".concat(JSON.stringify(attachment),\"\\n      \"));_this.setState({showAttachment:true});var file=\"https://ent-emr-bucket.s3-us-east-2.amazonaws.com/\"+attachment.path+\"/\"+attachment.name;var type=attachment.format;_this.setState({showThisAttachmentFile:file,showThisAttachmentType:type});};_this.closeAttachmentView=function(){console.log(\"\\n      closing attachment viewer...\\n      \");_this.setState({showAttachment:false});};_this.createPdf=function(user){console.log(\"\\n        creating pdf...\\n        user: \".concat(JSON.stringify(user),\"\\n      \"));var pdfData={title:user.name,body:user.dob};_this.setState({createPdf:true,pdfData:pdfData});};_this.closePdfCreator=function(){console.log(\"\\n      closing pdf creator...\\n      \");_this.setState({createPdf:false,pdfData:null});};return _this;}_createClass(UsersPage,[{key:\"componentDidMount\",// constructor(props) {\n//   super(props);\n// }\nvalue:function componentDidMount(){this.fetchUsers();if(this.context.user.name===\"Lord-of-the-Manor\"){this.setState({canDelete:true});}// if (this.context.user.name === 'admin579'){\n//   this.setState({canDelete: true})\n// }\n}},{key:\"fetchUsers\",value:function fetchUsers(){var _this2=this;console.log(\"fetch users:\");// console.log(\"'fetch users function' context object... \" + JSON.stringify(this.context));\nvar userId=this.context.userId;this.setState({isLoading:true});var requestBody={query:\"\\n          query {users (userId:\\\"\".concat(userId,\"\\\")\\n          {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\\n        \")};fetch('http://ec2-3-19-32-237.us-east-2.compute.amazonaws.com/graphql',{// fetch('http://localhost:10000/graphql', {\nmethod:'POST',body:JSON.stringify(requestBody),headers:{'Content-Type':'application/json',Authorization:'Bearer '+this.context.token}}).then(function(res){if(res.status!==200&&res.status!==201){_this2.context.userAlert='Failed!';throw new Error('Failed!');}return res.json();}).then(function(resData){var responseAlert=JSON.stringify(resData.data).slice(0,8);_this2.setState({userAlert:responseAlert});var users=resData.data.users;console.log(\"resData:  \",resData);console.log(users);if(_this2.isActive){_this2.setState({users:users,isLoading:false});}_this2.context.users=_this2.state.users;}).catch(function(err){console.log(err);_this2.setState({userAlert:err});if(_this2.isActive){_this2.setState({isLoading:false});}});}},{key:\"updateUserSpecial\",value:function updateUserSpecial(event){console.log(\"special field to update:  \",event.target.value);var field=event.target.value;this.setState({userUpdateField:field});}},{key:\"userSearchClearlHandler\",value:function userSearchClearlHandler(){console.log(\"clearing user search results\");this.setState({searchUsers:[],userAlert:\"clearing user search results\"});}},{key:\"componentWillUnmount\",value:function componentWillUnmount(){this.isActive=false;}},{key:\"render\",value:function render(){return React.createElement(React.Fragment,null,this.state.showAttachment===true&&React.createElement(AttachmentViewer,{onCloseAttachmentView:this.closeAttachmentView,attachmentFile:this.state.showThisAttachmentFile,attachmentType:this.state.showThisAttachmentType}),this.state.createPdf===true&&React.createElement(PdfCreator,{pdfData:this.state.pdfData,onClosePdfCreator:this.closePdfCreator}),React.createElement(Accordion,null,React.createElement(Row,null,React.createElement(Col,{md:3,className:\"MasterCol1\"},React.createElement(AlertBox,{authUserId:this.context.userId,alert:this.state.userAlert}),React.createElement(SidebarPage,null)),React.createElement(Col,{md:9,className:\"MasterCol2\"},React.createElement(Container,{className:\"containerCombinedDetail\"},React.createElement(Tab.Container,{id:\"left-tabs-example\",defaultActiveKey:\"userDetail\"},React.createElement(Row,null,React.createElement(Col,{sm:2},React.createElement(Nav,{variant:\"pills\",className:\"flex-column\"},React.createElement(Nav.Item,null,React.createElement(Nav.Link,{eventKey:\"MasterList\"},\"MASTER LIST\")),React.createElement(Nav.Item,null,React.createElement(Nav.Link,{eventKey:\"userDetail\"},\"Selected\")),this.context.user.role===\"admin\"&&React.createElement(Nav.Item,null,React.createElement(Nav.Link,{eventKey:\"userCreate\"},\"Create New\")),React.createElement(Nav.Item,null,React.createElement(Nav.Link,{eventKey:\"disabled\",disabled:true},\"Edit:\")),React.createElement(Nav.Item,null,React.createElement(Nav.Link,{eventKey:\"userEditDemographics\"},\"Demographics\")),React.createElement(Nav.Item,null,React.createElement(Nav.Link,{eventKey:\"userEditField\"},\"Single Field\")),React.createElement(Nav.Item,null,React.createElement(Nav.Link,{eventKey:\"disabled\",disabled:true},\"Add:\")),React.createElement(Nav.Item,null,React.createElement(Nav.Link,{eventKey:\"userEditAttendance\"},\"Attendance\")),React.createElement(Nav.Item,null,React.createElement(Nav.Link,{eventKey:\"userEditLeave\"},\"Leave\")),React.createElement(Nav.Item,null,React.createElement(Nav.Link,{eventKey:\"userEditAttachment\"},\"Attachment\")),React.createElement(Nav.Item,null,React.createElement(Nav.Link,{eventKey:\"disabled\",disabled:true},\"Search:\")),React.createElement(Nav.Item,null,React.createElement(Nav.Link,{eventKey:\"SearchInput\"},\"Input\")),React.createElement(Nav.Item,null,React.createElement(Nav.Link,{eventKey:\"SearchResult\"},\"Results\")))),React.createElement(Col,{sm:10},React.createElement(Tab.Content,null,React.createElement(Tab.Pane,{eventKey:\"userDetail\"},this.state.selectedUser===null&&React.createElement(Button,{variant:\"outline-warning\",size:\"lg\",className:\"confirmEditButton\"},\"Select a Staff member from the Master List\"),this.state.isLoading===false&&this.state.selectedUser!==null&&React.createElement(UserDetail,{authUserId:this.context.userId,AuthContext:this.context,user:this.state.selectedUser,onEdit:this.startUpdateUserHandler,canDelete:this.state.canDelete,onDelete:this.modalDeleteHandler,attendanceDelete:this.deleteUserAttendanceItem,leaveDelete:this.deleteUserLeaveItem,attachmentDelete:this.deleteUserAttachmentItem,onViewAttachment:this.onViewAttachment,onCreatePdf:this.createPdf})),this.context.user.role===\"admin\"&&React.createElement(Tab.Pane,{eventKey:\"userCreate\"},React.createElement(Button,{variant:\"outline-primary\",size:\"lg\",className:\"confirmEditButton\",onClick:this.startCreateUserHandler},\"Create a NEW Staff Profile\"),this.state.creating&&React.createElement(CreateUserForm,{authUserId:this.context.userId,canCancel:true,canConfirm:true,onCancel:this.modalCancelHandler,onConfirm:this.modalConfirmHandler,onSubmit:this.modalConfirmHandler,confirmText:\"Confirm\"})),React.createElement(Tab.Pane,{eventKey:\"userEditDemographics\"},this.state.selectedUser===null&&React.createElement(Button,{variant:\"outline-warning\",className:\"confirmEditButton\",size:\"lg\"},\"Select a Staff member from the Master List\"),this.state.selectedUser!==null&&this.context.user.role===\"admin\"&&React.createElement(Button,{variant:\"outline-primary\",size:\"lg\",className:\"confirmEditButton\",onClick:this.startUpdateUserHandler},\"Edit Demographics as Admin\"),this.state.selectedUser!==null&&this.state.selectedUser._id===this.context.user._id&&React.createElement(Button,{variant:\"outline-primary\",size:\"lg\",className:\"confirmEditButton\",onClick:this.startUpdateUserHandler},\"Edit Demographics\"),this.state.selectedUser!==null&&this.state.selectedUser._id===this.context.user._id&&React.createElement(Button,{variant:\"outline-danger\",className:\"confirmEditButton\",size:\"lg\"},\"Your Profile\"),this.state.selectedUser!==null&&this.state.selectedUser._id!==this.context.user._id&&React.createElement(Button,{variant:\"outline-danger\",className:\"confirmEditButton\",size:\"lg\"},\"Not my profile\"),this.state.updating&&this.state.selectedUser!==null&&React.createElement(UpdateUserForm,{authUserId:this.context.userId,canCancel:true,canConfirm:true,onCancel:this.modalCancelHandler,onConfirm:this.modalConfirmUpdateHandler,confirmText:\"Confirm\",user:this.context.selectedUser})),React.createElement(Tab.Pane,{eventKey:\"userEditField\"},this.state.selectedUser===null&&React.createElement(Button,{variant:\"outline-warning\",className:\"confirmEditButton\",size:\"lg\"},\"Select a Staff member from the Master List\"),this.state.selectedUser!==null&&this.context.user.role===\"admin\"&&React.createElement(Button,{variant:\"outline-primary\",size:\"lg\",className:\"confirmEditButton\",onClick:this.startUpdateUserHandler},\"Edit Field as Admin\"),this.state.selectedUser!==null&&this.state.selectedUser._id===this.context.user._id&&React.createElement(Button,{variant:\"outline-primary\",size:\"lg\",className:\"confirmEditButton\",onClick:this.startUpdateUserHandler},\"Edit a Single Field\"),this.state.selectedUser!==null&&this.state.selectedUser._id===this.context.user._id&&React.createElement(Button,{variant:\"outline-success\",className:\"confirmEditButton\",size:\"lg\"},\"Your Profile\"),this.state.selectedUser!==null&&this.state.selectedUser._id!==this.context.user._id&&React.createElement(Button,{variant:\"outline-danger\",className:\"confirmEditButton\",size:\"lg\"},\"Not my profile\"),this.state.updating&&this.state.selectedUser!==null&&React.createElement(UpdateUserFieldForm,{authUserId:this.context.userId,canCancel:true,canConfirm:true,onCancel:this.modalCancelHandler,onConfirm:this.modalConfirmUpdateFieldHandler,confirmText:\"Confirm\",user:this.state.selectedUser})),React.createElement(Tab.Pane,{eventKey:\"userEditAttendance\"},this.state.selectedUser===null&&React.createElement(Button,{variant:\"outline-warning\",className:\"confirmEditButton\",size:\"lg\"},\"Select a Staff member from the Master List below\"),this.state.selectedUser!==null&&this.context.user.role===\"admin\"&&React.createElement(Button,{variant:\"outline-primary\",size:\"lg\",className:\"confirmEditButton\",value:\"attendance\",onClick:this.updateUserSpecial.bind(this)},\"Add Attendance as Admin\"),this.state.selectedUser!==null&&this.state.selectedUser._id===this.context.user._id&&React.createElement(Button,{variant:\"outline-primary\",size:\"lg\",className:\"confirmEditButton\",value:\"attendance\",onClick:this.updateUserSpecial.bind(this)},\"Add Attendance\"),this.state.selectedUser!==null&&this.state.selectedUser._id===this.context.user._id&&React.createElement(Button,{variant:\"outline-success\",className:\"confirmEditButton\",size:\"lg\"},\"Your Profile\"),this.state.selectedUser!==null&&this.state.selectedUser._id!==this.context.user._id&&React.createElement(Button,{variant:\"outline-danger\",className:\"confirmEditButton\",size:\"lg\"},\"Not my profile\"),this.state.userUpdateField==='attendance'&&this.state.selectedUser!==null&&React.createElement(UpdateUserAttendanceForm,{authUserId:this.context.userId,canCancel:true,canConfirm:true,onCancel:this.modalCancelHandler,onConfirm:this.updateUserAttendanceHandler,confirmText:\"Confirm\",user:this.state.selectedUser})),React.createElement(Tab.Pane,{eventKey:\"userEditLeave\"},this.state.selectedUser===null&&React.createElement(Button,{variant:\"outline-warning\",className:\"confirmEditButton\",size:\"lg\"},\"Select a Staff member from the Master List\"),this.state.selectedUser!==null&&this.context.user.role===\"admin\"&&React.createElement(Button,{variant:\"outline-primary\",size:\"lg\",className:\"confirmEditButton\",value:\"leave\",onClick:this.updateUserSpecial.bind(this)},\"Add Leave as Admin\"),this.state.selectedUser!==null&&this.state.selectedUser._id===this.context.user._id&&React.createElement(Button,{variant:\"outline-primary\",size:\"lg\",className:\"confirmEditButton\",value:\"leave\",onClick:this.updateUserSpecial.bind(this)},\"Add Leave\"),this.state.selectedUser!==null&&this.state.selectedUser._id===this.context.user._id&&React.createElement(Button,{variant:\"outline-success\",className:\"confirmEditButton\",size:\"lg\"},\"Your Profile\"),this.state.selectedUser!==null&&this.state.selectedUser._id!==this.context.user._id&&React.createElement(Button,{variant:\"outline-danger\",className:\"confirmEditButton\",size:\"lg\"},\"Not my profile\"),this.state.userUpdateField==='leave'&&this.state.selectedUser!==null&&React.createElement(UpdateUserLeaveForm,{authUserId:this.context.userId,canCancel:true,canConfirm:true,onCancel:this.modalCancelHandler,onConfirm:this.updateUserLeaveHandler,confirmText:\"Confirm\",user:this.state.selectedUser})),React.createElement(Tab.Pane,{eventKey:\"userEditAttachment\"},this.state.selectedUser===null&&React.createElement(Button,{variant:\"outline-warning\",className:\"confirmEditButton\",size:\"lg\"},\"Select a Staff member from the Master List\"),this.state.selectedUser!==null&&this.context.user.role===\"admin\"&&React.createElement(Button,{variant:\"outline-primary\",size:\"lg\",className:\"confirmEditButton\",value:\"attachments\",onClick:this.updateUserSpecial.bind(this)},\"Add Attachment as Admin\"),this.state.selectedUser!==null&&this.state.selectedUser._id===this.context.user._id&&React.createElement(Button,{variant:\"outline-primary\",size:\"lg\",className:\"confirmEditButton\",value:\"attachments\",onClick:this.updateUserSpecial.bind(this)},\"Add Attachment\"),this.state.selectedUser!==null&&this.state.selectedUser._id===this.context.user._id&&React.createElement(Button,{variant:\"outline-success\",className:\"confirmEditButton\",size:\"lg\"},\"Your Profile\"),this.state.selectedUser!==null&&this.state.selectedUser._id!==this.context.user._id&&React.createElement(Button,{variant:\"outline-danger\",className:\"confirmEditButton\",size:\"lg\"},\"Not my profile\"),this.state.userUpdateField==='attachments'&&this.state.selectedUser!==null&&React.createElement(UpdateUserAttachmentForm,{authUserId:this.context.userId,canCancel:true,canConfirm:true,onCancel:this.modalCancelHandler,onConfirm:this.updateUserAttachmentHandler,confirmText:\"Confirm\",user:this.state.selectedUser})),React.createElement(Tab.Pane,{eventKey:\"MasterList\"},React.createElement(Container,{className:\"containerUserMasterList\"},React.createElement(Row,{className:\"searchListRow\"},React.createElement(Button,{variant:\"primary\",size:\"sm\",onClick:this.fetchUsersAsc},\"Sort Asc\"),React.createElement(Button,{variant:\"info\",size:\"sm\",onClick:this.fetchUsersDesc},\"Sort Desc\"),this.state.isLoading?React.createElement(Spinner,null):React.createElement(UserList,{users:this.state.users,authUserId:this.context.userId,onViewDetail:this.showDetailHandler})))),React.createElement(Tab.Pane,{eventKey:\"SearchInput\"},React.createElement(Container,{className:\"containerSearchUserInput\"},React.createElement(Row,{className:\"searchUserRowAdd\"},React.createElement(Button,{variant:\"primary\",onClick:this.startSearchUserHandler},\"Search\")),React.createElement(Row,{className:\"searchUserRowForm\"},React.createElement(Col,{md:10,className:\"searchUserColForm\"},React.createElement(Tabs,{defaultActiveKey:\"Field\",id:\"uncontrolled-tab-example\"},React.createElement(Tab,{eventKey:\"Search\",title:\"Search:\",disabled:true}),React.createElement(Tab,{eventKey:\"Field\",title:\"Search by Field:\"},this.state.searching!==true&&React.createElement(Button,{variant:\"outline-warning\",className:\"confirmEditButton\",size:\"lg\"},\"Click the 'Search' Button start\"),this.state.searching===true&&React.createElement(SearchUserForm,{authUserId:this.context.userId,canCancel:true,canConfirm:true,onCancel:this.modalCancelHandler,onConfirm:this.modalConfirmSearchHandler,confirmText:\"Search\",user:this.context.selectedUser})),React.createElement(Tab,{eventKey:\"Id\",title:\"Search by ID:\"},this.state.searching!==true&&React.createElement(Button,{variant:\"outline-warning\",className:\"confirmEditButton\",size:\"lg\"},\"Click the 'Search' Button start\"),this.state.searching===true&&React.createElement(SearchUserIdForm,{authUserId:this.context.userId,canCancel:true,canConfirm:true,onCancel:this.modalCancelHandler,onConfirm:this.modalConfirmSearchIdHandler,confirmText:\"Search\",user:this.context.selectedUser})),React.createElement(Tab,{eventKey:\"Attendance\",title:\"Search by Attendance:\"},this.state.searching!==true&&React.createElement(Button,{variant:\"outline-warning\",className:\"confirmEditButton\",size:\"lg\"},\"Click the 'Search' Button start\"),this.state.searching===true&&React.createElement(SearchUserAttendanceDateForm,{authUserId:this.context.userId,canCancel:true,canConfirm:true,onCancel:this.modalCancelHandler,onConfirm:this.modalConfirmSearchAttendanceDateHandler,confirmText:\"Search\",user:this.context.selectedUser})),React.createElement(Tab,{eventKey:\"Leave\",title:\"Search by Leave:\"},this.state.searching!==true&&React.createElement(Button,{variant:\"outline-warning\",className:\"confirmEditButton\",size:\"lg\"},\"Click the 'Search' Button start\"),this.state.searching===true&&React.createElement(SearchUserLeaveDateRangeForm,{authUserId:this.context.userId,canCancel:true,canConfirm:true,onCancel:this.modalCancelHandler,onConfirm:this.modalConfirmSearchLeaveDateRangeHandler,confirmText:\"Search\",user:this.context.selectedUser})),React.createElement(Tab,{eventKey:\"Name\",title:\"Search by Name:\"},this.state.searching!==true&&React.createElement(Button,{variant:\"outline-warning\",className:\"confirmEditButton\",size:\"lg\"},\"Click the 'Search' Button start\"),this.state.searching===true&&React.createElement(SearchUserNameForm,{authUserId:this.context.userId,canCancel:true,canConfirm:true,onCancel:this.modalCancelHandler,onConfirm:this.modalConfirmSearchNameHandler,confirmText:\"Search\",user:this.context.selectedUser})))),React.createElement(Col,{md:10})))),React.createElement(Tab.Pane,{eventKey:\"SearchResult\"},React.createElement(Container,{className:\"containerSearchUserResults\"},React.createElement(Row,null,React.createElement(Card,{className:\"searchCard\"},React.createElement(Card.Body,{className:\"searchCardBody\"},React.createElement(Card.Title,null,\"Your Search\"),React.createElement(Card.Text,null,\"Field: \",this.state.userSearchField),React.createElement(Card.Text,null,\"Query: \",this.state.userSearchQuery)))),React.createElement(Row,{className:\"searchListRow\"},this.state.searchUsers!==[]&&React.createElement(SearchUserList,{searchUsers:this.state.searchUsers,authUserId:this.context.userId,onViewDetail:this.showDetailHandler})))))))))))));}}]);return UsersPage;}(Component);UsersPage.contextType=AuthContext;export default UsersPage;","map":{"version":3,"sources":["/Users/pedrojacob/Downloads/AMR/websites/office_records/ENT_EMR/frontend/src/pages/Users.js"],"names":["S3","React","Component","Container","Row","Col","Button","Accordion","Tabs","Tab","Nav","Card","UserList","SearchUserList","UserDetail","Spinner","AuthContext","SidebarPage","AlertBox","AttachmentViewer","PdfCreator","CreateUserForm","UpdateUserForm","UpdateUserFieldForm","UpdateUserAttendanceForm","UpdateUserAttachmentForm","UpdateUserLeaveForm","SearchUserForm","SearchUserIdForm","SearchUserNameForm","SearchUserAttendanceDateForm","SearchUserLeaveDateRangeForm","UsersPage","state","creating","updating","deleting","searching","users","searchUsers","isLoading","isSorting","selectedUser","userUpdateField","userSearchField","userSearchQuery","canDelete","userAlert","file","showAttachment","showThisAttachmentFile","showThisAttachmentType","createPdf","pdfData","isActive","startCreateUserHandler","setState","console","log","startUpdateUserHandler","startSearchUserHandler","modalConfirmHandler","event","target","formGridEmail","value","email","password","formGridPassword","name","formGridName","role","formGridRole","dob","formGridDob","phone","formGridPhone","addressNumber","formGridAddressNumber","addressStreet","formGridAddressStreet","addressTown","formGridAddressTown","addressParish","formGridAddressParish","addressPostOffice","formGridAddressPostOffice","employmentDate","formGridEmploymentDate","formGridEmploymentDateTodayCheckbox","checked","Date","toISOString","slice","terminationDate","formGridTerminationDate","trim","length","token","context","userId","requestBody","query","fetch","method","body","JSON","stringify","headers","Authorization","then","res","status","Error","json","resData","data","createUser","prevState","updatedUsers","push","responseAlert","catch","err","modalConfirmUpdateHandler","selectedUserId","_id","user","formGridTerminationDateTodayCheckbox","address","number","street","town","parish","postOffice","updatedUser","updateUser","fetchUsers","modalConfirmUpdateFieldHandler","formGridField","formGridFieldSelect","field","formGridQuery","updateUserField","updatedUserId","find","e","updatedUserPos","indexOf","slicedArray","splice","updateUserAttendanceHandler","attendanceDate","formGridAttendanceDate","formGridAttendanceDateTodayCheckbox","attendanceStatus","formGridAttendanceStatus","attendanceDescription","formGridAttendanceDescription","updateUserAttendance","updateUserAttachmentHandler","attachmentFormat","formGridAttachmentFormat","attachmentPath","_currentValue","config","bucketName","creds","s3","dirName","region","accessKeyId","secretAccessKey","ReactS3Client","newFileName","attachmentName","uploadFile","error","updateUserAttachment","updateUserLeaveHandler","formGridLeaveType","leaveType","leaveTitle","formGridLeaveTitle","leaveStartDate","formGridLeaveStartDate","formGridLeaveStartDateTodayCheckbox","leaveEndDate","formGridLeaveEndDate","formGridLeaveEndDateTodayCheckbox","updateUserLeave","modalConfirmSearchHandler","formBasicField","formBasicQuery","formBasicFieldSelect","search","getUserField","modalConfirmSearchIdHandler","formBasicId","getUserId","modalConfirmSearchAttendanceDateHandler","formBasicDate","formBasicDateTodayCheckbox","getUserAttendanceDate","modalConfirmSearchLeaveDateRangeHandler","startDate","formBasicStartDate","endDate","formBasicEndDate","getUserLeaveDateRange","modalConfirmSearchNameHandler","formBasicName","regex","RegExp","result","filter","match","modalCancelHandler","fetchUsersAsc","usersNameAsc","fetchUsersDesc","usersNameDesc","modalDeleteHandler","deletedUser","deleteUser","deletedUserId","deletedUserPos","deleteUserAttendanceItem","props","date","substr","deleteUserAttendance","deleteUserLeaveItem","title","deleteUserLeave","deleteUserAttachmentItem","deleteUserAttachment","showDetailHandler","onViewAttachment","attachment","path","type","format","closeAttachmentView","closePdfCreator","updateUserSpecial","bind","contextType"],"mappings":"gpCAAA,MAAOA,CAAAA,EAAP,KAAe,cAAf,CACA;AACA,MAAOC,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA;AAEA,MAAOC,CAAAA,SAAP,KAAsB,2BAAtB,CACA,MAAOC,CAAAA,GAAP,KAAgB,qBAAhB,CACA,MAAOC,CAAAA,GAAP,KAAgB,qBAAhB,CACA;AACA,MAAOC,CAAAA,MAAP,KAAmB,wBAAnB,CACA,MAAOC,CAAAA,SAAP,KAAsB,2BAAtB,CACA,MAAOC,CAAAA,IAAP,KAAiB,sBAAjB,CACA,MAAOC,CAAAA,GAAP,KAAgB,qBAAhB,CACA;AACA;AACA;AACA,MAAOC,CAAAA,GAAP,KAAgB,qBAAhB,CACA,MAAOC,CAAAA,IAAP,KAAiB,sBAAjB,CAEA;AACA;AACA,MAAOC,CAAAA,QAAP,KAAqB,uCAArB,CACA,MAAOC,CAAAA,cAAP,KAA2B,6CAA3B,CACA,MAAOC,CAAAA,UAAP,KAAuB,gCAAvB,CACA,MAAOC,CAAAA,OAAP,KAAoB,+BAApB,CACA,MAAOC,CAAAA,WAAP,KAAwB,yBAAxB,CAEA,MAAOC,CAAAA,WAAP,KAAwB,WAAxB,CACA,MAAOC,CAAAA,QAAP,KAAqB,wBAArB,CACA,MAAOC,CAAAA,gBAAP,KAA6B,gCAA7B,CACA,MAAOC,CAAAA,UAAP,KAAuB,0BAAvB,CAEA,MAAOC,CAAAA,cAAP,KAA2B,oCAA3B,CACA,MAAOC,CAAAA,cAAP,KAA2B,oCAA3B,CACA,MAAOC,CAAAA,mBAAP,KAAgC,yCAAhC,CACA,MAAOC,CAAAA,wBAAP,KAAqC,8CAArC,CACA,MAAOC,CAAAA,wBAAP,KAAqC,8CAArC,CACA,MAAOC,CAAAA,mBAAP,KAAgC,yCAAhC,CACA,MAAOC,CAAAA,cAAP,KAA2B,oCAA3B,CACA,MAAOC,CAAAA,gBAAP,KAA6B,sCAA7B,CACA,MAAOC,CAAAA,kBAAP,KAA+B,wCAA/B,CACA,MAAOC,CAAAA,4BAAP,KAAyC,kDAAzC,CACA,MAAOC,CAAAA,4BAAP,KAAyC,kDAAzC,CAEA,MAAO,aAAP,C,GAEMC,CAAAA,S,2YACJC,K,CAAQ,CACNC,QAAQ,CAAE,KADJ,CAENC,QAAQ,CAAE,KAFJ,CAGNC,QAAQ,CAAE,KAHJ,CAINC,SAAS,CAAE,KAJL,CAKNC,KAAK,CAAE,EALD,CAMNC,WAAW,CAAE,EANP,CAONC,SAAS,CAAE,KAPL,CAQNC,SAAS,CAAE,KARL,CASNC,YAAY,CAAE,IATR,CAUNC,eAAe,CAAE,IAVX,CAWNC,eAAe,CAAE,IAXX,CAYNC,eAAe,CAAE,IAZX,CAaNC,SAAS,CAAE,IAbL,CAcNC,SAAS,CAAE,IAdL,CAeNC,IAAI,CAAE,IAfA,CAgBNC,cAAc,CAAE,KAhBV,CAiBNC,sBAAsB,CAAE,IAjBlB,CAkBNC,sBAAsB,CAAE,IAlBlB,CAmBNC,SAAS,CAAE,KAnBL,CAoBNC,OAAO,CAAE,IApBH,C,OAsBRC,Q,CAAW,I,OAmBXC,sB,CAAyB,UAAM,CAC7B,MAAKC,QAAL,CAAc,CAAEtB,QAAQ,CAAE,IAAZ,CAAd,EACAuB,OAAO,CAACC,GAAR,CAAY,mBAAZ,EACD,C,OACDC,sB,CAAyB,UAAM,CAC7B,MAAKH,QAAL,CAAc,CAAErB,QAAQ,CAAE,IAAZ,CAAd,EACAsB,OAAO,CAACC,GAAR,CAAY,mBAAZ,EACD,C,OAEDE,sB,CAAyB,UAAM,CAC7B,MAAKJ,QAAL,CAAc,CAAEnB,SAAS,CAAE,IAAb,CAAd,EACAoB,OAAO,CAACC,GAAR,CAAY,mBAAZ,EACD,C,OAEDG,mB,CAAsB,SAACC,KAAD,CAAW,CAE/BL,OAAO,CAACC,GAAR,CAAY,uBAAZ,CAAqCI,KAAK,CAACC,MAAN,CAAaC,aAAb,CAA2BC,KAAhE,EAEA,MAAKT,QAAL,CAAc,CAAEtB,QAAQ,CAAE,KAAZ,CAAd,EACA,GAAMgC,CAAAA,KAAK,CAAGJ,KAAK,CAACC,MAAN,CAAaC,aAAb,CAA2BC,KAAzC,CACA,GAAME,CAAAA,QAAQ,CAAGL,KAAK,CAACC,MAAN,CAAaK,gBAAb,CAA8BH,KAA/C,CACA,GAAMI,CAAAA,IAAI,CAAGP,KAAK,CAACC,MAAN,CAAaO,YAAb,CAA0BL,KAAvC,CACA,GAAMM,CAAAA,IAAI,CAAGT,KAAK,CAACC,MAAN,CAAaS,YAAb,CAA0BP,KAAvC,CACA,GAAIQ,CAAAA,GAAG,CAAGX,KAAK,CAACC,MAAN,CAAaW,WAAb,CAAyBT,KAAnC,CACA,GAAIU,CAAAA,KAAK,CAAGb,KAAK,CAACC,MAAN,CAAaa,aAAb,CAA2BX,KAAvC,CACA,GAAIY,CAAAA,aAAa,CAAGf,KAAK,CAACC,MAAN,CAAae,qBAAb,CAAmCb,KAAvD,CACA,GAAIc,CAAAA,aAAa,CAAGjB,KAAK,CAACC,MAAN,CAAaiB,qBAAb,CAAmCf,KAAvD,CACA,GAAIgB,CAAAA,WAAW,CAAGnB,KAAK,CAACC,MAAN,CAAamB,mBAAb,CAAiCjB,KAAnD,CACA,GAAIkB,CAAAA,aAAa,CAAGrB,KAAK,CAACC,MAAN,CAAaqB,qBAAb,CAAmCnB,KAAvD,CACA,GAAIoB,CAAAA,iBAAiB,CAAGvB,KAAK,CAACC,MAAN,CAAauB,yBAAb,CAAuCrB,KAA/D,CAEA,GAAIsB,CAAAA,cAAc,CAAGzB,KAAK,CAACC,MAAN,CAAayB,sBAAb,CAAoCvB,KAAzD,CACA,GAAIH,KAAK,CAACC,MAAN,CAAa0B,mCAAb,CAAiDC,OAAjD,GAA6D,IAAjE,CAAuE,CACrEH,cAAc,CAAG,GAAII,CAAAA,IAAJ,GAAWC,WAAX,GAAyBC,KAAzB,CAA+B,CAA/B,CAAiC,EAAjC,CAAjB,CACD,CAED,GAAIC,CAAAA,eAAe,CAAGhC,KAAK,CAACC,MAAN,CAAagC,uBAAb,CAAqC9B,KAA3D,CAEA,GACEC,KAAK,CAAC8B,IAAN,GAAaC,MAAb,GAAwB,CAAxB,EACA9B,QAAQ,CAAC6B,IAAT,GAAgBC,MAAhB,GAA2B,CAD3B,EAEA5B,IAAI,CAAC2B,IAAL,GAAYC,MAAZ,GAAuB,CAFvB,EAGA1B,IAAI,CAACyB,IAAL,GAAYC,MAAZ,GAAuB,CAHvB,EAIAxB,GAAG,CAACuB,IAAJ,GAAWC,MAAX,GAAsB,CAJtB,EAKAtB,KAAK,CAACqB,IAAN,GAAaC,MAAb,GAAwB,CALxB,EAMApB,aAAa,CAACmB,IAAd,GAAqBC,MAArB,GAAgC,CANhC,EAOAlB,aAAa,CAACiB,IAAd,GAAqBC,MAArB,GAAgC,CAPhC,EAQAhB,WAAW,CAACe,IAAZ,GAAmBC,MAAnB,GAA8B,CAR9B,EASAd,aAAa,CAACa,IAAd,GAAqBC,MAArB,GAAgC,CAThC,EAUAZ,iBAAiB,CAACW,IAAlB,GAAyBC,MAAzB,GAAoC,CAVpC,EAWAV,cAAc,CAACS,IAAf,GAAsBC,MAAtB,GAAiC,CAZnC,CAaE,CACAxC,OAAO,CAACC,GAAR,CAAY,gDAAZ,EACA,MAAKF,QAAL,CAAc,CAACT,SAAS,CAAE,gDAAZ,CAAd,EACA,OACD,CAED,GAAMmD,CAAAA,KAAK,CAAG,MAAKC,OAAL,CAAaD,KAA3B,CACA,GAAME,CAAAA,MAAM,CAAG,MAAKD,OAAL,CAAaC,MAA5B,CAEA3C,OAAO,CAACC,GAAR,mDAEY0C,MAFZ,2BAGWlC,KAHX,+BAIcC,QAJd,2BAKUE,IALV,2BAMUE,IANV,0BAOSE,GAPT,4BAQWE,KARX,oCASmBE,aATnB,oCAUmBE,aAVnB,kCAWiBE,WAXjB,oCAYmBE,aAZnB,wCAauBE,iBAbvB,qCAcoBE,cAdpB,sCAeqBO,eAfrB,eAkBA,GAAMO,CAAAA,WAAW,CAAG,CAClBC,KAAK,gEACyCpC,KADzC,0BAC6DC,QAD7D,sBACgFE,IADhF,qBAC8FI,GAD9F,6BACoHI,aADpH,6BACoJE,aADpJ,6BACmLE,WADnL,+BACkNE,aADlN,oCACwPE,iBADxP,uBACqRV,KADrR,sBACqSJ,IADrS,gCAC8TgB,cAD9T,iCACkWO,eADlW,oQADa,CAApB,CAQAS,KAAK,CAAC,gEAAD,CAAmE,CACxE;AACEC,MAAM,CAAE,MAF8D,CAGtEC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeN,WAAf,CAHgE,CAItEO,OAAO,CAAE,CACP,eAAgB,kBADT,CAEPC,aAAa,CAAE,UAAYX,KAFpB,CAJ6D,CAAnE,CAAL,CASGY,IATH,CASQ,SAAAC,GAAG,CAAI,CACX,GAAIA,GAAG,CAACC,MAAJ,GAAe,GAAf,EAAsBD,GAAG,CAACC,MAAJ,GAAe,GAAzC,CAA8C,CAC5C,KAAM,IAAIC,CAAAA,KAAJ,CAAU,SAAV,CAAN,CACD,CACD,MAAOF,CAAAA,GAAG,CAACG,IAAJ,EAAP,CACD,CAdH,EAeGJ,IAfH,CAeQ,SAAAK,OAAO,CAAI,CACf1D,OAAO,CAACC,GAAR,CAAY,gCAAkCgD,IAAI,CAACC,SAAL,CAAeQ,OAAO,CAACC,IAAR,CAAaC,UAA5B,CAA9C,EAEA;AACA,MAAK7D,QAAL,CAAc,SAAA8D,SAAS,CAAI,CACzB,GAAMC,CAAAA,YAAY,oBAAOD,SAAS,CAAChF,KAAjB,CAAlB,CACAiF,YAAY,CAACC,IAAb,CAAkBL,OAAO,CAACC,IAAR,CAAaC,UAA/B,EAEA,MAAO,CAAE/E,KAAK,CAAEiF,YAAT,CAAP,CACD,CALD,EAMA,MAAKpB,OAAL,CAAa7D,KAAb,CAAmBkF,IAAnB,CAAwBL,OAAO,CAACC,IAAR,CAAaC,UAArC,EACA,GAAMI,CAAAA,aAAa,CAAGf,IAAI,CAACC,SAAL,CAAeQ,OAAO,CAACC,IAAvB,EAA6BvB,KAA7B,CAAmC,CAAnC,CAAqC,CAArC,CAAtB,CACA,MAAKrC,QAAL,CAAc,CAACT,SAAS,CAAE0E,aAAZ,CAAd,EACD,CA5BH,EA6BGC,KA7BH,CA6BS,SAAAC,GAAG,CAAI,CACZlE,OAAO,CAACC,GAAR,CAAYiE,GAAZ,EACA,MAAKnE,QAAL,CAAc,CAACT,SAAS,CAAE4E,GAAZ,CAAd,EACD,CAhCH,EAiCD,C,OAGDC,yB,CAA4B,SAAC9D,KAAD,CAAW,CAErC,GAAMoC,CAAAA,KAAK,CAAG,MAAKC,OAAL,CAAaD,KAA3B,CACA,GAAME,CAAAA,MAAM,CAAG,MAAKD,OAAL,CAAaC,MAA5B,CACA,GAAIyB,CAAAA,cAAc,CAAG,MAAK1B,OAAL,CAAazD,YAAb,CAA0BoF,GAA/C,CACA,GAAG1B,MAAM,GAAKyB,cAAX,EAA6B,MAAK1B,OAAL,CAAa4B,IAAb,CAAkBxD,IAAlB,GAA2B,OAA3D,CAAoE,CAClEd,OAAO,CAACC,GAAR,CAAY,gDAAZ,EACA,MAAKF,QAAL,CAAc,CAACT,SAAS,CAAE,gDAAZ,CAAd,EACA8E,cAAc,CAAG,IAAjB,CACD,CAEDpE,OAAO,CAACC,GAAR,CAAY,uBAAZ,CAAqCI,KAAK,CAACC,MAAN,CAAaC,aAAb,CAA2BC,KAAhE,EAEA,MAAKT,QAAL,CAAc,CAAErB,QAAQ,CAAE,KAAZ,CAAd,EAEA,GAAI+B,CAAAA,KAAK,CAAGJ,KAAK,CAACC,MAAN,CAAaC,aAAb,CAA2BC,KAAvC,CACA,GAAIE,CAAAA,QAAQ,CAAGL,KAAK,CAACC,MAAN,CAAaK,gBAAb,CAA8BH,KAA7C,CACA,GAAII,CAAAA,IAAI,CAAGP,KAAK,CAACC,MAAN,CAAaO,YAAb,CAA0BL,KAArC,CACA,GAAIM,CAAAA,IAAI,CAAG,MAAK4B,OAAL,CAAazD,YAAb,CAA0B6B,IAArC,CACA,GAAIE,CAAAA,GAAG,CAAGX,KAAK,CAACC,MAAN,CAAaW,WAAb,CAAyBT,KAAnC,CACA,GAAIU,CAAAA,KAAK,CAAGb,KAAK,CAACC,MAAN,CAAaa,aAAb,CAA2BX,KAAvC,CACA,GAAIY,CAAAA,aAAa,CAAGf,KAAK,CAACC,MAAN,CAAae,qBAAb,CAAmCb,KAAvD,CACA,GAAIc,CAAAA,aAAa,CAAGjB,KAAK,CAACC,MAAN,CAAaiB,qBAAb,CAAmCf,KAAvD,CACA,GAAIgB,CAAAA,WAAW,CAAGnB,KAAK,CAACC,MAAN,CAAamB,mBAAb,CAAiCjB,KAAnD,CACA,GAAIkB,CAAAA,aAAa,CAAGrB,KAAK,CAACC,MAAN,CAAaqB,qBAAb,CAAmCnB,KAAvD,CACA,GAAIoB,CAAAA,iBAAiB,CAAGvB,KAAK,CAACC,MAAN,CAAauB,yBAAb,CAAuCrB,KAA/D,CAEA,GAAIsB,CAAAA,cAAc,CAAGzB,KAAK,CAACC,MAAN,CAAayB,sBAAb,CAAoCvB,KAAzD,CACA,GAAIH,KAAK,CAACC,MAAN,CAAa0B,mCAAb,CAAiDC,OAAjD,GAA6D,IAAjE,CAAuE,CACrEH,cAAc,CAAG,GAAII,CAAAA,IAAJ,GAAWC,WAAX,GAAyBC,KAAzB,CAA+B,CAA/B,CAAiC,EAAjC,CAAjB,CACD,CAED,GAAIC,CAAAA,eAAe,CAAGhC,KAAK,CAACC,MAAN,CAAagC,uBAAb,CAAqC9B,KAA3D,CACA,GAAIH,KAAK,CAACC,MAAN,CAAaiE,oCAAb,CAAkDtC,OAAlD,GAA8D,IAAlE,CAAwE,CACtEI,eAAe,CAAG,GAAIH,CAAAA,IAAJ,GAAWC,WAAX,GAAyBC,KAAzB,CAA+B,CAA/B,CAAiC,EAAjC,CAAlB,CACD,CAED,GAAI3B,KAAK,CAAC8B,IAAN,GAAaC,MAAb,GAAwB,CAA5B,CAAgC,CAC9BxC,OAAO,CAACC,GAAR,CAAY,wDAAZ,EACAQ,KAAK,CAAG,MAAKiC,OAAL,CAAazD,YAAb,CAA0BwB,KAAlC,CACD,CACD,GAAIC,QAAQ,CAAC6B,IAAT,GAAgBC,MAAhB,GAA2B,CAA/B,CAAkC,CAChCxC,OAAO,CAACC,GAAR,CAAY,wDAAZ,EACAS,QAAQ,CAAG,MAAKgC,OAAL,CAAazD,YAAb,CAA0ByB,QAArC,CACD,CACD,GAAIE,IAAI,CAAC2B,IAAL,GAAYC,MAAZ,GAAuB,CAA3B,CAA8B,CAC5BxC,OAAO,CAACC,GAAR,CAAY,wDAAZ,EACAW,IAAI,CAAG,MAAK8B,OAAL,CAAazD,YAAb,CAA0B2B,IAAjC,CACD,CACD;AACA;AACA;AACA;AACA,GAAII,GAAG,CAACuB,IAAJ,GAAWC,MAAX,GAAsB,CAA1B,CAA6B,CAC3BxC,OAAO,CAACC,GAAR,CAAY,wDAAZ,EACAe,GAAG,CAAG,MAAK0B,OAAL,CAAazD,YAAb,CAA0B+B,GAAhC,CACD,CACD,GAAIE,KAAK,CAACqB,IAAN,GAAaC,MAAb,GAAwB,CAA5B,CAA+B,CAC7BxC,OAAO,CAACC,GAAR,CAAY,wDAAZ,EACAiB,KAAK,CAAG,MAAKwB,OAAL,CAAazD,YAAb,CAA0BiC,KAAlC,CACD,CACD,GAAIE,aAAa,CAACmB,IAAd,GAAqBC,MAArB,GAAgC,CAApC,CAAuC,CACrCxC,OAAO,CAACC,GAAR,CAAY,wDAAZ,EACAmB,aAAa,CAAG,MAAKsB,OAAL,CAAazD,YAAb,CAA0BuF,OAA1B,CAAkCC,MAAlD,CACD,CACD,GAAInD,aAAa,CAACiB,IAAd,GAAqBC,MAArB,GAAgC,CAApC,CAAuC,CACrCxC,OAAO,CAACC,GAAR,CAAY,wDAAZ,EACAqB,aAAa,CAAG,MAAKoB,OAAL,CAAazD,YAAb,CAA0BuF,OAA1B,CAAkCE,MAAlD,CACD,CACD,GAAIlD,WAAW,CAACe,IAAZ,GAAmBC,MAAnB,GAA8B,CAAlC,CAAqC,CACnCxC,OAAO,CAACC,GAAR,CAAY,wDAAZ,EACAuB,WAAW,CAAG,MAAKkB,OAAL,CAAazD,YAAb,CAA0BuF,OAA1B,CAAkCG,IAAhD,CACD,CACD,GAAIjD,aAAa,CAACa,IAAd,GAAqBC,MAArB,GAAgC,CAApC,CAAuC,CACrCxC,OAAO,CAACC,GAAR,CAAY,wDAAZ,EACAyB,aAAa,CAAG,MAAKgB,OAAL,CAAazD,YAAb,CAA0BuF,OAA1B,CAAkCI,MAAlD,CACD,CACD,GAAIhD,iBAAiB,CAACW,IAAlB,GAAyBC,MAAzB,GAAoC,CAAxC,CAA2C,CACzCxC,OAAO,CAACC,GAAR,CAAY,wDAAZ,EACA2B,iBAAiB,CAAG,MAAKc,OAAL,CAAazD,YAAb,CAA0BuF,OAA1B,CAAkCK,UAAtD,CACD,CACD,GAAI/C,cAAc,CAACS,IAAf,GAAsBC,MAAtB,GAAiC,CAArC,CAAwC,CACtCxC,OAAO,CAACC,GAAR,CAAY,wDAAZ,EACA6B,cAAc,CAAG,MAAKY,OAAL,CAAazD,YAAb,CAA0B6C,cAA3C,CACD,CACD,GAAIO,eAAe,CAACE,IAAhB,GAAuBC,MAAvB,GAAkC,CAAtC,CAAyC,CACvCxC,OAAO,CAACC,GAAR,CAAY,wDAAZ,EACAoC,eAAe,CAAG,MAAKK,OAAL,CAAazD,YAAb,CAA0BoD,eAA5C,CACD,CAEDrC,OAAO,CAACC,GAAR,2DAEY0C,MAFZ,2BAGWlC,KAHX,+BAIcC,QAJd,2BAKUE,IALV,2BAMUE,IANV,0BAOSE,GAPT,4BAQWE,KARX,oCASmBE,aATnB,oCAUmBE,aAVnB,kCAWiBE,WAXjB,oCAYmBE,aAZnB,wCAauBE,iBAbvB,qCAcoBE,cAdpB,sCAeqBO,eAfrB,eAiBE,MAAKtC,QAAL,CAAc,CAACT,SAAS,CAAE,0BAAZ,CAAd,EAEF,GAAMsD,CAAAA,WAAW,CAAG,CAClBC,KAAK,iDAC0BF,MAD1B,gCACqDyB,cADrD,mCAC2F3D,KAD3F,0BAC+GC,QAD/G,sBACkIE,IADlI,qBACgJI,GADhJ,6BACsKI,aADtK,6BACsME,aADtM,6BACqOE,WADrO,+BACoQE,aADpQ,oCAC0SE,iBAD1S,uBACuUV,KADvU,sBACuVJ,IADvV,gCACgXgB,cADhX,iCACoZO,eADpZ,sPADa,CAApB,CAMIS,KAAK,CAAC,gEAAD,CAAmE,CAC5E;AACEC,MAAM,CAAE,MAFkE,CAG1EC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeN,WAAf,CAHoE,CAI1EO,OAAO,CAAE,CACP,eAAgB,kBADT,CAEPC,aAAa,CAAE,UAAYX,KAFpB,CAJiE,CAAnE,CAAL,CAQDY,IARC,CAQI,SAAAC,GAAG,CAAI,CACX,GAAIA,GAAG,CAACC,MAAJ,GAAe,GAAf,EAAsBD,GAAG,CAACC,MAAJ,GAAe,GAAzC,CAA8C,CAC5C,KAAM,IAAIC,CAAAA,KAAJ,CAAU,SAAV,CAAN,CACD,CACD,MAAOF,CAAAA,GAAG,CAACG,IAAJ,EAAP,CACD,CAbC,EAcDJ,IAdC,CAcI,SAAAK,OAAO,CAAI,CACf1D,OAAO,CAACC,GAAR,CAAY,oBAAsBgD,IAAI,CAACC,SAAL,CAAeQ,OAAf,CAAlC,EACA,GAAMoB,CAAAA,WAAW,CAAGpB,OAAO,CAACC,IAAR,CAAaoB,UAAjC,CACA/E,OAAO,CAACC,GAAR,CAAY,gBAAZ,CAA8BgD,IAAI,CAACC,SAAL,CAAe4B,WAAf,CAA9B,EACA,MAAK/E,QAAL,CAAc,CAACuE,IAAI,CAAEQ,WAAP,CAAd,EACA,MAAKtG,KAAL,CAAWK,KAAX,CAAiBkF,IAAjB,CAAsBL,OAAO,CAACC,IAAR,CAAaoB,UAAnC,EACA,MAAKrC,OAAL,CAAa7D,KAAb,CAAqB,MAAKL,KAAL,CAAWK,KAAhC,CAEA,GAAMmF,CAAAA,aAAa,CAAGf,IAAI,CAACC,SAAL,CAAeQ,OAAO,CAACC,IAAvB,EAA6BvB,KAA7B,CAAmC,CAAnC,CAAqC,EAArC,CAAtB,CACA,MAAKrC,QAAL,CAAc,CAAET,SAAS,CAAE0E,aAAb,CAAd,EACA;AACA,MAAKgB,UAAL,GACD,CA1BC,EA2BDf,KA3BC,CA2BK,SAAAC,GAAG,CAAI,CACZlE,OAAO,CAACC,GAAR,CAAYiE,GAAZ,EACA,MAAKnE,QAAL,CAAc,CAACT,SAAS,CAAE4E,GAAZ,CAAd,EACD,CA9BC,EA+BL,C,OAGDe,8B,CAAiC,SAAC5E,KAAD,CAAW,CAE1C,GAAMoC,CAAAA,KAAK,CAAG,MAAKC,OAAL,CAAaD,KAA3B,CACA,GAAME,CAAAA,MAAM,CAAG,MAAKD,OAAL,CAAaC,MAA5B,CACA,GAAIyB,CAAAA,cAAc,CAAG,MAAK1B,OAAL,CAAazD,YAAb,CAA0BoF,GAA/C,CACA;AACA;AACA;AACA;AAGErE,OAAO,CAACC,GAAR,CAAY,4BAAZ,CAA0CI,KAAK,CAACC,MAAN,CAAa4E,aAAb,CAA2B1E,KAArE,CAA4EH,KAAK,CAACC,MAAN,CAAa6E,mBAAb,CAAiC3E,KAA7G,EACA,MAAKT,QAAL,CAAc,CAAErB,QAAQ,CAAE,KAAZ,CAAd,EAEA,GAAI0G,CAAAA,KAAK,CAAG,IAAZ,CACA,GAAIvC,CAAAA,KAAK,CAAGxC,KAAK,CAACC,MAAN,CAAa+E,aAAb,CAA2B7E,KAAvC,CACA,GAAIH,KAAK,CAACC,MAAN,CAAa6E,mBAAb,CAAiC3E,KAAjC,GAA2C,QAA/C,CAAyD,CACvD4E,KAAK,CAAG/E,KAAK,CAACC,MAAN,CAAa4E,aAAb,CAA2B1E,KAAnC,CACD,CAFD,IAEO,CACL4E,KAAK,CAAG/E,KAAK,CAACC,MAAN,CAAa6E,mBAAb,CAAiC3E,KAAzC,CACD,CACDR,OAAO,CAACC,GAAR,8BACamF,KADb,gCAEavC,KAFb,iBAKE,MAAK9C,QAAL,CAAc,CAAET,SAAS,CAAE,wBAAb,CAAd,EAEF,GAAMsD,CAAAA,WAAW,CAAG,CAClBC,KAAK,yDACgCF,MADhC,gCAC2DyB,cAD3D,uBACqFgB,KADrF,uBACsGvC,KADtG,mQADa,CAApB,CAOEC,KAAK,CAAC,gEAAD,CAAmE,CAC1E;AACEC,MAAM,CAAE,MAFgE,CAGxEC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeN,WAAf,CAHkE,CAIxEO,OAAO,CAAE,CACP,eAAgB,kBADT,CAEPC,aAAa,CAAE,UAAYX,KAFpB,CAJ+D,CAAnE,CAAL,CASCY,IATD,CASM,SAAAC,GAAG,CAAI,CACX,GAAIA,GAAG,CAACC,MAAJ,GAAe,GAAf,EAAsBD,GAAG,CAACC,MAAJ,GAAe,GAAzC,CAA8C,CAC5C,KAAM,IAAIC,CAAAA,KAAJ,CAAU,SAAV,CAAN,CACD,CACD,MAAOF,CAAAA,GAAG,CAACG,IAAJ,EAAP,CACD,CAdD,EAeCJ,IAfD,CAeM,SAAAK,OAAO,CAAI,CACf1D,OAAO,CAACC,GAAR,CAAY,oBAAsBgD,IAAI,CAACC,SAAL,CAAeQ,OAAO,CAACC,IAAR,CAAa2B,eAA5B,CAAlC,EAEA,GAAMC,CAAAA,aAAa,CAAG7B,OAAO,CAACC,IAAR,CAAa2B,eAAb,CAA6BjB,GAAnD,CACA,GAAMS,CAAAA,WAAW,CAAG,MAAKtG,KAAL,CAAWK,KAAX,CAAiB2G,IAAjB,CAAsB,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAACpB,GAAF,GAAUkB,aAAd,EAAvB,CAApB,CACA,GAAMG,CAAAA,cAAc,CAAG,MAAKlH,KAAL,CAAWK,KAAX,CAAiB8G,OAAjB,CAAyBb,WAAzB,CAAvB,CACA,GAAMc,CAAAA,WAAW,CAAG,MAAKpH,KAAL,CAAWK,KAAX,CAAiBgH,MAAjB,CAAwBH,cAAxB,CAAwC,CAAxC,CAApB,CACA1F,OAAO,CAACC,GAAR,CAAY,gBAAZ,CAA8BgD,IAAI,CAACC,SAAL,CAAe4B,WAAf,CAA9B,CAA0D,qBAA1D,CAAiFY,cAAjF,CAAiG,kBAAjG,CAAqHE,WAArH,EAEA,MAAKpH,KAAL,CAAWK,KAAX,CAAiBkF,IAAjB,CAAsBL,OAAO,CAACC,IAAR,CAAa2B,eAAnC,EACA,MAAK5C,OAAL,CAAa7D,KAAb,CAAqB,MAAKL,KAAL,CAAWK,KAAhC,CACA,GAAMmF,CAAAA,aAAa,CAAGf,IAAI,CAACC,SAAL,CAAeQ,OAAO,CAACC,IAAvB,EAA6BvB,KAA7B,CAAmC,CAAnC,CAAqC,EAArC,CAAtB,CACA,MAAKrC,QAAL,CAAc,CAAET,SAAS,CAAE0E,aAAb,CAAd,EACA,MAAKgB,UAAL,GACD,CA7BD,EA8BCf,KA9BD,CA8BO,SAAAC,GAAG,CAAI,CACZlE,OAAO,CAACC,GAAR,CAAYiE,GAAZ,EACA,MAAKnE,QAAL,CAAc,CAACT,SAAS,CAAE4E,GAAZ,CAAd,EACD,CAjCD,EAmCL,C,OAED4B,2B,CAA8B,SAACzF,KAAD,CAAW,CACvC,GAAMoC,CAAAA,KAAK,CAAG,MAAKC,OAAL,CAAaD,KAA3B,CACA,GAAME,CAAAA,MAAM,CAAG,MAAKD,OAAL,CAAaC,MAA5B,CACA,GAAIyB,CAAAA,cAAc,CAAG,MAAK1B,OAAL,CAAazD,YAAb,CAA0BoF,GAA/C,CACA;AACA;AACA;AACA;AACA,GAAI1B,MAAM,GAAKyB,cAAX,EAA6B,MAAK1B,OAAL,CAAa4B,IAAb,CAAkBxD,IAAlB,GAA2B,OAA5D,CAAsE,CACpEd,OAAO,CAACC,GAAR,CAAY,gDAAZ,EACA,MAAKF,QAAL,CAAc,CAAET,SAAS,CAAE,gDAAb,CAAd,EACE8E,cAAc,CAAG,IAAjB,CACH,CAEDpE,OAAO,CAACC,GAAR,CAAY,iCAAZ,EAEA,MAAKF,QAAL,CAAc,CAAErB,QAAQ,CAAE,KAAZ,CAAoBQ,eAAe,CAAE,IAArC,CAAd,EAGA,GAAI6G,CAAAA,cAAc,CAAG1F,KAAK,CAACC,MAAN,CAAa0F,sBAAb,CAAoCxF,KAAzD,CACA,GAAIH,KAAK,CAACC,MAAN,CAAa2F,mCAAb,CAAiDhE,OAAjD,GAA6D,IAAjE,CAAuE,CACrE8D,cAAc,CAAG,GAAI7D,CAAAA,IAAJ,GAAWC,WAAX,GAAyBC,KAAzB,CAA+B,CAA/B,CAAiC,EAAjC,CAAjB,CACD,CAED,GAAI8D,CAAAA,gBAAgB,CAAG7F,KAAK,CAACC,MAAN,CAAa6F,wBAAb,CAAsC3F,KAA7D,CACA,GAAI4F,CAAAA,qBAAqB,CAAG/F,KAAK,CAACC,MAAN,CAAa+F,6BAAb,CAA2C7F,KAAvE,CAEA,GACAuF,cAAc,CAACxD,IAAf,GAAsBC,MAAtB,GAAiC,CAAjC,EACA0D,gBAAgB,CAAC3D,IAAjB,GAAwBC,MAAxB,GAAmC,CAFnC,CAGC,CACCxC,OAAO,CAACC,GAAR,CAAY,wDAAZ,EACA,OACD,CAEDD,OAAO,CAACC,GAAR,iEAEY0C,MAFZ,qCAGoByB,cAHpB,oCAIoB2B,cAJpB,uCAKsBG,gBALtB,4CAM2BE,qBAN3B,cASE,MAAKrG,QAAL,CAAc,CAAET,SAAS,CAAE,gCAAb,CAAd,EAEA,GAAMsD,CAAAA,WAAW,CAAG,CAClBC,KAAK,+DACsCF,MADtC,iCACkEyB,cADlE,2CACgH2B,cADhH,kCACqJG,gBADrJ,uCACiME,qBADjM,qJADa,CAApB,CAMAtD,KAAK,CAAC,gEAAD,CAAmE,CACxE;AACEC,MAAM,CAAE,MAF8D,CAGtEC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeN,WAAf,CAHgE,CAItEO,OAAO,CAAE,CACP,eAAgB,kBADT,CAEPC,aAAa,CAAE,UAAYX,KAFpB,CAJ6D,CAAnE,CAAL,CASGY,IATH,CASQ,SAAAC,GAAG,CAAI,CACX,GAAIA,GAAG,CAACC,MAAJ,GAAe,GAAf,EAAsBD,GAAG,CAACC,MAAJ,GAAe,GAAzC,CAA8C,CAC5C,KAAM,IAAIC,CAAAA,KAAJ,CAAU,SAAV,CAAN,CACD,CACD,MAAOF,CAAAA,GAAG,CAACG,IAAJ,EAAP,CACD,CAdH,EAeGJ,IAfH,CAeQ,SAAAK,OAAO,CAAI,CACf1D,OAAO,CAACC,GAAR,CAAY,oBAAsBgD,IAAI,CAACC,SAAL,CAAeQ,OAAO,CAACC,IAAR,CAAa2C,oBAA5B,CAAlC,EAEA,GAAMf,CAAAA,aAAa,CAAG7B,OAAO,CAACC,IAAR,CAAa2C,oBAAb,CAAkCjC,GAAxD,CACA,GAAMS,CAAAA,WAAW,CAAG,MAAKtG,KAAL,CAAWK,KAAX,CAAiB2G,IAAjB,CAAsB,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAACpB,GAAF,GAAUkB,aAAd,EAAvB,CAApB,CACA,GAAMG,CAAAA,cAAc,CAAG,MAAKlH,KAAL,CAAWK,KAAX,CAAiB8G,OAAjB,CAAyBb,WAAzB,CAAvB,CACA,GAAMc,CAAAA,WAAW,CAAG,MAAKpH,KAAL,CAAWK,KAAX,CAAiBgH,MAAjB,CAAwBH,cAAxB,CAAwC,CAAxC,CAApB,CACA1F,OAAO,CAACC,GAAR,CAAY,gBAAZ,CAA8BgD,IAAI,CAACC,SAAL,CAAe4B,WAAf,CAA9B,CAA0D,qBAA1D,CAAiFY,cAAjF,CAAiG,kBAAjG,CAAqHE,WAArH,EAEA,MAAKpH,KAAL,CAAWK,KAAX,CAAiBkF,IAAjB,CAAsBL,OAAO,CAACC,IAAR,CAAa2C,oBAAnC,EACA,MAAK5D,OAAL,CAAa7D,KAAb,CAAqB,MAAKL,KAAL,CAAWK,KAAhC,CACA,GAAMmF,CAAAA,aAAa,CAAGf,IAAI,CAACC,SAAL,CAAeQ,OAAO,CAACC,IAAvB,EAA6BvB,KAA7B,CAAmC,CAAnC,CAAqC,EAArC,CAAtB,CACA,MAAKrC,QAAL,CAAc,CAAET,SAAS,CAAE0E,aAAb,CAAd,EACA,MAAKgB,UAAL,GACD,CA7BH,EA8BGf,KA9BH,CA8BS,SAAAC,GAAG,CAAI,CACZlE,OAAO,CAACC,GAAR,CAAYiE,GAAZ,EACA,MAAKnE,QAAL,CAAc,CAACT,SAAS,CAAE4E,GAAZ,CAAd,EACD,CAjCH,EAoCH,C,OAECqC,2B,CAA8B,SAAClG,KAAD,CAAW,CAEzC,GAAMoC,CAAAA,KAAK,CAAG,MAAKC,OAAL,CAAaD,KAA3B,CACA,GAAME,CAAAA,MAAM,CAAG,MAAKD,OAAL,CAAaC,MAA5B,CACA,GAAIyB,CAAAA,cAAc,CAAG,MAAK1B,OAAL,CAAazD,YAAb,CAA0BoF,GAA/C,CACA;AACA;AACA;AACA;AACA,GAAI1B,MAAM,GAAKyB,cAAX,EAA6B,MAAK1B,OAAL,CAAa4B,IAAb,CAAkBxD,IAAlB,GAA2B,OAA5D,CAAsE,CACpEd,OAAO,CAACC,GAAR,CAAY,gDAAZ,EACA,MAAKF,QAAL,CAAc,CAACT,SAAS,CAAE,gDAAZ,CAAd,EACE8E,cAAc,CAAG,IAAjB,CACH,CAEDpE,OAAO,CAACC,GAAR,CAAY,iCAAZ,EAEA,MAAKF,QAAL,CAAc,CAAErB,QAAQ,CAAE,KAAZ,CAAoBQ,eAAe,CAAE,IAArC,CAAd,EAEA;AACA,GAAIsH,CAAAA,gBAAgB,CAAGnG,KAAK,CAACC,MAAN,CAAamG,wBAAb,CAAsCjG,KAA7D,CACA,GAAIkG,CAAAA,cAAc,CAAG,iBAAiBtC,cAAjB,CAAgC,cAArD,CACA;AACA,GAAI7E,CAAAA,IAAI,CAAGhC,WAAW,CAACoJ,aAAZ,CAA0BpH,IAArC,CAEAS,OAAO,CAACC,GAAR,wDAEeV,IAAI,CAACqB,IAFpB,qDAGoCrD,WAAW,CAACoJ,aAAZ,CAA0BpH,IAH9D,eAKA,GAAMqH,CAAAA,MAAM,CAAG,CACbC,UAAU,CAAE,MAAKnE,OAAL,CAAaoE,KAAb,CAAmBC,EAAnB,CAAsBF,UADrB,CAEbG,OAAO,CAAEN,cAFI,CAGbO,MAAM,CAAE,MAAKvE,OAAL,CAAaoE,KAAb,CAAmBC,EAAnB,CAAsBE,MAHjB,CAIbC,WAAW,CAAE,MAAKxE,OAAL,CAAaoE,KAAb,CAAmBC,EAAnB,CAAsBG,WAJtB,CAKbC,eAAe,CAAE,MAAKzE,OAAL,CAAaoE,KAAb,CAAmBC,EAAnB,CAAsBI,eAL1B,CAAf,CAOA,GAAMC,CAAAA,aAAa,CAAG,GAAI7K,CAAAA,EAAJ,CAAOqK,MAAP,CAAtB,CACA,GAAMS,CAAAA,WAAW,CAAG9H,IAAI,CAACqB,IAAzB,CACA,GAAM0G,CAAAA,cAAc,CAAGD,WAAvB,CAEAD,aAAa,CACRG,UADL,CACgBhI,IADhB,CACsB8H,WADtB,EAEKhE,IAFL,CAEU,SAAAM,IAAI,CAAI,CAAC3D,OAAO,CAACC,GAAR,CAAY0D,IAAZ,EAAkB,MAAK5D,QAAL,CAAc,CAACT,SAAS,CAAE,4BAAZ,CAAd,EAA0D,CAF/F,EAGK2E,KAHL,CAGW,SAAAC,GAAG,CAAI,CAAClE,OAAO,CAACwH,KAAR,CAActD,GAAd,EAAmB,MAAKnE,QAAL,CAAc,CAACT,SAAS,CAAE,kBAAkB4E,GAA9B,CAAd,EAAmD,CAHzF,EAKA,GACEoD,cAAc,CAAC/E,IAAf,GAAsBC,MAAtB,GAAiC,CAAjC,EACAgE,gBAAgB,CAACjE,IAAjB,GAAwBC,MAAxB,GAAmC,CADnC,EAEAkE,cAAc,CAACnE,IAAf,GAAsBC,MAAtB,GAAiC,CAHnC,CAIA,CACExC,OAAO,CAACC,GAAR,CAAY,oCAAZ,EACA,OACD,CAEDD,OAAO,CAACC,GAAR,iEAEY0C,MAFZ,qCAGoByB,cAHpB,oCAIoBkD,cAJpB,uCAKsBd,gBALtB,qCAMoBE,cANpB,eAQE,MAAK3G,QAAL,CAAc,CAACT,SAAS,CAAE,iCAAZ,CAAd,EAEA,GAAMsD,CAAAA,WAAW,CAAG,CAClBC,KAAK,8DACqCF,MADrC,gCACgEyB,cADhE,2CAC8GkD,cAD9G,kCACmJd,gBADnJ,gCACwLE,cADxL,0PADa,CAApB,CAME5D,KAAK,CAAC,gEAAD,CAAmE,CAC1E;AACEC,MAAM,CAAE,MAFgE,CAGxEC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeN,WAAf,CAHkE,CAIxEO,OAAO,CAAE,CACP,eAAgB,kBADT,CAEPC,aAAa,CAAE,UAAYX,KAFpB,CAJ+D,CAAnE,CAAL,CASCY,IATD,CASM,SAAAC,GAAG,CAAI,CACX,GAAIA,GAAG,CAACC,MAAJ,GAAe,GAAf,EAAsBD,GAAG,CAACC,MAAJ,GAAe,GAAzC,CAA8C,CAC5C,KAAM,IAAIC,CAAAA,KAAJ,CAAU,SAAV,CAAN,CACD,CACD,MAAOF,CAAAA,GAAG,CAACG,IAAJ,EAAP,CACD,CAdD,EAeCJ,IAfD,CAeM,SAAAK,OAAO,CAAI,CACf1D,OAAO,CAACC,GAAR,CAAY,oBAAsBgD,IAAI,CAACC,SAAL,CAAeQ,OAAO,CAACC,IAAR,CAAa8D,oBAA5B,CAAlC,EAEA,GAAMlC,CAAAA,aAAa,CAAG7B,OAAO,CAACC,IAAR,CAAa8D,oBAAb,CAAkCpD,GAAxD,CACA,GAAMS,CAAAA,WAAW,CAAG,MAAKtG,KAAL,CAAWK,KAAX,CAAiB2G,IAAjB,CAAsB,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAACpB,GAAF,GAAUkB,aAAd,EAAvB,CAApB,CACA,GAAMG,CAAAA,cAAc,CAAG,MAAKlH,KAAL,CAAWK,KAAX,CAAiB8G,OAAjB,CAAyBb,WAAzB,CAAvB,CACA,GAAMc,CAAAA,WAAW,CAAG,MAAKpH,KAAL,CAAWK,KAAX,CAAiBgH,MAAjB,CAAwBH,cAAxB,CAAwC,CAAxC,CAApB,CACA1F,OAAO,CAACC,GAAR,CAAY,gBAAZ,CAA8BgD,IAAI,CAACC,SAAL,CAAe4B,WAAf,CAA9B,CAA0D,qBAA1D,CAAiFY,cAAjF,CAAiG,kBAAjG,CAAqHE,WAArH,EAEA,MAAKpH,KAAL,CAAWK,KAAX,CAAiBkF,IAAjB,CAAsBL,OAAO,CAACC,IAAR,CAAa8D,oBAAnC,EACA,MAAK/E,OAAL,CAAa7D,KAAb,CAAqB,MAAKL,KAAL,CAAWK,KAAhC,CACA,GAAMmF,CAAAA,aAAa,CAAGf,IAAI,CAACC,SAAL,CAAeQ,OAAO,CAACC,IAAvB,EAA6BvB,KAA7B,CAAmC,CAAnC,CAAqC,EAArC,CAAtB,CACA,MAAKrC,QAAL,CAAc,CAAET,SAAS,CAAE0E,aAAb,CAAd,EACA,MAAKgB,UAAL,GACD,CA7BD,EA8BCf,KA9BD,CA8BO,SAAAC,GAAG,CAAI,CACZlE,OAAO,CAACC,GAAR,CAAYiE,GAAZ,EACA,MAAKnE,QAAL,CAAc,CAACT,SAAS,CAAE4E,GAAZ,CAAd,EACD,CAjCD,EAoCL,C,OAGDwD,sB,CAAyB,SAACrH,KAAD,CAAW,CAElC,GAAMoC,CAAAA,KAAK,CAAG,MAAKC,OAAL,CAAaD,KAA3B,CACA,GAAME,CAAAA,MAAM,CAAG,MAAKD,OAAL,CAAaC,MAA5B,CACA,GAAIyB,CAAAA,cAAc,CAAG,MAAK1B,OAAL,CAAazD,YAAb,CAA0BoF,GAA/C,CACA;AACA;AACA;AACA;AACA,GAAI1B,MAAM,GAAKyB,cAAX,EAA6B,MAAK1B,OAAL,CAAa4B,IAAb,CAAkBxD,IAAlB,GAA2B,OAA5D,CAAsE,CACpEd,OAAO,CAACC,GAAR,CAAY,gDAAZ,EACA,MAAKF,QAAL,CAAc,CAACT,SAAS,CAAE,gDAAZ,CAAd,EACE8E,cAAc,CAAG,IAAjB,CACH,CAEDpE,OAAO,CAACC,GAAR,CAAY,4BAAZ,CAA0CI,KAAK,CAACC,MAAN,CAAaqH,iBAAb,CAA+BnH,KAAzE,EAEA,MAAKT,QAAL,CAAc,CAAErB,QAAQ,CAAE,KAAZ,CAAoBQ,eAAe,CAAE,IAArC,CAAd,EAEA,GAAI0I,CAAAA,SAAS,CAAGvH,KAAK,CAACC,MAAN,CAAaqH,iBAAb,CAA+BnH,KAA/C,CACA,GAAIqH,CAAAA,UAAU,CAAGxH,KAAK,CAACC,MAAN,CAAawH,kBAAb,CAAgCtH,KAAjD,CAEA,GAAIuH,CAAAA,cAAc,CAAG1H,KAAK,CAACC,MAAN,CAAa0H,sBAAb,CAAoCxH,KAAzD,CACA,GAAIH,KAAK,CAACC,MAAN,CAAa2H,mCAAb,CAAiDhG,OAAjD,GAA6D,IAAjE,CAAuE,CACrE8F,cAAc,CAAG,GAAI7F,CAAAA,IAAJ,GAAWC,WAAX,GAAyBC,KAAzB,CAA+B,CAA/B,CAAiC,EAAjC,CAAjB,CACD,CAED,GAAI8F,CAAAA,YAAY,CAAG7H,KAAK,CAACC,MAAN,CAAa6H,oBAAb,CAAkC3H,KAArD,CACA,GAAIH,KAAK,CAACC,MAAN,CAAa8H,iCAAb,CAA+CnG,OAA/C,GAA2D,IAA/D,CAAqE,CACnEiG,YAAY,CAAG,GAAIhG,CAAAA,IAAJ,GAAWC,WAAX,GAAyBC,KAAzB,CAA+B,CAA/B,CAAiC,EAAjC,CAAf,CACD,CAED,GACEwF,SAAS,CAACrF,IAAV,GAAiBC,MAAjB,GAA4B,CAA5B,EACAqF,UAAU,CAACtF,IAAX,GAAkBC,MAAlB,GAA6B,CAD7B,EAEAuF,cAAc,CAACxF,IAAf,GAAsBC,MAAtB,GAAiC,CAFjC,EAGA0F,YAAY,CAAC3F,IAAb,GAAoBC,MAApB,GAA+B,CAJjC,CAKE,CACAxC,OAAO,CAACC,GAAR,CAAY,sCAAZ,EACA,MAAKF,QAAL,CAAc,CAACT,SAAS,CAAE,sCAAZ,CAAd,EACA,OACD,CAEDU,OAAO,CAACC,GAAR,4DAEY0C,MAFZ,qCAGoByB,cAHpB,4CAKYwD,SALZ,8BAMaC,UANb,kCAOiBE,cAPjB,gCAQeG,YARf,uBAWE,MAAKnI,QAAL,CAAc,CAACT,SAAS,CAAE,2BAAZ,CAAd,EAEA,GAAMsD,CAAAA,WAAW,CAAG,CAClBC,KAAK,yDACgCF,MADhC,gCAC2DyB,cAD3D,sCACoGwD,SADpG,4BAC8HC,UAD9H,gCAC6JE,cAD7J,8BAC8LG,YAD9L,0PADa,CAApB,CAMEpF,KAAK,CAAC,gEAAD,CAAmE,CAC1E;AACEC,MAAM,CAAE,MAFgE,CAGxEC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeN,WAAf,CAHkE,CAIxEO,OAAO,CAAE,CACP,eAAgB,kBADT,CAEPC,aAAa,CAAE,UAAYX,KAFpB,CAJ+D,CAAnE,CAAL,CASCY,IATD,CASM,SAAAC,GAAG,CAAI,CACX,GAAIA,GAAG,CAACC,MAAJ,GAAe,GAAf,EAAsBD,GAAG,CAACC,MAAJ,GAAe,GAAzC,CAA8C,CAC5C,KAAM,IAAIC,CAAAA,KAAJ,CAAU,SAAV,CAAN,CACD,CACD,MAAOF,CAAAA,GAAG,CAACG,IAAJ,EAAP,CACD,CAdD,EAeCJ,IAfD,CAeM,SAAAK,OAAO,CAAI,CACf1D,OAAO,CAACC,GAAR,CAAY,oBAAsBgD,IAAI,CAACC,SAAL,CAAeQ,OAAO,CAACC,IAAvB,CAAlC,EAEA,GAAM4B,CAAAA,aAAa,CAAG7B,OAAO,CAACC,IAAR,CAAa0E,eAAb,CAA6BhE,GAAnD,CACA,GAAMS,CAAAA,WAAW,CAAG,MAAKtG,KAAL,CAAWK,KAAX,CAAiB2G,IAAjB,CAAsB,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAACpB,GAAF,GAAUkB,aAAd,EAAvB,CAApB,CACA,GAAMG,CAAAA,cAAc,CAAG,MAAKlH,KAAL,CAAWK,KAAX,CAAiB8G,OAAjB,CAAyBb,WAAzB,CAAvB,CACA,GAAMc,CAAAA,WAAW,CAAG,MAAKpH,KAAL,CAAWK,KAAX,CAAiBgH,MAAjB,CAAwBH,cAAxB,CAAwC,CAAxC,CAApB,CACA1F,OAAO,CAACC,GAAR,CAAY,gBAAZ,CAA8BgD,IAAI,CAACC,SAAL,CAAe4B,WAAf,CAA9B,CAA0D,qBAA1D,CAAiFY,cAAjF,CAAiG,kBAAjG,CAAqHE,WAArH,EAEA,MAAKpH,KAAL,CAAWK,KAAX,CAAiBkF,IAAjB,CAAsBL,OAAO,CAACC,IAAR,CAAa0E,eAAnC,EACA,MAAK3F,OAAL,CAAa7D,KAAb,CAAqB,MAAKL,KAAL,CAAWK,KAAhC,CACA,GAAMmF,CAAAA,aAAa,CAAGf,IAAI,CAACC,SAAL,CAAeQ,OAAO,CAACC,IAAvB,EAA6BvB,KAA7B,CAAmC,CAAnC,CAAqC,EAArC,CAAtB,CACA,MAAKrC,QAAL,CAAc,CAAET,SAAS,CAAE0E,aAAb,CAAd,EACA,MAAKgB,UAAL,GACD,CA7BD,EA8BCf,KA9BD,CA8BO,SAAAC,GAAG,CAAI,CACZlE,OAAO,CAACC,GAAR,CAAYiE,GAAZ,EACA,MAAKnE,QAAL,CAAc,CAACT,SAAS,CAAE4E,GAAZ,CAAd,EACD,CAjCD,EAmCL,C,OAGDoE,yB,CAA4B,SAACjI,KAAD,CAAW,CACrCL,OAAO,CAACC,GAAR,CAAY,mBAAZ,EAGA,GAAI0C,CAAAA,MAAM,CAAG,MAAKD,OAAL,CAAaC,MAA1B,CAEE3C,OAAO,CAACC,GAAR,CAAY,uBAAZ,CAAqCI,KAAK,CAACC,MAAN,CAAaiI,cAAb,CAA4B/H,KAAjE,EACA,MAAKT,QAAL,CAAc,CAAEnB,SAAS,CAAE,KAAb,CAAd,EAEA,GAAIwG,CAAAA,KAAK,CAAG,IAAZ,CACA,GAAIvC,CAAAA,KAAK,CAAGxC,KAAK,CAACC,MAAN,CAAakI,cAAb,CAA4BhI,KAAxC,CACA,GAAIH,KAAK,CAACC,MAAN,CAAamI,oBAAb,CAAkCjI,KAAlC,GAA4C,QAAhD,CAA0D,CACxD4E,KAAK,CAAG/E,KAAK,CAACC,MAAN,CAAaiI,cAAb,CAA4B/H,KAApC,CACD,CAFD,IAEO,CACL4E,KAAK,CAAG/E,KAAK,CAACC,MAAN,CAAamI,oBAAb,CAAkCjI,KAA1C,CACD,CAED,MAAKT,QAAL,CAAc,CACZZ,eAAe,CAAEiG,KADL,CAEZhG,eAAe,CAAEyD,KAFL,CAAd,EAKA,GACEuC,KAAK,CAAC7C,IAAN,GAAaC,MAAb,GAAwB,CAAxB,EACAK,KAAK,CAACN,IAAN,GAAaC,MAAb,GAAwB,CAF1B,CAGE,CACAxC,OAAO,CAACC,GAAR,CAAY,gDAAZ,EACA,MAAKF,QAAL,CAAc,CAACT,SAAS,CAAE,gDAAZ,CAAd,EACA,OACD,CAED,GAAMoJ,CAAAA,MAAM,CAAG,CAAEtD,KAAK,CAALA,KAAF,CAASvC,KAAK,CAALA,KAAT,CAAf,CACA7C,OAAO,CAACC,GAAR,CAAY,uBAAZ,CAAqCgD,IAAI,CAACC,SAAL,CAAewF,MAAf,CAArC,EACA,MAAK3I,QAAL,CAAc,CAACT,SAAS,CAAE,uBAAZ,CAAd,EAEA,GAAMsD,CAAAA,WAAW,CAAG,CAClBC,KAAK,oDAC2BF,MAD3B,uBAC6CyC,KAD7C,uBAC8DvC,KAD9D,yPADa,CAApB,CAMA,GAAMJ,CAAAA,KAAK,CAAG,MAAKC,OAAL,CAAaD,KAA3B,CAEAK,KAAK,CAAC,gEAAD,CAAmE,CACxE;AACEC,MAAM,CAAE,MAF8D,CAGtEC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeN,WAAf,CAHgE,CAItEO,OAAO,CAAE,CACP,eAAgB,kBADT,CAEPC,aAAa,CAAE,UAAYX,KAFpB,CAJ6D,CAAnE,CAAL,CASGY,IATH,CASQ,SAAAC,GAAG,CAAI,CACX,GAAIA,GAAG,CAACC,MAAJ,GAAe,GAAf,EAAsBD,GAAG,CAACC,MAAJ,GAAe,GAAzC,CAA8C,CAC5C,KAAM,IAAIC,CAAAA,KAAJ,CAAU,SAAV,CAAN,CACD,CACD,MAAOF,CAAAA,GAAG,CAACG,IAAJ,EAAP,CACD,CAdH,EAeGJ,IAfH,CAeQ,SAAAK,OAAO,CAAI,CACf1D,OAAO,CAACC,GAAR,CAAY,oBAAsBgD,IAAI,CAACC,SAAL,CAAeQ,OAAf,CAAlC,EAEA,GAAMM,CAAAA,aAAa,CAAGf,IAAI,CAACC,SAAL,CAAeQ,OAAO,CAACC,IAAvB,EAA6BvB,KAA7B,CAAmC,CAAnC,CAAqC,CAArC,CAAtB,CACA,MAAKrC,QAAL,CAAc,CAACT,SAAS,CAAE0E,aAAZ,CAAd,EAEA,GAAMlF,CAAAA,WAAW,CAAG4E,OAAO,CAACC,IAAR,CAAagF,YAAjC,CAEA,MAAK5I,QAAL,CAAc,CAAEjB,WAAW,CAAEA,WAAf,CAAd,EACAkB,OAAO,CAACC,GAAR,CAAY,sBAAZ,CAAoC,MAAKzB,KAAL,CAAWM,WAA/C,EACA;AACD,CA1BH,EA2BGmF,KA3BH,CA2BS,SAAAC,GAAG,CAAI,CACZlE,OAAO,CAACC,GAAR,CAAYiE,GAAZ,EACA,MAAKnE,QAAL,CAAc,CAACT,SAAS,CAAE4E,GAAZ,CAAd,EACD,CA9BH,EA+BH,C,OAED0E,2B,CAA8B,SAACvI,KAAD,CAAW,CAEvC,GAAIsC,CAAAA,MAAM,CAAG,MAAKD,OAAL,CAAaC,MAA1B,CACA,MAAK5C,QAAL,CAAc,CAAEnB,SAAS,CAAE,KAAb,CAAd,EAEAoB,OAAO,CAACC,GAAR,CAAY,uBAAZ,CAAqCI,KAAK,CAACC,MAAN,CAAauI,WAAb,CAAyBrI,KAA9D,EACA,GAAI4D,CAAAA,cAAc,CAAG/D,KAAK,CAACC,MAAN,CAAauI,WAAb,CAAyBrI,KAA9C,CAEA,GAAMoC,CAAAA,WAAW,CAAG,CAClBC,KAAK,+CACwBF,MADxB,gCACmDyB,cADnD,qPADa,CAApB,CAMA,GAAM3B,CAAAA,KAAK,CAAG,MAAKC,OAAL,CAAaD,KAA3B,CAEAK,KAAK,CAAC,gEAAD,CAAmE,CACxE;AACEC,MAAM,CAAE,MAF8D,CAGtEC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeN,WAAf,CAHgE,CAItEO,OAAO,CAAE,CACP,eAAgB,kBADT,CAEPC,aAAa,CAAE,UAAYX,KAFpB,CAJ6D,CAAnE,CAAL,CASGY,IATH,CASQ,SAAAC,GAAG,CAAI,CACX,GAAIA,GAAG,CAACC,MAAJ,GAAe,GAAf,EAAsBD,GAAG,CAACC,MAAJ,GAAe,GAAzC,CAA8C,CAC5C,KAAM,IAAIC,CAAAA,KAAJ,CAAU,SAAV,CAAN,CACD,CACD,MAAOF,CAAAA,GAAG,CAACG,IAAJ,EAAP,CACD,CAdH,EAeGJ,IAfH,CAeQ,SAAAK,OAAO,CAAI,CACf1D,OAAO,CAACC,GAAR,CAAY,oBAAsBgD,IAAI,CAACC,SAAL,CAAeQ,OAAf,CAAlC,EAEA,GAAMM,CAAAA,aAAa,CAAGf,IAAI,CAACC,SAAL,CAAeQ,OAAO,CAACC,IAAvB,EAA6BvB,KAA7B,CAAmC,CAAnC,CAAqC,EAArC,CAAtB,CACA,MAAKrC,QAAL,CAAc,CAACT,SAAS,CAAE0E,aAAZ,CAAd,EAEA,GAAMlF,CAAAA,WAAW,CAAG4E,OAAO,CAACC,IAAR,CAAamF,SAAjC,CAEA,MAAK/I,QAAL,CAAc,CAAEjB,WAAW,CAAE,CAACA,WAAD,CAAf,CAAd,EACAkB,OAAO,CAACC,GAAR,CAAY,sBAAZ,CAAoC,MAAKzB,KAAL,CAAWM,WAA/C,EACA;AACD,CA1BH,EA2BGmF,KA3BH,CA2BS,SAAAC,GAAG,CAAI,CACZlE,OAAO,CAACC,GAAR,CAAYiE,GAAZ,EACA,MAAKnE,QAAL,CAAc,CAACT,SAAS,CAAE4E,GAAZ,CAAd,EACD,CA9BH,EAgCD,C,OACD6E,uC,CAA0C,SAAC1I,KAAD,CAAW,CAEnD,GAAIsC,CAAAA,MAAM,CAAG,MAAKD,OAAL,CAAaC,MAA1B,CACA,MAAK5C,QAAL,CAAc,CAAEnB,SAAS,CAAE,KAAb,CAAd,EAEAoB,OAAO,CAACC,GAAR,CAAY,mCAAZ,EAEA,GAAI8F,CAAAA,cAAc,CAAG1F,KAAK,CAACC,MAAN,CAAa0I,aAAb,CAA2BxI,KAAhD,CACA,GAAIH,KAAK,CAACC,MAAN,CAAa2I,0BAAb,CAAwChH,OAAxC,GAAoD,IAAxD,CAA8D,CAC5D8D,cAAc,CAAG,GAAI7D,CAAAA,IAAJ,GAAWC,WAAX,GAAyBC,KAAzB,CAA+B,CAA/B,CAAiC,EAAjC,CAAjB,CACD,CAED,GAAMQ,CAAAA,WAAW,CAAG,CAClBC,KAAK,2DACoCF,MADpC,gCAC+DoD,cAD/D,qPADa,CAApB,CAMA,GAAMtD,CAAAA,KAAK,CAAG,MAAKC,OAAL,CAAaD,KAA3B,CAEAK,KAAK,CAAC,gEAAD,CAAmE,CACxE;AACEC,MAAM,CAAE,MAF8D,CAGtEC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeN,WAAf,CAHgE,CAItEO,OAAO,CAAE,CACP,eAAgB,kBADT,CAEPC,aAAa,CAAE,UAAYX,KAFpB,CAJ6D,CAAnE,CAAL,CASGY,IATH,CASQ,SAAAC,GAAG,CAAI,CACX,GAAIA,GAAG,CAACC,MAAJ,GAAe,GAAf,EAAsBD,GAAG,CAACC,MAAJ,GAAe,GAAzC,CAA8C,CAC5C,KAAM,IAAIC,CAAAA,KAAJ,CAAU,SAAV,CAAN,CACD,CACD,MAAOF,CAAAA,GAAG,CAACG,IAAJ,EAAP,CACD,CAdH,EAeGJ,IAfH,CAeQ,SAAAK,OAAO,CAAI,CACf1D,OAAO,CAACC,GAAR,CAAY,oBAAsBgD,IAAI,CAACC,SAAL,CAAeQ,OAAf,CAAlC,EAEA,GAAMM,CAAAA,aAAa,CAAGf,IAAI,CAACC,SAAL,CAAeQ,OAAO,CAACC,IAAvB,EAA6BvB,KAA7B,CAAmC,CAAnC,CAAqC,CAArC,CAAtB,CACA,MAAKrC,QAAL,CAAc,CAACT,SAAS,CAAE0E,aAAZ,CAAd,EAEA,GAAMlF,CAAAA,WAAW,CAAG4E,OAAO,CAACC,IAAR,CAAauF,qBAAjC,CAEA,MAAKnJ,QAAL,CAAc,CAAEjB,WAAW,CAAEA,WAAf,CAAd,EACAkB,OAAO,CAACC,GAAR,CAAY,sBAAZ,CAAoC,MAAKzB,KAAL,CAAWM,WAA/C,EACA;AACD,CA1BH,EA2BGmF,KA3BH,CA2BS,SAAAC,GAAG,CAAI,CACZlE,OAAO,CAACC,GAAR,CAAYiE,GAAZ,EACA,MAAKnE,QAAL,CAAc,CAACT,SAAS,CAAE4E,GAAZ,CAAd,EACD,CA9BH,EAgCD,C,OACDiF,uC,CAA0C,SAAC9I,KAAD,CAAW,CAEnD,GAAIsC,CAAAA,MAAM,CAAG,MAAKD,OAAL,CAAaC,MAA1B,CACA,MAAK5C,QAAL,CAAc,CAAEnB,SAAS,CAAE,KAAb,CAAd,EAEAoB,OAAO,CAACC,GAAR,CAAY,mCAAZ,EAEA,GAAMmJ,CAAAA,SAAS,CAAG/I,KAAK,CAACC,MAAN,CAAa+I,kBAAb,CAAgC7I,KAAlD,CACA,GAAM8I,CAAAA,OAAO,CAAGjJ,KAAK,CAACC,MAAN,CAAaiJ,gBAAb,CAA8B/I,KAA9C,CAEA,GAAMoC,CAAAA,WAAW,CAAG,CAClBC,KAAK,0DACmCF,MADnC,2BACyDyG,SADzD,yBACgFE,OADhF,qPADa,CAApB,CAMA,GAAM7G,CAAAA,KAAK,CAAG,MAAKC,OAAL,CAAaD,KAA3B,CAEAK,KAAK,CAAC,gEAAD,CAAmE,CACxE;AACEC,MAAM,CAAE,MAF8D,CAGtEC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeN,WAAf,CAHgE,CAItEO,OAAO,CAAE,CACP,eAAgB,kBADT,CAEPC,aAAa,CAAE,UAAYX,KAFpB,CAJ6D,CAAnE,CAAL,CASGY,IATH,CASQ,SAAAC,GAAG,CAAI,CACX,GAAIA,GAAG,CAACC,MAAJ,GAAe,GAAf,EAAsBD,GAAG,CAACC,MAAJ,GAAe,GAAzC,CAA8C,CAC5C,KAAM,IAAIC,CAAAA,KAAJ,CAAU,SAAV,CAAN,CACD,CACD,MAAOF,CAAAA,GAAG,CAACG,IAAJ,EAAP,CACD,CAdH,EAeGJ,IAfH,CAeQ,SAAAK,OAAO,CAAI,CACf1D,OAAO,CAACC,GAAR,CAAY,oBAAsBgD,IAAI,CAACC,SAAL,CAAeQ,OAAf,CAAlC,EAEA,GAAMM,CAAAA,aAAa,CAAGf,IAAI,CAACC,SAAL,CAAeQ,OAAO,CAACC,IAAvB,EAA6BvB,KAA7B,CAAmC,CAAnC,CAAqC,CAArC,CAAtB,CACA,MAAKrC,QAAL,CAAc,CAACT,SAAS,CAAE0E,aAAZ,CAAd,EAEA,GAAMlF,CAAAA,WAAW,CAAG4E,OAAO,CAACC,IAAR,CAAa6F,qBAAjC,CAEA,MAAKzJ,QAAL,CAAc,CAAEjB,WAAW,CAAEA,WAAf,CAAd,EACAkB,OAAO,CAACC,GAAR,CAAY,sBAAZ,CAAoC,MAAKzB,KAAL,CAAWM,WAA/C,EACA;AACD,CA1BH,EA2BGmF,KA3BH,CA2BS,SAAAC,GAAG,CAAI,CACZlE,OAAO,CAACC,GAAR,CAAYiE,GAAZ,EACA,MAAKnE,QAAL,CAAc,CAACT,SAAS,CAAE4E,GAAZ,CAAd,EACD,CA9BH,EAgCD,C,OAEDuF,6B,CAAgC,SAACpJ,KAAD,CAAW,CACzCL,OAAO,CAACC,GAAR,CAAY,yBAAZ,CAAuCI,KAAK,CAACC,MAAN,CAAaoJ,aAAb,CAA2BlJ,KAAlE,EACA,MAAKT,QAAL,CAAc,CAAEnB,SAAS,CAAE,KAAb,CAAd,EAEA,GAAIC,CAAAA,KAAK,CAAG,MAAKL,KAAL,CAAWK,KAAvB,CACA,GAAM8K,CAAAA,KAAK,CAAG,GAAIC,CAAAA,MAAJ,CAAWvJ,KAAK,CAACC,MAAN,CAAaoJ,aAAb,CAA2BlJ,KAAtC,CAA4C,GAA5C,CAAd,CACAR,OAAO,CAACC,GAAR,0BACW0J,KADX,eAGE,GAAIE,CAAAA,MAAM,CAAGhL,KAAK,CAACiL,MAAN,CAAa,SAAAxF,IAAI,QAAIA,CAAAA,IAAI,CAAC1D,IAAL,CAAUmJ,KAAV,CAAgBJ,KAAhB,CAAJ,EAAjB,CAAb,CACA3J,OAAO,CAACC,GAAR,6BACYgD,IAAI,CAACC,SAAL,CAAe2G,MAAf,CADZ,gBAIE,MAAK9J,QAAL,CAAc,CAAEjB,WAAW,CAAE+K,MAAf,CAAd,EAEL,C,OAGDG,kB,CAAqB,UAAM,CACzB,MAAKjK,QAAL,CAAc,CAAEtB,QAAQ,CAAE,KAAZ,CAAmBC,QAAQ,CAAE,KAA7B,CAAoCC,QAAQ,CAAE,KAA9C,CAAqDC,SAAS,CAAE,KAAhE,CAAd,EACD,C,OAqDDqL,a,CAAgB,UAAM,CACpBjK,OAAO,CAACC,GAAR,CAAY,+CAAiDgD,IAAI,CAACC,SAAL,CAAe,MAAKR,OAApB,CAA7D,EACA,GAAMC,CAAAA,MAAM,CAAG,MAAKD,OAAL,CAAaC,MAA5B,CAEA;AACA,GAAMC,CAAAA,WAAW,CAAG,CAClBC,KAAK,qDAC8BF,MAD9B,yPADa,CAApB,CAMAG,KAAK,CAAC,gEAAD,CAAmE,CACxE;AACEC,MAAM,CAAE,MAF8D,CAGtEC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeN,WAAf,CAHgE,CAItEO,OAAO,CAAE,CACP,eAAgB,kBADT,CAEPC,aAAa,CAAE,UAAY,MAAKV,OAAL,CAAaD,KAFjC,CAJ6D,CAAnE,CAAL,CASGY,IATH,CASQ,SAAAC,GAAG,CAAI,CACX,GAAIA,GAAG,CAACC,MAAJ,GAAe,GAAf,EAAsBD,GAAG,CAACC,MAAJ,GAAe,GAAzC,CAA8C,CAC5C,MAAKb,OAAL,CAAapD,SAAb,CAAyB,SAAzB,CACA,KAAM,IAAIkE,CAAAA,KAAJ,CAAU,SAAV,CAAN,CACD,CACD,MAAOF,CAAAA,GAAG,CAACG,IAAJ,EAAP,CACD,CAfH,EAgBGJ,IAhBH,CAgBQ,SAAAK,OAAO,CAAI,CACf,GAAM7E,CAAAA,KAAK,CAAG6E,OAAO,CAACC,IAAR,CAAauG,YAA3B,CACAlK,OAAO,CAACC,GAAR,CAAY,YAAZ,CAA0ByD,OAA1B,EACA1D,OAAO,CAACC,GAAR,CAAYpB,KAAZ,EAEA,GAAMmF,CAAAA,aAAa,CAAGf,IAAI,CAACC,SAAL,CAAeQ,OAAO,CAACC,IAAvB,EAA6BvB,KAA7B,CAAmC,CAAnC,CAAqC,CAArC,CAAtB,CACA,MAAKrC,QAAL,CAAc,CAACT,SAAS,CAAE0E,aAAZ,CAAd,EAEA,MAAKjE,QAAL,CAAc,CAAClB,KAAK,CAAEA,KAAR,CAAd,EACA;AACA;AACA;AACA,MAAK6D,OAAL,CAAa7D,KAAb,CAAqB,MAAKL,KAAL,CAAWK,KAAhC,CACD,CA7BH,EA8BGoF,KA9BH,CA8BS,SAAAC,GAAG,CAAI,CACZlE,OAAO,CAACC,GAAR,CAAYiE,GAAZ,EACA,MAAKnE,QAAL,CAAc,CAACT,SAAS,CAAE4E,GAAZ,CAAd,EACA;AACA;AACA;AACD,CApCH,EAqCD,C,OACDiG,c,CAAiB,UAAM,CACrBnK,OAAO,CAACC,GAAR,CAAY,gDAAkDgD,IAAI,CAACC,SAAL,CAAe,MAAKR,OAApB,CAA9D,EACA,GAAMC,CAAAA,MAAM,CAAG,MAAKD,OAAL,CAAaC,MAA5B,CAEA;AACA,GAAMC,CAAAA,WAAW,CAAG,CAClBC,KAAK,sDAC+BF,MAD/B,yPADa,CAApB,CAMAG,KAAK,CAAC,gEAAD,CAAmE,CACxE;AACEC,MAAM,CAAE,MAF8D,CAGtEC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeN,WAAf,CAHgE,CAItEO,OAAO,CAAE,CACP,eAAgB,kBADT,CAEPC,aAAa,CAAE,UAAY,MAAKV,OAAL,CAAaD,KAFjC,CAJ6D,CAAnE,CAAL,CASGY,IATH,CASQ,SAAAC,GAAG,CAAI,CACX,GAAIA,GAAG,CAACC,MAAJ,GAAe,GAAf,EAAsBD,GAAG,CAACC,MAAJ,GAAe,GAAzC,CAA8C,CAC5C,MAAKb,OAAL,CAAapD,SAAb,CAAyB,SAAzB,CACA,KAAM,IAAIkE,CAAAA,KAAJ,CAAU,SAAV,CAAN,CACD,CACD,MAAOF,CAAAA,GAAG,CAACG,IAAJ,EAAP,CACD,CAfH,EAgBGJ,IAhBH,CAgBQ,SAAAK,OAAO,CAAI,CACf,GAAM7E,CAAAA,KAAK,CAAG6E,OAAO,CAACC,IAAR,CAAayG,aAA3B,CACApK,OAAO,CAACC,GAAR,CAAY,YAAZ,CAA0ByD,OAA1B,EACA1D,OAAO,CAACC,GAAR,CAAYpB,KAAZ,EAEA,GAAMmF,CAAAA,aAAa,CAAGf,IAAI,CAACC,SAAL,CAAeQ,OAAO,CAACC,IAAvB,EAA6BvB,KAA7B,CAAmC,CAAnC,CAAqC,CAArC,CAAtB,CACA,MAAKrC,QAAL,CAAc,CAACT,SAAS,CAAE0E,aAAZ,CAAd,EAEA;AACA;AACA;AACA,MAAKjE,QAAL,CAAc,CAAClB,KAAK,CAAEA,KAAR,CAAd,EACA,MAAK6D,OAAL,CAAa7D,KAAb,CAAqB,MAAKL,KAAL,CAAWK,KAAhC,CACD,CA7BH,EA8BGoF,KA9BH,CA8BS,SAAAC,GAAG,CAAI,CACZlE,OAAO,CAACC,GAAR,CAAYiE,GAAZ,EACA,MAAKnE,QAAL,CAAc,CAACT,SAAS,CAAE4E,GAAZ,CAAd,EACA;AACA;AACA;AACD,CApCH,EAqCD,C,OAEHmG,kB,CAAqB,UAAM,CACzBrK,OAAO,CAACC,GAAR,CAAY,iCAAZ,CAA+C,MAAKyC,OAAL,CAAazD,YAA5D,EAEA,GAAM0D,CAAAA,MAAM,CAAG,MAAKD,OAAL,CAAaC,MAA5B,CACA,GAAMyB,CAAAA,cAAc,CAAG,MAAK1B,OAAL,CAAazD,YAAb,CAA0BoF,GAAjD,CAEA,GAAG,MAAK3B,OAAL,CAAa4B,IAAb,CAAkBxD,IAAlB,GAA2B,OAA9B,CAAuC,CACrCd,OAAO,CAACC,GAAR,CAAY,qCAAZ,EACA,MAAKF,QAAL,CAAc,CAACT,SAAS,CAAE,qCAAZ,CAAd,EACD,CAED,MAAKS,QAAL,CAAc,CAACpB,QAAQ,CAAE,IAAX,CAAiBW,SAAS,CAAE,iBAA5B,CAAd,EAEA,GAAMsD,CAAAA,WAAW,CAAG,CAClBC,KAAK,gEAEuBF,MAFvB,kCAEoDyB,cAFpD,iQADa,CAApB,CAQAtB,KAAK,CAAC,gEAAD,CAAmE,CACxE;AACEC,MAAM,CAAE,MAF8D,CAGtEC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeN,WAAf,CAHgE,CAItEO,OAAO,CAAE,CACP,eAAgB,kBADT,CAEPC,aAAa,CAAE,UAAY,MAAKV,OAAL,CAAaD,KAFjC,CAJ6D,CAAnE,CAAL,CASGY,IATH,CASQ,SAAAC,GAAG,CAAI,CACX,GAAIA,GAAG,CAACC,MAAJ,GAAe,GAAf,EAAsBD,GAAG,CAACC,MAAJ,GAAe,GAAzC,CAA8C,CAC5C,KAAM,IAAIC,CAAAA,KAAJ,CAAU,SAAV,CAAN,CACD,CACD,MAAOF,CAAAA,GAAG,CAACG,IAAJ,EAAP,CACD,CAdH,EAeGJ,IAfH,CAeQ,SAAAK,OAAO,CAAI,CAEf,GAAMM,CAAAA,aAAa,CAAGf,IAAI,CAACC,SAAL,CAAeQ,OAAO,CAACC,IAAvB,EAA6BvB,KAA7B,CAAmC,CAAnC,CAAqC,CAArC,CAAtB,CACA,MAAKrC,QAAL,CAAc,CAACT,SAAS,CAAE0E,aAAZ,CAAd,EAEA,GAAIsG,CAAAA,WAAW,CAAG5G,OAAO,CAACC,IAAR,CAAa4G,UAA/B,CACAvK,OAAO,CAACC,GAAR,CAAYqK,WAAZ,EAEA,GAAIE,CAAAA,aAAa,CAAGF,WAAW,CAACjG,GAAhC,CACAiG,WAAW,CAAG,MAAK9L,KAAL,CAAWK,KAAX,CAAiB2G,IAAjB,CAAsB,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAACpB,GAAF,GAAUmG,aAAd,EAAvB,CAAd,CACA,GAAMC,CAAAA,cAAc,CAAG,MAAKjM,KAAL,CAAWK,KAAX,CAAiB8G,OAAjB,CAAyB2E,WAAzB,CAAvB,CACA,GAAM1E,CAAAA,WAAW,CAAG,MAAKpH,KAAL,CAAWK,KAAX,CAAiBgH,MAAjB,CAAwB4E,cAAxB,CAAwC,CAAxC,CAApB,CACAzK,OAAO,CAACC,GAAR,CAAY,gBAAZ,CAA8BgD,IAAI,CAACC,SAAL,CAAeoH,WAAf,CAA9B,CAA0D,qBAA1D,CAAiFG,cAAjF,CAAiG,kBAAjG,CAAqH7E,WAArH,EAEA,MAAK7F,QAAL,CAAc,CAAEpB,QAAQ,CAAE,KAAZ,CAAd,EACA;AACA;AAEA,MAAKqG,UAAL,GAED,CAnCH,EAoCGf,KApCH,CAoCS,SAAAC,GAAG,CAAI,CACZlE,OAAO,CAACC,GAAR,CAAYiE,GAAZ,EACA,MAAKnE,QAAL,CAAc,CAACT,SAAS,CAAE4E,GAAZ,CAAd,EACA,GAAI,MAAKrE,QAAT,CAAmB,CACjB,MAAKE,QAAL,CAAc,CAAEpB,QAAQ,CAAE,KAAZ,CAAd,EACD,CACF,CA1CH,EA4CD,C,OAED+L,wB,CAA2B,SAACC,KAAD,CAAW,CAEpC,GAAIlI,CAAAA,KAAK,CAAG,MAAKC,OAAL,CAAaD,KAAzB,CACA,GAAIE,CAAAA,MAAM,CAAG,MAAKD,OAAL,CAAaC,MAA1B,CACA,GAAIyB,CAAAA,cAAc,CAAG,MAAK5F,KAAL,CAAWS,YAAX,CAAwBoF,GAA7C,CACA,GAAIuG,CAAAA,IAAI,CAAG,GAAI1I,CAAAA,IAAJ,CAASyI,KAAK,CAACC,IAAN,CAAWC,MAAX,CAAkB,CAAlB,CAAoB,EAApB,EAAwB,IAAjC,EAAuC1I,WAAvC,GAAqDC,KAArD,CAA2D,CAA3D,CAA6D,EAA7D,CAAX,CAEApC,OAAO,CAACC,GAAR,0DAEWgD,IAAI,CAACC,SAAL,CAAeyH,KAAf,CAFX,0BAGWlI,KAHX,2BAIYE,MAJZ,mCAKoByB,cALpB,oCAMqBwG,IANrB,aASE,GAAMhI,CAAAA,WAAW,CAAG,CAClBC,KAAK,2DACoCF,MADpC,gCAC+DyB,cAD/D,gCACkGwG,IADlG,kPADa,CAApB,CAMI9H,KAAK,CAAC,gEAAD,CAAmE,CACxE;AACEC,MAAM,CAAE,MAF8D,CAGtEC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeN,WAAf,CAHgE,CAItEO,OAAO,CAAE,CACP,eAAgB,kBADT,CAEPC,aAAa,CAAE,UAAYX,KAFpB,CAJ6D,CAAnE,CAAL,CASGY,IATH,CASQ,SAAAC,GAAG,CAAI,CACX,GAAIA,GAAG,CAACC,MAAJ,GAAe,GAAf,EAAsBD,GAAG,CAACC,MAAJ,GAAe,GAAzC,CAA8C,CAC5C,KAAM,IAAIC,CAAAA,KAAJ,CAAU,SAAV,CAAN,CACD,CACD,MAAOF,CAAAA,GAAG,CAACG,IAAJ,EAAP,CACD,CAdH,EAeGJ,IAfH,CAeQ,SAAAK,OAAO,CAAI,CACf1D,OAAO,CAACC,GAAR,CAAY,iBAAZ,CAA8ByD,OAAO,CAACC,IAAR,CAAamH,oBAA3C,EAEA,GAAMvF,CAAAA,aAAa,CAAG7B,OAAO,CAACC,IAAR,CAAamH,oBAAb,CAAkCzG,GAAxD,CACA,GAAMS,CAAAA,WAAW,CAAG,MAAKtG,KAAL,CAAWK,KAAX,CAAiB2G,IAAjB,CAAsB,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAACpB,GAAF,GAAUkB,aAAd,EAAvB,CAApB,CACA,GAAMG,CAAAA,cAAc,CAAG,MAAKlH,KAAL,CAAWK,KAAX,CAAiB8G,OAAjB,CAAyBb,WAAzB,CAAvB,CACA,GAAMc,CAAAA,WAAW,CAAG,MAAKpH,KAAL,CAAWK,KAAX,CAAiBgH,MAAjB,CAAwBH,cAAxB,CAAwC,CAAxC,CAApB,CACA1F,OAAO,CAACC,GAAR,CAAY,gBAAZ,CAA8BgD,IAAI,CAACC,SAAL,CAAe4B,WAAf,CAA9B,CAA0D,qBAA1D,CAAiFY,cAAjF,CAAiG,kBAAjG,CAAqHE,WAArH,EAEA,MAAKpH,KAAL,CAAWK,KAAX,CAAiBkF,IAAjB,CAAsBL,OAAO,CAACC,IAAR,CAAamH,oBAAnC,EACA,MAAKpI,OAAL,CAAa7D,KAAb,CAAqB,MAAKL,KAAL,CAAWK,KAAhC,CACA,GAAMmF,CAAAA,aAAa,CAAGf,IAAI,CAACC,SAAL,CAAeQ,OAAO,CAACC,IAAvB,EAA6BvB,KAA7B,CAAmC,CAAnC,CAAqC,EAArC,CAAtB,CACA,MAAKrC,QAAL,CAAc,CAAET,SAAS,CAAE0E,aAAb,CAAd,EACA,MAAKgB,UAAL,GAED,CA9BH,EA+BGf,KA/BH,CA+BS,SAAAC,GAAG,CAAI,CACZlE,OAAO,CAACC,GAAR,CAAYiE,GAAZ,EACA,MAAKnE,QAAL,CAAc,CAAET,SAAS,CAAE4E,GAAb,CAAd,EACD,CAlCH,EAmCP,C,OAED6G,mB,CAAsB,SAACJ,KAAD,CAAW,CAE/B,GAAIlI,CAAAA,KAAK,CAAG,MAAKC,OAAL,CAAaD,KAAzB,CACA,GAAIE,CAAAA,MAAM,CAAG,MAAKD,OAAL,CAAaC,MAA1B,CACA,GAAIyB,CAAAA,cAAc,CAAG,MAAK5F,KAAL,CAAWS,YAAX,CAAwBoF,GAA7C,CAEArE,OAAO,CAACC,GAAR,qDAEWgD,IAAI,CAACC,SAAL,CAAeyH,KAAf,CAFX,0BAGWlI,KAHX,2BAIYE,MAJZ,mCAKoByB,cALpB,aAQE,GAAMxB,CAAAA,WAAW,CAAG,CAClBC,KAAK,sDAC+BF,MAD/B,gCAC0DyB,cAD1D,4BACyFuG,KAAK,CAACK,KAD/F,kPADa,CAApB,CAMIlI,KAAK,CAAC,gEAAD,CAAmE,CACxE;AACEC,MAAM,CAAE,MAF8D,CAGtEC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeN,WAAf,CAHgE,CAItEO,OAAO,CAAE,CACP,eAAgB,kBADT,CAEPC,aAAa,CAAE,UAAYX,KAFpB,CAJ6D,CAAnE,CAAL,CASGY,IATH,CASQ,SAAAC,GAAG,CAAI,CACX,GAAIA,GAAG,CAACC,MAAJ,GAAe,GAAf,EAAsBD,GAAG,CAACC,MAAJ,GAAe,GAAzC,CAA8C,CAC5C,KAAM,IAAIC,CAAAA,KAAJ,CAAU,SAAV,CAAN,CACD,CACD,MAAOF,CAAAA,GAAG,CAACG,IAAJ,EAAP,CACD,CAdH,EAeGJ,IAfH,CAeQ,SAAAK,OAAO,CAAI,CACf,GAAI4G,CAAAA,WAAW,CAAG5G,OAAO,CAACC,IAAR,CAAasH,eAA/B,CACAjL,OAAO,CAACC,GAAR,CAAYqK,WAAZ,EAEA,GAAM/E,CAAAA,aAAa,CAAG7B,OAAO,CAACC,IAAR,CAAasH,eAAb,CAA6B5G,GAAnD,CACA,GAAMS,CAAAA,WAAW,CAAG,MAAKtG,KAAL,CAAWK,KAAX,CAAiB2G,IAAjB,CAAsB,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAACpB,GAAF,GAAUkB,aAAd,EAAvB,CAApB,CACA,GAAMG,CAAAA,cAAc,CAAG,MAAKlH,KAAL,CAAWK,KAAX,CAAiB8G,OAAjB,CAAyBb,WAAzB,CAAvB,CACA,GAAMc,CAAAA,WAAW,CAAG,MAAKpH,KAAL,CAAWK,KAAX,CAAiBgH,MAAjB,CAAwBH,cAAxB,CAAwC,CAAxC,CAApB,CACA1F,OAAO,CAACC,GAAR,CAAY,gBAAZ,CAA8BgD,IAAI,CAACC,SAAL,CAAe4B,WAAf,CAA9B,CAA0D,qBAA1D,CAAiFY,cAAjF,CAAiG,kBAAjG,CAAqHE,WAArH,EAEA,MAAKpH,KAAL,CAAWK,KAAX,CAAiBkF,IAAjB,CAAsBL,OAAO,CAACC,IAAR,CAAasH,eAAnC,EACA,MAAKvI,OAAL,CAAa7D,KAAb,CAAqB,MAAKL,KAAL,CAAWK,KAAhC,CACA,GAAMmF,CAAAA,aAAa,CAAGf,IAAI,CAACC,SAAL,CAAeQ,OAAO,CAACC,IAAvB,EAA6BvB,KAA7B,CAAmC,CAAnC,CAAqC,EAArC,CAAtB,CACA,MAAKrC,QAAL,CAAc,CAAET,SAAS,CAAE0E,aAAb,CAAd,EACA,MAAKgB,UAAL,GAED,CA/BH,EAgCGf,KAhCH,CAgCS,SAAAC,GAAG,CAAI,CACZlE,OAAO,CAACC,GAAR,CAAYiE,GAAZ,EACA,MAAKnE,QAAL,CAAc,CAAET,SAAS,CAAE4E,GAAb,CAAd,EACD,CAnCH,EAoCP,C,OAEDgH,wB,CAA2B,SAACP,KAAD,CAAW,CAEpC,GAAIlI,CAAAA,KAAK,CAAG,MAAKC,OAAL,CAAaD,KAAzB,CACA,GAAIE,CAAAA,MAAM,CAAG,MAAKD,OAAL,CAAaC,MAA1B,CACA,GAAIyB,CAAAA,cAAc,CAAG,MAAK5F,KAAL,CAAWS,YAAX,CAAwBoF,GAA7C,CAEArE,OAAO,CAACC,GAAR,0DAEWgD,IAAI,CAACC,SAAL,CAAeyH,KAAf,CAFX,0BAGWlI,KAHX,2BAIYE,MAJZ,mCAKoByB,cALpB,aAQE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGA,GAAMxB,CAAAA,WAAW,CAAG,CAClBC,KAAK,2DACoCF,MADpC,gCAC+DyB,cAD/D,gCACkGuG,KAAK,CAAC/J,IADxG,kPADa,CAApB,CAMIkC,KAAK,CAAC,gEAAD,CAAmE,CACxE;AACEC,MAAM,CAAE,MAF8D,CAGtEC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeN,WAAf,CAHgE,CAItEO,OAAO,CAAE,CACP,eAAgB,kBADT,CAEPC,aAAa,CAAE,UAAYX,KAFpB,CAJ6D,CAAnE,CAAL,CASGY,IATH,CASQ,SAAAC,GAAG,CAAI,CACX,GAAIA,GAAG,CAACC,MAAJ,GAAe,GAAf,EAAsBD,GAAG,CAACC,MAAJ,GAAe,GAAzC,CAA8C,CAC5C,KAAM,IAAIC,CAAAA,KAAJ,CAAU,SAAV,CAAN,CACD,CACD,MAAOF,CAAAA,GAAG,CAACG,IAAJ,EAAP,CACD,CAdH,EAeGJ,IAfH,CAeQ,SAAAK,OAAO,CAAI,CACf,GAAI4G,CAAAA,WAAW,CAAG5G,OAAO,CAACC,IAAR,CAAawH,oBAA/B,CACAnL,OAAO,CAACC,GAAR,CAAYqK,WAAZ,EAEA,GAAM/E,CAAAA,aAAa,CAAG7B,OAAO,CAACC,IAAR,CAAawH,oBAAb,CAAkC9G,GAAxD,CACA,GAAMS,CAAAA,WAAW,CAAG,MAAKtG,KAAL,CAAWK,KAAX,CAAiB2G,IAAjB,CAAsB,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAACpB,GAAF,GAAUkB,aAAd,EAAvB,CAApB,CACA,GAAMG,CAAAA,cAAc,CAAG,MAAKlH,KAAL,CAAWK,KAAX,CAAiB8G,OAAjB,CAAyBb,WAAzB,CAAvB,CACA,GAAMc,CAAAA,WAAW,CAAG,MAAKpH,KAAL,CAAWK,KAAX,CAAiBgH,MAAjB,CAAwBH,cAAxB,CAAwC,CAAxC,CAApB,CACA1F,OAAO,CAACC,GAAR,CAAY,gBAAZ,CAA8BgD,IAAI,CAACC,SAAL,CAAe4B,WAAf,CAA9B,CAA0D,qBAA1D,CAAiFY,cAAjF,CAAiG,kBAAjG,CAAqHE,WAArH,EAEA,MAAKpH,KAAL,CAAWK,KAAX,CAAiBkF,IAAjB,CAAsBL,OAAO,CAACC,IAAR,CAAawH,oBAAnC,EACA,MAAKzI,OAAL,CAAa7D,KAAb,CAAqB,MAAKL,KAAL,CAAWK,KAAhC,CACA,GAAMmF,CAAAA,aAAa,CAAGf,IAAI,CAACC,SAAL,CAAeQ,OAAO,CAACC,IAAvB,EAA6BvB,KAA7B,CAAmC,CAAnC,CAAqC,EAArC,CAAtB,CACA,MAAKrC,QAAL,CAAc,CAAET,SAAS,CAAE0E,aAAb,CAAd,EACA,MAAKgB,UAAL,GAED,CA/BH,EAgCGf,KAhCH,CAgCS,SAAAC,GAAG,CAAI,CACZlE,OAAO,CAACC,GAAR,CAAYiE,GAAZ,EACA,MAAKnE,QAAL,CAAc,CAAET,SAAS,CAAE4E,GAAb,CAAd,EACD,CAnCH,EAoCP,C,OAYCkH,iB,CAAoB,SAAAzI,MAAM,CAAI,CAE5B,MAAK5C,QAAL,CAAc,SAAA8D,SAAS,CAAI,CACzB,GAAM5E,CAAAA,YAAY,CAAG4E,SAAS,CAAChF,KAAV,CAAgB2G,IAAhB,CAAqB,SAAAC,CAAC,QAAIA,CAAAA,CAAC,CAACpB,GAAF,GAAU1B,MAAd,EAAtB,CAArB,CACA,MAAKD,OAAL,CAAazD,YAAb,CAA4BA,YAA5B,CACA,MAAKc,QAAL,CAAc,CAACd,YAAY,CAAEA,YAAf,CAAd,EACAe,OAAO,CAACC,GAAR,CAAY,oBAAZ,CAAkChB,YAAlC,EACA,MAAO,CAAEA,YAAY,CAAEA,YAAhB,CAAP,CACD,CAND,EAOD,C,OAEDoM,gB,CAAmB,SAACC,UAAD,CAAgB,CACjCtL,OAAO,CAACC,GAAR,sEAEgBgD,IAAI,CAACC,SAAL,CAAeoI,UAAf,CAFhB,cAIE,MAAKvL,QAAL,CAAc,CAACP,cAAc,CAAE,IAAjB,CAAd,EAEA,GAAMD,CAAAA,IAAI,CAAG,qDAAqD+L,UAAU,CAACC,IAAhE,CAAqE,GAArE,CAAyED,UAAU,CAAC1K,IAAjG,CACA,GAAM4K,CAAAA,IAAI,CAAGF,UAAU,CAACG,MAAxB,CAEA,MAAK1L,QAAL,CAAc,CAACN,sBAAsB,CAAEF,IAAzB,CAA+BG,sBAAsB,CAAE8L,IAAvD,CAAd,EACH,C,OAEDE,mB,CAAsB,UAAM,CAC1B1L,OAAO,CAACC,GAAR,iDAGE,MAAKF,QAAL,CAAc,CAACP,cAAc,CAAE,KAAjB,CAAd,EACH,C,OAEDG,S,CAAY,SAAC2E,IAAD,CAAU,CACpBtE,OAAO,CAACC,GAAR,oDAEYgD,IAAI,CAACC,SAAL,CAAeoB,IAAf,CAFZ,cAKE,GAAM1E,CAAAA,OAAO,CAAG,CACdoL,KAAK,CAAE1G,IAAI,CAAC1D,IADE,CAEdoC,IAAI,CAAEsB,IAAI,CAACtD,GAFG,CAAhB,CAKF,MAAKjB,QAAL,CAAc,CAACJ,SAAS,CAAE,IAAZ,CAAkBC,OAAO,CAAEA,OAA3B,CAAd,EACD,C,OAED+L,e,CAAkB,UAAM,CACtB3L,OAAO,CAACC,GAAR,2CAGE,MAAKF,QAAL,CAAc,CAACJ,SAAS,CAAE,KAAZ,CAAmBC,OAAO,CAAE,IAA5B,CAAd,EACH,C,gEAz2CD;AACA;AACA;kCAEoB,CAClB,KAAKoF,UAAL,GACA,GAAI,KAAKtC,OAAL,CAAa4B,IAAb,CAAkB1D,IAAlB,GAA2B,mBAA/B,CAAmD,CACjD,KAAKb,QAAL,CAAc,CAACV,SAAS,CAAE,IAAZ,CAAd,EACD,CACD;AACA;AACA;AACD,C,+CAm4BY,iBACXW,OAAO,CAACC,GAAR,CAAY,cAAZ,EACA;AACA,GAAM0C,CAAAA,MAAM,CAAG,KAAKD,OAAL,CAAaC,MAA5B,CAEA,KAAK5C,QAAL,CAAc,CAAEhB,SAAS,CAAE,IAAb,CAAd,EACA,GAAM6D,CAAAA,WAAW,CAAG,CAClBC,KAAK,8CACuBF,MADvB,yPADa,CAApB,CAMAG,KAAK,CAAC,gEAAD,CAAmE,CACxE;AACEC,MAAM,CAAE,MAF8D,CAGtEC,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeN,WAAf,CAHgE,CAItEO,OAAO,CAAE,CACP,eAAgB,kBADT,CAEPC,aAAa,CAAE,UAAY,KAAKV,OAAL,CAAaD,KAFjC,CAJ6D,CAAnE,CAAL,CASGY,IATH,CASQ,SAAAC,GAAG,CAAI,CACX,GAAIA,GAAG,CAACC,MAAJ,GAAe,GAAf,EAAsBD,GAAG,CAACC,MAAJ,GAAe,GAAzC,CAA8C,CAC5C,MAAI,CAACb,OAAL,CAAapD,SAAb,CAAyB,SAAzB,CACA,KAAM,IAAIkE,CAAAA,KAAJ,CAAU,SAAV,CAAN,CACD,CACD,MAAOF,CAAAA,GAAG,CAACG,IAAJ,EAAP,CACD,CAfH,EAgBGJ,IAhBH,CAgBQ,SAAAK,OAAO,CAAI,CAEf,GAAMM,CAAAA,aAAa,CAAGf,IAAI,CAACC,SAAL,CAAeQ,OAAO,CAACC,IAAvB,EAA6BvB,KAA7B,CAAmC,CAAnC,CAAqC,CAArC,CAAtB,CACA,MAAI,CAACrC,QAAL,CAAc,CAACT,SAAS,CAAE0E,aAAZ,CAAd,EAEA,GAAMnF,CAAAA,KAAK,CAAG6E,OAAO,CAACC,IAAR,CAAa9E,KAA3B,CACAmB,OAAO,CAACC,GAAR,CAAY,YAAZ,CAA0ByD,OAA1B,EACA1D,OAAO,CAACC,GAAR,CAAYpB,KAAZ,EAEA,GAAI,MAAI,CAACgB,QAAT,CAAmB,CACjB,MAAI,CAACE,QAAL,CAAc,CAAElB,KAAK,CAAEA,KAAT,CAAgBE,SAAS,CAAE,KAA3B,CAAd,EACD,CACD,MAAI,CAAC2D,OAAL,CAAa7D,KAAb,CAAqB,MAAI,CAACL,KAAL,CAAWK,KAAhC,CACD,CA7BH,EA8BGoF,KA9BH,CA8BS,SAAAC,GAAG,CAAI,CACZlE,OAAO,CAACC,GAAR,CAAYiE,GAAZ,EACA,MAAI,CAACnE,QAAL,CAAc,CAACT,SAAS,CAAE4E,GAAZ,CAAd,EACA,GAAI,MAAI,CAACrE,QAAT,CAAmB,CACjB,MAAI,CAACE,QAAL,CAAc,CAAEhB,SAAS,CAAE,KAAb,CAAd,EACD,CACF,CApCH,EAqCD,C,4DA+WgBsB,K,CAAO,CAExBL,OAAO,CAACC,GAAR,CAAY,4BAAZ,CAA0CI,KAAK,CAACC,MAAN,CAAaE,KAAvD,EACA,GAAM4E,CAAAA,KAAK,CAAG/E,KAAK,CAACC,MAAN,CAAaE,KAA3B,CACA,KAAKT,QAAL,CAAc,CAAEb,eAAe,CAAEkG,KAAnB,CAAd,EAED,C,yEAsD4B,CACzBpF,OAAO,CAACC,GAAR,CAAY,8BAAZ,EACA,KAAKF,QAAL,CAAc,CAACjB,WAAW,CAAE,EAAd,CAAkBQ,SAAS,CAAE,8BAA7B,CAAd,EACD,C,mEAGsB,CACrB,KAAKO,QAAL,CAAgB,KAAhB,CACD,C,uCAEQ,CACP,MAEA,qBAAC,KAAD,CAAO,QAAP,MACC,KAAKrB,KAAL,CAAWgB,cAAX,GAA8B,IAA9B,EACC,oBAAC,gBAAD,EACE,qBAAqB,CAAE,KAAKkM,mBAD9B,CAEE,cAAc,CAAE,KAAKlN,KAAL,CAAWiB,sBAF7B,CAGE,cAAc,CAAE,KAAKjB,KAAL,CAAWkB,sBAH7B,EAFF,CASC,KAAKlB,KAAL,CAAWmB,SAAX,GAAyB,IAAzB,EACG,oBAAC,UAAD,EACE,OAAO,CAAE,KAAKnB,KAAL,CAAWoB,OADtB,CAEE,iBAAiB,CAAE,KAAK+L,eAF1B,EAVJ,CAgBA,oBAAC,SAAD,MAEA,oBAAC,GAAD,MAEA,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,CAAY,SAAS,CAAC,YAAtB,EAEA,oBAAC,QAAD,EACE,UAAU,CAAE,KAAKjJ,OAAL,CAAaC,MAD3B,CAEE,KAAK,CAAE,KAAKnE,KAAL,CAAWc,SAFpB,EAFA,CAOA,oBAAC,WAAD,MAPA,CAFA,CAaA,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,CAAY,SAAS,CAAC,YAAtB,EAEI,oBAAC,SAAD,EAAW,SAAS,CAAC,yBAArB,EAEA,oBAAC,GAAD,CAAK,SAAL,EAAe,EAAE,CAAC,mBAAlB,CAAsC,gBAAgB,CAAC,YAAvD,EACE,oBAAC,GAAD,MACE,oBAAC,GAAD,EAAK,EAAE,CAAE,CAAT,EACE,oBAAC,GAAD,EAAK,OAAO,CAAC,OAAb,CAAqB,SAAS,CAAC,aAA/B,EACE,oBAAC,GAAD,CAAK,IAAL,MACE,oBAAC,GAAD,CAAK,IAAL,EAAU,QAAQ,CAAC,YAAnB,gBADF,CADF,CAIE,oBAAC,GAAD,CAAK,IAAL,MACE,oBAAC,GAAD,CAAK,IAAL,EAAU,QAAQ,CAAC,YAAnB,aADF,CAJF,CAOI,KAAKoD,OAAL,CAAa4B,IAAb,CAAkBxD,IAAlB,GAA2B,OAA3B,EACF,oBAAC,GAAD,CAAK,IAAL,MACE,oBAAC,GAAD,CAAK,IAAL,EAAU,QAAQ,CAAC,YAAnB,eADF,CARF,CAYE,oBAAC,GAAD,CAAK,IAAL,MACE,oBAAC,GAAD,CAAK,IAAL,EAAU,QAAQ,CAAC,UAAnB,CAA8B,QAAQ,KAAtC,UADF,CAZF,CAeE,oBAAC,GAAD,CAAK,IAAL,MACE,oBAAC,GAAD,CAAK,IAAL,EAAU,QAAQ,CAAC,sBAAnB,iBADF,CAfF,CAkBE,oBAAC,GAAD,CAAK,IAAL,MACE,oBAAC,GAAD,CAAK,IAAL,EAAU,QAAQ,CAAC,eAAnB,iBADF,CAlBF,CAqBE,oBAAC,GAAD,CAAK,IAAL,MACE,oBAAC,GAAD,CAAK,IAAL,EAAU,QAAQ,CAAC,UAAnB,CAA8B,QAAQ,KAAtC,SADF,CArBF,CAwBE,oBAAC,GAAD,CAAK,IAAL,MACE,oBAAC,GAAD,CAAK,IAAL,EAAU,QAAQ,CAAC,oBAAnB,eADF,CAxBF,CA2BE,oBAAC,GAAD,CAAK,IAAL,MACE,oBAAC,GAAD,CAAK,IAAL,EAAU,QAAQ,CAAC,eAAnB,UADF,CA3BF,CA8BE,oBAAC,GAAD,CAAK,IAAL,MACE,oBAAC,GAAD,CAAK,IAAL,EAAU,QAAQ,CAAC,oBAAnB,eADF,CA9BF,CAkCE,oBAAC,GAAD,CAAK,IAAL,MACE,oBAAC,GAAD,CAAK,IAAL,EAAU,QAAQ,CAAC,UAAnB,CAA8B,QAAQ,KAAtC,YADF,CAlCF,CAqCE,oBAAC,GAAD,CAAK,IAAL,MACE,oBAAC,GAAD,CAAK,IAAL,EAAU,QAAQ,CAAC,aAAnB,UADF,CArCF,CAwCE,oBAAC,GAAD,CAAK,IAAL,MACE,oBAAC,GAAD,CAAK,IAAL,EAAU,QAAQ,CAAC,cAAnB,YADF,CAxCF,CADF,CADF,CAgDE,oBAAC,GAAD,EAAK,EAAE,CAAE,EAAT,EACE,oBAAC,GAAD,CAAK,OAAL,MACE,oBAAC,GAAD,CAAK,IAAL,EAAU,QAAQ,CAAC,YAAnB,EACG,KAAKtC,KAAL,CAAWS,YAAX,GAA4B,IAA5B,EACC,oBAAC,MAAD,EAAQ,OAAO,CAAC,iBAAhB,CAAkC,IAAI,CAAC,IAAvC,CAA4C,SAAS,CAAC,mBAAtD,+CAFJ,CAMG,KAAKT,KAAL,CAAWO,SAAX,GAAyB,KAAzB,EACC,KAAKP,KAAL,CAAWS,YAAX,GAA4B,IAD7B,EAGG,oBAAC,UAAD,EACA,UAAU,CAAE,KAAKyD,OAAL,CAAaC,MADzB,CAEA,WAAW,CAAE,KAAKD,OAFlB,CAGA,IAAI,CAAE,KAAKlE,KAAL,CAAWS,YAHjB,CAIA,MAAM,CAAE,KAAKiB,sBAJb,CAKA,SAAS,CAAE,KAAK1B,KAAL,CAAWa,SALtB,CAMA,QAAQ,CAAE,KAAKgL,kBANf,CAOA,gBAAgB,CAAE,KAAKK,wBAPvB,CAQA,WAAW,CAAE,KAAKK,mBARlB,CASA,gBAAgB,CAAE,KAAKG,wBATvB,CAUA,gBAAgB,CAAE,KAAKG,gBAVvB,CAWA,WAAW,CAAE,KAAK1L,SAXlB,EATN,CADF,CA0BI,KAAK+C,OAAL,CAAa4B,IAAb,CAAkBxD,IAAlB,GAA2B,OAA3B,EACA,oBAAC,GAAD,CAAK,IAAL,EAAU,QAAQ,CAAC,YAAnB,EACA,oBAAC,MAAD,EAAQ,OAAO,CAAC,iBAAhB,CAAkC,IAAI,CAAC,IAAvC,CAA4C,SAAS,CAAC,mBAAtD,CAA0E,OAAO,CAAE,KAAKhB,sBAAxF,+BADA,CAEG,KAAKtB,KAAL,CAAWC,QAAX,EACC,oBAAC,cAAD,EACE,UAAU,CAAE,KAAKiE,OAAL,CAAaC,MAD3B,CAEE,SAAS,KAFX,CAGE,UAAU,KAHZ,CAIE,QAAQ,CAAE,KAAKqH,kBAJjB,CAKE,SAAS,CAAE,KAAK5J,mBALlB,CAME,QAAQ,CAAE,KAAKA,mBANjB,CAOE,WAAW,CAAC,SAPd,EAHJ,CA3BJ,CA4CE,oBAAC,GAAD,CAAK,IAAL,EAAU,QAAQ,CAAC,sBAAnB,EACG,KAAK5B,KAAL,CAAWS,YAAX,GAA4B,IAA5B,EACC,oBAAC,MAAD,EAAQ,OAAO,CAAC,iBAAhB,CAAkC,SAAS,CAAC,mBAA5C,CAAgE,IAAI,CAAC,IAArE,+CAFJ,CAMG,KAAKT,KAAL,CAAWS,YAAX,GAA4B,IAA5B,EACC,KAAKyD,OAAL,CAAa4B,IAAb,CAAkBxD,IAAlB,GAA2B,OAD5B,EAGC,oBAAC,MAAD,EAAQ,OAAO,CAAC,iBAAhB,CAAkC,IAAI,CAAC,IAAvC,CAA4C,SAAS,CAAC,mBAAtD,CAA0E,OAAO,CAAE,KAAKZ,sBAAxF,+BATJ,CAWG,KAAK1B,KAAL,CAAWS,YAAX,GAA4B,IAA5B,EACC,KAAKT,KAAL,CAAWS,YAAX,CAAwBoF,GAAxB,GAAgC,KAAK3B,OAAL,CAAa4B,IAAb,CAAkBD,GADnD,EAGC,oBAAC,MAAD,EAAQ,OAAO,CAAC,iBAAhB,CAAkC,IAAI,CAAC,IAAvC,CAA4C,SAAS,CAAC,mBAAtD,CAA0E,OAAO,CAAE,KAAKnE,sBAAxF,sBAdJ,CAgBG,KAAK1B,KAAL,CAAWS,YAAX,GAA4B,IAA5B,EACC,KAAKT,KAAL,CAAWS,YAAX,CAAwBoF,GAAxB,GAAgC,KAAK3B,OAAL,CAAa4B,IAAb,CAAkBD,GADnD,EAEC,oBAAC,MAAD,EAAQ,OAAO,CAAC,gBAAhB,CAAiC,SAAS,CAAC,mBAA3C,CAA+D,IAAI,CAAC,IAApE,iBAlBJ,CAsBG,KAAK7F,KAAL,CAAWS,YAAX,GAA4B,IAA5B,EACC,KAAKT,KAAL,CAAWS,YAAX,CAAwBoF,GAAxB,GAAgC,KAAK3B,OAAL,CAAa4B,IAAb,CAAkBD,GADnD,EAEC,oBAAC,MAAD,EAAQ,OAAO,CAAC,gBAAhB,CAAiC,SAAS,CAAC,mBAA3C,CAA+D,IAAI,CAAC,IAApE,mBAxBJ,CA4BG,KAAK7F,KAAL,CAAWE,QAAX,EACC,KAAKF,KAAL,CAAWS,YAAX,GAA4B,IAD7B,EAGC,oBAAC,cAAD,EACE,UAAU,CAAE,KAAKyD,OAAL,CAAaC,MAD3B,CAEE,SAAS,KAFX,CAGE,UAAU,KAHZ,CAIE,QAAQ,CAAE,KAAKqH,kBAJjB,CAKE,SAAS,CAAE,KAAK7F,yBALlB,CAME,WAAW,CAAC,SANd,CAOE,IAAI,CAAE,KAAKzB,OAAL,CAAazD,YAPrB,EA/BJ,CA5CF,CAuFE,oBAAC,GAAD,CAAK,IAAL,EAAU,QAAQ,CAAC,eAAnB,EACG,KAAKT,KAAL,CAAWS,YAAX,GAA4B,IAA5B,EACC,oBAAC,MAAD,EAAQ,OAAO,CAAC,iBAAhB,CAAkC,SAAS,CAAC,mBAA5C,CAAgE,IAAI,CAAC,IAArE,+CAFJ,CAOG,KAAKT,KAAL,CAAWS,YAAX,GAA4B,IAA5B,EACC,KAAKyD,OAAL,CAAa4B,IAAb,CAAkBxD,IAAlB,GAA2B,OAD5B,EAGC,oBAAC,MAAD,EAAQ,OAAO,CAAC,iBAAhB,CAAkC,IAAI,CAAC,IAAvC,CAA4C,SAAS,CAAC,mBAAtD,CAA0E,OAAO,CAAE,KAAKZ,sBAAxF,wBAVJ,CAYG,KAAK1B,KAAL,CAAWS,YAAX,GAA4B,IAA5B,EACC,KAAKT,KAAL,CAAWS,YAAX,CAAwBoF,GAAxB,GAAgC,KAAK3B,OAAL,CAAa4B,IAAb,CAAkBD,GADnD,EAGC,oBAAC,MAAD,EAAQ,OAAO,CAAC,iBAAhB,CAAkC,IAAI,CAAC,IAAvC,CAA4C,SAAS,CAAC,mBAAtD,CAA0E,OAAO,CAAE,KAAKnE,sBAAxF,wBAfJ,CAiBG,KAAK1B,KAAL,CAAWS,YAAX,GAA4B,IAA5B,EACC,KAAKT,KAAL,CAAWS,YAAX,CAAwBoF,GAAxB,GAAgC,KAAK3B,OAAL,CAAa4B,IAAb,CAAkBD,GADnD,EAEC,oBAAC,MAAD,EAAQ,OAAO,CAAC,iBAAhB,CAAkC,SAAS,CAAC,mBAA5C,CAAgE,IAAI,CAAC,IAArE,iBAnBJ,CAuBG,KAAK7F,KAAL,CAAWS,YAAX,GAA4B,IAA5B,EACC,KAAKT,KAAL,CAAWS,YAAX,CAAwBoF,GAAxB,GAAgC,KAAK3B,OAAL,CAAa4B,IAAb,CAAkBD,GADnD,EAEC,oBAAC,MAAD,EAAQ,OAAO,CAAC,gBAAhB,CAAiC,SAAS,CAAC,mBAA3C,CAA+D,IAAI,CAAC,IAApE,mBAzBJ,CA6BG,KAAK7F,KAAL,CAAWE,QAAX,EACC,KAAKF,KAAL,CAAWS,YAAX,GAA4B,IAD7B,EAGG,oBAAC,mBAAD,EACE,UAAU,CAAE,KAAKyD,OAAL,CAAaC,MAD3B,CAEE,SAAS,KAFX,CAGE,UAAU,KAHZ,CAIE,QAAQ,CAAE,KAAKqH,kBAJjB,CAKE,SAAS,CAAE,KAAK/E,8BALlB,CAME,WAAW,CAAC,SANd,CAOE,IAAI,CAAE,KAAKzG,KAAL,CAAWS,YAPnB,EAhCN,CAvFF,CAmIE,oBAAC,GAAD,CAAK,IAAL,EAAU,QAAQ,CAAC,oBAAnB,EACG,KAAKT,KAAL,CAAWS,YAAX,GAA4B,IAA5B,EACC,oBAAC,MAAD,EAAQ,OAAO,CAAC,iBAAhB,CAAkC,SAAS,CAAC,mBAA5C,CAAgE,IAAI,CAAC,IAArE,qDAFJ,CAOG,KAAKT,KAAL,CAAWS,YAAX,GAA4B,IAA5B,EACC,KAAKyD,OAAL,CAAa4B,IAAb,CAAkBxD,IAAlB,GAA2B,OAD5B,EAGC,oBAAC,MAAD,EAAQ,OAAO,CAAC,iBAAhB,CAAkC,IAAI,CAAC,IAAvC,CAA4C,SAAS,CAAC,mBAAtD,CAA0E,KAAK,CAAC,YAAhF,CAA6F,OAAO,CAAE,KAAK8K,iBAAL,CAAuBC,IAAvB,CAA4B,IAA5B,CAAtG,4BAVJ,CAYG,KAAKrN,KAAL,CAAWS,YAAX,GAA4B,IAA5B,EACC,KAAKT,KAAL,CAAWS,YAAX,CAAwBoF,GAAxB,GAAgC,KAAK3B,OAAL,CAAa4B,IAAb,CAAkBD,GADnD,EAGC,oBAAC,MAAD,EAAQ,OAAO,CAAC,iBAAhB,CAAkC,IAAI,CAAC,IAAvC,CAA4C,SAAS,CAAC,mBAAtD,CAA0E,KAAK,CAAC,YAAhF,CAA6F,OAAO,CAAE,KAAKuH,iBAAL,CAAuBC,IAAvB,CAA4B,IAA5B,CAAtG,mBAfJ,CAiBG,KAAKrN,KAAL,CAAWS,YAAX,GAA4B,IAA5B,EACC,KAAKT,KAAL,CAAWS,YAAX,CAAwBoF,GAAxB,GAAgC,KAAK3B,OAAL,CAAa4B,IAAb,CAAkBD,GADnD,EAEC,oBAAC,MAAD,EAAQ,OAAO,CAAC,iBAAhB,CAAkC,SAAS,CAAC,mBAA5C,CAAgE,IAAI,CAAC,IAArE,iBAnBJ,CAuBG,KAAK7F,KAAL,CAAWS,YAAX,GAA4B,IAA5B,EACC,KAAKT,KAAL,CAAWS,YAAX,CAAwBoF,GAAxB,GAAgC,KAAK3B,OAAL,CAAa4B,IAAb,CAAkBD,GADnD,EAEC,oBAAC,MAAD,EAAQ,OAAO,CAAC,gBAAhB,CAAiC,SAAS,CAAC,mBAA3C,CAA+D,IAAI,CAAC,IAApE,mBAzBJ,CA8BG,KAAK7F,KAAL,CAAWU,eAAX,GAA+B,YAA/B,EACD,KAAKV,KAAL,CAAWS,YAAX,GAA4B,IAD3B,EAGE,oBAAC,wBAAD,EACD,UAAU,CAAE,KAAKyD,OAAL,CAAaC,MADxB,CAED,SAAS,KAFR,CAGC,UAAU,KAHX,CAIC,QAAQ,CAAE,KAAKqH,kBAJhB,CAKC,SAAS,CAAE,KAAKlE,2BALjB,CAMC,WAAW,CAAC,SANb,CAOC,IAAI,CAAE,KAAKtH,KAAL,CAAWS,YAPlB,EAjCL,CAnIF,CAgLE,oBAAC,GAAD,CAAK,IAAL,EAAU,QAAQ,CAAC,eAAnB,EACC,KAAKT,KAAL,CAAWS,YAAX,GAA4B,IAA5B,EACC,oBAAC,MAAD,EAAQ,OAAO,CAAC,iBAAhB,CAAkC,SAAS,CAAC,mBAA5C,CAAgE,IAAI,CAAC,IAArE,+CAFF,CAOC,KAAKT,KAAL,CAAWS,YAAX,GAA4B,IAA5B,EACC,KAAKyD,OAAL,CAAa4B,IAAb,CAAkBxD,IAAlB,GAA2B,OAD5B,EAGC,oBAAC,MAAD,EAAQ,OAAO,CAAC,iBAAhB,CAAkC,IAAI,CAAC,IAAvC,CAA4C,SAAS,CAAC,mBAAtD,CAA0E,KAAK,CAAC,OAAhF,CAAwF,OAAO,CAAE,KAAK8K,iBAAL,CAAuBC,IAAvB,CAA4B,IAA5B,CAAjG,uBAVF,CAYC,KAAKrN,KAAL,CAAWS,YAAX,GAA4B,IAA5B,EACC,KAAKT,KAAL,CAAWS,YAAX,CAAwBoF,GAAxB,GAAgC,KAAK3B,OAAL,CAAa4B,IAAb,CAAkBD,GADnD,EAGC,oBAAC,MAAD,EAAQ,OAAO,CAAC,iBAAhB,CAAkC,IAAI,CAAC,IAAvC,CAA4C,SAAS,CAAC,mBAAtD,CAA0E,KAAK,CAAC,OAAhF,CAAwF,OAAO,CAAE,KAAKuH,iBAAL,CAAuBC,IAAvB,CAA4B,IAA5B,CAAjG,cAfF,CAiBC,KAAKrN,KAAL,CAAWS,YAAX,GAA4B,IAA5B,EACC,KAAKT,KAAL,CAAWS,YAAX,CAAwBoF,GAAxB,GAAgC,KAAK3B,OAAL,CAAa4B,IAAb,CAAkBD,GADnD,EAEC,oBAAC,MAAD,EAAQ,OAAO,CAAC,iBAAhB,CAAkC,SAAS,CAAC,mBAA5C,CAAgE,IAAI,CAAC,IAArE,iBAnBF,CAuBC,KAAK7F,KAAL,CAAWS,YAAX,GAA4B,IAA5B,EACC,KAAKT,KAAL,CAAWS,YAAX,CAAwBoF,GAAxB,GAAgC,KAAK3B,OAAL,CAAa4B,IAAb,CAAkBD,GADnD,EAEC,oBAAC,MAAD,EAAQ,OAAO,CAAC,gBAAhB,CAAiC,SAAS,CAAC,mBAA3C,CAA+D,IAAI,CAAC,IAApE,mBAzBF,CA8BC,KAAK7F,KAAL,CAAWU,eAAX,GAA+B,OAA/B,EACD,KAAKV,KAAL,CAAWS,YAAX,GAA4B,IAD3B,EAEG,oBAAC,mBAAD,EACF,UAAU,CAAE,KAAKyD,OAAL,CAAaC,MADvB,CAEF,SAAS,KAFP,CAGA,UAAU,KAHV,CAIA,QAAQ,CAAE,KAAKqH,kBAJf,CAKA,SAAS,CAAE,KAAKtC,sBALhB,CAMA,WAAW,CAAC,SANZ,CAOA,IAAI,CAAE,KAAKlJ,KAAL,CAAWS,YAPjB,EAhCJ,CAhLF,CA2NE,oBAAC,GAAD,CAAK,IAAL,EAAU,QAAQ,CAAC,oBAAnB,EACC,KAAKT,KAAL,CAAWS,YAAX,GAA4B,IAA5B,EACC,oBAAC,MAAD,EAAQ,OAAO,CAAC,iBAAhB,CAAkC,SAAS,CAAC,mBAA5C,CAAgE,IAAI,CAAC,IAArE,+CAFF,CAOC,KAAKT,KAAL,CAAWS,YAAX,GAA4B,IAA5B,EACC,KAAKyD,OAAL,CAAa4B,IAAb,CAAkBxD,IAAlB,GAA2B,OAD5B,EAGC,oBAAC,MAAD,EAAQ,OAAO,CAAC,iBAAhB,CAAkC,IAAI,CAAC,IAAvC,CAA4C,SAAS,CAAC,mBAAtD,CAA0E,KAAK,CAAC,aAAhF,CAA8F,OAAO,CAAE,KAAK8K,iBAAL,CAAuBC,IAAvB,CAA4B,IAA5B,CAAvG,4BAVF,CAYC,KAAKrN,KAAL,CAAWS,YAAX,GAA4B,IAA5B,EACC,KAAKT,KAAL,CAAWS,YAAX,CAAwBoF,GAAxB,GAAgC,KAAK3B,OAAL,CAAa4B,IAAb,CAAkBD,GADnD,EAGC,oBAAC,MAAD,EAAQ,OAAO,CAAC,iBAAhB,CAAkC,IAAI,CAAC,IAAvC,CAA4C,SAAS,CAAC,mBAAtD,CAA0E,KAAK,CAAC,aAAhF,CAA8F,OAAO,CAAE,KAAKuH,iBAAL,CAAuBC,IAAvB,CAA4B,IAA5B,CAAvG,mBAfF,CAiBC,KAAKrN,KAAL,CAAWS,YAAX,GAA4B,IAA5B,EACC,KAAKT,KAAL,CAAWS,YAAX,CAAwBoF,GAAxB,GAAgC,KAAK3B,OAAL,CAAa4B,IAAb,CAAkBD,GADnD,EAEC,oBAAC,MAAD,EAAQ,OAAO,CAAC,iBAAhB,CAAkC,SAAS,CAAC,mBAA5C,CAAgE,IAAI,CAAC,IAArE,iBAnBF,CAuBC,KAAK7F,KAAL,CAAWS,YAAX,GAA4B,IAA5B,EACC,KAAKT,KAAL,CAAWS,YAAX,CAAwBoF,GAAxB,GAAgC,KAAK3B,OAAL,CAAa4B,IAAb,CAAkBD,GADnD,EAEC,oBAAC,MAAD,EAAQ,OAAO,CAAC,gBAAhB,CAAiC,SAAS,CAAC,mBAA3C,CAA+D,IAAI,CAAC,IAApE,mBAzBF,CA8BC,KAAK7F,KAAL,CAAWU,eAAX,GAA+B,aAA/B,EACD,KAAKV,KAAL,CAAWS,YAAX,GAA4B,IAD3B,EAEG,oBAAC,wBAAD,EACF,UAAU,CAAE,KAAKyD,OAAL,CAAaC,MADvB,CAEF,SAAS,KAFP,CAGA,UAAU,KAHV,CAIA,QAAQ,CAAE,KAAKqH,kBAJf,CAKA,SAAS,CAAE,KAAKzD,2BALhB,CAMA,WAAW,CAAC,SANZ,CAOA,IAAI,CAAE,KAAK/H,KAAL,CAAWS,YAPjB,EAhCJ,CA3NF,CAsQE,oBAAC,GAAD,CAAK,IAAL,EAAU,QAAQ,CAAC,YAAnB,EACE,oBAAC,SAAD,EAAW,SAAS,CAAC,yBAArB,EACA,oBAAC,GAAD,EAAK,SAAS,CAAC,eAAf,EACA,oBAAC,MAAD,EAAQ,OAAO,CAAC,SAAhB,CAA0B,IAAI,CAAC,IAA/B,CAAoC,OAAO,CAAE,KAAKgL,aAAlD,aADA,CAIA,oBAAC,MAAD,EAAQ,OAAO,CAAC,MAAhB,CAAuB,IAAI,CAAC,IAA5B,CAAiC,OAAO,CAAE,KAAKE,cAA/C,cAJA,CAOE,KAAK3L,KAAL,CAAWO,SAAX,CACC,oBAAC,OAAD,MADD,CAGC,oBAAC,QAAD,EACE,KAAK,CAAE,KAAKP,KAAL,CAAWK,KADpB,CAEE,UAAU,CAAE,KAAK6D,OAAL,CAAaC,MAF3B,CAGE,YAAY,CAAE,KAAKyI,iBAHrB,EAVH,CADA,CADF,CAtQF,CA4RE,oBAAC,GAAD,CAAK,IAAL,EAAU,QAAQ,CAAC,aAAnB,EACE,oBAAC,SAAD,EAAW,SAAS,CAAC,0BAArB,EAEA,oBAAC,GAAD,EAAK,SAAS,CAAC,kBAAf,EACA,oBAAC,MAAD,EAAQ,OAAO,CAAC,SAAhB,CAA0B,OAAO,CAAE,KAAKjL,sBAAxC,WADA,CAFA,CAMA,oBAAC,GAAD,EAAK,SAAS,CAAC,mBAAf,EACA,oBAAC,GAAD,EAAK,EAAE,CAAE,EAAT,CAAa,SAAS,CAAC,mBAAvB,EACA,oBAAC,IAAD,EAAM,gBAAgB,CAAC,OAAvB,CAA+B,EAAE,CAAC,0BAAlC,EACA,oBAAC,GAAD,EAAK,QAAQ,CAAC,QAAd,CAAuB,KAAK,CAAC,SAA7B,CAAuC,QAAQ,KAA/C,EADA,CAGA,oBAAC,GAAD,EAAK,QAAQ,CAAC,OAAd,CAAsB,KAAK,CAAC,kBAA5B,EACC,KAAK3B,KAAL,CAAWI,SAAX,GAAyB,IAAzB,EACC,oBAAC,MAAD,EAAQ,OAAO,CAAC,iBAAhB,CAAkC,SAAS,CAAC,mBAA5C,CAAgE,IAAI,CAAC,IAArE,oCAFF,CAMC,KAAKJ,KAAL,CAAWI,SAAX,GAAyB,IAAzB,EACC,oBAAC,cAAD,EACA,UAAU,CAAE,KAAK8D,OAAL,CAAaC,MADzB,CAEA,SAAS,KAFT,CAGE,UAAU,KAHZ,CAIE,QAAQ,CAAE,KAAKqH,kBAJjB,CAKE,SAAS,CAAE,KAAK1B,yBALlB,CAME,WAAW,CAAC,QANd,CAOE,IAAI,CAAE,KAAK5F,OAAL,CAAazD,YAPrB,EAPF,CAHA,CAoBA,oBAAC,GAAD,EAAK,QAAQ,CAAC,IAAd,CAAmB,KAAK,CAAC,eAAzB,EACC,KAAKT,KAAL,CAAWI,SAAX,GAAyB,IAAzB,EACC,oBAAC,MAAD,EAAQ,OAAO,CAAC,iBAAhB,CAAkC,SAAS,CAAC,mBAA5C,CAAgE,IAAI,CAAC,IAArE,oCAFF,CAMC,KAAKJ,KAAL,CAAWI,SAAX,GAAyB,IAAzB,EACC,oBAAC,gBAAD,EACA,UAAU,CAAE,KAAK8D,OAAL,CAAaC,MADzB,CAEA,SAAS,KAFT,CAGE,UAAU,KAHZ,CAIE,QAAQ,CAAE,KAAKqH,kBAJjB,CAKE,SAAS,CAAE,KAAKpB,2BALlB,CAME,WAAW,CAAC,QANd,CAOE,IAAI,CAAE,KAAKlG,OAAL,CAAazD,YAPrB,EAPF,CApBA,CAsCA,oBAAC,GAAD,EAAK,QAAQ,CAAC,YAAd,CAA2B,KAAK,CAAC,uBAAjC,EACC,KAAKT,KAAL,CAAWI,SAAX,GAAyB,IAAzB,EACC,oBAAC,MAAD,EAAQ,OAAO,CAAC,iBAAhB,CAAkC,SAAS,CAAC,mBAA5C,CAAgE,IAAI,CAAC,IAArE,oCAFF,CAMC,KAAKJ,KAAL,CAAWI,SAAX,GAAyB,IAAzB,EACC,oBAAC,4BAAD,EACA,UAAU,CAAE,KAAK8D,OAAL,CAAaC,MADzB,CAEA,SAAS,KAFT,CAGE,UAAU,KAHZ,CAIE,QAAQ,CAAE,KAAKqH,kBAJjB,CAKE,SAAS,CAAE,KAAKjB,uCALlB,CAME,WAAW,CAAC,QANd,CAOE,IAAI,CAAE,KAAKrG,OAAL,CAAazD,YAPrB,EAPF,CAtCA,CAwDA,oBAAC,GAAD,EAAK,QAAQ,CAAC,OAAd,CAAsB,KAAK,CAAC,kBAA5B,EACC,KAAKT,KAAL,CAAWI,SAAX,GAAyB,IAAzB,EACC,oBAAC,MAAD,EAAQ,OAAO,CAAC,iBAAhB,CAAkC,SAAS,CAAC,mBAA5C,CAAgE,IAAI,CAAC,IAArE,oCAFF,CAMC,KAAKJ,KAAL,CAAWI,SAAX,GAAyB,IAAzB,EACC,oBAAC,4BAAD,EACA,UAAU,CAAE,KAAK8D,OAAL,CAAaC,MADzB,CAEA,SAAS,KAFT,CAGE,UAAU,KAHZ,CAIE,QAAQ,CAAE,KAAKqH,kBAJjB,CAKE,SAAS,CAAE,KAAKb,uCALlB,CAME,WAAW,CAAC,QANd,CAOE,IAAI,CAAE,KAAKzG,OAAL,CAAazD,YAPrB,EAPF,CAxDA,CA0EA,oBAAC,GAAD,EAAK,QAAQ,CAAC,MAAd,CAAqB,KAAK,CAAC,iBAA3B,EACC,KAAKT,KAAL,CAAWI,SAAX,GAAyB,IAAzB,EACC,oBAAC,MAAD,EAAQ,OAAO,CAAC,iBAAhB,CAAkC,SAAS,CAAC,mBAA5C,CAAgE,IAAI,CAAC,IAArE,oCAFF,CAMC,KAAKJ,KAAL,CAAWI,SAAX,GAAyB,IAAzB,EACC,oBAAC,kBAAD,EACA,UAAU,CAAE,KAAK8D,OAAL,CAAaC,MADzB,CAEA,SAAS,KAFT,CAGE,UAAU,KAHZ,CAIE,QAAQ,CAAE,KAAKqH,kBAJjB,CAKE,SAAS,CAAE,KAAKP,6BALlB,CAME,WAAW,CAAC,QANd,CAOE,IAAI,CAAE,KAAK/G,OAAL,CAAazD,YAPrB,EAPF,CA1EA,CADA,CADA,CAgGA,oBAAC,GAAD,EAAK,EAAE,CAAE,EAAT,EAhGA,CANA,CADF,CA5RF,CA0YE,oBAAC,GAAD,CAAK,IAAL,EAAU,QAAQ,CAAC,cAAnB,EACE,oBAAC,SAAD,EAAW,SAAS,CAAC,4BAArB,EACA,oBAAC,GAAD,MACE,oBAAC,IAAD,EAAM,SAAS,CAAC,YAAhB,EACE,oBAAC,IAAD,CAAM,IAAN,EAAW,SAAS,CAAC,gBAArB,EACE,oBAAC,IAAD,CAAM,KAAN,oBADF,CAEE,oBAAC,IAAD,CAAM,IAAN,gBACU,KAAKT,KAAL,CAAWW,eADrB,CAFF,CAKE,oBAAC,IAAD,CAAM,IAAN,gBACU,KAAKX,KAAL,CAAWY,eADrB,CALF,CADF,CADF,CADA,CAcA,oBAAC,GAAD,EAAK,SAAS,CAAC,eAAf,EAEC,KAAKZ,KAAL,CAAWM,WAAX,GAA2B,EAA3B,EACC,oBAAC,cAAD,EACE,WAAW,CAAE,KAAKN,KAAL,CAAWM,WAD1B,CAEE,UAAU,CAAE,KAAK4D,OAAL,CAAaC,MAF3B,CAGE,YAAY,CAAE,KAAKyI,iBAHrB,EAHF,CAdA,CADF,CA1YF,CADF,CAhDF,CADF,CAFA,CAFJ,CAbA,CAFA,CAhBA,CAFA,CA4gBD,C,uBA75DqB3O,S,EAAlB8B,S,CAyBGuN,W,CAAcvO,W,CAu4DvB,cAAegB,CAAAA,SAAf","sourcesContent":["import S3 from 'react-aws-s3';\n// import S3FileUpload from 'react-s3';\nimport React, { Component } from 'react';\n// import FileViewer from 'react-file-viewer';\n\nimport Container from 'react-bootstrap/Container';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\n// import Form from 'react-bootstrap/Form';\nimport Button from 'react-bootstrap/Button';\nimport Accordion from 'react-bootstrap/Accordion';\nimport Tabs from 'react-bootstrap/Tabs';\nimport Tab from 'react-bootstrap/Tab';\n// import TabContainer from 'react-bootstrap/TabContainer';\n// import TabContent from 'react-bootstrap/TabContent';\n// import TabPane from 'react-bootstrap/TabPane';\nimport Nav from 'react-bootstrap/Nav';\nimport Card from 'react-bootstrap/Card';\n\n// import Modal from '../components/Modal/Modal';\n// import Backdrop from '../components/Backdrop/Backdrop';\nimport UserList from '../components/Users/UserList/UserList';\nimport SearchUserList from '../components/Users/UserList/SearchUserList';\nimport UserDetail from '../components/Users/UserDetail';\nimport Spinner from '../components/Spinner/Spinner';\nimport AuthContext from '../context/auth-context';\n\nimport SidebarPage from './Sidebar';\nimport AlertBox from '../components/AlertBox';\nimport AttachmentViewer from '../components/AttachmentViewer';\nimport PdfCreator from '../components/PdfCreator';\n\nimport CreateUserForm from '../components/Forms/CreateUserForm';\nimport UpdateUserForm from '../components/Forms/UpdateUserForm';\nimport UpdateUserFieldForm from '../components/Forms/UpdateUserFieldForm';\nimport UpdateUserAttendanceForm from '../components/Forms/UpdateUserAttendanceForm';\nimport UpdateUserAttachmentForm from '../components/Forms/UpdateUserAttachmentForm';\nimport UpdateUserLeaveForm from '../components/Forms/UpdateUserLeaveForm';\nimport SearchUserForm from '../components/Forms/SearchUserForm';\nimport SearchUserIdForm from '../components/Forms/SearchUserIdForm';\nimport SearchUserNameForm from '../components/Forms/SearchUserNameForm';\nimport SearchUserAttendanceDateForm from '../components/Forms/SearchUserAttendanceDateForm';\nimport SearchUserLeaveDateRangeForm from '../components/Forms/SearchUserLeaveDateRangeForm';\n\nimport './Users.css';\n\nclass UsersPage extends Component {\n  state = {\n    creating: false,\n    updating: false,\n    deleting: false,\n    searching: false,\n    users: [],\n    searchUsers: [],\n    isLoading: false,\n    isSorting: false,\n    selectedUser: null,\n    userUpdateField: null,\n    userSearchField: null,\n    userSearchQuery: null,\n    canDelete: null,\n    userAlert: null,\n    file: null,\n    showAttachment: false,\n    showThisAttachmentFile: null,\n    showThisAttachmentType: null,\n    createPdf: false,\n    pdfData: null,\n  };\n  isActive = true;\n\n  static contextType = AuthContext;\n\n  // constructor(props) {\n  //   super(props);\n  // }\n\n  componentDidMount() {\n    this.fetchUsers();\n    if (this.context.user.name === \"Lord-of-the-Manor\"){\n      this.setState({canDelete: true})\n    }\n    // if (this.context.user.name === 'admin579'){\n    //   this.setState({canDelete: true})\n    // }\n  }\n\n\n  startCreateUserHandler = () => {\n    this.setState({ creating: true });\n    console.log(\"CreateUserForm...\");\n  };\n  startUpdateUserHandler = () => {\n    this.setState({ updating: true });\n    console.log(\"UpdateUserForm...\");\n  };\n\n  startSearchUserHandler = () => {\n    this.setState({ searching: true });\n    console.log(\"SearchUserForm...\");\n  };\n\n  modalConfirmHandler = (event) => {\n\n    console.log(\"CreateUserFormData:  \", event.target.formGridEmail.value);\n\n    this.setState({ creating: false });\n    const email = event.target.formGridEmail.value;\n    const password = event.target.formGridPassword.value;\n    const name = event.target.formGridName.value;\n    const role = event.target.formGridRole.value;\n    let dob = event.target.formGridDob.value;\n    let phone = event.target.formGridPhone.value;\n    let addressNumber = event.target.formGridAddressNumber.value;\n    let addressStreet = event.target.formGridAddressStreet.value;\n    let addressTown = event.target.formGridAddressTown.value;\n    let addressParish = event.target.formGridAddressParish.value;\n    let addressPostOffice = event.target.formGridAddressPostOffice.value;\n\n    let employmentDate = event.target.formGridEmploymentDate.value;\n    if (event.target.formGridEmploymentDateTodayCheckbox.checked === true) {\n      employmentDate = new Date().toISOString().slice(0,10);\n    }\n\n    let terminationDate = event.target.formGridTerminationDate.value;\n\n    if (\n      email.trim().length === 0 ||\n      password.trim().length === 0 ||\n      name.trim().length === 0 ||\n      role.trim().length === 0 ||\n      dob.trim().length === 0 ||\n      phone.trim().length === 0 ||\n      addressNumber.trim().length === 0 ||\n      addressStreet.trim().length === 0 ||\n      addressTown.trim().length === 0 ||\n      addressParish.trim().length === 0 ||\n      addressPostOffice.trim().length === 0 ||\n      employmentDate.trim().length === 0\n    ) {\n      console.log(\"blank fields detected!!!...Please try again...\");\n      this.setState({userAlert: \"blank fields detected!!!...Please try again...\"});\n      return;\n    }\n\n    const token = this.context.token;\n    const userId = this.context.userId;\n\n    console.log(`\n      creating user...\n      userId: ${userId}\n      email: ${email},\n      password: ${password},\n      name: ${name},\n      role: ${role},\n      dob: ${dob},\n      phone: ${phone},\n      addressNumber: ${addressNumber},\n      addressStreet: ${addressStreet},\n      addressTown: ${addressTown},\n      addressParish: ${addressParish},\n      addressPostOffice: ${addressPostOffice},\n      employmentDate: ${employmentDate},\n      terminationDate: ${terminationDate},\n      `);\n\n    const requestBody = {\n      query: `\n          mutation {createUser(userInput: {email:\"${email}\",password:\"${password}\",name:\"${name}\",dob:\"${dob}\",addressNumber:${addressNumber},addressStreet:\"${addressStreet}\",addressTown:\"${addressTown}\",addressParish:\"${addressParish}\", addressPostOffice:\"${addressPostOffice}\",phone:\"${phone}\",role:\"${role}\",employmentDate:\"${employmentDate}\",terminationDate:\"${terminationDate}\"})\n          {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}\n        }\n        `};\n\n\n    fetch('http://ec2-3-19-32-237.us-east-2.compute.amazonaws.com/graphql', {\n    // fetch('http://localhost:10000/graphql', {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + token\n      }\n    })\n      .then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n        return res.json();\n      })\n      .then(resData => {\n        console.log(\"create user response data... \" + JSON.stringify(resData.data.createUser));\n\n        // this.state.users.push(resData.data.createUser)\n        this.setState(prevState => {\n          const updatedUsers = [...prevState.users];\n          updatedUsers.push(resData.data.createUser);\n\n          return { users: updatedUsers };\n        });\n        this.context.users.push(resData.data.createUser);\n        const responseAlert = JSON.stringify(resData.data).slice(0,8);\n        this.setState({userAlert: responseAlert});\n      })\n      .catch(err => {\n        console.log(err);\n        this.setState({userAlert: err});\n      });\n  };\n\n\n  modalConfirmUpdateHandler = (event) => {\n\n    const token = this.context.token;\n    const userId = this.context.userId;\n    let selectedUserId = this.context.selectedUser._id;\n    if(userId !== selectedUserId && this.context.user.role !== 'admin') {\n      console.log(\"Not the creator or Admin! No edit permission!!\");\n      this.setState({userAlert: \"Not the creator or Admin! No edit permission!!\"});\n      selectedUserId = null;\n    }\n\n    console.log(\"UpdateUserFormData:  \", event.target.formGridEmail.value);\n\n    this.setState({ updating: false });\n\n    let email = event.target.formGridEmail.value;\n    let password = event.target.formGridPassword.value;\n    let name = event.target.formGridName.value;\n    let role = this.context.selectedUser.role;\n    let dob = event.target.formGridDob.value;\n    let phone = event.target.formGridPhone.value;\n    let addressNumber = event.target.formGridAddressNumber.value;\n    let addressStreet = event.target.formGridAddressStreet.value;\n    let addressTown = event.target.formGridAddressTown.value;\n    let addressParish = event.target.formGridAddressParish.value;\n    let addressPostOffice = event.target.formGridAddressPostOffice.value;\n\n    let employmentDate = event.target.formGridEmploymentDate.value;\n    if (event.target.formGridEmploymentDateTodayCheckbox.checked === true) {\n      employmentDate = new Date().toISOString().slice(0,10);\n    }\n\n    let terminationDate = event.target.formGridTerminationDate.value;\n    if (event.target.formGridTerminationDateTodayCheckbox.checked === true) {\n      terminationDate = new Date().toISOString().slice(0,10);\n    }\n\n    if (email.trim().length === 0 ) {\n      console.log(\"blank fields detected!!!...filling w/ previous data...\");\n      email = this.context.selectedUser.email;\n    }\n    if (password.trim().length === 0) {\n      console.log(\"blank fields detected!!!...filling w/ previous data...\");\n      password = this.context.selectedUser.password;\n    }\n    if (name.trim().length === 0) {\n      console.log(\"blank fields detected!!!...filling w/ previous data...\");\n      name = this.context.selectedUser.name;\n    }\n    // if (role.trim().length === 0) {\n    //   console.log(\"blank fields detected!!!...filling w/ previous data...\");\n    //   role = this.state.selectedUser.role;\n    // }\n    if (dob.trim().length === 0) {\n      console.log(\"blank fields detected!!!...filling w/ previous data...\");\n      dob = this.context.selectedUser.dob;\n    }\n    if (phone.trim().length === 0) {\n      console.log(\"blank fields detected!!!...filling w/ previous data...\");\n      phone = this.context.selectedUser.phone;\n    }\n    if (addressNumber.trim().length === 0) {\n      console.log(\"blank fields detected!!!...filling w/ previous data...\");\n      addressNumber = this.context.selectedUser.address.number;\n    }\n    if (addressStreet.trim().length === 0) {\n      console.log(\"blank fields detected!!!...filling w/ previous data...\");\n      addressStreet = this.context.selectedUser.address.street;\n    }\n    if (addressTown.trim().length === 0) {\n      console.log(\"blank fields detected!!!...filling w/ previous data...\");\n      addressTown = this.context.selectedUser.address.town;\n    }\n    if (addressParish.trim().length === 0) {\n      console.log(\"blank fields detected!!!...filling w/ previous data...\");\n      addressParish = this.context.selectedUser.address.parish;\n    }\n    if (addressPostOffice.trim().length === 0) {\n      console.log(\"blank fields detected!!!...filling w/ previous data...\");\n      addressPostOffice = this.context.selectedUser.address.postOffice;\n    }\n    if (employmentDate.trim().length === 0) {\n      console.log(\"blank fields detected!!!...filling w/ previous data...\");\n      employmentDate = this.context.selectedUser.employmentDate;\n    }\n    if (terminationDate.trim().length === 0) {\n      console.log(\"blank fields detected!!!...filling w/ previous data...\");\n      terminationDate = this.context.selectedUser.terminationDate;\n    }\n\n    console.log(`\n      updating user profile...\n      userId: ${userId}\n      email: ${email},\n      password: ${password},\n      name: ${name},\n      role: ${role},\n      dob: ${dob},\n      phone: ${phone},\n      addressNumber: ${addressNumber},\n      addressStreet: ${addressStreet},\n      addressTown: ${addressTown},\n      addressParish: ${addressParish},\n      addressPostOffice: ${addressPostOffice},\n      employmentDate: ${employmentDate},\n      terminationDate: ${terminationDate},\n      `);\n      this.setState({userAlert: \"updating user profile...\"});\n\n    const requestBody = {\n      query: `\n      mutation {updateUser(userId:\"${userId}\",selectedUserId:\"${selectedUserId}\",userInput: {email:\"${email}\",password:\"${password}\",name:\"${name}\",dob:\"${dob}\",addressNumber:${addressNumber},addressStreet:\"${addressStreet}\",addressTown:\"${addressTown}\",addressParish:\"${addressParish}\", addressPostOffice:\"${addressPostOffice}\",phone:\"${phone}\",role:\"${role}\",employmentDate:\"${employmentDate}\",terminationDate:\"${terminationDate}\"})\n      {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\n        `};\n\n        fetch('http://ec2-3-19-32-237.us-east-2.compute.amazonaws.com/graphql', {\n    // fetch('http://localhost:10000/graphql', {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + token\n      }})\n      .then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n        return res.json();\n      })\n      .then(resData => {\n        console.log(\"response data... \" + JSON.stringify(resData));\n        const updatedUser = resData.data.updateUser;\n        console.log(\"updatedUser:  \", JSON.stringify(updatedUser));\n        this.setState({user: updatedUser})\n        this.state.users.push(resData.data.updateUser);\n        this.context.users = this.state.users;\n\n        const responseAlert = JSON.stringify(resData.data).slice(2,25);\n        this.setState({ userAlert: responseAlert})\n        // this.setState({ userAlert: responseAlert, selectedUser: resData.data.updateUser})\n        this.fetchUsers();\n      })\n      .catch(err => {\n        console.log(err);\n        this.setState({userAlert: err});\n      });\n  };\n\n\n  modalConfirmUpdateFieldHandler = (event) => {\n\n    const token = this.context.token;\n    const userId = this.context.userId;\n    let selectedUserId = this.context.selectedUser._id;\n    // if(userId !== selectedUserId && this.context.user.role !== 'admin') {\n    //   console.log(\"Not the creator or Admin! No edit permission!!\");\n    //   selectedUserId = null;\n    // }\n\n\n      console.log(\"UpdateUserFieldFormData:  \", event.target.formGridField.value, event.target.formGridFieldSelect.value);\n      this.setState({ updating: false });\n\n      let field = null;\n      let query = event.target.formGridQuery.value;\n      if (event.target.formGridFieldSelect.value === \"select\") {\n        field = event.target.formGridField.value;\n      } else {\n        field = event.target.formGridFieldSelect.value;\n      }\n      console.log(`\n          field: ${field},\n          query: ${query},\n        `);\n\n        this.setState({ userAlert: \"updating user field...\"})\n\n      const requestBody = {\n        query:`\n          mutation{updateUserField(userId:\"${userId}\",selectedUserId:\"${selectedUserId}\",field:\"${field}\",query:\"${query}\")\n          {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}\n        }\n        `};\n\n        fetch('http://ec2-3-19-32-237.us-east-2.compute.amazonaws.com/graphql', {\n      // fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      })\n        .then(res => {\n          if (res.status !== 200 && res.status !== 201) {\n            throw new Error('Failed!');\n          }\n          return res.json();\n        })\n        .then(resData => {\n          console.log(\"response data... \" + JSON.stringify(resData.data.updateUserField));\n\n          const updatedUserId = resData.data.updateUserField._id;\n          const updatedUser = this.state.users.find(e => e._id === updatedUserId);\n          const updatedUserPos = this.state.users.indexOf(updatedUser);\n          const slicedArray = this.state.users.splice(updatedUserPos, 1);\n          console.log(\"updatedUser:  \", JSON.stringify(updatedUser),\"  updatedUserPos:  \", updatedUserPos, \"  slicedArray:  \", slicedArray);\n\n          this.state.users.push(resData.data.updateUserField);\n          this.context.users = this.state.users;\n          const responseAlert = JSON.stringify(resData.data).slice(2,25);\n          this.setState({ userAlert: responseAlert})\n          this.fetchUsers();\n        })\n        .catch(err => {\n          console.log(err);\n          this.setState({userAlert: err});\n        });\n\n  }\n\n  updateUserAttendanceHandler = (event) => {\n    const token = this.context.token;\n    const userId = this.context.userId;\n    let selectedUserId = this.context.selectedUser._id;\n    // if(userId !== selectedUserId && this.context.user.role !== 'admin') {\n    //   console.log(\"Not the creator or Admin! No edit permission!!\");\n    //   selectedUserId = null;\n    // }\n    if (userId !== selectedUserId && this.context.user.role !== \"admin\" ) {\n      console.log(\"Not the creator or Admin! No edit permission!!\");\n      this.setState({ userAlert: \"Not the creator or Admin! No edit permission!!\"});\n        selectedUserId = null;\n    }\n\n    console.log(\"UpdateUserAttendanceFormData:  \", );\n\n    this.setState({ updating: false , userUpdateField: null });\n\n\n    let attendanceDate = event.target.formGridAttendanceDate.value;\n    if (event.target.formGridAttendanceDateTodayCheckbox.checked === true) {\n      attendanceDate = new Date().toISOString().slice(0,10);\n    }\n\n    let attendanceStatus = event.target.formGridAttendanceStatus.value;\n    let attendanceDescription = event.target.formGridAttendanceDescription.value;\n\n    if (\n    attendanceDate.trim().length === 0 ||\n    attendanceStatus.trim().length === 0\n    ){\n      console.log(\"blank fields detected!!!...filling w/ previous data...\");\n      return\n    }\n\n    console.log(`\n      adding user attendance item...\n      userId: ${userId},\n      selectedUserId: ${selectedUserId}\n      attendanceDate: ${attendanceDate},\n      attendanceStatus: ${attendanceStatus},\n      attendanceDescription: ${attendanceDescription}\n      `);\n\n      this.setState({ userAlert: \"adding user attendance item...\"});\n\n      const requestBody = {\n        query:`\n          mutation {updateUserAttendance(userId:\"${userId}\", selectedUserId:\"${selectedUserId}\",userInput:{attendanceDate:\"${attendanceDate}\",attendanceStatus:\"${attendanceStatus}\",attendanceDescription:\"${attendanceDescription}\"})\n          {_id,name,email,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description}}}\n        `};\n\n      fetch('http://ec2-3-19-32-237.us-east-2.compute.amazonaws.com/graphql', {\n      // fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      })\n        .then(res => {\n          if (res.status !== 200 && res.status !== 201) {\n            throw new Error('Failed!');\n          }\n          return res.json();\n        })\n        .then(resData => {\n          console.log(\"response data... \" + JSON.stringify(resData.data.updateUserAttendance));\n\n          const updatedUserId = resData.data.updateUserAttendance._id;\n          const updatedUser = this.state.users.find(e => e._id === updatedUserId);\n          const updatedUserPos = this.state.users.indexOf(updatedUser);\n          const slicedArray = this.state.users.splice(updatedUserPos, 1);\n          console.log(\"updatedUser:  \", JSON.stringify(updatedUser),\"  updatedUserPos:  \", updatedUserPos, \"  slicedArray:  \", slicedArray);\n\n          this.state.users.push(resData.data.updateUserAttendance);\n          this.context.users = this.state.users;\n          const responseAlert = JSON.stringify(resData.data).slice(2,25);\n          this.setState({ userAlert: responseAlert})\n          this.fetchUsers();\n        })\n        .catch(err => {\n          console.log(err);\n          this.setState({userAlert: err});\n        });\n\n\n  }\n\n    updateUserAttachmentHandler = (event) => {\n\n    const token = this.context.token;\n    const userId = this.context.userId;\n    let selectedUserId = this.context.selectedUser._id;\n    // if(userId !== selectedUserId && this.context.user.role !== 'admin') {\n    //   console.log(\"Not the creator or Admin! No edit permission!!\");\n    //   selectedUserId = null;\n    // }\n    if (userId !== selectedUserId && this.context.user.role !== \"admin\" ) {\n      console.log(\"Not the creator or Admin! No edit permission!!\");\n      this.setState({userAlert: \"Not the creator or Admin! No edit permission!!\"})\n        selectedUserId = null;\n    }\n\n    console.log(\"UpdateUserAttachmentFormData:  \");\n\n    this.setState({ updating: false , userUpdateField: null });\n\n    // let attachmentName = event.target.formGridAttachmentName.value;\n    let attachmentFormat = event.target.formGridAttachmentFormat.value;\n    let attachmentPath = \"uploads/staff/\"+selectedUserId+\"/attachments\";\n    // let attachmentPath = event.target.formGridAttachmentPath.value;\n    let file = AuthContext._currentValue.file;\n\n    console.log(`\n      uploading to s3...\n      file.name: ${file.name},\n      AuthContext._currentValue.file: ${AuthContext._currentValue.file},\n      `);\n    const config = {\n      bucketName: this.context.creds.s3.bucketName,\n      dirName: attachmentPath,\n      region: this.context.creds.s3.region,\n      accessKeyId: this.context.creds.s3.accessKeyId,\n      secretAccessKey: this.context.creds.s3.secretAccessKey,\n    }\n    const ReactS3Client = new S3(config);\n    const newFileName = file.name;\n    const attachmentName = newFileName;\n\n    ReactS3Client\n        .uploadFile(file, newFileName)\n        .then(data => {console.log(data);this.setState({userAlert: \"attachment upload success!\"});})\n        .catch(err => {console.error(err);this.setState({userAlert: \"upload error:  \"+err});})\n\n    if (\n      attachmentName.trim().length === 0 ||\n      attachmentFormat.trim().length === 0 ||\n      attachmentPath.trim().length === 0\n  ) {\n      console.log(\"blank fields detected!!! try again\");\n      return\n    }\n\n    console.log(`\n      adding user attachment item...\n      userId: ${userId},\n      selectedUserId: ${selectedUserId}\n      attachmentName: ${attachmentName},\n      attachmentFormat: ${attachmentFormat},\n      attachmentPath: ${attachmentPath},\n      `);\n      this.setState({userAlert: \"adding user attatchment item...\"})\n\n      const requestBody = {\n        query:`\n          mutation{updateUserAttachment(userId:\"${userId}\",selectedUserId:\"${selectedUserId}\",userInput:{attachmentName:\"${attachmentName}\",attachmentFormat:\"${attachmentFormat}\",attachmentPath:\"${attachmentPath}\"})\n          {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\n        `};\n\n        fetch('http://ec2-3-19-32-237.us-east-2.compute.amazonaws.com/graphql', {\n      // fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      })\n        .then(res => {\n          if (res.status !== 200 && res.status !== 201) {\n            throw new Error('Failed!');\n          }\n          return res.json();\n        })\n        .then(resData => {\n          console.log(\"response data... \" + JSON.stringify(resData.data.updateUserAttachment));\n\n          const updatedUserId = resData.data.updateUserAttachment._id;\n          const updatedUser = this.state.users.find(e => e._id === updatedUserId);\n          const updatedUserPos = this.state.users.indexOf(updatedUser);\n          const slicedArray = this.state.users.splice(updatedUserPos, 1);\n          console.log(\"updatedUser:  \", JSON.stringify(updatedUser),\"  updatedUserPos:  \", updatedUserPos, \"  slicedArray:  \", slicedArray);\n\n          this.state.users.push(resData.data.updateUserAttachment);\n          this.context.users = this.state.users;\n          const responseAlert = JSON.stringify(resData.data).slice(2,25);\n          this.setState({ userAlert: responseAlert})\n          this.fetchUsers();\n        })\n        .catch(err => {\n          console.log(err);\n          this.setState({userAlert: err});\n        });\n\n\n  }\n\n\n  updateUserLeaveHandler = (event) => {\n\n    const token = this.context.token;\n    const userId = this.context.userId;\n    let selectedUserId = this.context.selectedUser._id;\n    // if(userId !== selectedUserId && this.context.user.role !== 'admin') {\n    //   console.log(\"Not the creator or Admin! No edit permission!!\");\n    //   selectedUserId = null;\n    // }\n    if (userId !== selectedUserId && this.context.user.role !== \"admin\" ) {\n      console.log(\"Not the creator or Admin! No edit permission!!\");\n      this.setState({userAlert: \"Not the creator or Admin! No edit permission!!\"})\n        selectedUserId = null;\n    }\n\n    console.log(\"UpdateUserLeaveFormData:  \", event.target.formGridLeaveType.value);\n\n    this.setState({ updating: false , userUpdateField: null });\n\n    let leaveType = event.target.formGridLeaveType.value;\n    let leaveTitle = event.target.formGridLeaveTitle.value;\n\n    let leaveStartDate = event.target.formGridLeaveStartDate.value;\n    if (event.target.formGridLeaveStartDateTodayCheckbox.checked === true) {\n      leaveStartDate = new Date().toISOString().slice(0,10);\n    }\n\n    let leaveEndDate = event.target.formGridLeaveEndDate.value;\n    if (event.target.formGridLeaveEndDateTodayCheckbox.checked === true) {\n      leaveEndDate = new Date().toISOString().slice(0,10);\n    }\n\n    if (\n      leaveType.trim().length === 0 ||\n      leaveTitle.trim().length === 0 ||\n      leaveStartDate.trim().length === 0 ||\n      leaveEndDate.trim().length === 0\n    ) {\n      console.log(\"blank fields detected!!!...try again\");\n      this.setState({userAlert: \"blank fields detected!!!...try again\"});\n      return\n    }\n\n    console.log(`\n      adding user leave item...\n      userId: ${userId},\n      selectedUserId: ${selectedUserId}\n      leave: {\n        type: ${leaveType},\n        title: ${leaveTitle},\n        startDate: ${leaveStartDate},\n        endDate: ${leaveEndDate}\n      }\n      `);\n      this.setState({userAlert: \"adding user leave item...\"})\n\n      const requestBody = {\n        query:`\n          mutation{updateUserLeave(userId:\"${userId}\",selectedUserId:\"${selectedUserId}\",userInput:{leaveType:\"${leaveType}\",leaveTitle:\"${leaveTitle}\",leaveStartDate:\"${leaveStartDate}\",leaveEndDate:\"${leaveEndDate}\"})\n          {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\n        `};\n\n        fetch('http://ec2-3-19-32-237.us-east-2.compute.amazonaws.com/graphql', {\n      // fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      })\n        .then(res => {\n          if (res.status !== 200 && res.status !== 201) {\n            throw new Error('Failed!');\n          }\n          return res.json();\n        })\n        .then(resData => {\n          console.log(\"response data... \" + JSON.stringify(resData.data));\n\n          const updatedUserId = resData.data.updateUserLeave._id;\n          const updatedUser = this.state.users.find(e => e._id === updatedUserId);\n          const updatedUserPos = this.state.users.indexOf(updatedUser);\n          const slicedArray = this.state.users.splice(updatedUserPos, 1);\n          console.log(\"updatedUser:  \", JSON.stringify(updatedUser),\"  updatedUserPos:  \", updatedUserPos, \"  slicedArray:  \", slicedArray);\n\n          this.state.users.push(resData.data.updateUserLeave);\n          this.context.users = this.state.users;\n          const responseAlert = JSON.stringify(resData.data).slice(2,25);\n          this.setState({ userAlert: responseAlert})\n          this.fetchUsers();\n        })\n        .catch(err => {\n          console.log(err);\n          this.setState({userAlert: err});\n        });\n\n  }\n\n\n  modalConfirmSearchHandler = (event) => {\n    console.log(\"SearchUserForm:  \");\n\n\n    let userId = this.context.userId;\n\n      console.log(\"SearchUserFormData:  \", event.target.formBasicField.value);\n      this.setState({ searching: false });\n\n      let field = null;\n      let query = event.target.formBasicQuery.value;\n      if (event.target.formBasicFieldSelect.value === \"select\") {\n        field = event.target.formBasicField.value;\n      } else {\n        field = event.target.formBasicFieldSelect.value;\n      }\n\n      this.setState({\n        userSearchField: field,\n        userSearchQuery: query,\n      })\n\n      if (\n        field.trim().length === 0 ||\n        query.trim().length === 0\n      ) {\n        console.log(\"blank fields detected!!!...Please try again...\");\n        this.setState({userAlert: \"blank fields detected!!!...Please try again...\"})\n        return;\n      }\n\n      const search = { field, query }\n      console.log(\"Searching for User:  \", JSON.stringify(search));\n      this.setState({userAlert: \"Searching for User...\"})\n\n      const requestBody = {\n        query: `\n          query {getUserField(userId:\"${userId}\",field:\"${field}\",query:\"${query}\")\n          {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\n        `}\n\n      const token = this.context.token;\n\n      fetch('http://ec2-3-19-32-237.us-east-2.compute.amazonaws.com/graphql', {\n      // fetch('http://localhost:10000/graphql', {\n        method: 'POST',\n        body: JSON.stringify(requestBody),\n        headers: {\n          'Content-Type': 'application/json',\n          Authorization: 'Bearer ' + token\n        }\n      })\n        .then(res => {\n          if (res.status !== 200 && res.status !== 201) {\n            throw new Error('Failed!');\n          }\n          return res.json();\n        })\n        .then(resData => {\n          console.log(\"response data... \" + JSON.stringify(resData));\n\n          const responseAlert = JSON.stringify(resData.data).slice(0,8);\n          this.setState({userAlert: responseAlert});\n\n          const searchUsers = resData.data.getUserField;\n\n          this.setState({ searchUsers: searchUsers})\n          console.log(\"state.searchUsers:  \", this.state.searchUsers);\n          // this.fetchUsers();\n        })\n        .catch(err => {\n          console.log(err);\n          this.setState({userAlert: err});\n        });\n  }\n\n  modalConfirmSearchIdHandler = (event) => {\n\n    let userId = this.context.userId;\n    this.setState({ searching: false });\n\n    console.log(\"SearchUserIdFormData:\", event.target.formBasicId.value);\n    let selectedUserId = event.target.formBasicId.value;\n\n    const requestBody = {\n      query: `\n        query {getUserId(userId:\"${userId}\",selectedUserId:\"${selectedUserId}\")\n        {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\n      `}\n\n    const token = this.context.token;\n\n    fetch('http://ec2-3-19-32-237.us-east-2.compute.amazonaws.com/graphql', {\n    // fetch('http://localhost:10000/graphql', {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + token\n      }\n    })\n      .then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n        return res.json();\n      })\n      .then(resData => {\n        console.log(\"response data... \" + JSON.stringify(resData));\n\n        const responseAlert = JSON.stringify(resData.data).slice(2,25);\n        this.setState({userAlert: responseAlert});\n\n        const searchUsers = resData.data.getUserId;\n\n        this.setState({ searchUsers: [searchUsers] });\n        console.log(\"state.searchUsers:  \", this.state.searchUsers);\n        // this.fetchUsers();\n      })\n      .catch(err => {\n        console.log(err);\n        this.setState({userAlert: err});\n      });\n\n  }\n  modalConfirmSearchAttendanceDateHandler = (event) => {\n\n    let userId = this.context.userId;\n    this.setState({ searching: false });\n\n    console.log(\"SearchUserAttendanceDateFormData:\");\n\n    let attendanceDate = event.target.formBasicDate.value;\n    if (event.target.formBasicDateTodayCheckbox.checked === true) {\n      attendanceDate = new Date().toISOString().slice(0,10);\n    }\n\n    const requestBody = {\n      query: `\n        query {getUserAttendanceDate(userId:\"${userId}\",attendanceDate:\"${attendanceDate}\")\n        {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\n      `}\n\n    const token = this.context.token;\n\n    fetch('http://ec2-3-19-32-237.us-east-2.compute.amazonaws.com/graphql', {\n    // fetch('http://localhost:10000/graphql', {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + token\n      }\n    })\n      .then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n        return res.json();\n      })\n      .then(resData => {\n        console.log(\"response data... \" + JSON.stringify(resData));\n\n        const responseAlert = JSON.stringify(resData.data).slice(0,8);\n        this.setState({userAlert: responseAlert});\n\n        const searchUsers = resData.data.getUserAttendanceDate;\n\n        this.setState({ searchUsers: searchUsers})\n        console.log(\"state.searchUsers:  \", this.state.searchUsers);\n        // this.fetchUsers();\n      })\n      .catch(err => {\n        console.log(err);\n        this.setState({userAlert: err});\n      });\n\n  }\n  modalConfirmSearchLeaveDateRangeHandler = (event) => {\n\n    let userId = this.context.userId;\n    this.setState({ searching: false });\n\n    console.log(\"SearchUserLeaveDateRangeFormData:\");\n\n    const startDate = event.target.formBasicStartDate.value;\n    const endDate = event.target.formBasicEndDate.value;\n\n    const requestBody = {\n      query: `\n        query{getUserLeaveDateRange(userId:\"${userId}\",startDate:\"${startDate}\",endDate:\"${endDate}\")\n        {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\n      `}\n\n    const token = this.context.token;\n\n    fetch('http://ec2-3-19-32-237.us-east-2.compute.amazonaws.com/graphql', {\n    // fetch('http://localhost:10000/graphql', {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + token\n      }\n    })\n      .then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          throw new Error('Failed!');\n        }\n        return res.json();\n      })\n      .then(resData => {\n        console.log(\"response data... \" + JSON.stringify(resData));\n\n        const responseAlert = JSON.stringify(resData.data).slice(0,8);\n        this.setState({userAlert: responseAlert});\n\n        const searchUsers = resData.data.getUserLeaveDateRange;\n\n        this.setState({ searchUsers: searchUsers})\n        console.log(\"state.searchUsers:  \", this.state.searchUsers);\n        // this.fetchUsers();\n      })\n      .catch(err => {\n        console.log(err);\n        this.setState({userAlert: err});\n      });\n\n  }\n\n  modalConfirmSearchNameHandler = (event) => {\n    console.log(\"SearchUserNameFormData:\", event.target.formBasicName.value);\n    this.setState({ searching: false });\n\n    let users = this.state.users;\n    const regex = new RegExp(event.target.formBasicName.value,\"i\");\n    console.log(`\n      regex: ${regex},\n      `);\n      let result = users.filter(user => user.name.match(regex))\n      console.log(`\n        result: ${JSON.stringify(result)}\n        `);\n\n        this.setState({ searchUsers: result})\n\n  }\n\n\n  modalCancelHandler = () => {\n    this.setState({ creating: false, updating: false, deleting: false, searching: false});\n  };\n\n  fetchUsers() {\n    console.log(\"fetch users:\");\n    // console.log(\"'fetch users function' context object... \" + JSON.stringify(this.context));\n    const userId = this.context.userId;\n\n    this.setState({ isLoading: true });\n    const requestBody = {\n      query: `\n          query {users (userId:\"${userId}\")\n          {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\n        `};\n\n    fetch('http://ec2-3-19-32-237.us-east-2.compute.amazonaws.com/graphql', {\n    // fetch('http://localhost:10000/graphql', {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + this.context.token\n      }\n    })\n      .then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          this.context.userAlert = 'Failed!';\n          throw new Error('Failed!');\n        }\n        return res.json();\n      })\n      .then(resData => {\n\n        const responseAlert = JSON.stringify(resData.data).slice(0,8);\n        this.setState({userAlert: responseAlert});\n\n        const users = resData.data.users;\n        console.log(\"resData:  \", resData);\n        console.log(users);\n\n        if (this.isActive) {\n          this.setState({ users: users, isLoading: false });\n        }\n        this.context.users = this.state.users;\n      })\n      .catch(err => {\n        console.log(err);\n        this.setState({userAlert: err});\n        if (this.isActive) {\n          this.setState({ isLoading: false });\n        }\n      });\n  }\n\n  fetchUsersAsc = () => {\n    console.log(\"'fetch usersAsc function' context object... \" + JSON.stringify(this.context));\n    const userId = this.context.userId;\n\n    // this.setState({ isSorting: true });\n    const requestBody = {\n      query: `\n          query {usersNameAsc (userId:\"${userId}\")\n          {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\n        `};\n\n    fetch('http://ec2-3-19-32-237.us-east-2.compute.amazonaws.com/graphql', {\n    // fetch('http://localhost:10000/graphql', {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + this.context.token\n      }\n    })\n      .then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          this.context.userAlert = 'Failed!';\n          throw new Error('Failed!');\n        }\n        return res.json();\n      })\n      .then(resData => {\n        const users = resData.data.usersNameAsc;\n        console.log(\"resData:  \", resData);\n        console.log(users);\n\n        const responseAlert = JSON.stringify(resData.data).slice(0,8);\n        this.setState({userAlert: responseAlert});\n\n        this.setState({users: users});\n        // if (this.isActive) {\n        //   this.setState({ users: users, isLoading: false });\n        // }\n        this.context.users = this.state.users;\n      })\n      .catch(err => {\n        console.log(err);\n        this.setState({userAlert: err});\n        // if (this.isActive) {\n        //   this.setState({ isLoading: false });\n        // }\n      });\n  }\n  fetchUsersDesc = () => {\n    console.log(\"'fetch usersDesc function' context object... \" + JSON.stringify(this.context));\n    const userId = this.context.userId;\n\n    // this.setState({ isLoading: true });\n    const requestBody = {\n      query: `\n          query {usersNameDesc (userId:\"${userId}\")\n          {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\n        `};\n\n    fetch('http://ec2-3-19-32-237.us-east-2.compute.amazonaws.com/graphql', {\n    // fetch('http://localhost:10000/graphql', {\n      method: 'POST',\n      body: JSON.stringify(requestBody),\n      headers: {\n        'Content-Type': 'application/json',\n        Authorization: 'Bearer ' + this.context.token\n      }\n    })\n      .then(res => {\n        if (res.status !== 200 && res.status !== 201) {\n          this.context.userAlert = 'Failed!';\n          throw new Error('Failed!');\n        }\n        return res.json();\n      })\n      .then(resData => {\n        const users = resData.data.usersNameDesc;\n        console.log(\"resData:  \", resData);\n        console.log(users);\n\n        const responseAlert = JSON.stringify(resData.data).slice(0,8);\n        this.setState({userAlert: responseAlert});\n\n        // if (this.isActive) {\n        //   this.setState({ users: users, isLoading: false });\n        // }\n        this.setState({users: users});\n        this.context.users = this.state.users;\n      })\n      .catch(err => {\n        console.log(err);\n        this.setState({userAlert: err});\n        // if (this.isActive) {\n        //   this.setState({ isLoading: false });\n        // }\n      });\n  }\n\nmodalDeleteHandler = () => {\n  console.log(\"deleting user...selectedUser:  \", this.context.selectedUser);\n\n  const userId = this.context.userId;\n  const selectedUserId = this.context.selectedUser._id;\n\n  if(this.context.user.role !== 'admin') {\n    console.log(\"Not the Admin! No edit permission!!\");\n    this.setState({userAlert: \"Not the Admin! No edit permission!!\"})\n  }\n\n  this.setState({deleting: true, userAlert: \"deleting user..\"});\n\n  const requestBody = {\n    query: `\n        mutation {\n          deleteUser(userId: \"${userId}\", selectedUserId: \"${selectedUserId}\")\n          {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}\n        }\n      `};\n\n  fetch('http://ec2-3-19-32-237.us-east-2.compute.amazonaws.com/graphql', {\n  // fetch('http://localhost:10000/graphql', {\n    method: 'POST',\n    body: JSON.stringify(requestBody),\n    headers: {\n      'Content-Type': 'application/json',\n      Authorization: 'Bearer ' + this.context.token\n    }\n  })\n    .then(res => {\n      if (res.status !== 200 && res.status !== 201) {\n        throw new Error('Failed!');\n      }\n      return res.json();\n    })\n    .then(resData => {\n\n      const responseAlert = JSON.stringify(resData.data).slice(0,8);\n      this.setState({userAlert: responseAlert});\n\n      let deletedUser = resData.data.deleteUser;\n      console.log(deletedUser);\n\n      let deletedUserId = deletedUser._id;\n      deletedUser = this.state.users.find(e => e._id === deletedUserId);\n      const deletedUserPos = this.state.users.indexOf(deletedUser);\n      const slicedArray = this.state.users.splice(deletedUserPos, 1);\n      console.log(\"deletedUser:  \", JSON.stringify(deletedUser),\"  deletedUserPos:  \", deletedUserPos, \"  slicedArray:  \", slicedArray);\n\n      this.setState({ deleting: false });\n      // this.setState({ deleting: false, selectedUser: null });\n      // this.context.selectedUser = null;\n\n      this.fetchUsers();\n\n    })\n    .catch(err => {\n      console.log(err);\n      this.setState({userAlert: err});\n      if (this.isActive) {\n        this.setState({ deleting: false });\n      }\n    });\n\n}\n\ndeleteUserAttendanceItem = (props) => {\n\n  let token = this.context.token;\n  let userId = this.context.userId;\n  let selectedUserId = this.state.selectedUser._id;\n  let date = new Date(props.date.substr(0,10)*1000).toISOString().slice(0,10);\n\n  console.log(`\n    delete user Attendance item:\n    props: ${JSON.stringify(props)},\n    token: ${token},\n    userId: ${userId},\n    selectedUserId: ${selectedUserId},\n    attandance date: ${date},\n    `);\n\n    const requestBody = {\n      query: `\n       mutation{deleteUserAttendance(userId:\"${userId}\",selectedUserId:\"${selectedUserId}\",attendanceDate:\"${date}\")\n       {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\n    `};\n\n        fetch('http://ec2-3-19-32-237.us-east-2.compute.amazonaws.com/graphql', {\n        // fetch('http://localhost:10000/graphql', {\n          method: 'POST',\n          body: JSON.stringify(requestBody),\n          headers: {\n            'Content-Type': 'application/json',\n            Authorization: 'Bearer ' + token\n          }\n        })\n          .then(res => {\n            if (res.status !== 200 && res.status !== 201) {\n              throw new Error('Failed!');\n            }\n            return res.json();\n          })\n          .then(resData => {\n            console.log(\"resData.data:  \",resData.data.deleteUserAttendance);\n\n            const updatedUserId = resData.data.deleteUserAttendance._id;\n            const updatedUser = this.state.users.find(e => e._id === updatedUserId);\n            const updatedUserPos = this.state.users.indexOf(updatedUser);\n            const slicedArray = this.state.users.splice(updatedUserPos, 1);\n            console.log(\"updatedUser:  \", JSON.stringify(updatedUser),\"  updatedUserPos:  \", updatedUserPos, \"  slicedArray:  \", slicedArray);\n\n            this.state.users.push(resData.data.deleteUserAttendance);\n            this.context.users = this.state.users;\n            const responseAlert = JSON.stringify(resData.data).slice(2,25);\n            this.setState({ userAlert: responseAlert})\n            this.fetchUsers();\n\n          })\n          .catch(err => {\n            console.log(err);\n            this.setState({ userAlert: err })\n          });\n}\n\ndeleteUserLeaveItem = (props) => {\n\n  let token = this.context.token;\n  let userId = this.context.userId;\n  let selectedUserId = this.state.selectedUser._id;\n\n  console.log(`\n    delete user Leave item:\n    props: ${JSON.stringify(props)},\n    token: ${token},\n    userId: ${userId},\n    selectedUserId: ${selectedUserId},\n    `);\n\n    const requestBody = {\n      query: `\n       mutation{deleteUserLeave(userId:\"${userId}\",selectedUserId:\"${selectedUserId}\",leaveTitle:\"${props.title}\")\n       {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\n    `};\n\n        fetch('http://ec2-3-19-32-237.us-east-2.compute.amazonaws.com/graphql', {\n        // fetch('http://localhost:10000/graphql', {\n          method: 'POST',\n          body: JSON.stringify(requestBody),\n          headers: {\n            'Content-Type': 'application/json',\n            Authorization: 'Bearer ' + token\n          }\n        })\n          .then(res => {\n            if (res.status !== 200 && res.status !== 201) {\n              throw new Error('Failed!');\n            }\n            return res.json();\n          })\n          .then(resData => {\n            let deletedUser = resData.data.deleteUserLeave;\n            console.log(deletedUser);\n\n            const updatedUserId = resData.data.deleteUserLeave._id;\n            const updatedUser = this.state.users.find(e => e._id === updatedUserId);\n            const updatedUserPos = this.state.users.indexOf(updatedUser);\n            const slicedArray = this.state.users.splice(updatedUserPos, 1);\n            console.log(\"updatedUser:  \", JSON.stringify(updatedUser),\"  updatedUserPos:  \", updatedUserPos, \"  slicedArray:  \", slicedArray);\n\n            this.state.users.push(resData.data.deleteUserLeave);\n            this.context.users = this.state.users;\n            const responseAlert = JSON.stringify(resData.data).slice(2,25);\n            this.setState({ userAlert: responseAlert})\n            this.fetchUsers();\n\n          })\n          .catch(err => {\n            console.log(err);\n            this.setState({ userAlert: err })\n          });\n}\n\ndeleteUserAttachmentItem = (props) => {\n\n  let token = this.context.token;\n  let userId = this.context.userId;\n  let selectedUserId = this.state.selectedUser._id;\n\n  console.log(`\n    delete user Attachment item:\n    props: ${JSON.stringify(props)},\n    token: ${token},\n    userId: ${userId},\n    selectedUserId: ${selectedUserId},\n    `);\n\n    // console.log(`\n    //   deleting from s3...\n    //   file.name: ${props.name},\n    //   `);\n    //\n    //   const config = {\n    //     bucketName: this.context.creds.s3.bucketName,\n    //     dirName: props.path,\n    //     region: this.context.creds.s3.region,\n    //     accessKeyId: this.context.creds.s3.accessKeyId,\n    //     secretAccessKey: this.context.creds.s3.secretAccessKey,\n    //   }\n    // const ReactS3Client = new S3(config);\n    // const filename = props.name;\n    // // const attachmentName = newFileName;\n    // //\n    // S3FileUpload\n    // .deleteFile(filename, config)\n    // .then(response => console.log(response))\n    // .catch(err => console.error(err))\n\n\n    const requestBody = {\n      query: `\n       mutation{deleteUserAttachment(userId:\"${userId}\",selectedUserId:\"${selectedUserId}\",attachmentName:\"${props.name}\")\n       {_id,email,password,name,dob,address{number,street,town,parish,postOffice},phone,role,employmentDate,terminationDate,attachments{name,format,path},attendance{date,status,description},leave{type,title,startDate,endDate}}}\n    `};\n\n        fetch('http://ec2-3-19-32-237.us-east-2.compute.amazonaws.com/graphql', {\n        // fetch('http://localhost:10000/graphql', {\n          method: 'POST',\n          body: JSON.stringify(requestBody),\n          headers: {\n            'Content-Type': 'application/json',\n            Authorization: 'Bearer ' + token\n          }\n        })\n          .then(res => {\n            if (res.status !== 200 && res.status !== 201) {\n              throw new Error('Failed!');\n            }\n            return res.json();\n          })\n          .then(resData => {\n            let deletedUser = resData.data.deleteUserAttachment;\n            console.log(deletedUser);\n\n            const updatedUserId = resData.data.deleteUserAttachment._id;\n            const updatedUser = this.state.users.find(e => e._id === updatedUserId);\n            const updatedUserPos = this.state.users.indexOf(updatedUser);\n            const slicedArray = this.state.users.splice(updatedUserPos, 1);\n            console.log(\"updatedUser:  \", JSON.stringify(updatedUser),\"  updatedUserPos:  \", updatedUserPos, \"  slicedArray:  \", slicedArray);\n\n            this.state.users.push(resData.data.deleteUserAttachment);\n            this.context.users = this.state.users;\n            const responseAlert = JSON.stringify(resData.data).slice(2,25);\n            this.setState({ userAlert: responseAlert})\n            this.fetchUsers();\n\n          })\n          .catch(err => {\n            console.log(err);\n            this.setState({ userAlert: err })\n          });\n}\n\n\n\nupdateUserSpecial (event) {\n\n  console.log(\"special field to update:  \", event.target.value);\n  const field = event.target.value;\n  this.setState({ userUpdateField: field});\n\n}\n\n  showDetailHandler = userId => {\n\n    this.setState(prevState => {\n      const selectedUser = prevState.users.find(e => e._id === userId);\n      this.context.selectedUser = selectedUser;\n      this.setState({selectedUser: selectedUser});\n      console.log(\"User selected  :  \", selectedUser);\n      return { selectedUser: selectedUser };\n    });\n  };\n\n  onViewAttachment = (attachment) => {\n    console.log(`\n      setting up attachment viewer...\n      attachment: ${JSON.stringify(attachment)}\n      `);\n      this.setState({showAttachment: true})\n\n      const file = \"https://ent-emr-bucket.s3-us-east-2.amazonaws.com/\"+attachment.path+\"/\"+attachment.name;\n      const type = attachment.format;\n\n      this.setState({showThisAttachmentFile: file, showThisAttachmentType: type})\n  }\n\n  closeAttachmentView = () => {\n    console.log(`\n      closing attachment viewer...\n      `);\n      this.setState({showAttachment: false})\n  }\n\n  createPdf = (user) => {\n    console.log(`\n        creating pdf...\n        user: ${JSON.stringify(user)}\n      `);\n\n      const pdfData = {\n        title: user.name,\n        body: user.dob,\n      };\n\n    this.setState({createPdf: true, pdfData: pdfData})\n  }\n\n  closePdfCreator = () => {\n    console.log(`\n      closing pdf creator...\n      `);\n      this.setState({createPdf: false, pdfData: null})\n  }\n\n  userSearchClearlHandler () {\n    console.log(\"clearing user search results\");\n    this.setState({searchUsers: [], userAlert: \"clearing user search results\"});\n  }\n\n\n  componentWillUnmount() {\n    this.isActive = false;\n  }\n\n  render() {\n    return (\n\n    <React.Fragment>\n    {this.state.showAttachment === true && (\n      <AttachmentViewer\n        onCloseAttachmentView={this.closeAttachmentView}\n        attachmentFile={this.state.showThisAttachmentFile}\n        attachmentType={this.state.showThisAttachmentType}\n      />\n    )}\n\n    {this.state.createPdf === true && (\n        <PdfCreator\n          pdfData={this.state.pdfData}\n          onClosePdfCreator={this.closePdfCreator}\n        />\n    )}\n\n    <Accordion>\n\n    <Row>\n\n    <Col md={3} className=\"MasterCol1\">\n\n    <AlertBox\n      authUserId={this.context.userId}\n      alert={this.state.userAlert}\n    />\n\n    <SidebarPage/>\n\n    </Col>\n\n    <Col md={9} className=\"MasterCol2\">\n\n        <Container className=\"containerCombinedDetail\">\n\n        <Tab.Container id=\"left-tabs-example\" defaultActiveKey=\"userDetail\">\n          <Row>\n            <Col sm={2}>\n              <Nav variant=\"pills\" className=\"flex-column\">\n                <Nav.Item>\n                  <Nav.Link eventKey=\"MasterList\">MASTER LIST</Nav.Link>\n                </Nav.Item>\n                <Nav.Item>\n                  <Nav.Link eventKey=\"userDetail\">Selected</Nav.Link>\n                </Nav.Item>\n                { this.context.user.role === \"admin\" && (\n                <Nav.Item>\n                  <Nav.Link eventKey=\"userCreate\">Create New</Nav.Link>\n                </Nav.Item>\n                )}\n                <Nav.Item>\n                  <Nav.Link eventKey=\"disabled\" disabled>Edit:</Nav.Link>\n                </Nav.Item>\n                <Nav.Item>\n                  <Nav.Link eventKey=\"userEditDemographics\">Demographics</Nav.Link>\n                </Nav.Item>\n                <Nav.Item>\n                  <Nav.Link eventKey=\"userEditField\">Single Field</Nav.Link>\n                </Nav.Item>\n                <Nav.Item>\n                  <Nav.Link eventKey=\"disabled\" disabled>Add:</Nav.Link>\n                </Nav.Item>\n                <Nav.Item>\n                  <Nav.Link eventKey=\"userEditAttendance\">Attendance</Nav.Link>\n                </Nav.Item>\n                <Nav.Item>\n                  <Nav.Link eventKey=\"userEditLeave\">Leave</Nav.Link>\n                </Nav.Item>\n                <Nav.Item>\n                  <Nav.Link eventKey=\"userEditAttachment\">Attachment</Nav.Link>\n                </Nav.Item>\n\n                <Nav.Item>\n                  <Nav.Link eventKey=\"disabled\" disabled>Search:</Nav.Link>\n                </Nav.Item>\n                <Nav.Item>\n                  <Nav.Link eventKey=\"SearchInput\">Input</Nav.Link>\n                </Nav.Item>\n                <Nav.Item>\n                  <Nav.Link eventKey=\"SearchResult\">Results</Nav.Link>\n                </Nav.Item>\n              </Nav>\n            </Col>\n\n            <Col sm={10}>\n              <Tab.Content>\n                <Tab.Pane eventKey=\"userDetail\">\n                  {this.state.selectedUser === null && (\n                    <Button variant=\"outline-warning\" size=\"lg\" className=\"confirmEditButton\">\n                      Select a Staff member from the Master List\n                    </Button>\n                  )}\n                  {this.state.isLoading === false &&\n                    this.state.selectedUser !== null\n                    && (\n                      <UserDetail\n                      authUserId={this.context.userId}\n                      AuthContext={this.context}\n                      user={this.state.selectedUser}\n                      onEdit={this.startUpdateUserHandler}\n                      canDelete={this.state.canDelete}\n                      onDelete={this.modalDeleteHandler}\n                      attendanceDelete={this.deleteUserAttendanceItem}\n                      leaveDelete={this.deleteUserLeaveItem}\n                      attachmentDelete={this.deleteUserAttachmentItem}\n                      onViewAttachment={this.onViewAttachment}\n                      onCreatePdf={this.createPdf}\n                      />\n                    )}\n                </Tab.Pane>\n\n                { this.context.user.role === \"admin\" && (\n                  <Tab.Pane eventKey=\"userCreate\">\n                  <Button variant=\"outline-primary\" size=\"lg\" className=\"confirmEditButton\" onClick={this.startCreateUserHandler} >Create a NEW Staff Profile</Button>\n                    {this.state.creating && (\n                      <CreateUserForm\n                        authUserId={this.context.userId}\n                        canCancel\n                        canConfirm\n                        onCancel={this.modalCancelHandler}\n                        onConfirm={this.modalConfirmHandler}\n                        onSubmit={this.modalConfirmHandler}\n                        confirmText=\"Confirm\"\n                      />\n                    )}\n                  </Tab.Pane>\n                )}\n\n\n                <Tab.Pane eventKey=\"userEditDemographics\">\n                  {this.state.selectedUser === null && (\n                    <Button variant=\"outline-warning\" className=\"confirmEditButton\" size=\"lg\">\n                      Select a Staff member from the Master List\n                    </Button>\n                  )}\n                  {this.state.selectedUser !== null &&\n                    this.context.user.role === \"admin\"\n                    && (\n                    <Button variant=\"outline-primary\" size=\"lg\" className=\"confirmEditButton\" onClick={this.startUpdateUserHandler}>Edit Demographics as Admin</Button>\n                  )}\n                  {this.state.selectedUser !== null &&\n                    this.state.selectedUser._id === this.context.user._id\n                    && (\n                    <Button variant=\"outline-primary\" size=\"lg\" className=\"confirmEditButton\" onClick={this.startUpdateUserHandler}>Edit Demographics</Button>\n                  )}\n                  {this.state.selectedUser !== null &&\n                    this.state.selectedUser._id === this.context.user._id && (\n                    <Button variant=\"outline-danger\" className=\"confirmEditButton\" size=\"lg\">\n                      Your Profile\n                    </Button>\n                  )}\n                  {this.state.selectedUser !== null &&\n                    this.state.selectedUser._id !== this.context.user._id && (\n                    <Button variant=\"outline-danger\" className=\"confirmEditButton\" size=\"lg\">\n                      Not my profile\n                    </Button>\n                  )}\n                  {this.state.updating &&\n                    this.state.selectedUser !== null\n                    && (\n                    <UpdateUserForm\n                      authUserId={this.context.userId}\n                      canCancel\n                      canConfirm\n                      onCancel={this.modalCancelHandler}\n                      onConfirm={this.modalConfirmUpdateHandler}\n                      confirmText=\"Confirm\"\n                      user={this.context.selectedUser}\n                    />\n                  )}\n                </Tab.Pane>\n\n                <Tab.Pane eventKey=\"userEditField\">\n                  {this.state.selectedUser === null && (\n                    <Button variant=\"outline-warning\" className=\"confirmEditButton\" size=\"lg\">\n                      Select a Staff member from the Master List\n                    </Button>\n                  )}\n\n                  {this.state.selectedUser !== null &&\n                    this.context.user.role === \"admin\"\n                    && (\n                    <Button variant=\"outline-primary\" size=\"lg\" className=\"confirmEditButton\" onClick={this.startUpdateUserHandler}>Edit Field as Admin</Button>\n                  )}\n                  {this.state.selectedUser !== null &&\n                    this.state.selectedUser._id === this.context.user._id\n                    && (\n                    <Button variant=\"outline-primary\" size=\"lg\" className=\"confirmEditButton\" onClick={this.startUpdateUserHandler}>Edit a Single Field</Button>\n                  )}\n                  {this.state.selectedUser !== null &&\n                    this.state.selectedUser._id === this.context.user._id && (\n                    <Button variant=\"outline-success\" className=\"confirmEditButton\" size=\"lg\">\n                      Your Profile\n                    </Button>\n                  )}\n                  {this.state.selectedUser !== null &&\n                    this.state.selectedUser._id !== this.context.user._id && (\n                    <Button variant=\"outline-danger\" className=\"confirmEditButton\" size=\"lg\">\n                      Not my profile\n                    </Button>\n                  )}\n                  {this.state.updating &&\n                    this.state.selectedUser !== null\n                    && (\n                      <UpdateUserFieldForm\n                        authUserId={this.context.userId}\n                        canCancel\n                        canConfirm\n                        onCancel={this.modalCancelHandler}\n                        onConfirm={this.modalConfirmUpdateFieldHandler}\n                        confirmText=\"Confirm\"\n                        user={this.state.selectedUser}\n                      />\n                  )}\n                </Tab.Pane>\n\n                <Tab.Pane eventKey=\"userEditAttendance\">\n                  {this.state.selectedUser === null && (\n                    <Button variant=\"outline-warning\" className=\"confirmEditButton\" size=\"lg\">\n                      Select a Staff member from the Master List below\n                    </Button>\n                  )}\n\n                  {this.state.selectedUser !== null &&\n                    this.context.user.role === \"admin\"\n                    && (\n                    <Button variant=\"outline-primary\" size=\"lg\" className=\"confirmEditButton\" value='attendance' onClick={this.updateUserSpecial.bind(this)}>Add Attendance as Admin</Button>\n                  )}\n                  {this.state.selectedUser !== null &&\n                    this.state.selectedUser._id === this.context.user._id\n                    && (\n                    <Button variant=\"outline-primary\" size=\"lg\" className=\"confirmEditButton\" value='attendance' onClick={this.updateUserSpecial.bind(this)}>Add Attendance</Button>\n                  )}\n                  {this.state.selectedUser !== null &&\n                    this.state.selectedUser._id === this.context.user._id && (\n                    <Button variant=\"outline-success\" className=\"confirmEditButton\" size=\"lg\">\n                      Your Profile\n                    </Button>\n                  )}\n                  {this.state.selectedUser !== null &&\n                    this.state.selectedUser._id !== this.context.user._id && (\n                    <Button variant=\"outline-danger\" className=\"confirmEditButton\" size=\"lg\">\n                      Not my profile\n                    </Button>\n                  )}\n\n                  {this.state.userUpdateField === 'attendance' &&\n                  this.state.selectedUser !== null\n                   && (\n                     <UpdateUserAttendanceForm\n                    authUserId={this.context.userId}\n                    canCancel\n                      canConfirm\n                      onCancel={this.modalCancelHandler}\n                      onConfirm={this.updateUserAttendanceHandler}\n                      confirmText=\"Confirm\"\n                      user={this.state.selectedUser}\n                    />\n                  )}\n                </Tab.Pane>\n\n                <Tab.Pane eventKey=\"userEditLeave\">\n                {this.state.selectedUser === null && (\n                  <Button variant=\"outline-warning\" className=\"confirmEditButton\" size=\"lg\">\n                    Select a Staff member from the Master List\n                  </Button>\n                )}\n\n                {this.state.selectedUser !== null &&\n                  this.context.user.role === \"admin\"\n                  && (\n                  <Button variant=\"outline-primary\" size=\"lg\" className=\"confirmEditButton\" value='leave' onClick={this.updateUserSpecial.bind(this)}>Add Leave as Admin</Button>\n                )}\n                {this.state.selectedUser !== null &&\n                  this.state.selectedUser._id === this.context.user._id\n                  && (\n                  <Button variant=\"outline-primary\" size=\"lg\" className=\"confirmEditButton\" value='leave' onClick={this.updateUserSpecial.bind(this)}>Add Leave</Button>\n                )}\n                {this.state.selectedUser !== null &&\n                  this.state.selectedUser._id === this.context.user._id && (\n                  <Button variant=\"outline-success\" className=\"confirmEditButton\" size=\"lg\">\n                    Your Profile\n                  </Button>\n                )}\n                {this.state.selectedUser !== null &&\n                  this.state.selectedUser._id !== this.context.user._id && (\n                  <Button variant=\"outline-danger\" className=\"confirmEditButton\" size=\"lg\">\n                    Not my profile\n                  </Button>\n                )}\n\n                {this.state.userUpdateField === 'leave' &&\n                this.state.selectedUser !== null\n                && (<UpdateUserLeaveForm\n                  authUserId={this.context.userId}\n                  canCancel\n                    canConfirm\n                    onCancel={this.modalCancelHandler}\n                    onConfirm={this.updateUserLeaveHandler}\n                    confirmText=\"Confirm\"\n                    user={this.state.selectedUser}\n                  />)}\n                </Tab.Pane>\n\n                <Tab.Pane eventKey=\"userEditAttachment\">\n                {this.state.selectedUser === null && (\n                  <Button variant=\"outline-warning\" className=\"confirmEditButton\" size=\"lg\">\n                    Select a Staff member from the Master List\n                  </Button>\n                )}\n\n                {this.state.selectedUser !== null &&\n                  this.context.user.role === \"admin\"\n                  && (\n                  <Button variant=\"outline-primary\" size=\"lg\" className=\"confirmEditButton\" value='attachments' onClick={this.updateUserSpecial.bind(this)}>Add Attachment as Admin</Button>\n                )}\n                {this.state.selectedUser !== null &&\n                  this.state.selectedUser._id === this.context.user._id\n                  && (\n                  <Button variant=\"outline-primary\" size=\"lg\" className=\"confirmEditButton\" value='attachments' onClick={this.updateUserSpecial.bind(this)}>Add Attachment</Button>\n                )}\n                {this.state.selectedUser !== null &&\n                  this.state.selectedUser._id === this.context.user._id && (\n                  <Button variant=\"outline-success\" className=\"confirmEditButton\" size=\"lg\">\n                    Your Profile\n                  </Button>\n                )}\n                {this.state.selectedUser !== null &&\n                  this.state.selectedUser._id !== this.context.user._id && (\n                  <Button variant=\"outline-danger\" className=\"confirmEditButton\" size=\"lg\">\n                    Not my profile\n                  </Button>\n                )}\n\n                {this.state.userUpdateField === 'attachments' &&\n                this.state.selectedUser !== null\n                && (<UpdateUserAttachmentForm\n                  authUserId={this.context.userId}\n                  canCancel\n                    canConfirm\n                    onCancel={this.modalCancelHandler}\n                    onConfirm={this.updateUserAttachmentHandler}\n                    confirmText=\"Confirm\"\n                    user={this.state.selectedUser}\n                  />)}\n                </Tab.Pane>\n\n                <Tab.Pane eventKey=\"MasterList\">\n                  <Container className=\"containerUserMasterList\">\n                  <Row className=\"searchListRow\">\n                  <Button variant=\"primary\" size=\"sm\" onClick={this.fetchUsersAsc}>\n                     Sort Asc\n                   </Button>\n                  <Button variant=\"info\" size=\"sm\" onClick={this.fetchUsersDesc}>\n                     Sort Desc\n                   </Button>\n                   {this.state.isLoading ? (\n                     <Spinner />\n                   ) : (\n                     <UserList\n                       users={this.state.users}\n                       authUserId={this.context.userId}\n                       onViewDetail={this.showDetailHandler}\n                     />\n                   )}\n                  </Row>\n                  </Container>\n                </Tab.Pane>\n\n                <Tab.Pane eventKey=\"SearchInput\">\n                  <Container className=\"containerSearchUserInput\">\n\n                  <Row className=\"searchUserRowAdd\">\n                  <Button variant=\"primary\" onClick={this.startSearchUserHandler}>Search</Button>\n                  </Row>\n\n                  <Row className=\"searchUserRowForm\">\n                  <Col md={10} className=\"searchUserColForm\">\n                  <Tabs defaultActiveKey=\"Field\" id=\"uncontrolled-tab-example\">\n                  <Tab eventKey=\"Search\" title=\"Search:\" disabled>\n                  </Tab>\n                  <Tab eventKey=\"Field\" title=\"Search by Field:\">\n                  {this.state.searching !== true && (\n                    <Button variant=\"outline-warning\" className=\"confirmEditButton\" size=\"lg\">\n                      Click the 'Search' Button start\n                    </Button>\n                  )}\n                  {this.state.searching === true && (\n                    <SearchUserForm\n                    authUserId={this.context.userId}\n                    canCancel\n                      canConfirm\n                      onCancel={this.modalCancelHandler}\n                      onConfirm={this.modalConfirmSearchHandler}\n                      confirmText=\"Search\"\n                      user={this.context.selectedUser}\n                    />)}\n                  </Tab>\n                  <Tab eventKey=\"Id\" title=\"Search by ID:\">\n                  {this.state.searching !== true && (\n                    <Button variant=\"outline-warning\" className=\"confirmEditButton\" size=\"lg\">\n                      Click the 'Search' Button start\n                    </Button>\n                  )}\n                  {this.state.searching === true && (\n                    <SearchUserIdForm\n                    authUserId={this.context.userId}\n                    canCancel\n                      canConfirm\n                      onCancel={this.modalCancelHandler}\n                      onConfirm={this.modalConfirmSearchIdHandler}\n                      confirmText=\"Search\"\n                      user={this.context.selectedUser}\n                    />\n                    )}\n                  </Tab>\n                  <Tab eventKey=\"Attendance\" title=\"Search by Attendance:\">\n                  {this.state.searching !== true && (\n                    <Button variant=\"outline-warning\" className=\"confirmEditButton\" size=\"lg\">\n                      Click the 'Search' Button start\n                    </Button>\n                  )}\n                  {this.state.searching === true && (\n                    <SearchUserAttendanceDateForm\n                    authUserId={this.context.userId}\n                    canCancel\n                      canConfirm\n                      onCancel={this.modalCancelHandler}\n                      onConfirm={this.modalConfirmSearchAttendanceDateHandler}\n                      confirmText=\"Search\"\n                      user={this.context.selectedUser}\n                    />\n                    )}\n                  </Tab>\n                  <Tab eventKey=\"Leave\" title=\"Search by Leave:\">\n                  {this.state.searching !== true && (\n                    <Button variant=\"outline-warning\" className=\"confirmEditButton\" size=\"lg\">\n                      Click the 'Search' Button start\n                    </Button>\n                  )}\n                  {this.state.searching === true && (\n                    <SearchUserLeaveDateRangeForm\n                    authUserId={this.context.userId}\n                    canCancel\n                      canConfirm\n                      onCancel={this.modalCancelHandler}\n                      onConfirm={this.modalConfirmSearchLeaveDateRangeHandler}\n                      confirmText=\"Search\"\n                      user={this.context.selectedUser}\n                    />\n                    )}\n                  </Tab>\n                  <Tab eventKey=\"Name\" title=\"Search by Name:\">\n                  {this.state.searching !== true && (\n                    <Button variant=\"outline-warning\" className=\"confirmEditButton\" size=\"lg\">\n                      Click the 'Search' Button start\n                    </Button>\n                  )}\n                  {this.state.searching === true && (\n                    <SearchUserNameForm\n                    authUserId={this.context.userId}\n                    canCancel\n                      canConfirm\n                      onCancel={this.modalCancelHandler}\n                      onConfirm={this.modalConfirmSearchNameHandler}\n                      confirmText=\"Search\"\n                      user={this.context.selectedUser}\n                    />\n                  )}\n                  </Tab>\n                  </Tabs>\n                  </Col>\n                  <Col md={10}>\n                  </Col>\n                  </Row>\n\n                  </Container>\n                </Tab.Pane>\n\n                <Tab.Pane eventKey=\"SearchResult\">\n                  <Container className=\"containerSearchUserResults\">\n                  <Row>\n                    <Card className=\"searchCard\">\n                      <Card.Body className=\"searchCardBody\">\n                        <Card.Title>Your Search</Card.Title>\n                        <Card.Text>\n                          Field: {this.state.userSearchField}\n                        </Card.Text>\n                        <Card.Text>\n                          Query: {this.state.userSearchQuery}\n                        </Card.Text>\n                      </Card.Body>\n                    </Card>\n                  </Row>\n                  <Row className=\"searchListRow\">\n\n                  {this.state.searchUsers !== [] && (\n                    <SearchUserList\n                      searchUsers={this.state.searchUsers}\n                      authUserId={this.context.userId}\n                      onViewDetail={this.showDetailHandler}\n                    />\n                  )}\n                  </Row>\n                  </Container>\n                </Tab.Pane>\n              </Tab.Content>\n            </Col>\n          </Row>\n        </Tab.Container>\n\n\n\n        </Container>\n\n    </Col>\n\n  </Row>\n\n</Accordion>\n</React.Fragment>\n    );\n  }\n}\n\nexport default UsersPage;\n"]},"metadata":{},"sourceType":"module"}